var Ext=Ext||window.Ext||{};Ext.Boot=Ext.Boot||(function(g){var n=document,l={disableCaching:(/[?&](?:cache|disableCacheBuster)\b/i.test(location.search)||/(^|[ ;])ext-cache=1/.test(n.cookie))?false:true,disableCachingParam:"_dc",loadDelay:false,preserveScripts:true,charset:undefined},e,a=[],o={},f=/\.css(?:\?|$)/i,b=/\/[^\/]*$/,m=n.createElement("a"),k=typeof window!=="undefined",h={browser:k,node:!k&&(typeof require==="function"),phantom:(typeof phantom!=="undefined"&&phantom.fs)},j=[],d=0,p=0;var c={loading:0,loaded:0,env:h,config:l,scripts:o,currentFile:null,canonicalUrl:function(t){m.href=t;var s=m.href,r=l.disableCachingParam,v=r?s.indexOf(r+"="):-1,u,q;if(v>0&&((u=s.charAt(v-1))==="?"||u==="&")){q=s.indexOf("&",v);q=(q<0)?"":s.substring(q);if(q&&u==="?"){++v;q=q.substring(1)}s=s.substring(0,v-1)+q}return s},init:function(){var t=n.getElementsByTagName("script"),u=t.length,z=/\/ext(\-[a-z\-]+)?\.js$/,x,w,q,r,v,y,s;for(s=0;s<u;s++){q=(w=t[s]).src;if(!q){continue}r=w.readyState||null;if(!v){if(z.test(q)){c.hasAsync=("async" in w)||!("readyState" in w);v=q}}if(!o[y=c.canonicalUrl(q)]){o[y]=x={key:y,url:q,done:r===null||r==="loaded"||r==="complete",el:w,prop:"src"};if(!x.done){c.watch(x)}}}if(!v){w=t[t.length-1];v=w.src;c.hasAsync=("async" in w)||!("readyState" in w)}c.baseUrl=v.substring(0,v.lastIndexOf("/")+1)},create:function(q,s){var r=q&&f.test(q),t=n.createElement(r?"link":"script"),u;if(r){t.rel="stylesheet";u="href"}else{t.type="text/javascript";if(!q){return t}u="src";if(c.hasAsync){t.async=false}}s=s||q;return o[s]={key:s,url:q,css:r,done:false,el:t,prop:u,loaded:false,evaluated:false}},getConfig:function(q){return q?l[q]:l},setConfig:function(q,t){if(typeof q==="string"){l[q]=t}else{for(var r in q){c.setConfig(r,q[r])}}return c},getHead:function(){return c.docHead||(c.docHead=n.head||n.getElementsByTagName("head")[0])},inject:function(v,q,t){var w=c.getHead(),r,s,u=false,y=c.canonicalUrl(q),x;if(f.test(q)){u=true;s=n.createElement("style");s.type="text/css";s.textContent=v;if(t){if("id" in t){s.id=t.id}if("disabled" in t){s.disabled=t.disabled}}r=n.createElement("base");r.href=y.replace(b,"/");w.appendChild(r);w.appendChild(s);w.removeChild(r)}else{if(q){v+="\n//@ sourceURL="+y}Ext.globalEval(v)}x=o[y]||(o[y]={key:y,css:u,url:q,el:s});x.done=true;return x},load:function(t){if(t.sync||p){return this.loadSync(t)}if(!t.url){t={url:t}}if(e){a.push(t)}else{c.expandLoadOrder(t);var q=t.url,u=q.charAt?[q]:q,s=u.length,r;t.urls=u;t.loaded=0;t.loading=s;t.charset=t.charset||l.charset;t.buster=(("cache" in t)?!t.cache:l.disableCaching)&&(l.disableCachingParam+"="+(+new Date()));e=t;t.sequential=false;for(r=0;r<s;++r){c.loadUrl(u[r],t)}}return this},loadUrl:function(r,v){var y,q=v.buster,u=v.charset,w=c.getHead(),t,z;if(v.prependBaseUrl){r=c.baseUrl+r}if(v.sequential){c.currentFile=r}else{c.currentFile=null}z=c.canonicalUrl(r);if(!(y=o[z])){d++;y=c.create(r,z);t=y.el;if(!y.css&&u){t.charset=u}y.requests=[v];c.watch(y);if(q){r+=(r.indexOf("?")===-1?"?":"&")+q}if(!c.hasAsync&&!y.css){y.loaded=false;y.evaluated=false;var s,x=function(){y.loaded=true;var E=v.urls,D=E.length,B,C,A;for(B=0;B<D;B++){A=c.canonicalUrl(E[B]);C=o[A];if(C){if(!C.loaded){return}else{if(!C.evaluated){w.appendChild(C.el);C.evaluated=true;C.onLoadWas.apply(C.el,arguments)}}}}};if(!("readyState" in t)){s=t.onload;t.onload=x}else{s=t.onreadystatechange;t.onreadystatechange=function(){if(this.readyState==="loaded"||this.readyState==="complete"){x.apply(this,arguments)}}}y.onLoadWas=s;t[y.prop]=r}else{t[y.prop]=r;w.appendChild(t)}}else{if(y.done){c.notify(y,v)}else{if(y.requests){y.requests.push(v)}else{y.requests=[v]}}}},loadSequential:function(q){if(!q.url){q={url:q}}q.sequential=true;c.load(q)},loadSequentialBasePrefix:function(q){if(!q.url){q={url:q}}q.prependBaseUrl=true;c.loadSequential(q)},fetchSync:function(r){var s,v,q,t;s=false;v=new XMLHttpRequest();try{v.open("GET",r,false);v.send(null)}catch(u){s=true}q=(v.status===1223)?204:(v.status===0&&((self.location||{}).protocol==="file:"||(self.location||{}).protocol==="ionp:"))?200:v.status;t=v.responseText;v=null;return{content:t,exception:s,status:q}},loadSync:function(v){p++;var v=c.expandLoadOrder(v.url?v:{url:v}),r=v.url,y=r.charAt?[r]:r,s=y.length,q=l.disableCaching&&("?"+l.disableCachingParam+"="+(+new Date())),x,z,w,A,u,t;v.loading=s;v.urls=y;v.loaded=0;d++;for(w=0;w<s;++w){r=y[w];if(v.prependBaseUrl){r=c.baseUrl+r}c.currentFile=r;A=c.canonicalUrl(r);if(!(z=o[A])){d++;o[A]=z={key:A,url:r,done:false,requests:[v],el:null}}else{if(z.done){c.notify(z,v);continue}if(z.el){z.preserve=false;c.cleanup(z)}if(z.requests){z.requests.push(v)}else{z.requests=[v]}}z.sync=true;if(q){r+=q}++c.loading;x=c.fetchSync(r);z.done=true;t=x.exception;u=x.status;x=x.content||"";if((t||u===0)&&!h.phantom){z.error=("Failed loading synchronously via XHR: '"+r+"'. It's likely that the file is either being loaded from a different domain or from the local file system where cross origin requests are not allowed for security reasons. Try asynchronous loading instead.")||true}else{if((u>=200&&u<300)||u===304||h.phantom||(u===0&&x.length>0)){c.inject(x,r)}else{z.error=("Failed loading synchronously via XHR: '"+r+"'. Please verify that the file exists. XHR status code: "+u)||true}}c.notifyAll(z)}p--;d--;c.fireListeners();c.currentFile=null;return this},loadSyncBasePrefix:function(q){if(!q.url){q={url:q}}q.prependBaseUrl=true;c.loadSync(q)},notify:function(u,t){if(t.preserve){u.preserve=true}++t.loaded;if(!t.loading){throw new Error("Unexpected script load notification "+u.url)}if(u.error){(t.errors||(t.errors=[])).push(u)}if(!--t.loading){e=null;var v=t.errors,s=t[v?"failure":"success"],q=("delay" in t)?t.delay:(v?1:l.chainDelay),r=t.scope||t;if(a.length){c.load(a.shift())}if(s){if(q===0||q>0){setTimeout(function(){s.call(r,t)},q)}else{s.call(r,t)}}}else{if(!p&&t.sequential&&(t.loaded<t.urls.length)){c.loadUrl(t.urls[t.loaded],t)}}},notifyAll:function(s){var t=s.requests,r=t&&t.length,q;s.done=true;s.requests=null;--c.loading;++c.loaded;for(q=0;q<r;++q){c.notify(s,t[q])}if(!r){s.preserve=true}c.cleanup(s);d--;c.fireListeners()},watch:function(s){var r=s.el,u=s.requests,t=u&&u[0],q=function(){if(!s.done){c.notifyAll(s)}};r.onerror=function(){s.error=true;c.notifyAll(s)};s.preserve=(t&&("preserve" in t))?t.preserve:l.preserveScripts;if(!("readyState" in r)){r.onload=q}else{r.onreadystatechange=function(){if(this.readyState==="loaded"||this.readyState==="complete"){q()}}}++c.loading},cleanup:function(s){var r=s.el,t;if(!r){return}if(!s.preserve){s.el=null;r.parentNode.removeChild(r);for(t in r){try{if(t!==s.prop){r[t]=null}delete r[t]}catch(q){}}}r.onload=r.onerror=r.onreadystatechange=g},fireListeners:function(){var q;while(!d&&(q=j.shift())){q()}},onBootReady:function(q){if(!d){q()}else{j.push(q)}},createLoadOrderMap:function(r){var q=r.length,s={},u,t;for(u=0;u<q;u++){t=r[u];s[t.path]=t}return s},getLoadIndexes:function(u,w,r,s,D){var E=r[u],v,t,C,B,A,y,x,z,q;if(w[u]){return w}w[u]=true;y=false;while(!y){x=false;for(z in w){if(w.hasOwnProperty(z)){E=r[z];if(!E){continue}B=c.canonicalUrl(E.path);A=o[B];if(!D||!A||!A.done){C=E.requires;if(s&&E.uses){C=C.concat(E.uses)}for(v=C.length,t=0;t<v;t++){q=C[t];if(!w[q]){w[q]=true;x=true}}}}}if(!x){y=true}}return w},getPathsFromIndexes:function(v,r){var t=[],w=[],s,q,u;for(s in v){if(v.hasOwnProperty(s)&&v[s]){t.push(s)}}t.sort(function(y,x){return y-x});for(q=t.length,u=0;u<q;u++){w.push(r[t[u]].path)}return w},expandUrl:function(q,r,x,w,t,y){if(typeof q=="string"){q=[q]}if(r){x=x||c.createLoadOrderMap(r);w=w||{};var v=q.length,s=[],u,z;for(u=0;u<v;u++){z=x[q[u]];if(z){c.getLoadIndexes(z.idx,w,r,t,y)}else{s.push(q[u])}}return c.getPathsFromIndexes(w,r).concat(s)}return q},expandUrls:function(w,r,s,u){if(typeof w=="string"){w=[w]}var t=[],q=w.length,v;for(v=0;v<q;v++){t=t.concat(c.expandUrl(w[v],r,s,{},u,true))}if(t.length==0){t=w}return t},expandLoadOrder:function(t){var u=t.url,q=t.loadOrder,r=t.loadOrderMap,s;if(!t.expanded){s=c.expandUrls(u,q,r);t.expanded=true}else{s=u}t.url=s;if(u.length!=s.length){t.sequential=true}return t}};Ext.disableCacheBuster=function(r,s){var q=new Date();q.setTime(q.getTime()+(r?10*365:-1)*24*60*60*1000);q=q.toGMTString();n.cookie="ext-cache=1; expires="+q+"; path="+(s||"/")};if(h.node){c.load=c.loadSync=function(q){require(filePath);onLoad.call(scope)};c.init=g}c.init();return c}(function(){}));Ext.globalEval=this.execScript?function(a){execScript(a)}:function($$code){(function(){var Ext=this.Ext;eval($$code)}())};if(!Function.prototype.bind){(function(){var a=Array.prototype.slice,b=function(d){var c=a.call(arguments,1),e=this;if(c.length){return function(){var f=arguments;return e.apply(d,f.length?c.concat(a.call(f)):c)}}c=null;return function(){return e.apply(d,arguments)}};Function.prototype.bind=b;b.$extjs=true}())}var Ext=Ext||{};Ext._startTime=Date.now?Date.now():(+new Date());(function(){var b=this,g=Object.prototype,c=g.toString,m=["valueOf","toLocaleString","toString","constructor"],k=function(){},f=function(){},h=function(n){return n},l=function(){var n=l.caller.caller;return n.$owner.prototype[n.$name].apply(this,arguments)},a=Ext.manifest||{},j,d=/\[object\s*(?:Array|Arguments|\w*Collection|\w*List|HTML\s+document\.all\s+class)\]/,e=/^\\?\/Date\(([-+])?(\d+)(?:[+-]\d{4})?\)\\?\/$/;Ext.global=b;k.$nullFn=h.$nullFn=k.$emptyFn=h.$identityFn=f.$nullFn=true;f.$privacy="framework";Ext.suspendLayouts=Ext.resumeLayouts=k;for(j in {toString:1}){m=null}Ext.enumerables=m;Ext.apply=function(q,p,s){if(s){Ext.apply(q,s)}if(q&&p&&typeof p==="object"){var r,o,n;for(r in p){q[r]=p[r]}if(m){for(o=m.length;o--;){n=m[o];if(p.hasOwnProperty(n)){q[n]=p[n]}}}}return q};Ext.buildSettings=Ext.apply({baseCSSPrefix:"x-"},Ext.buildSettings||{});Ext.apply(Ext,{idSeed:0,idPrefix:"ext-",isSecure:/^https/i.test(window.location.protocol),enableGarbageCollector:false,enableListenerCollection:true,name:Ext.sandboxName||"Ext",privateFn:f,emptyFn:k,identityFn:h,frameStartTime:+new Date(),manifest:a,debugConfig:Ext.debugConfig||a.debug||{hooks:{"*":true}},validIdRe:/^[a-z_][a-z0-9\-_]*$/i,makeIdSelector:function(n){if(!Ext.validIdRe.test(n)){Ext.Error.raise('Invalid id selector: "'+n+'"')}return"#"+n},id:function(p,n){if(p&&p.id){return p.id}var q=(n||Ext.idPrefix)+(++Ext.idSeed);if(p){p.id=q}return q},returnId:function(n){return n.getId()},returnTrue:function(){return true},emptyString:new String(),baseCSSPrefix:Ext.buildSettings.baseCSSPrefix,$eventNameMap:{},applyIf:function(o,n){var p;if(o){for(p in n){if(o[p]===undefined){o[p]=n[p]}}}return o},now:(b.performance&&b.performance.now)?function(){return performance.now()}:(Date.now||(Date.now=function(){return +new Date()})),destroy:function(){var p=arguments.length,o,n;for(o=0;o<p;o++){n=arguments[o];if(n){if(Ext.isArray(n)){this.destroy.apply(this,n)}else{if(Ext.isFunction(n.destroy)){n.destroy()}}}}return null},destroyMembers:function(q){for(var s,p,r=1,o=arguments,n=o.length;r<n;r++){s=q[p=o[r]];if(s!=null){q[p]=Ext.destroy(s)}}},override:function(q,r){if(q.$isClass){q.override(r)}else{if(typeof q=="function"){Ext.apply(q.prototype,r)}else{var n=q.self,o,p;if(n&&n.$isClass){for(o in r){if(r.hasOwnProperty(o)){p=r[o];if(typeof p==="function"){if(n.$className){p.displayName=n.$className+"#"+o}p.$name=o;p.$owner=n;p.$previous=q.hasOwnProperty(o)?q[o]:l}q[o]=p}}}else{Ext.apply(q,r)}}}return q},valueFrom:function(p,n,o){return Ext.isEmpty(p,o)?n:p},isEmpty:function(n,o){return(n==null)||(!o?n==="":false)||(Ext.isArray(n)&&n.length===0)},isArray:("isArray" in Array)?Array.isArray:function(n){return c.call(n)==="[object Array]"},isDate:function(n){return c.call(n)==="[object Date]"},isMSDate:function(n){if(!Ext.isString(n)){return false}return e.test(n)},isObject:(c.call(null)==="[object Object]")?function(n){return n!==null&&n!==undefined&&c.call(n)==="[object Object]"&&n.ownerDocument===undefined}:function(n){return c.call(n)==="[object Object]"},isSimpleObject:function(n){return n instanceof Object&&n.constructor===Object},isPrimitive:function(o){var n=typeof o;return n==="string"||n==="number"||n==="boolean"},isFunction:(typeof document!=="undefined"&&typeof document.getElementsByTagName("body")==="function")?function(n){return !!n&&c.call(n)==="[object Function]"}:function(n){return !!n&&typeof n==="function"},isNumber:function(n){return typeof n==="number"&&isFinite(n)},isNumeric:function(n){return !isNaN(parseFloat(n))&&isFinite(n)},isString:function(n){return typeof n==="string"},isBoolean:function(n){return typeof n==="boolean"},isElement:function(n){return n?n.nodeType===1:false},isTextNode:function(n){return n?n.nodeName==="#text":false},isDefined:function(n){return typeof n!=="undefined"},isIterable:function(n){if(!n||typeof n.length!=="number"||typeof n==="string"||Ext.isFunction(n)){return false}if(!n.propertyIsEnumerable){return !!n.item}if(n.hasOwnProperty("length")&&!n.propertyIsEnumerable("length")){return true}return d.test(c.call(n))},isDebugEnabled:function(r,n){var q=Ext.debugConfig.hooks;if(q.hasOwnProperty(r)){return q[r]}var p=q["*"],o=0;if(n!==undefined){p=n}if(!r){return p}for(var t in q){var s=q[t];if(r.charAt(t.length)==="."){if(r.substring(0,t.length)===t){if(o<t.length){o=t.length;p=s}}}}return p}||k,clone:function(s){if(s===null||s===undefined){return s}if(s.nodeType&&s.cloneNode){return s.cloneNode(true)}var r=c.call(s),q,o,n,t,p;if(r==="[object Date]"){return new Date(s.getTime())}if(r==="[object Array]"){q=s.length;t=[];while(q--){t[q]=Ext.clone(s[q])}}else{if(r==="[object Object]"&&s.constructor===Object){t={};for(p in s){t[p]=Ext.clone(s[p])}if(m){for(o=m.length;o--;){n=m[o];if(s.hasOwnProperty(n)){t[n]=s[n]}}}}}return t||s},getUniqueGlobalNamespace:function(){var o=this.uniqueGlobalNamespace,n;if(o===undefined){n=0;do{o="ExtBox"+(++n)}while(b[o]!==undefined);b[o]=Ext;this.uniqueGlobalNamespace=o}return o},functionFactoryCache:{},cacheableFunctionFactory:function(){var s=this,p=Array.prototype.slice.call(arguments),o=s.functionFactoryCache,n,q,r;if(Ext.isSandboxed){r=p.length;if(r>0){r--;p[r]="var Ext=window."+Ext.name+";"+p[r]}}n=p.join("");q=o[n];if(!q){q=Function.prototype.constructor.apply(Function.prototype,p);o[n]=q}return q},functionFactory:function(){var n=Array.prototype.slice.call(arguments),o;if(Ext.isSandboxed){o=n.length;if(o>0){o--;n[o]="var Ext=window."+Ext.name+";"+n[o]}}return Function.prototype.constructor.apply(Function.prototype,n)},Logger:{log:function(o,n){if(o&&b.console){if(!n||!(n in b.console)){n="log"}o="["+n.toUpperCase()+"] "+o;b.console[n](o)}},verbose:function(n){this.log(n,"verbose")},info:function(n){this.log(n,"info")},warn:function(n){this.log(n,"warn")},error:function(n){throw new Error(n)},deprecate:function(n){this.log(n,"warn")}}||{verbose:k,log:k,info:k,warn:k,error:function(n){throw new Error(n)},deprecate:k},getElementById:function(n){return document.getElementById(n)},splitAndUnescape:(function(){var n={};return function(q,p){if(!q){return[]}else{if(!p){return[q]}}var s=n[p]||(n[p]=new RegExp("\\\\"+p,"g")),o=[],t,r;t=q.split(p);while((r=t.shift())!==undefined){while(r.charAt(r.length-1)==="\\"&&t.length>0){r=r+p+t.shift()}r=r.replace(s,p);o.push(r)}return o}})()});Ext.returnTrue.$nullFn=Ext.returnId.$nullFn=true}());(function(){function a(){var c=this,b=c.sourceClass,e=c.sourceMethod,d=c.msg;if(e){if(d){e+="(): ";e+=d}else{e+="()"}}if(b){e=e?(b+"."+e):b}return e||d||""}Ext.Error=function(c){if(Ext.isString(c)){c={msg:c}}var b=new Error();Ext.apply(b,c);b.message=b.message||b.msg;b.toString=a;return b};Ext.apply(Ext.Error,{ignore:false,raise:function(d){d=d||{};if(Ext.isString(d)){d={msg:d}}var c=this,f=c.raise.caller,e,b;if(f){if(!d.sourceMethod&&(b=f.$name)){d.sourceMethod=b}if(!d.sourceClass&&(b=f.$owner)&&(b=b.$className)){d.sourceClass=b}}if(c.handle(d)!==true){e=a.call(d);Ext.log({msg:e,level:"error",dump:d,stack:true});throw new Ext.Error(d)}},handle:function(){return this.ignore}})})();Ext.deprecated=function(b){if(!b){b=""}function a(){Ext.Error.raise('The method "'+a.$owner.$className+"."+a.$name+'" has been removed. '+b)}return a;return Ext.emptyFn};(function(){if(typeof window==="undefined"){return}var c=Ext.global,b=0,a=function(){var d=Ext.log&&Ext.log.counters,f=d&&(d.error+d.warn+d.info+d.log),e;if(f&&b!==f){e=[];if(d.error){e.push("Errors: "+d.error)}if(d.warn){e.push("Warnings: "+d.warn)}if(d.info){e.push("Info: "+d.info)}if(d.log){e.push("Log: "+d.log)}c.status="*** "+e.join(" -- ");b=f}};c.setInterval(a,1000)}());Ext.Array=new (function(){var c=Array.prototype,l=c.slice,n=(function(){var v=[],e,u=20;if(!v.splice){return false}while(u--){v.push("A")}v.splice(15,0,"F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F","F");e=v.length;v.splice(13,0,"XXX");if(e+1!==v.length){return false}return true}()),m="indexOf" in c,g=true;function k(y,v){var u=y.length,x=new Array(u),e=new Array(u),w;for(w=0;w<u;w++){x[w]=w}x.sort(function(A,z){return v(y[A],y[z])||(A-z)});for(w=0;w<u;w++){e[w]=y[x[w]]}for(w=0;w<u;w++){y[w]=e[w]}return y}try{if(typeof document!=="undefined"){l.call(document.getElementsByTagName("body"))}}catch(p){g=false}var j=function(u,e){return(e<0)?Math.max(0,u.length+e):Math.min(u.length,e)},t=function(B,A,u,E){var F=E?E.length:0,w=B.length,C=j(B,A);if(C===w){if(F){B.push.apply(B,E)}}else{var z=Math.min(u,w-C),D=C+z,v=D+F-z,e=w-D,x=w-z,y;if(v<D){for(y=0;y<e;++y){B[v+y]=B[D+y]}}else{if(v>D){for(y=e;y--;){B[v+y]=B[D+y]}}}if(F&&C===x){B.length=x;B.push.apply(B,E)}else{B.length=x+F;for(y=0;y<F;++y){B[C+y]=E[y]}}}return B},f=function(w,e,v,u){if(u&&u.length){if(e===0&&!v){w.unshift.apply(w,u)}else{if(e<w.length){w.splice.apply(w,[e,v].concat(u))}else{w.push.apply(w,u)}}}else{w.splice(e,v)}return w},b=function(v,e,u){return t(v,e,u)},o=function(v,e,u){v.splice(e,u);return v},h=function(x,e,v){var w=j(x,e),u=x.slice(e,j(x,w+v));if(arguments.length<4){t(x,w,v)}else{t(x,w,v,l.call(arguments,3))}return u},d=function(e){return e.splice.apply(e,l.call(arguments,1))},s=n?o:b,q=n?f:t,r=n?d:h,a={binarySearch:function(A,x,v,e,z){var w=A.length,u,y;if(v instanceof Function){z=v;v=0;e=w}else{if(e instanceof Function){z=e;e=w}else{if(v===undefined){v=0}if(e===undefined){e=w}z=z||a.lexicalCompare}}--e;while(v<=e){u=(v+e)>>1;y=z(x,A[u]);if(y>=0){v=u+1}else{if(y<0){e=u-1}}}return v},defaultCompare:function(e,u){return(e<u)?-1:((e>u)?1:0)},lexicalCompare:function(e,u){e=String(e);u=String(u);return(e<u)?-1:((e>u)?1:0)},each:function(y,w,v,e){y=a.from(y);var u,x=y.length;if(e!==true){for(u=0;u<x;u++){if(w.call(v||y[u],y[u],u,y)===false){return u}}}else{for(u=x-1;u>-1;u--){if(w.call(v||y[u],y[u],u,y)===false){return u}}}return true},forEach:("forEach" in c)?function(v,u,e){return v.forEach(u,e)}:function(x,v,u){for(var e=0,w=x.length;e<w;e++){v.call(u,x[e],e,x)}},indexOf:m?function(v,e,u){return c.indexOf.call(v,e,u)}:function(x,v,w){var e,u=x.length;for(e=(w<0)?Math.max(0,u+w):w||0;e<u;e++){if(x[e]===v){return e}}return -1},contains:m?function(u,e){return c.indexOf.call(u,e)!==-1}:function(w,v){var e,u;for(e=0,u=w.length;e<u;e++){if(w[e]===v){return true}}return false},toArray:function(v,x,e){if(!v||!v.length){return[]}if(typeof v==="string"){v=v.split("")}if(g){return l.call(v,x||0,e||v.length)}var w=[],u;x=x||0;e=e?((e<0)?v.length+e:e):v.length;for(u=x;u<e;u++){w.push(v[u])}return w},pluck:function(y,e){var u=[],v,x,w;for(v=0,x=y.length;v<x;v++){w=y[v];u.push(w[e])}return u},map:("map" in c)?function(v,u,e){Ext.Assert.isFunction(u,"Ext.Array.map must have a callback function passed as second argument.");return v.map(u,e)}:function(y,x,w){Ext.Assert.isFunction(x,"Ext.Array.map must have a callback function passed as second argument.");var v=[],u=0,e=y.length;for(;u<e;u++){v[u]=x.call(w,y[u],u,y)}return v},every:("every" in c)?function(v,u,e){Ext.Assert.isFunction(u,"Ext.Array.every must have a callback function passed as second argument.");return v.every(u,e)}:function(x,v,u){Ext.Assert.isFunction(v,"Ext.Array.every must have a callback function passed as second argument.");var e=0,w=x.length;for(;e<w;++e){if(!v.call(u,x[e],e,x)){return false}}return true},some:("some" in c)?function(v,u,e){Ext.Assert.isFunction(u,"Ext.Array.some must have a callback function passed as second argument.");return v.some(u,e)}:function(x,v,u){Ext.Assert.isFunction(v,"Ext.Array.some must have a callback function passed as second argument.");var e=0,w=x.length;for(;e<w;++e){if(v.call(u,x[e],e,x)){return true}}return false},equals:function(x,w){var u=x.length,e=w.length,v;if(x===w){return true}if(u!==e){return false}for(v=0;v<u;++v){if(x[v]!==w[v]){return false}}return true},clean:function(x){var u=[],e=0,w=x.length,v;for(;e<w;e++){v=x[e];if(!Ext.isEmpty(v)){u.push(v)}}return u},unique:function(x){var w=[],e=0,v=x.length,u;for(;e<v;e++){u=x[e];if(a.indexOf(w,u)===-1){w.push(u)}}return w},filter:("filter" in c)?function(v,u,e){Ext.Assert.isFunction(u,"Ext.Array.filter must have a filter function passed as second argument.");return v.filter(u,e)}:function(y,w,v){Ext.Assert.isFunction(w,"Ext.Array.filter must have a filter function passed as second argument.");var u=[],e=0,x=y.length;for(;e<x;e++){if(w.call(v,y[e],e,y)){u.push(y[e])}}return u},findBy:function(x,w,v){var u=0,e=x.length;for(;u<e;u++){if(w.call(v||x,x[u],u)){return x[u]}}return null},from:function(v,u){if(v===undefined||v===null){return[]}if(Ext.isArray(v)){return(u)?l.call(v):v}var e=typeof v;if(v&&v.length!==undefined&&e!=="string"&&(e!=="function"||!v.apply)){return a.toArray(v)}return[v]},remove:function(v,u){var e=a.indexOf(v,u);if(e!==-1){s(v,e,1)}return v},include:function(u,e){if(!a.contains(u,e)){u.push(e)}},clone:function(e){return l.call(e)},merge:function(){var e=l.call(arguments),w=[],u,v;for(u=0,v=e.length;u<v;u++){w=w.concat(e[u])}return a.unique(w)},intersect:function(){var e=[],v=l.call(arguments),G,E,A,D,H,w,u,C,F,x,B,z,y;if(!v.length){return e}G=v.length;for(B=H=0;B<G;B++){w=v[B];if(!D||w.length<D.length){D=w;H=B}}D=a.unique(D);s(v,H,1);u=D.length;G=v.length;for(B=0;B<u;B++){C=D[B];x=0;for(z=0;z<G;z++){E=v[z];A=E.length;for(y=0;y<A;y++){F=E[y];if(C===F){x++;break}}}if(x===G){e.push(C)}}return e},difference:function(u,e){var z=l.call(u),x=z.length,w,v,y;for(w=0,y=e.length;w<y;w++){for(v=0;v<x;v++){if(z[v]===e[w]){s(z,v,1);v--;x--}}}return z},slice:([1,2].slice(1,undefined).length?function(v,u,e){return l.call(v,u,e)}:function(v,u,e){if(typeof u==="undefined"){return l.call(v)}if(typeof e==="undefined"){return l.call(v,u)}return l.call(v,u,e)}),sort:function(u,e){return k(u,e||a.lexicalCompare)},flatten:function(v){var u=[];function e(w){var y,z,x;for(y=0,z=w.length;y<z;y++){x=w[y];if(Ext.isArray(x)){e(x)}else{u.push(x)}}return u}return e(v)},min:function(y,x){var u=y[0],e,w,v;for(e=0,w=y.length;e<w;e++){v=y[e];if(x){if(x(u,v)===1){u=v}}else{if(v<u){u=v}}}return u},max:function(y,x){var e=y[0],u,w,v;for(u=0,w=y.length;u<w;u++){v=y[u];if(x){if(x(e,v)===-1){e=v}}else{if(v>e){e=v}}}return e},mean:function(e){return e.length>0?a.sum(e)/e.length:undefined},sum:function(x){var u=0,e,w,v;for(e=0,w=x.length;e<w;e++){v=x[e];u+=v}return u},toMap:function(x,e,v){var w={},u=x.length;if(!e){while(u--){w[x[u]]=u+1}}else{if(typeof e==="string"){while(u--){w[x[u][e]]=u+1}}else{while(u--){w[e.call(v,x[u])]=u+1}}}return w},toValueMap:function(z,w,E,y){var e={},v=z.length,u,x,C,A,D,B;if(!w){while(v--){B=z[v];e[B]=B}}else{if(!(A=(typeof w!=="string"))){y=E}x=y===1;u=y===2;while(v--){B=z[v];D=A?w.call(E,B):B[w];if(x){if(D in e){e[D].push(B)}else{e[D]=[B]}}else{if(u&&(D in e)){if((C=e[D]) instanceof Array){C.push(B)}else{e[D]=[C,B]}}else{e[D]=B}}}}return e},_replaceSim:t,_spliceSim:h,erase:s,insert:function(v,u,e){return q(v,u,0,e)},replace:q,splice:r,push:function(w){var e=arguments.length,v=1,u;if(w===undefined){w=[]}else{if(!Ext.isArray(w)){w=[w]}}for(;v<e;v++){u=arguments[v];Array.prototype.push[Ext.isIterable(u)?"apply":"call"](w,u)}return w},numericSortFn:function(u,e){return u-e}};Ext.each=a.each;a.union=a.merge;Ext.min=a.min;Ext.max=a.max;Ext.sum=a.sum;Ext.mean=a.mean;Ext.flatten=a.flatten;Ext.clean=a.clean;Ext.unique=a.unique;Ext.pluck=a.pluck;Ext.toArray=function(){return a.toArray.apply(a,arguments)};return a});Ext.Assert={falsey:function(a,c){if(a){Ext.Error.raise(c||("Expected a falsey value but was "+a))}},falseyProp:function(c,d){Ext.Assert.truthy(c);var a=c[d];if(a){if(c.$className){d=c.$className+"#"+d}Ext.Error.raise("Expected a falsey value for "+d+" but was "+a)}},truthy:function(a,c){if(!a){Ext.Error.raise(c||("Expected a truthy value but was "+typeof a))}},truthyProp:function(c,d){Ext.Assert.truthy(c);var a=c[d];if(!a){if(c.$className){d=c.$className+"#"+d}Ext.Error.raise("Expected a truthy value for "+d+" but was "+typeof a)}}};(function(){function b(g,h){var k=Ext[g],j;return function(l,m){if(!k(l)){Ext.Error.raise(m||j||(j="Expected value to be "+h))}}}function e(g,h){var k=Ext[g],j;return function(l,m){Ext.Assert.truthy(l);if(!k(l[m])){Ext.Error.raise(j||(j="Expected "+(l.$className?l.$className+"#":"")+m+" to be "+h))}}}function f(g,h){var k=Ext[g],j;return function(l,m){if(k(l)){Ext.Error.raise(m||j||(j="Expected value to NOT be "+h))}}}function a(g,h){var k=Ext[g],j;return function(l,m){Ext.Assert.truthy(l);if(k(l[m])){Ext.Error.raise(j||(j="Expected "+(l.$className?l.$className+"#":"")+m+" to NOT be "+h))}}}for(var c in Ext){if(c.substring(0,2)=="is"&&Ext.isFunction(Ext[c])){var d=c.substring(2);Ext.Assert[c]=b(c,d);Ext.Assert[c+"Prop"]=e(c,d);Ext.Assert["isNot"+d]=f(c,d);Ext.Assert["isNot"+d+"Prop"]=a(c,d)}}}());Ext.String=(function(){var m=/^[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000]+|[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000]+$/g,f=/('|\\)/g,s=/\{\d+\}/,j=/([-.*+?\^${}()|\[\]\/\\])/g,c=/^\s+|\s+$/g,b=/\s+/,p=/(^[^a-z]*|[^\w])/gi,e,r,n,o,d=function(u,t){return e[t]},a=function(u,t){return(t in r)?r[t]:String.fromCharCode(parseInt(t.substr(2),10))},q=function(u,t){if(u===null||u===undefined||t===null||t===undefined){return false}return t.length<=u.length},k={useFormat:false,compiled:true,stringFormat:true},g={},h=function(t){if(s.test(t)){t=new Ext.Template(t,k);return function(){return t.apply(arguments)}}else{return function(){return t}}},l;return l={insert:function(v,w,u){if(!v){return w}if(!w){return v}var t=v.length;if(!u&&u!==0){u=t}if(u<0){u*=-1;if(u>=t){u=0}else{u=t-u}}if(u===0){v=w+v}else{if(u>=v.length){v+=w}else{v=v.substr(0,u)+w+v.substr(u)}}return v},startsWith:function(v,w,u){var t=q(v,w);if(t){if(u){v=v.toLowerCase();w=w.toLowerCase()}t=v.lastIndexOf(w,0)===0}return t},endsWith:function(w,u,v){var t=q(w,u);if(t){if(v){w=w.toLowerCase();u=u.toLowerCase()}t=w.indexOf(u,w.length-u.length)!==-1}return t},createVarName:function(t){return t.replace(p,"")},htmlEncode:function(t){return(!t)?t:String(t).replace(n,d)},htmlDecode:function(t){return(!t)?t:String(t).replace(o,a)},hasHtmlCharacters:function(t){return n.test(t)},addCharacterEntities:function(u){var t=[],x=[],v,w;for(v in u){w=u[v];r[v]=w;e[w]=v;t.push(w);x.push(v)}n=new RegExp("("+t.join("|")+")","g");o=new RegExp("("+x.join("|")+"|&#[0-9]{1,5};)","g")},resetCharacterEntities:function(){e={};r={};this.addCharacterEntities({"&amp;":"&","&gt;":">","&lt;":"<","&quot;":'"',"&#39;":"'"})},urlAppend:function(u,t){if(!Ext.isEmpty(t)){return u+(u.indexOf("?")===-1?"?":"&")+t}return u},trim:function(t){if(t){t=t.replace(m,"")}return t||""},capitalize:function(t){if(t){t=t.charAt(0).toUpperCase()+t.substr(1)}return t||""},uncapitalize:function(t){if(t){t=t.charAt(0).toLowerCase()+t.substr(1)}return t||""},ellipsis:function(v,u,w){if(v&&v.length>u){if(w){var x=v.substr(0,u-2),t=Math.max(x.lastIndexOf(" "),x.lastIndexOf("."),x.lastIndexOf("!"),x.lastIndexOf("?"));if(t!==-1&&t>=(u-15)){return x.substr(0,t)+"..."}}return v.substr(0,u-3)+"..."}return v},escapeRegex:function(t){return t.replace(j,"\\$1")},createRegex:function(x,w,u,t){var v=x;if(x!=null&&!x.exec){v=l.escapeRegex(String(x));if(w!==false){v="^"+v}if(u!==false){v+="$"}v=new RegExp(v,(t!==false)?"i":"")}return v},escape:function(t){return t.replace(f,"\\$1")},toggle:function(u,v,t){return u===v?t:v},leftPad:function(u,v,w){var t=String(u);w=w||" ";while(t.length<v){t=w+t}return t},format:function(u){var t=g[u]||(g[u]=h(u));return t.apply(this,arguments)},repeat:function(x,w,u){if(w<1){w=0}for(var t=[],v=w;v--;){t.push(x)}return t.join(u||"")},splitWords:function(t){if(t&&typeof t=="string"){return t.replace(c,"").split(b)}return t||[]}}}());Ext.String.resetCharacterEntities();Ext.htmlEncode=Ext.String.htmlEncode;Ext.htmlDecode=Ext.String.htmlDecode;Ext.urlAppend=Ext.String.urlAppend;Ext.Date=(function(){var d,j=/(\\.)/g,a=/([gGhHisucUOPZ]|MS)/,e=/([djzmnYycU]|MS)/,h=/\\/gi,c=/\{(\d+)\}/g,f=new RegExp("\\/Date\\(([-+])?(\\d+)(?:[+-]\\d{4})?\\)\\/"),b=["var me = this, dt, y, m, d, h, i, s, ms, o, O, z, zz, u, v, W, year, jan4, week1monday, daysInMonth, dayMatched,","def = me.defaults,","from = Ext.Number.from,","results = String(input).match(me.parseRegexes[{0}]);","if(results){","{1}","if(u != null){","v = new Date(u * 1000);","}else{","dt = me.clearTime(new Date);","y = from(y, from(def.y, dt.getFullYear()));","m = from(m, from(def.m - 1, dt.getMonth()));","dayMatched = d !== undefined;","d = from(d, from(def.d, dt.getDate()));","if (!dayMatched) {","dt.setDate(1);","dt.setMonth(m);","dt.setFullYear(y);","daysInMonth = me.getDaysInMonth(dt);","if (d > daysInMonth) {","d = daysInMonth;","}","}","h  = from(h, from(def.h, dt.getHours()));","i  = from(i, from(def.i, dt.getMinutes()));","s  = from(s, from(def.s, dt.getSeconds()));","ms = from(ms, from(def.ms, dt.getMilliseconds()));","if(z >= 0 && y >= 0){","v = me.add(new Date(y < 100 ? 100 : y, 0, 1, h, i, s, ms), me.YEAR, y < 100 ? y - 100 : 0);","v = !strict? v : (strict === true && (z <= 364 || (me.isLeapYear(v) && z <= 365))? me.add(v, me.DAY, z) : null);","}else if(strict === true && !me.isValid(y, m + 1, d, h, i, s, ms)){","v = null;","}else{","if (W) {","year = y || (new Date()).getFullYear();","jan4 = new Date(year, 0, 4, 0, 0, 0);","d = jan4.getDay();","week1monday = new Date(jan4.getTime() - ((d === 0 ? 6 : d - 1) * 86400000));","v = Ext.Date.clearTime(new Date(week1monday.getTime() + ((W - 1) * 604800000 + 43200000)));","} else {","v = me.add(new Date(y < 100 ? 100 : y, m, d, h, i, s, ms), me.YEAR, y < 100 ? y - 100 : 0);","}","}","}","}","if(v){","if(zz != null){","v = me.add(v, me.SECOND, -v.getTimezoneOffset() * 60 - zz);","}else if(o){","v = me.add(v, me.MINUTE, -v.getTimezoneOffset() + (sn == '+'? -1 : 1) * (hr * 60 + mn));","}","}","return v;"].join("\n");function g(l){var k=Array.prototype.slice.call(arguments,1);return l.replace(c,function(n,o){return k[o]})}return d={now:Date.now,toString:function(k){if(!k){k=new Date()}var l=Ext.String.leftPad;return k.getFullYear()+"-"+l(k.getMonth()+1,2,"0")+"-"+l(k.getDate(),2,"0")+"T"+l(k.getHours(),2,"0")+":"+l(k.getMinutes(),2,"0")+":"+l(k.getSeconds(),2,"0")},getElapsed:function(l,k){return Math.abs(l-(k||d.now()))},useStrict:false,formatCodeToRegex:function(l,k){var m=d.parseCodes[l];if(m){m=typeof m=="function"?m():m;d.parseCodes[l]=m}return m?Ext.applyIf({c:m.c?g(m.c,k||"{0}"):m.c},m):{g:0,c:null,s:Ext.String.escapeRegex(l)}},parseFunctions:{MS:function(l,k){var m=(l||"").match(f);return m?new Date(((m[1]||"")+m[2])*1):null},time:function(l,k){var m=parseInt(l,10);if(m||m===0){return new Date(m)}return null},timestamp:function(l,k){var m=parseInt(l,10);if(m||m===0){return new Date(m*1000)}return null}},parseRegexes:[],formatFunctions:{MS:function(){return"\\/Date("+this.getTime()+")\\/"},time:function(){return this.getTime().toString()},timestamp:function(){return d.format(this,"U")}},y2kYear:50,MILLI:"ms",SECOND:"s",MINUTE:"mi",HOUR:"h",DAY:"d",MONTH:"mo",YEAR:"y",defaults:{},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNumbers:{January:0,Jan:0,February:1,Feb:1,March:2,Mar:2,April:3,Apr:3,May:4,June:5,Jun:5,July:6,Jul:6,August:7,Aug:7,September:8,Sep:8,October:9,Oct:9,November:10,Nov:10,December:11,Dec:11},defaultFormat:"m/d/Y",getShortMonthName:function(k){return Ext.Date.monthNames[k].substring(0,3)},getShortDayName:function(k){return Ext.Date.dayNames[k].substring(0,3)},getMonthNumber:function(k){return Ext.Date.monthNumbers[k.substring(0,1).toUpperCase()+k.substring(1,3).toLowerCase()]},formatContainsHourInfo:function(k){return a.test(k.replace(j,""))},formatContainsDateInfo:function(k){return e.test(k.replace(j,""))},unescapeFormat:function(k){return k.replace(h,"")},formatCodes:{d:"Ext.String.leftPad(this.getDate(), 2, '0')",D:"Ext.Date.getShortDayName(this.getDay())",j:"this.getDate()",l:"Ext.Date.dayNames[this.getDay()]",N:"(this.getDay() ? this.getDay() : 7)",S:"Ext.Date.getSuffix(this)",w:"this.getDay()",z:"Ext.Date.getDayOfYear(this)",W:"Ext.String.leftPad(Ext.Date.getWeekOfYear(this), 2, '0')",F:"Ext.Date.monthNames[this.getMonth()]",m:"Ext.String.leftPad(this.getMonth() + 1, 2, '0')",M:"Ext.Date.getShortMonthName(this.getMonth())",n:"(this.getMonth() + 1)",t:"Ext.Date.getDaysInMonth(this)",L:"(Ext.Date.isLeapYear(this) ? 1 : 0)",o:"(this.getFullYear() + (Ext.Date.getWeekOfYear(this) == 1 && this.getMonth() > 0 ? +1 : (Ext.Date.getWeekOfYear(this) >= 52 && this.getMonth() < 11 ? -1 : 0)))",Y:"Ext.String.leftPad(this.getFullYear(), 4, '0')",y:"('' + this.getFullYear()).substring(2, 4)",a:"(this.getHours() < 12 ? 'am' : 'pm')",A:"(this.getHours() < 12 ? 'AM' : 'PM')",g:"((this.getHours() % 12) ? this.getHours() % 12 : 12)",G:"this.getHours()",h:"Ext.String.leftPad((this.getHours() % 12) ? this.getHours() % 12 : 12, 2, '0')",H:"Ext.String.leftPad(this.getHours(), 2, '0')",i:"Ext.String.leftPad(this.getMinutes(), 2, '0')",s:"Ext.String.leftPad(this.getSeconds(), 2, '0')",u:"Ext.String.leftPad(this.getMilliseconds(), 3, '0')",O:"Ext.Date.getGMTOffset(this)",P:"Ext.Date.getGMTOffset(this, true)",T:"Ext.Date.getTimezone(this)",Z:"(this.getTimezoneOffset() * -60)",c:function(){var p,n,m,k,o;for(p="Y-m-dTH:i:sP",n=[],m=0,k=p.length;m<k;++m){o=p.charAt(m);n.push(o=="T"?"'T'":d.getFormatCode(o))}return n.join(" + ")},U:"Math.round(this.getTime() / 1000)"},isValid:function(t,k,r,p,n,o,l){p=p||0;n=n||0;o=o||0;l=l||0;var q=d.add(new Date(t<100?100:t,k-1,r,p,n,o,l),d.YEAR,t<100?t-100:0);return t==q.getFullYear()&&k==q.getMonth()+1&&r==q.getDate()&&p==q.getHours()&&n==q.getMinutes()&&o==q.getSeconds()&&l==q.getMilliseconds()},parse:function(l,n,k){var m=d.parseFunctions;if(m[n]==null){d.createParser(n)}return m[n].call(d,l,Ext.isDefined(k)?k:d.useStrict)},parseDate:function(l,m,k){return d.parse(l,m,k)},getFormatCode:function(l){var k=d.formatCodes[l];if(k){k=typeof k=="function"?k():k;d.formatCodes[l]=k}return k||("'"+Ext.String.escape(l)+"'")},createFormat:function(o){var n=[],k=false,m="",l;for(l=0;l<o.length;++l){m=o.charAt(l);if(!k&&m=="\\"){k=true}else{if(k){k=false;n.push("'"+Ext.String.escape(m)+"'")}else{if(m=="\n"){n.push("'\\n'")}else{n.push(d.getFormatCode(m))}}}}d.formatFunctions[o]=Ext.functionFactory("return "+n.join("+"))},createParser:function(t){var l=d.parseRegexes.length,u=1,m=[],s=[],q=false,k="",o=0,p=t.length,r=[],n;for(;o<p;++o){k=t.charAt(o);if(!q&&k=="\\"){q=true}else{if(q){q=false;s.push(Ext.String.escape(k))}else{n=d.formatCodeToRegex(k,u);u+=n.g;s.push(n.s);if(n.g&&n.c){if(n.calcAtEnd){r.push(n.c)}else{m.push(n.c)}}}}}m=m.concat(r);d.parseRegexes[l]=new RegExp("^"+s.join("")+"$","i");d.parseFunctions[t]=Ext.functionFactory("input","strict",g(b,l,m.join("")))},parseCodes:{d:{g:1,c:"d = parseInt(results[{0}], 10);\n",s:"(3[0-1]|[1-2][0-9]|0[1-9])"},j:{g:1,c:"d = parseInt(results[{0}], 10);\n",s:"(3[0-1]|[1-2][0-9]|[1-9])"},D:function(){for(var k=[],l=0;l<7;k.push(d.getShortDayName(l)),++l){}return{g:0,c:null,s:"(?:"+k.join("|")+")"}},l:function(){return{g:0,c:null,s:"(?:"+d.dayNames.join("|")+")"}},N:{g:0,c:null,s:"[1-7]"},S:{g:0,c:null,s:"(?:st|nd|rd|th)"},w:{g:0,c:null,s:"[0-6]"},z:{g:1,c:"z = parseInt(results[{0}], 10);\n",s:"(\\d{1,3})"},W:{g:1,c:"W = parseInt(results[{0}], 10);\n",s:"(\\d{2})"},F:function(){return{g:1,c:"m = parseInt(me.getMonthNumber(results[{0}]), 10);\n",s:"("+d.monthNames.join("|")+")"}},M:function(){for(var k=[],l=0;l<12;k.push(d.getShortMonthName(l)),++l){}return Ext.applyIf({s:"("+k.join("|")+")"},d.formatCodeToRegex("F"))},m:{g:1,c:"m = parseInt(results[{0}], 10) - 1;\n",s:"(1[0-2]|0[1-9])"},n:{g:1,c:"m = parseInt(results[{0}], 10) - 1;\n",s:"(1[0-2]|[1-9])"},t:{g:0,c:null,s:"(?:\\d{2})"},L:{g:0,c:null,s:"(?:1|0)"},o:{g:1,c:"y = parseInt(results[{0}], 10);\n",s:"(\\d{4})"},Y:{g:1,c:"y = parseInt(results[{0}], 10);\n",s:"(\\d{4})"},y:{g:1,c:"var ty = parseInt(results[{0}], 10);\ny = ty > me.y2kYear ? 1900 + ty : 2000 + ty;\n",s:"(\\d{1,2})"},a:{g:1,c:"if (/(am)/i.test(results[{0}])) {\nif (!h || h == 12) { h = 0; }\n} else { if (!h || h < 12) { h = (h || 0) + 12; }}",s:"(am|pm|AM|PM)",calcAtEnd:true},A:{g:1,c:"if (/(am)/i.test(results[{0}])) {\nif (!h || h == 12) { h = 0; }\n} else { if (!h || h < 12) { h = (h || 0) + 12; }}",s:"(AM|PM|am|pm)",calcAtEnd:true},g:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(1[0-2]|[0-9])"},G:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(2[0-3]|1[0-9]|[0-9])"},h:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(1[0-2]|0[1-9])"},H:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(2[0-3]|[0-1][0-9])"},i:{g:1,c:"i = parseInt(results[{0}], 10);\n",s:"([0-5][0-9])"},s:{g:1,c:"s = parseInt(results[{0}], 10);\n",s:"([0-5][0-9])"},u:{g:1,c:"ms = results[{0}]; ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\n",s:"(\\d+)"},O:{g:1,c:["o = results[{0}];","var sn = o.substring(0,1),","hr = o.substring(1,3)*1 + Math.floor(o.substring(3,5) / 60),","mn = o.substring(3,5) % 60;","o = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + Ext.String.leftPad(hr, 2, '0') + Ext.String.leftPad(mn, 2, '0')) : null;\n"].join("\n"),s:"([+-]\\d{4})"},P:{g:1,c:["o = results[{0}];","var sn = o.substring(0,1),","hr = o.substring(1,3)*1 + Math.floor(o.substring(4,6) / 60),","mn = o.substring(4,6) % 60;","o = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + Ext.String.leftPad(hr, 2, '0') + Ext.String.leftPad(mn, 2, '0')) : null;\n"].join("\n"),s:"([+-]\\d{2}:\\d{2})"},T:{g:0,c:null,s:"[A-Z]{1,5}"},Z:{g:1,c:"zz = results[{0}] * 1;\nzz = (-43200 <= zz && zz <= 50400)? zz : null;\n",s:"([+-]?\\d{1,5})"},c:function(){var n=[],k=[d.formatCodeToRegex("Y",1),d.formatCodeToRegex("m",2),d.formatCodeToRegex("d",3),d.formatCodeToRegex("H",4),d.formatCodeToRegex("i",5),d.formatCodeToRegex("s",6),{c:"ms = results[7] || '0'; ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\n"},{c:["if(results[8]) {","if(results[8] == 'Z'){","zz = 0;","}else if (results[8].indexOf(':') > -1){",d.formatCodeToRegex("P",8).c,"}else{",d.formatCodeToRegex("O",8).c,"}","}"].join("\n")}],o,m;for(o=0,m=k.length;o<m;++o){n.push(k[o].c)}return{g:1,c:n.join(""),s:[k[0].s,"(?:","-",k[1].s,"(?:","-",k[2].s,"(?:","(?:T| )?",k[3].s,":",k[4].s,"(?::",k[5].s,")?","(?:(?:\\.|,)(\\d+))?","(Z|(?:[-+]\\d{2}(?::)?\\d{2}))?",")?",")?",")?"].join("")}},U:{g:1,c:"u = parseInt(results[{0}], 10);\n",s:"(-?\\d+)"}},dateFormat:function(k,l){return d.format(k,l)},isEqual:function(l,k){if(l&&k){return(l.getTime()===k.getTime())}return !(l||k)},format:function(l,m){var k=d.formatFunctions;if(!Ext.isDate(l)){return""}if(k[m]==null){d.createFormat(m)}return k[m].call(l)+""},getTimezone:function(k){return k.toString().replace(/^.* (?:\((.*)\)|([A-Z]{1,5})(?:[\-+][0-9]{4})?(?: -?\d+)?)$/,"$1$2").replace(/[^A-Z]/g,"")},getGMTOffset:function(k,l){var m=k.getTimezoneOffset();return(m>0?"-":"+")+Ext.String.leftPad(Math.floor(Math.abs(m)/60),2,"0")+(l?":":"")+Ext.String.leftPad(Math.abs(m%60),2,"0")},getDayOfYear:function(n){var l=0,p=Ext.Date.clone(n),k=n.getMonth(),o;for(o=0,p.setDate(1),p.setMonth(0);o<k;p.setMonth(++o)){l+=d.getDaysInMonth(p)}return l+n.getDate()-1},getWeekOfYear:(function(){var k=86400000,l=7*k;return function(n){var o=Date.UTC(n.getFullYear(),n.getMonth(),n.getDate()+3)/k,m=Math.floor(o/7),p=new Date(m*l).getUTCFullYear();return m-Math.floor(Date.UTC(p,0,7)/l)+1}}()),isLeapYear:function(k){var l=k.getFullYear();return !!((l&3)==0&&(l%100||(l%400==0&&l)))},getFirstDayOfMonth:function(l){var k=(l.getDay()-(l.getDate()-1))%7;return(k<0)?(k+7):k},getLastDayOfMonth:function(k){return d.getLastDateOfMonth(k).getDay()},getFirstDateOfMonth:function(k){return new Date(k.getFullYear(),k.getMonth(),1)},getLastDateOfMonth:function(k){return new Date(k.getFullYear(),k.getMonth(),d.getDaysInMonth(k))},getDaysInMonth:(function(){var k=[31,28,31,30,31,30,31,31,30,31,30,31];return function(n){var l=n.getMonth();return l==1&&d.isLeapYear(n)?29:k[l]}}()),getSuffix:function(k){switch(k.getDate()){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}},clone:function(k){return new Date(k.getTime())},isDST:function(k){return new Date(k.getFullYear(),0,1).getTimezoneOffset()!=k.getTimezoneOffset()},clearTime:function(k,o){if(o){return Ext.Date.clearTime(Ext.Date.clone(k))}var m=k.getDate(),l,n;k.setHours(0);k.setMinutes(0);k.setSeconds(0);k.setMilliseconds(0);if(k.getDate()!=m){for(l=1,n=d.add(k,Ext.Date.HOUR,l);n.getDate()!=m;l++,n=d.add(k,Ext.Date.HOUR,l)){}k.setDate(m);k.setHours(n.getHours())}return k},add:function(n,m,q){var r=Ext.Date.clone(n),k=Ext.Date,l,p,o=0;if(!m||q===0){return r}p=q-parseInt(q,10);q=parseInt(q,10);if(q){switch(m.toLowerCase()){case Ext.Date.MILLI:r.setTime(r.getTime()+q);break;case Ext.Date.SECOND:r.setTime(r.getTime()+q*1000);break;case Ext.Date.MINUTE:r.setTime(r.getTime()+q*60*1000);break;case Ext.Date.HOUR:r.setTime(r.getTime()+q*60*60*1000);break;case Ext.Date.DAY:r.setDate(r.getDate()+q);break;case Ext.Date.MONTH:l=n.getDate();if(l>28){l=Math.min(l,Ext.Date.getLastDateOfMonth(Ext.Date.add(Ext.Date.getFirstDateOfMonth(n),Ext.Date.MONTH,q)).getDate())}r.setDate(l);r.setMonth(n.getMonth()+q);break;case Ext.Date.YEAR:l=n.getDate();if(l>28){l=Math.min(l,Ext.Date.getLastDateOfMonth(Ext.Date.add(Ext.Date.getFirstDateOfMonth(n),Ext.Date.YEAR,q)).getDate())}r.setDate(l);r.setFullYear(n.getFullYear()+q);break}}if(p){switch(m.toLowerCase()){case Ext.Date.MILLI:o=1;break;case Ext.Date.SECOND:o=1000;break;case Ext.Date.MINUTE:o=1000*60;break;case Ext.Date.HOUR:o=1000*60*60;break;case Ext.Date.DAY:o=1000*60*60*24;break;case Ext.Date.MONTH:l=d.getDaysInMonth(r);o=1000*60*60*24*l;break;case Ext.Date.YEAR:l=(d.isLeapYear(r)?366:365);o=1000*60*60*24*l;break}if(o){r.setTime(r.getTime()+o*p)}}return r},subtract:function(l,k,m){return d.add(l,k,-m)},between:function(l,n,k){var m=l.getTime();return n.getTime()<=m&&m<=k.getTime()},compat:function(){var l=window.Date,k,r=["useStrict","formatCodeToRegex","parseFunctions","parseRegexes","formatFunctions","y2kYear","MILLI","SECOND","MINUTE","HOUR","DAY","MONTH","YEAR","defaults","dayNames","monthNames","monthNumbers","getShortMonthName","getShortDayName","getMonthNumber","formatCodes","isValid","parseDate","getFormatCode","createFormat","createParser","parseCodes"],o=["dateFormat","format","getTimezone","getGMTOffset","getDayOfYear","getWeekOfYear","isLeapYear","getFirstDayOfMonth","getLastDayOfMonth","getDaysInMonth","getSuffix","clone","isDST","clearTime","add","between"],q=r.length,m=o.length,n,t,u;for(u=0;u<q;u++){n=r[u];l[n]=d[n]}for(k=0;k<m;k++){t=o[k];l.prototype[t]=function(){var p=Array.prototype.slice.call(arguments);p.unshift(this);return d[t].apply(d,p)}}},diff:function(m,k,o){var l=Ext.Date,n,p=+k-m;switch(o){case l.MILLI:return p;case l.SECOND:return Math.floor(p/1000);case l.MINUTE:return Math.floor(p/60000);case l.HOUR:return Math.floor(p/3600000);case l.DAY:return Math.floor(p/86400000);case"w":return Math.floor(p/604800000);case l.MONTH:n=(k.getFullYear()*12+k.getMonth())-(m.getFullYear()*12+m.getMonth());if(Ext.Date.add(m,o,n)>k){return n-1}else{return n}case l.YEAR:n=k.getFullYear()-m.getFullYear();if(Ext.Date.add(m,o,n)>k){return n-1}else{return n}}},align:function(l,n,m){var k=new Date(+l);switch(n.toLowerCase()){case Ext.Date.MILLI:return k;break;case Ext.Date.SECOND:k.setUTCSeconds(k.getUTCSeconds()-k.getUTCSeconds()%m);k.setUTCMilliseconds(0);return k;break;case Ext.Date.MINUTE:k.setUTCMinutes(k.getUTCMinutes()-k.getUTCMinutes()%m);k.setUTCSeconds(0);k.setUTCMilliseconds(0);return k;break;case Ext.Date.HOUR:k.setUTCHours(k.getUTCHours()-k.getUTCHours()%m);k.setUTCMinutes(0);k.setUTCSeconds(0);k.setUTCMilliseconds(0);return k;break;case Ext.Date.DAY:if(m==7||m==14){k.setUTCDate(k.getUTCDate()-k.getUTCDay()+1)}k.setUTCHours(0);k.setUTCMinutes(0);k.setUTCSeconds(0);k.setUTCMilliseconds(0);return k;break;case Ext.Date.MONTH:k.setUTCMonth(k.getUTCMonth()-(k.getUTCMonth()-1)%m,1);k.setUTCHours(0);k.setUTCMinutes(0);k.setUTCSeconds(0);k.setUTCMilliseconds(0);return k;break;case Ext.Date.YEAR:k.setUTCFullYear(k.getUTCFullYear()-k.getUTCFullYear()%m,1,1);k.setUTCHours(0);k.setUTCMinutes(0);k.setUTCSeconds(0);k.setUTCMilliseconds(0);return l;break}}}}());Ext.Function={flexSetter:function(a){return function(c,e){var b,d;if(c!==null){if(typeof c!=="string"){for(b in c){if(c.hasOwnProperty(b)){a.call(this,b,c[b])}}if(Ext.enumerables){for(d=Ext.enumerables.length;d--;){b=Ext.enumerables[d];if(c.hasOwnProperty(b)){a.call(this,b,c[b])}}}}else{a.call(this,c,e)}}return this}},bind:function(d,c,b,a){if(arguments.length===2){return function(){return d.apply(c,arguments)}}var f=d,e=Array.prototype.slice;return function(){var g=b||arguments;if(a===true){g=e.call(arguments,0);g=g.concat(b)}else{if(typeof a=="number"){g=e.call(arguments,0);Ext.Array.insert(g,a,b)}}return f.apply(c||Ext.global,g)}},bindCallback:function(e,d,c,b,a){return function(){var f=Ext.Array.slice(arguments);return Ext.callback(e,d,c?c.concat(f):f,b,a)}},pass:function(c,a,b){if(!Ext.isArray(a)){if(Ext.isIterable(a)){a=Ext.Array.clone(a)}else{a=a!==undefined?[a]:[]}}return function(){var d=a.slice();d.push.apply(d,arguments);return c.apply(b||this,d)}},alias:function(b,a){return function(){return b[a].apply(b,arguments)}},clone:function(a){return function(){return a.apply(this,arguments)}},createInterceptor:function(d,c,b,a){if(!Ext.isFunction(c)){return d}else{a=Ext.isDefined(a)?a:null;return function(){var f=this,e=arguments;c.target=f;c.method=d;return(c.apply(b||f||Ext.global,e)!==false)?d.apply(f||Ext.global,e):a}}},createDelayed:function(e,c,d,b,a){if(d||b){e=Ext.Function.bind(e,d,b,a)}return function(){var g=this,f=Array.prototype.slice.call(arguments);setTimeout(function(){e.apply(g,f)},c)}},defer:function(e,c,d,b,a){e=Ext.Function.bind(e,d,b,a);if(c>0){return setTimeout(Ext.supports.TimeoutActualLateness?function(){e()}:e,c)}e();return 0},createSequence:function(b,c,a){if(!c){return b}else{return function(){var d=b.apply(this,arguments);c.apply(a||this,arguments);return d}}},createBuffered:function(e,b,d,c){var a;return function(){var g=c||Array.prototype.slice.call(arguments,0),f=d||this;if(a){clearTimeout(a)}a=setTimeout(function(){e.apply(f,g)},b)}},createAnimationFrame:function(e,d,c,f){var b=Ext.Function,a;f=f||3;return function(){var g=c||Array.prototype.slice.call(arguments,0);d=d||this;if(f===3){b.cancelAnimationFrame(a)}if((f&1)||!a){a=b.requestAnimationFrame(function(){a=null;e.apply(d,g)})}}},requestAnimationFrame:(function(){var c=0,b=window,a=b.requestAnimationFrame||b.webkitRequestAnimationFrame||b.mozRequestAnimationFrame||b.oRequestAnimationFrame||function(g){var d=Ext.now(),e=Math.max(0,16-(d-c)),f=window.setTimeout(function(){g(d+e)},e);c=d+e;return f};return function(d){return a(d)}})(),cancelAnimationFrame:(function(){var b=window,a=b.cancelAnimationFrame||b.webkitCancelAnimationFrame||b.mozCancelAnimationFrame||b.oCancelAnimationFrame||function(c){clearTimeout(c)};return function(c){a(c)}})(),createThrottled:function(e,b,d){var f=0,a,c,h,g=function(){e.apply(d,c);f=Ext.now();h=null};return function(){if(!d){d=this}a=Ext.now()-f;c=arguments;if(a>=b){clearTimeout(h);g()}else{if(!h){h=setTimeout(g,b-a)}}}},createBarrier:function(c,b,a){return function(){if(!--c){b.apply(a,arguments)}}},interceptBefore:function(b,a,d,c){var e=b[a]||Ext.emptyFn;return(b[a]=function(){var f=d.apply(c||this,arguments);e.apply(this,arguments);return f})},interceptAfter:function(b,a,d,c){var e=b[a]||Ext.emptyFn;return(b[a]=function(){e.apply(this,arguments);return d.apply(c||this,arguments)})},makeCallback:function(b,a){if(!a[b]){if(a.$className){Ext.Error.raise('No method "'+b+'" on '+a.$className)}Ext.Error.raise('No method "'+b+'"')}return function(){return a[b].apply(a,arguments)}}};Ext.defer=Ext.Function.defer;Ext.pass=Ext.Function.pass;Ext.bind=Ext.Function.bind;Ext.Number=new function(){var d=this,c=(0.9).toFixed()!=="1",b=Math,a={count:false,inclusive:false,wrap:true};Ext.apply(d,{Clip:{DEFAULT:a,COUNT:Ext.applyIf({count:true},a),INCLUSIVE:Ext.applyIf({inclusive:true},a),NOWRAP:Ext.applyIf({wrap:false},a)},clipIndices:function(l,m,g){g=g||a;var f=0,k=g.wrap,j,e,h;m=m||[];for(h=0;h<2;++h){j=e;e=m[h];if(e==null){e=f}else{if(h&&g.count){e+=j;e=(e>l)?l:e}else{if(k){e=(e<0)?(l+e):e}if(h&&g.inclusive){++e}e=(e<0)?0:((e>l)?l:e)}}f=l}m[0]=j;m[1]=(e<j)?j:e;return m},constrain:function(h,g,f){var e=parseFloat(h);return(e<g)?g:((e>f)?f:e)},snap:function(h,f,g,j){var e;if(h===undefined||h<g){return g||0}if(f){e=h%f;if(e!==0){h-=e;if(e*2>=f){h+=f}else{if(e*2<-f){h-=f}}}}return d.constrain(h,g,j)},snapInRange:function(h,e,g,j){var f;g=(g||0);if(h===undefined||h<g){return g}if(e&&(f=((h-g)%e))){h-=f;f*=2;if(f>=e){h+=e}}if(j!==undefined){if(h>(j=d.snapInRange(j,e,g))){h=j}}return h},toFixed:c?function(g,e){e=e||0;var f=b.pow(10,e);return(b.round(g*f)/f).toFixed(e)}:function(f,e){return f.toFixed(e)},from:function(f,e){if(isFinite(f)){f=parseFloat(f)}return !isNaN(f)?f:e},randomInt:function(f,e){return b.floor(b.random()*(e-f+1)+f)},correctFloat:function(e){return parseFloat(e.toPrecision(14))}});Ext.num=function(){return d.from.apply(this,arguments)}};(function(){var a=function(){},b=Ext.Object={chain:Object.create||function(d){a.prototype=d;var c=new a();a.prototype=null;return c},clear:function(c){for(var d in c){delete c[d]}return c},freeze:Object.freeze?function(e,c){if(e&&typeof e==="object"&&!Object.isFrozen(e)){Object.freeze(e);if(c){for(var d in e){b.freeze(e[d],c)}}}return e}:Ext.identityFn,toQueryObjects:function(e,j,d){var c=b.toQueryObjects,h=[],f,g;if(Ext.isArray(j)){for(f=0,g=j.length;f<g;f++){if(d){h=h.concat(c(e+"["+f+"]",j[f],true))}else{h.push({name:e,value:j[f]})}}}else{if(Ext.isObject(j)){for(f in j){if(j.hasOwnProperty(f)){if(d){h=h.concat(c(e+"["+f+"]",j[f],true))}else{h.push({name:e,value:j[f]})}}}}else{h.push({name:e,value:j})}}return h},toQueryString:function(f,d){var g=[],e=[],k,h,l,c,m;for(k in f){if(f.hasOwnProperty(k)){g=g.concat(b.toQueryObjects(k,f[k],d))}}for(h=0,l=g.length;h<l;h++){c=g[h];m=c.value;if(Ext.isEmpty(m)){m=""}else{if(Ext.isDate(m)){m=Ext.Date.toString(m)}}e.push(encodeURIComponent(c.name)+"="+encodeURIComponent(String(m)))}return e.join("&")},fromQueryString:function(d,q){var l=d.replace(/^\?/,"").split("&"),t={},r,h,v,m,p,f,n,o,c,g,s,k,u,e;for(p=0,f=l.length;p<f;p++){n=l[p];if(n.length>0){h=n.split("=");v=decodeURIComponent(h[0]);m=(h[1]!==undefined)?decodeURIComponent(h[1]):"";if(!q){if(t.hasOwnProperty(v)){if(!Ext.isArray(t[v])){t[v]=[t[v]]}t[v].push(m)}else{t[v]=m}}else{g=v.match(/(\[):?([^\]]*)\]/g);s=v.match(/^([^\[]+)/);if(!s){throw new Error('[Ext.Object.fromQueryString] Malformed query string given, failed parsing name from "'+n+'"')}v=s[0];k=[];if(g===null){t[v]=m;continue}for(o=0,c=g.length;o<c;o++){u=g[o];u=(u.length===2)?"":u.substring(1,u.length-1);k.push(u)}k.unshift(v);r=t;for(o=0,c=k.length;o<c;o++){u=k[o];if(o===c-1){if(Ext.isArray(r)&&u===""){r.push(m)}else{r[u]=m}}else{if(r[u]===undefined||typeof r[u]==="string"){e=k[o+1];r[u]=(Ext.isNumeric(e)||e==="")?[]:{}}r=r[u]}}}}}return t},each:function(d,g,f){var c=Ext.enumerables,e,h;f=f||d;for(h in d){if(d.hasOwnProperty(h)){if(g.call(f,h,d[h],d)===false){return}}}if(c){for(e=c.length;e--;){if(d.hasOwnProperty(h=c[e])){if(g.call(f,h,d[h],d)===false){return}}}}},eachValue:function(d,g,f){var c=Ext.enumerables,e,h;f=f||d;for(h in d){if(d.hasOwnProperty(h)){if(g.call(f,d[h])===false){return}}}if(c){for(e=c.length;e--;){if(d.hasOwnProperty(h=c[e])){if(g.call(f,d[h])===false){return}}}}},merge:function(j){var g=1,h=arguments.length,c=b.merge,e=Ext.clone,f,l,k,d;for(;g<h;g++){f=arguments[g];for(l in f){k=f[l];if(k&&k.constructor===Object){d=j[l];if(d&&d.constructor===Object){c(d,k)}else{j[l]=e(k)}}else{j[l]=k}}}return j},mergeIf:function(c){var g=1,h=arguments.length,e=Ext.clone,d,f,j;for(;g<h;g++){d=arguments[g];for(f in d){if(!(f in c)){j=d[f];if(j&&j.constructor===Object){c[f]=e(j)}else{c[f]=j}}}}return c},getKey:function(c,e){for(var d in c){if(c.hasOwnProperty(d)&&c[d]===e){return d}}return null},getValues:function(d){var c=[],e;for(e in d){if(d.hasOwnProperty(e)){c.push(d[e])}}return c},getKeys:(typeof Object.keys=="function")?function(c){if(!c){return[]}return Object.keys(c)}:function(c){var d=[],e;for(e in c){if(c.hasOwnProperty(e)){d.push(e)}}return d},getSize:function(c){var d=0,e;for(e in c){if(c.hasOwnProperty(e)){d++}}return d},isEmpty:function(c){for(var d in c){if(c.hasOwnProperty(d)){return false}}return true},equals:(function(){var c=function(f,e){var d;for(d in f){if(f.hasOwnProperty(d)){if(f[d]!==e[d]){return false}}}return true};return function(e,d){if(e===d){return true}if(e&&d){return c(e,d)&&c(d,e)}else{if(!e&&!d){return e===d}else{return false}}}})(),fork:function(g){var f=Ext.Array,c,d,e;if(g&&g.constructor===Object){c=b.chain(g);for(d in g){e=g[d];if(e){if(e.constructor===Object){c[d]=b.fork(e)}else{if(e instanceof Array){c[d]=Ext.Array.clone(e)}}}}}else{c=g}return c},defineProperty:("defineProperty" in Object)?Object.defineProperty:function(d,c,e){if(!Object.prototype.__defineGetter__){return}if(e.get){d.__defineGetter__(c,e.get)}if(e.set){d.__defineSetter__(c,e.set)}},classify:function(f){var e=f,h=[],d={},c=function(){var k=0,l=h.length,m;for(;k<l;k++){m=h[k];this[m]=new d[m]()}},g,j;for(g in f){if(f.hasOwnProperty(g)){j=f[g];if(j&&j.constructor===Object){h.push(g);d[g]=b.classify(j)}}}c.prototype=e;return c}};Ext.merge=Ext.Object.merge;Ext.mergeIf=Ext.Object.mergeIf}());Ext.apply(Ext,{escapeId:(function(){var c=/^[a-zA-Z_][a-zA-Z0-9_\-]*$/i,d=/([\W]{1})/g,b=/^(\d)/g,a=function(g,f){return"\\"+f},e=function(g,f){return"\\00"+f.charCodeAt(0).toString(16)+" "};return function(f){return c.test(f)?f:f.replace(d,a).replace(b,e)}}()),callback:function(h,e,d,c,b,g){if(!h){return}var f=e==="this"||e==="controller";if(h.charAt){if((!e||f)&&b){e=b.resolveListenerScope(f?e:g)}if(!e||!Ext.isObject(e)){Ext.Error.raise('Named method "'+h+'" requires a scope object')}if(!Ext.isFunction(e[h])){Ext.Error.raise('No method named "'+h+'" on '+(e.$className||"scope object"))}h=e[h]}else{if(f){e=g||b}else{if(!e){e=b}}}var a;if(h&&Ext.isFunction(h)){e=e||Ext.global;if(c){Ext.defer(h,c,e,d)}else{if(d){a=h.apply(e,d)}else{a=h.call(e)}}}return a},coerce:function(e,d){var c=Ext.typeOf(e),b=Ext.typeOf(d),a=typeof e==="string";if(c!==b){switch(b){case"string":return String(e);case"number":return Number(e);case"boolean":return a&&(!e||e==="false")?false:Boolean(e);case"null":return a&&(!e||e==="null")?null:e;case"undefined":return a&&(!e||e==="undefined")?undefined:e;case"date":return a&&isNaN(e)?Ext.Date.parse(e,Ext.Date.defaultFormat):Date(Number(e))}}return e},copyTo:function(b,d,f,e){if(typeof f=="string"){f=f.split(/[,;\s]/)}var g,c=f?f.length:0,a;for(g=0;g<c;g++){a=f[g];if(e||d.hasOwnProperty(a)){b[a]=d[a]}}return b},extend:(function(){var a=Object.prototype.constructor,b=function(d){for(var c in d){if(!d.hasOwnProperty(c)){continue}this[c]=d[c]}};return function(c,h,f){if(Ext.isObject(h)){f=h;h=c;c=f.constructor!==a?f.constructor:function(){h.apply(this,arguments)}}if(!h){Ext.Error.raise({sourceClass:"Ext",sourceMethod:"extend",msg:"Attempting to extend from a class which has not been loaded on the page."})}var e=function(){},d,g=h.prototype;e.prototype=g;d=c.prototype=new e();d.constructor=c;c.superclass=g;if(g.constructor===a){g.constructor=h}c.override=function(j){Ext.override(c,j)};d.override=b;d.proto=d;c.override(f);c.extend=function(j){return Ext.extend(c,j)};return c}}()),iterate:function(a,c,b){if(Ext.isEmpty(a)){return}if(b===undefined){b=a}if(Ext.isIterable(a)){Ext.Array.each.call(Ext.Array,a,c,b)}else{Ext.Object.each.call(Ext.Object,a,c,b)}},urlEncode:function(){var a=Ext.Array.from(arguments),b="";if(Ext.isString(a[1])){b=a[1]+"&";a[1]=false}return b+Ext.Object.toQueryString.apply(Ext.Object,a)},urlDecode:function(){return Ext.Object.fromQueryString.apply(Ext.Object,arguments)},getScrollbarSize:function(c){if(!Ext.isReady){return{}}var b=Ext._scrollbarSize;if(c||!b){var a=document.body,d=document.createElement("div");d.style.width=d.style.height="100px";d.style.overflow="scroll";d.style.position="absolute";a.appendChild(d);Ext._scrollbarSize=b={width:d.offsetWidth-d.clientWidth,height:d.offsetHeight-d.clientHeight};a.removeChild(d)}return b},typeOf:(function(){var a=/\S/,c=Object.prototype.toString,d={number:1,string:1,"boolean":1,"undefined":1},b={"[object Array]":"array","[object Date]":"date","[object Boolean]":"boolean","[object Number]":"number","[object RegExp]":"regexp"};return function(g){if(g===null){return"null"}var f=typeof g,e,h;if(d[f]){return f}e=b[h=c.call(g)];if(e){return e}if(f==="function"){return"function"}if(f==="object"){if(g.nodeType!==undefined){if(g.nodeType===3){return a.test(g.nodeValue)?"textnode":"whitespace"}else{return"element"}}return"object"}Ext.Error.raise({sourceClass:"Ext",sourceMethod:"typeOf",msg:'Failed to determine the type of "'+g+'".'});return h}}()),factory:function(b,e,a,f){var d=Ext.ClassManager,c;if(!b||b.isInstance){if(a&&a!==b){a.destroy()}return b}if(f){if(typeof b=="string"){return d.instantiateByAlias(f+"."+b)}else{if(Ext.isObject(b)&&"type" in b){return d.instantiateByAlias(f+"."+b.type,b)}}}if(b===true){return a||Ext.create(e)}if(!Ext.isObject(b)){Ext.Logger.error("Invalid config, must be a valid config object")}if("xtype" in b){c=d.instantiateByAlias("widget."+b.xtype,b)}else{if("xclass" in b){c=Ext.create(b.xclass,b)}}if(c){if(a){a.destroy()}return c}if(a){return a.setConfig(b)}return Ext.create(e,b)},log:(function(){var c=/string|number|boolean/;function a(g,e,p,n){var j,m,o,f,k,q,h=[];if(Ext.isArray(g)){k="[";q="]"}else{if(Ext.isObject(g)){k="{";q="}"}}if(!p){p=3}if(e>p){return k+"..."+q}e=e||1;var l=(new Array(e)).join("    ");for(f in g){if(g.hasOwnProperty(f)){o=g[f];m=typeof o;if(m=="function"){if(!n){continue}j=m}else{if(m=="undefined"){j=m}else{if(o===null||c.test(m)||Ext.isDate(o)){j=Ext.encode(o)}else{if(Ext.isArray(o)){j=this.dumpObject(o,e+1,p,n)}else{if(Ext.isObject(o)){j=this.dumpObject(o,e+1,p,n)}else{j=m}}}}}h.push(l+f+": "+j)}}if(h.length){return k+"\n    "+h.join(",\n    ")+"\n"+l+q}return k+q}function b(m){var n,j,f=Ext.global.console,e="log",g=b.indent||0,l,h,k;b.indent=g;if(typeof m!="string"){n=m;m=n.msg||"";e=n.level||e;j=n.dump;l=n.stack;if(n.indent){++b.indent}else{if(n.outdent){b.indent=g=Math.max(g-1,0)}}if(j&&!(f&&f.dir)){m+=a(j);j=null}}if(arguments.length>1){m+=Array.prototype.slice.call(arguments,1).join("")}m=g?Ext.String.repeat(" ",b.indentSize*g)+m:m;if(e!="log"){m="["+e.charAt(0).toUpperCase()+"] "+m}if(f){if(f[e]){f[e](m)}else{f.log(m)}if(j){f.dir(j)}if(l&&f.trace){if(!f.firebug||e!="error"){f.trace()}}}else{if(Ext.isOpera){opera.postError(m)}else{h=b.out;k=b.max;if(h.length>=k){Ext.Array.erase(h,0,h.length-3*Math.floor(k/4))}h.push(m)}}++b.count;++b.counters[e]}function d(f,e){if(typeof e[0]=="string"){e.unshift({})}e[0].level=f;b.apply(this,e)}b.error=function(){d("error",Array.prototype.slice.call(arguments))};b.info=function(){d("info",Array.prototype.slice.call(arguments))};b.warn=function(){d("warn",Array.prototype.slice.call(arguments))};b.count=0;b.counters={error:0,warn:0,info:0,log:0};b.indentSize=2;b.out=[];b.max=750;return b}())||(function(){var a=function(){};a.info=a.warn=a.error=Ext.emptyFn;return a}())});(function(){var d=[""],g=/([^\d\.])/,b=/[^\d]/g,a=/[\-+]/g,f=/\s/g,c=/_/g,e;Ext.Version=e=function(q,m){var r=this,k=r.padModes,h,o,l,n,s,j,p;if(q.isVersion){q=q.version}r.version=p=String(q).toLowerCase().replace(c,".").replace(a,"");h=p.charAt(0);if(h in k){p=p.substring(1);l=k[h]}else{l=m?k[m]:0}r.pad=l;j=p.search(g);r.shortVersion=p;if(j!==-1){r.release=s=p.substr(j,q.length);r.shortVersion=p.substr(0,j);s=e.releaseValueMap[s]||s}r.releaseValue=s||l;r.shortVersion=r.shortVersion.replace(b,"");r.parts=n=p.split(".");for(o=n.length;o--;){n[o]=parseInt(n[o],10)}if(l===Infinity){n.push(l)}r.major=n[0]||l;r.minor=n[1]||l;r.patch=n[2]||l;r.build=n[3]||l;return r};e.prototype={isVersion:true,padModes:{"~":NaN,"^":Infinity},release:"",compareTo:function(s){var t=this,m=t.pad,q=t.parts,u=q.length,l=s.isVersion?s:new e(s),j=l.pad,p=l.parts,o=p.length,h=Math.max(u,o),n,k,r;for(n=0;n<h;n++){k=(n<u)?q[n]:m;r=(n<o)?p[n]:j;if(k<r){return -1}if(k>r){return 1}}k=t.releaseValue;r=l.releaseValue;if(k<r){return -1}if(k>r){return 1}return 0},toString:function(){return this.version},valueOf:function(){return this.version},getMajor:function(){return this.major},getMinor:function(){return this.minor},getPatch:function(){return this.patch},getBuild:function(){return this.build},getRelease:function(){return this.release},getReleaseValue:function(){return this.releaseValue},isGreaterThan:function(h){return this.compareTo(h)>0},isGreaterThanOrEqual:function(h){return this.compareTo(h)>=0},isLessThan:function(h){return this.compareTo(h)<0},isLessThanOrEqual:function(h){return this.compareTo(h)<=0},equals:function(h){return this.compareTo(h)===0},match:function(h){h=String(h);return this.version.substr(0,h.length)===h},toArray:function(){var h=this;return[h.getMajor(),h.getMinor(),h.getPatch(),h.getBuild(),h.getRelease()]},getShortVersion:function(){return this.shortVersion},gt:function(h){return this.compareTo(h)>0},lt:function(h){return this.compareTo(h)<0},gtEq:function(h){return this.compareTo(h)>=0},ltEq:function(h){return this.compareTo(h)<=0}};Ext.apply(e,{aliases:{from:{extjs:"ext",core:"sencha-core"},to:{ext:["extjs"],"sencha-core":["core"]}},releaseValueMap:{dev:-6,alpha:-5,a:-5,beta:-4,b:-4,rc:-3,"#":-2,p:-1,pl:-1},getComponentValue:function(h){return !h?0:(isNaN(h)?this.releaseValueMap[h]||h:parseInt(h,10))},compare:function(k,j){var h=k.isVersion?k:new e(k);return h.compareTo(j)},set:function(n,l,k){var j=e.aliases.to[l],h=k.isVersion?k:new e(k),m;n[l]=h;if(j){for(m=j.length;m-->0;){n[j[m]]=h}}return h}});Ext.apply(Ext,{compatVersions:{},versions:{},lastRegisteredVersion:null,getCompatVersion:function(j){var h=Ext.compatVersions,k;if(!j){k=h.ext||h.touch||h.core}else{k=h[e.aliases.from[j]||j]}return k||Ext.getVersion(j)},setCompatVersion:function(j,h){e.set(Ext.compatVersions,j,h)},setVersion:function(j,h){Ext.lastRegisteredVersion=e.set(Ext.versions,j,h);return this},getVersion:function(j){var h=Ext.versions;if(!j){return h.ext||h.touch||h.core}return h[e.aliases.from[j]||j]},checkVersion:function(o,w){var s=Ext.isArray(o),k=e.aliases.from,x=s?o:d,j=x.length,l=Ext.versions,v=l.ext||l.touch,p,u,r,m,n,h,y,q,t;if(!s){d[0]=o}for(p=0;p<j;++p){if(!Ext.isString(y=x[p])){r=Ext.checkVersion(y.and||y.or,!y.or);if(y.not){r=!r}}else{if(y.indexOf(" ")>=0){y=y.replace(f,"")}u=y.indexOf("@");if(u<0){q=y;t=v}else{h=y.substring(0,u);if(!(t=l[k[h]||h])){if(w){return false}continue}q=y.substring(u+1)}u=q.indexOf("-");if(u<0){if(q.charAt(u=q.length-1)==="+"){m=q.substring(0,u);n=null}else{m=n=q}}else{if(u>0){m=q.substring(0,u);n=q.substring(u+1)}else{m=null;n=q.substring(u+1)}}r=true;if(m){m=new e(m,"~");r=m.ltEq(t)}if(r&&n){n=new e(n,"~");r=n.gtEq(t)}}if(r){if(!w){return true}}else{if(w){return false}}}return !!w},deprecate:function(h,k,l,j){if(e.compare(Ext.getVersion(h),k)<1){l.call(j)}}})}());(function(d){var e=(d&&d.packages)||{},c=d&&d.compatibility,b,a;for(b in e){a=e[b];Ext.setVersion(b,a.version)}if(c){if(Ext.isString(c)){Ext.setCompatVersion("core",c)}else{for(b in c){Ext.setCompatVersion(b,c[b])}}}if(!e.ext&&!e.touch){Ext.setVersion("ext","5")}})(Ext.manifest);Ext.Config=function(b){var c=this,a=b.charAt(0).toUpperCase()+b.substr(1);c.name=b;c.names={internal:"_"+b,initializing:"is"+a+"Initializing",apply:"apply"+a,update:"update"+a,get:"get"+a,set:"set"+a,initGet:"initGet"+a,doSet:"doSet"+a,changeEvent:b.toLowerCase()+"change"};c.root=c};Ext.Config.map={};Ext.Config.get=function(b){var c=Ext.Config.map,a=c[b]||(c[b]=new Ext.Config(b));return a};Ext.Config.prototype={self:Ext.Config,isConfig:true,getGetter:function(){return this.getter||(this.root.getter=this.makeGetter())},getInitGetter:function(){return this.initGetter||(this.root.initGetter=this.makeInitGetter())},getSetter:function(){return this.setter||(this.root.setter=this.makeSetter())},getInternalName:function(a){return a.$configPrefixed?this.names.internal:this.name},mergeSets:function(e,c,a){var b=c?Ext.Object.chain(c):{},d,f;if(e instanceof Array){for(d=e.length;d--;){f=e[d];if(!a||!(f in b)){b[f]=true}}}else{if(e){if(e.constructor===Object){for(d in e){f=e[d];if(!a||!(d in b)){b[d]=f}}}else{if(!a||!(e in b)){b[e]=true}}}}return b},makeGetter:function(){var a=this.name,b=this.names.internal;return function(){var c=this.$configPrefixed?b:a;return this[c]}},makeInitGetter:function(){var a=this.name,e=this.names,d=e.set,b=e.get,c=e.initializing;return function(){var f=this;f[c]=true;delete f[b];f[d](f.config[a]);delete f[c];return f[b].apply(f,arguments)}},makeSetter:function(){var a=this.name,e=this.names,c=e.internal,d=e.get,b=e.apply,g=e.update,f;f=function(l){var k=this,j=k.$configPrefixed?c:a,h=k[j];delete k[d];if(!k[b]||(l=k[b](l,h))!==undefined){if(l!==(h=k[j])){k[j]=l;if(k[g]){k[g](l,h)}}}return k};f.$isDefault=true;return f}};(function(){var b=Ext.Config,c=b.map,a=Ext.Object;Ext.Configurator=function(d){var f=this,e=d.prototype,g=d.superclass?d.superclass.self.$config:null;f.cls=d;if(g){f.configs=a.chain(g.configs);f.cachedConfigs=a.chain(g.cachedConfigs);f.initMap=a.chain(g.initMap);f.values=a.chain(g.values)}else{f.configs={};f.cachedConfigs={};f.initMap={};f.values={}}e.config=e.defaultConfig=f.values;d.$config=f};Ext.Configurator.prototype={self:Ext.Configurator,initList:null,add:function(u,d){var v=this,h=v.cls,l=v.configs,w=v.cachedConfigs,n=v.initMap,q=h.prototype,x=d&&d.$config.configs,e=v.values,k,m,t,f,g,j,y,p,o,r;for(y in u){r=u[y];k=r&&r.constructor===Object;m=k&&"$value" in r?r:null;if(m){t=!!m.cached;r=m.$value}f=m&&m.merge;g=l[y];if(g){if(d){f=g.merge;if(!f){continue}m=null}else{f=f||g.merge}if(!d&&t&&!w[y]){Ext.Error.raise("Redefining config as cached: "+y+" in class: "+h.$className)}j=e[y];if(f){r=f.call(g,r,j,h,d)}else{if(k){if(j&&j.constructor===Object){r=a.merge({},j,r)}}}}else{if(x){g=x[y];m=null}else{g=b.get(y)}l[y]=g;if(g.cached||t){w[y]=true}p=g.names;if(!q[o=p.get]){q[o]=g.getGetter()}if(!q[o=p.set]){q[o]=g.getSetter()}}if(m){if(g.owner!==h){l[y]=g=Ext.Object.chain(g);g.owner=h}Ext.apply(g,m);delete g.$value}if(r!==null){n[y]=true}else{if(q.$configPrefixed){q[l[y].names.internal]=null}else{q[l[y].name]=null}if(y in n){n[y]=false}}e[y]=r}},configure:function(y,l){var A=this,k=A.configs,m=A.initMap,o=A.initListMap,w=A.initList,p=A.cls.prototype,d=a.fork(A.values),v=!y.$configStrict,q=0,s=!w,e,g,h,C,u,t,j,n,B,r,z,f,x;if(s){A.initList=w=[];A.initListMap=o={};y.isFirstInstance=true;for(B in m){C=m[B];g=k[B];z=g.cached;if(C){n=g.names;r=d[B];if(!p[n.set].$isDefault||p[n.apply]||p[n.update]||typeof r==="object"){if(z){(e||(e=[])).push(g)}else{w.push(g);o[B]=true}y[n.get]=g.initGetter||g.getInitGetter()}else{p[g.getInternalName(p)]=r}}else{if(z){p[g.getInternalName(p)]=undefined}}}}j=e&&e.length;if(j){for(u=0;u<j;++u){t=e[u].getInternalName(p);y[t]=null}for(u=0;u<j;++u){n=(g=e[u]).names;h=n.get;if(y.hasOwnProperty(h)){y[n.set](d[g.name]);delete y[h]}}for(u=0;u<j;++u){t=e[u].getInternalName(p);p[t]=y[t];delete y[t]}}if(s){if(y.afterCachedConfig&&!y.afterCachedConfig.$nullFn){y.afterCachedConfig(l)}}y.isConfiguring=true;y.config=d;for(u=0,j=w.length;u<j;++u){g=w[u];y[g.names.get]=g.initGetter||g.getInitGetter()}if(y.transformInstanceConfig){l=y.transformInstanceConfig(l)}if(l){for(B in l){r=l[B];g=k[B];if(!g){if(v){y[B]=r}}else{if(!g.lazy){++q}if(!o[B]){y[g.names.get]=g.initGetter||g.getInitGetter()}f=g.merge;if(f){r=f.call(g,r,d[B],y)}else{if(r&&r.constructor===Object){x=d[B];if(x&&x.constructor===Object){r=a.merge(d[B],r)}else{r=Ext.clone(r)}}}}d[B]=r}}if(y.beforeInitConfig&&!y.beforeInitConfig.$nullFn){if(y.beforeInitConfig(l)===false){return}}if(l){for(B in l){if(!q){break}g=k[B];if(g&&!g.lazy){--q;n=g.names;h=n.get;if(y.hasOwnProperty(h)){y[n.set](d[B]);delete y[n.get]}}}}for(u=0,j=w.length;u<j;++u){g=w[u];n=g.names;h=n.get;if(!g.lazy&&y.hasOwnProperty(h)){y[n.set](d[g.name]);delete y[h]}}delete y.isConfiguring},getCurrentConfig:function(e){var d=e.defaultConfig,g={},f;for(f in d){g[f]=e[c[f].names.get]()}return g},reconfigure:function(q,m,e){var h=q.config,r=q.initialConfig,j=[],p=q.$configStrict,l,o,g,k,d,n,f;for(d in m){if(e&&(d in r)){continue}h[d]=m[d];l=c[d];if(l){q[l.names.get]=l.initGetter||l.getInitGetter()}else{if(p){if(d!=="type"){Ext.log.error('No such config "'+d+'" for class '+q.$className)}continue}}j.push(d)}for(g=0,k=j.length;g<k;g++){d=j[g];l=c[d];if(l){n=l.names;o=n.get;if(q.hasOwnProperty(o)){q[n.set](m[d]);delete q[o]}}else{if(!p){l=Ext.Config.get(d);n=l.names;if(q[n.set]){q[n.set](m[d])}else{if(d!=="type"){Ext.Error.raise('Config "'+d+'" has no setter on class '+q.$className)}}}}}}}}());Ext.Base=(function(c){var b=[],k,n=[],o=function(s,r){var u=this,q,p,t;if(s){p=Ext.Config.map[s];if(!p){Ext.Logger.error("Invalid property name for getter: '"+s+"' for '"+u.$className+"'.")}t=p.names.get;if(r&&u.hasOwnProperty(t)){q=u.config[s]}else{q=u[t]()}}else{q=u.getCurrentConfig()}return q},d=function(q,p,s){var r='"'+q+'" is deprecated.';if(s){r+=" "+s}else{if(p){r+=' Please use "'+p+'" instead.'}}return function(){Ext.Error.raise(r)}},l=function(q,r,p,s){if(!s){s='"'+r+'" is deprecated.'}if(p){s+=' Please use "'+p+'" instead.'}if(s){Ext.Object.defineProperty(q,r,{get:function(){Ext.Error.raise(s)},set:function(t){Ext.Error.raise(s)},configurable:true})}},g=function(p){return function(){return this[p].apply(this,arguments)}},a=Ext.Version,j=/^\d/,m={},f={},h=function(){},e=h.prototype;Ext.apply(h,{$className:"Ext.Base",$isClass:true,create:function(){return Ext.create.apply(Ext,[this].concat(Array.prototype.slice.call(arguments,0)))},addDeprecations:function(w){var F=this,q=[],s=Ext.getCompatVersion(w.name),t=(F.$className||"")+"#",E,A,v,B,G,y,D,x,C,H,z,p,u,r;for(A in w){if(j.test(A)){r=new Ext.Version(A);r.deprecations=w[A];q.push(r)}}q.sort(a.compare);for(v=q.length;v--;){E=(r=q[v]).deprecations;G=F.prototype;u=E.statics;y=s&&s.lt(r);if(!y){}else{if(!y){break}}while(E){C=E.methods;if(C){for(H in C){p=C[H];x=null;if(!p){Ext.Assert.isNotDefinedProp(G,H);x=d(t+H)}else{if(Ext.isString(p)){Ext.Assert.isNotDefinedProp(G,H);Ext.Assert.isDefinedProp(G,p);if(y){x=g(p)}else{x=d(t+H,p)}}else{B="";if(p.message||p.fn){B=p.message;p=p.fn}D=G.hasOwnProperty(H)&&G[H];if(y&&p){p.$owner=F;p.$name=H;p.displayName=t+H;if(D){p.$previous=D}x=p}else{if(!D){x=d(t+H,null,B)}}}}if(x){G[H]=x}}}C=E.properties;if(C&&!y){for(H in C){z=C[H];if(Ext.isString(z)){l(G,t+H,z)}else{if(z&&z.message){l(G,t+H,null,z.message)}else{l(G,t+H)}}}}E=u;u=null;G=F}}},extend:function(t){var v=this,p=t.prototype,r,s,u,q,w;r=v.prototype=Ext.Object.chain(p);r.self=v;v.superclass=r.superclass=p;if(!t.$isClass){for(s in e){if(s in r){r[s]=e[s]}}}w=p.$inheritableStatics;if(w){for(s=0,u=w.length;s<u;s++){q=w[s];if(!v.hasOwnProperty(q)){v[q]=t[q]}}}if(t.$onExtended){v.$onExtended=t.$onExtended.slice()}v.getConfigurator()},$onExtended:[],triggerExtended:function(){Ext.classSystemMonitor&&Ext.classSystemMonitor(this,"Ext.Base#triggerExtended",arguments);var r=this.$onExtended,q=r.length,p,s;if(q>0){for(p=0;p<q;p++){s=r[p];s.fn.apply(s.scope||this,arguments)}}},onExtended:function(q,p){this.$onExtended.push({fn:q,scope:p});return this},addStatics:function(p){this.addMembers(p,true);return this},addInheritableStatics:function(q){var u,p,s=this.prototype,r,v;u=s.$inheritableStatics;p=s.$hasInheritableStatics;if(!u){u=s.$inheritableStatics=[];p=s.$hasInheritableStatics={}}var t=Ext.getClassName(this)+".";for(r in q){if(q.hasOwnProperty(r)){v=q[r];if(typeof v=="function"){v.displayName=t+r}this[r]=v;if(!p[r]){p[r]=true;u.push(r)}}}return this},addMembers:function(t,F,r){var C=this,x=Ext.Function.clone,A=F?C:C.prototype,u=!F&&A.defaultConfig,E=Ext.enumerables,y=t.privates,z,w,B,v,p,s;var D=(C.$className||"")+"#";if(y){delete t.privates;s=y.privacy||r||"framework";C.addMembers(y,F,s);y=y.statics;if(y&&!F){C.addMembers(y,true,s)}}for(p in t){if(t.hasOwnProperty(p)){v=t[p];if(v&&v.$nullFn&&r!==v.$privacy){Ext.Error.raise("Cannot use stock function for private method "+(C.$className?C.$className+"#":"")+p)}if(typeof v==="function"&&!v.$isClass&&!v.$nullFn){if(v.$owner){v=x(v)}if(A.hasOwnProperty(p)){v.$previous=A[p]}v.$owner=C;v.$name=p;v.displayName=D+p;var q=A[p];if(r){if(r===true){r="framework"}v.$privacy=r;if(q&&q.$privacy&&q.$privacy!==r){Ext.privacyViolation(C,q,v,F)}}else{if(q&&q.$privacy){Ext.privacyViolation(C,q,v,F)}}}else{if(u&&(p in u)&&!A.config.hasOwnProperty(p)){(z||(z={}))[p]=v;continue}}A[p]=v}}if(z){C.addConfig(z)}if(E){for(w=0,B=E.length;w<B;++w){if(t.hasOwnProperty(p=E[w])){v=t[p];if(v&&!v.$nullFn){if(v.$owner){v=x(v)}v.$owner=C;v.$name=p;v.displayName=D+p;if(A.hasOwnProperty(p)){v.$previous=A[p]}}A[p]=v}}}return this},addMember:function(p,q){m[p]=q;this.addMembers(m);delete m[p];return this},borrow:function(v,p){Ext.classSystemMonitor&&Ext.classSystemMonitor(this,"Ext.Base#borrow",arguments);var r=v.prototype,t={},s,u,q;p=Ext.Array.from(p);for(s=0,u=p.length;s<u;s++){q=p[s];t[q]=r[q]}return this.addMembers(t)},override:function(q){var s=this,v=q.statics,u=q.inheritableStatics,r=q.config,p=q.mixins,t=q.cachedConfig;if(v||u||r){q=Ext.apply({},q)}if(v){s.addMembers(v,true);delete q.statics}if(u){s.addInheritableStatics(u);delete q.inheritableStatics}if(r){s.addConfig(r);delete q.config}if(t){s.addCachedConfig(t);delete q.cachedConfig}delete q.mixins;s.addMembers(q);if(p){s.mixin(p)}return s},callParent:function(p){var q;return(q=this.callParent.caller)&&(q.$previous||((q=q.$owner?q:q.caller)&&q.$owner.superclass.self[q.$name])).apply(this,p||b)},callSuper:function(p){var q;return(q=this.callSuper.caller)&&((q=q.$owner?q:q.caller)&&q.$owner.superclass.self[q.$name]).apply(this,p||b)},mixin:function(p,q){var v=this,B,x,A,w,r,u,z,y,t;if(typeof p!=="string"){t=p;if(t instanceof Array){for(r=0,u=t.length;r<u;r++){B=t[r];v.mixin(B.prototype.mixinId||B.$className,B)}}else{for(var s in t){v.mixin(s,t[s])}}return}B=q.prototype;x=v.prototype;if(B.onClassMixedIn){B.onClassMixedIn.call(q,v)}if(!x.hasOwnProperty("mixins")){if("mixins" in x){x.mixins=Ext.Object.chain(x.mixins)}else{x.mixins={}}}for(A in B){y=B[A];if(A==="mixins"){Ext.applyIf(x.mixins,y)}else{if(!(A==="mixinId"||A==="config")&&(x[A]===undefined)){x[A]=y}}}w=B.$inheritableStatics;if(w){for(r=0,u=w.length;r<u;r++){z=w[r];if(!v.hasOwnProperty(z)){v[z]=q[z]}}}if("config" in B){v.addConfig(B.config,q)}x.mixins[p]=B;if(B.afterClassMixedIn){B.afterClassMixedIn.call(q,v)}return v},addConfig:function(q,r){var p=this.$config||this.getConfigurator();p.add(q,r)},addCachedConfig:function(p,r){var s={},q;for(q in p){s[q]={cached:true,$value:p[q]}}this.addConfig(s,r)},getConfigurator:function(){return this.$config||new Ext.Configurator(this)},getName:function(){return Ext.getClassName(this)},createAlias:c(function(q,p){f[q]=function(){return this[p].apply(this,arguments)};this.override(f);delete f[q]})});for(k in h){if(h.hasOwnProperty(k)){n.push(k)}}h.$staticMembers=n;h.getConfigurator();h.addMembers({$className:"Ext.Base",isInstance:true,$configPrefixed:true,$configStrict:true,isConfiguring:false,isFirstInstance:false,statics:function(){var q=this.statics.caller,p=this.self;if(!q){return p}return q.$owner},callParent:function(r){var t,p=(t=this.callParent.caller)&&(t.$previous||((t=t.$owner?t:t.caller)&&t.$owner.superclass[t.$name]));if(!p){t=this.callParent.caller;var s,q;if(!t.$owner){if(!t.caller){throw new Error("Attempting to call a protected method from the public scope, which is not allowed")}t=t.caller}s=t.$owner.superclass;q=t.$name;if(!(q in s)){throw new Error("this.callParent() was called but there's no such method ("+q+") found in the parent class ("+(Ext.getClassName(s)||"Object")+")")}}return p.apply(this,r||b)},callSuper:function(r){var t,p=(t=this.callSuper.caller)&&((t=t.$owner?t:t.caller)&&t.$owner.superclass[t.$name]);if(!p){t=this.callSuper.caller;var s,q;if(!t.$owner){if(!t.caller){throw new Error("Attempting to call a protected method from the public scope, which is not allowed")}t=t.caller}s=t.$owner.superclass;q=t.$name;if(!(q in s)){throw new Error("this.callSuper() was called but there's no such method ("+q+") found in the parent class ("+(Ext.getClassName(s)||"Object")+")")}}return p.apply(this,r||b)},self:h,constructor:function(){return this},getConfigurator:function(){return this.$config||this.self.getConfigurator()},initConfig:function(r){var q=this,p=q.getConfigurator();q.initConfig=Ext.emptyFn;q.initialConfig=r||{};p.configure(q,r);return q},beforeInitConfig:Ext.emptyFn,getConfig:o,setConfig:function(q,s){var r=this,p;if(typeof q==="string"){p=Ext.Config.map[q];if(!p){Ext.Logger.error("Invalid property name for setter: '"+q+"' for '"+this.$className+"'.")}this[p.names.set](s)}else{if(q){r.getConfigurator().reconfigure(r,q)}}return r},getCurrentConfig:function(){var p=this.getConfigurator();return p.getCurrentConfig(this)},hasConfig:function(p){return p in this.defaultConfig},getInitialConfig:function(q){var p=this.config;if(!q){return p}return p[q]},$links:null,link:function(q,s){var r=this,p=r.$links||(r.$links={});p[q]=true;r[q]=s;return s},unlink:function(u){var s=this,p,r,q,t;if(!Ext.isArray(u)){Ext.Error.raise("Invalid argument - expected array of strings")}for(p=0,r=u.length;p<r;p++){q=u[p];t=s[q];if(t){if(t.isInstance&&!t.isDestroyed){t.destroy()}else{if(t.parentNode&&"nodeType" in t){t.parentNode.removeChild(t)}}}s[q]=null}return s},destroy:function(){var q=this,p=q.$links;q.destroy=Ext.emptyFn;q.isDestroyed=true;if(p){q.$links=null;q.unlink(Ext.Object.getKeys(p))}}});e.callOverridden=e.callParent;Ext.privacyViolation=function(y,q,t,w){var p=t.$name,x=q.$owner&&q.$owner.$className,z=w?"static ":"",r=t.$privacy?"Private "+z+t.$privacy+' method "'+p+'"':"Public "+z+'method "'+p+'"';if(y.$className){r=y.$className+": "+r}if(!q.$privacy){r+=x?" hides public method inherited from "+x:" hides inherited public method."}else{r+=x?" conflicts with private "+q.$privacy+" method declared by "+x:" conflicts with inherited private "+q.$privacy+" method."}var v=Ext.getCompatVersion();var u=Ext.getVersion();if(u&&v&&v.lt(u)){Ext.log.error(r)}else{Ext.Error.raise(r)}};return h}(Ext.Function.flexSetter));(function(){var c,b=Ext.Base,d=b.$staticMembers;function a(f){function e(){return this.constructor.apply(this,arguments)||null}if(f){e.displayName=f}return e}Ext.Class=c=function(f,g,e){if(typeof f!="function"){e=g;g=f;f=null}if(!g){g={}}f=c.create(f,g);c.process(f,g,e);return f};Ext.apply(c,{makeCtor:a,onBeforeCreated:function(f,g,e){Ext.classSystemMonitor&&Ext.classSystemMonitor(f,">> Ext.Class#onBeforeCreated",arguments);f.addMembers(g);e.onCreated.call(f,f);Ext.classSystemMonitor&&Ext.classSystemMonitor(f,"<< Ext.Class#onBeforeCreated",arguments)},create:function(e,h){var g=d.length,f;if(!e){e=a(h.$className)}while(g--){f=d[g];e[f]=b[f]}return e},process:function(e,m,g){var f=m.preprocessors||c.defaultPreprocessors,p=this.preprocessors,s={onBeforeCreated:this.onBeforeCreated},r=[],t,l,k,q,h,o,n;delete m.preprocessors;e._classHooks=s;for(k=0,q=f.length;k<q;k++){t=f[k];if(typeof t=="string"){t=p[t];l=t.properties;if(l===true){r.push(t.fn)}else{if(l){for(h=0,o=l.length;h<o;h++){n=l[h];if(m.hasOwnProperty(n)){r.push(t.fn);break}}}}}else{r.push(t)}}s.onCreated=g?g:Ext.emptyFn;s.preprocessors=r;this.doProcess(e,m,s)},doProcess:function(f,k,e){var j=this,l=e.preprocessors,g=l.shift(),h=j.doProcess;for(;g;g=l.shift()){if(g.call(j,f,k,e,h)===false){return}}e.onBeforeCreated.apply(j,arguments)},preprocessors:{},registerPreprocessor:function(f,j,g,e,h){if(!e){e="last"}if(!g){g=[f]}this.preprocessors[f]={name:f,properties:g||false,fn:j};this.setDefaultPreprocessorPosition(f,e,h);return this},getPreprocessor:function(e){return this.preprocessors[e]},getPreprocessors:function(){return this.preprocessors},defaultPreprocessors:[],getDefaultPreprocessors:function(){return this.defaultPreprocessors},setDefaultPreprocessors:function(e){this.defaultPreprocessors=Ext.Array.from(e);return this},setDefaultPreprocessorPosition:function(g,j,h){var e=this.defaultPreprocessors,f;if(typeof j=="string"){if(j==="first"){e.unshift(g);return this}else{if(j==="last"){e.push(g);return this}}j=(j==="after")?1:-1}f=Ext.Array.indexOf(e,h);if(f!==-1){Ext.Array.splice(e,Math.max(0,f+j),0,g)}return this}});c.registerPreprocessor("extend",function(f,h,n){Ext.classSystemMonitor&&Ext.classSystemMonitor(f,"Ext.Class#extendPreProcessor",arguments);var j=Ext.Base,k=j.prototype,l=h.extend,e,m,g;delete h.extend;if(l&&l!==Object){e=l}else{e=j}m=e.prototype;if(!e.$isClass){for(g in k){if(!m[g]){m[g]=k[g]}}}f.extend(e);f.triggerExtended.apply(f,arguments);if(h.onClassExtended){f.onExtended(h.onClassExtended,f);delete h.onClassExtended}},true);c.registerPreprocessor("privates",function(e,h){Ext.classSystemMonitor&&Ext.classSystemMonitor(e,"Ext.Class#privatePreprocessor",arguments);var g=h.privates,j=g.statics,f=g.privacy||true;delete h.privates;delete g.statics;e.addMembers(g,false,f);if(j){e.addMembers(j,true,f)}});c.registerPreprocessor("statics",function(e,f){Ext.classSystemMonitor&&Ext.classSystemMonitor(e,"Ext.Class#staticsPreprocessor",arguments);e.addStatics(f.statics);delete f.statics});c.registerPreprocessor("inheritableStatics",function(e,f){Ext.classSystemMonitor&&Ext.classSystemMonitor(e,"Ext.Class#inheritableStaticsPreprocessor",arguments);e.addInheritableStatics(f.inheritableStatics);delete f.inheritableStatics});c.registerPreprocessor("platformConfig",function(g,o,s){var p=o.platformConfig,k=o.config||{},q=Ext.theme||(Ext.theme={name:"Default"}),h,n,f,m,r,l,e;delete o.platformConfig;q=q&&q.name;if(!Ext.filterPlatform){Ext.filterPlatform=function(w){var F=false,u=navigator.userAgent,y,C;w=[].concat(w);function B(G){var j=/Mobile(\/|\s)/.test(G);return/(iPhone|iPod)/.test(G)||(!/(Silk)/.test(G)&&(/(Android)/.test(G)&&(/(Android 2)/.test(G)||j)))||(/(BlackBerry|BB)/.test(G)&&j)||/(Windows Phone)/.test(G)}function A(j){return !B(j)&&(/iPad/.test(j)||/Android/.test(j)||/(RIM Tablet OS)/.test(j)||(/MSIE 10/.test(j)&&/; Touch/.test(j)))}var t=window.location.search.substr(1),v=t.split("&"),x={},D,z;for(z=0;z<v.length;z++){var E=v[z].split("=");x[E[0]]=E[1]}D=x.platform;if(D){return w.indexOf(D)!=-1}for(y=0,C=w.length;y<C;y++){switch(w[y]){case"phone":F=B(u);break;case"tablet":F=A(u);break;case"desktop":F=!B(u)&&!A(u);break;case"ios":F=/(iPad|iPhone|iPod)/.test(u);break;case"android":F=/(Android|Silk)/.test(u);break;case"blackberry":F=/(BlackBerry|BB)/.test(u);break;case"safari":F=/Safari/.test(u)&&!(/(BlackBerry|BB)/.test(u));break;case"chrome":F=/Chrome/.test(u);break;case"ie10":F=/MSIE 10/.test(u);break}if(F){return true}}return false}}for(m=0,r=p.length;m<r;m++){f=p[m];h=f.platform;delete f.platform;n=[].concat(f.theme);e=n.length;delete f.theme;if(h&&Ext.filterPlatform(h)){Ext.merge(k,f)}if(e){for(l=0;l<e;l++){if(Ext.theme.name==n[l]){Ext.merge(k,f)}}}}});c.registerPreprocessor("config",function(e,f){if(f.hasOwnProperty("$configPrefixed")){e.prototype.$configPrefixed=f.$configPrefixed}e.addConfig(f.config);delete f.config});c.registerPreprocessor("cachedConfig",function(e,f){if(f.hasOwnProperty("$configPrefixed")){e.prototype.$configPrefixed=f.$configPrefixed}e.addCachedConfig(f.cachedConfig);delete f.cachedConfig});c.registerPreprocessor("mixins",function(h,j,e){Ext.classSystemMonitor&&Ext.classSystemMonitor(h,"Ext.Class#mixinsPreprocessor",arguments);var g=j.mixins,f=e.onCreated;delete j.mixins;e.onCreated=function(){Ext.classSystemMonitor&&Ext.classSystemMonitor(h,"Ext.Class#mixinsPreprocessor#beforeCreated",arguments);e.onCreated=f;h.mixin(g);return e.onCreated.apply(this,arguments)}});Ext.extend=function(g,h,f){Ext.classSystemMonitor&&Ext.classSystemMonitor(g,"Ext.Class#extend-backwards-compatible",arguments);if(arguments.length===2&&Ext.isObject(h)){f=h;h=g;g=null}var e;if(!h){throw new Error("[Ext.extend] Attempting to extend from a class which has not been loaded on the page.")}f.extend=h;f.preprocessors=["extend","statics","inheritableStatics","mixins","platformConfig","config"];if(g){e=new c(g,f);e.prototype.constructor=g}else{e=new c(f)}e.prototype.override=function(k){for(var j in k){if(k.hasOwnProperty(j)){this[j]=k[j]}}};return e}}());Ext.Inventory=function(){var a=this;a.names=[];a.paths={};a.alternateToName={};a.aliasToName={};a.nameToAliases={};a.nameToAlternates={}};Ext.Inventory.prototype={_array1:[0],prefixes:null,dotRe:/\./g,wildcardRe:/\*/g,addAlias:function(b,a){return this.addMapping(b,a,this.aliasToName,this.nameToAliases)},addAlternate:function(a,b){return this.addMapping(a,b,this.alternateToName,this.nameToAlternates)},addMapping:function(k,e,f,m){var b=k.$className||k,h=b,j=this._array1,n,d,o,g,c,l;if(Ext.isString(b)){h={};h[b]=e}for(o in h){d=h[o];if(Ext.isString(d)){j[0]=d;d=j}c=d.length;l=m[o]||(m[o]=[]);for(g=0;g<c;++g){if(!(n=d[g])){continue}if(f[n]!==o){if(f[n]){Ext.log.warn("Overriding existing mapping: '"+n+"' From '"+f[n]+"' to '"+o+"'. Is this intentional?")}f[n]=o;l.push(n)}}}},getAliasesByName:function(a){return this.nameToAliases[a]||null},getAlternatesByName:function(a){return this.nameToAliases[a]||null},getNameByAlias:function(a){return this.aliasToName[a]||""},getNameByAlternate:function(a){return this.alternateToName[a]||""},getNamesByExpression:function(l,a,h){var u=this,r=u.aliasToName,o=u.alternateToName,b=u.nameToAliases,d=u.nameToAlternates,t=h?a:{},k=[],s=Ext.isString(l)?[l]:l,g=s.length,e=u.wildcardRe,c,p,q,j,m,v,f;for(p=0;p<g;++p){if((c=s[p]).indexOf("*")<0){if(!(v=r[c])){if(!(v=o[c])){v=c}}if(!(v in t)&&!(a&&(v in a))){t[v]=1;k.push(v)}}else{f=new RegExp("^"+c.replace(e,"(.*?)")+"$");for(v in b){if(!(v in t)&&!(a&&(v in a))){if(!(j=f.test(v))){m=(q=b[v]).length;while(!j&&m-->0){j=f.test(q[m])}q=d[v];if(q&&!j){m=q.length;while(!j&&m-->0){j=f.test(q[m])}}}if(j){t[v]=1;k.push(v)}}}}}return k},getPath:function(b){var c=this,e=c.paths,a="",d;if(b in e){a=e[b]}else{d=c.getPrefix(b);if(d){b=b.substring(d.length+1);a=e[d];if(a){a+="/"}}a+=b.replace(c.dotRe,"/")+".js"}return a},getPrefix:function(b){if(b in this.paths){return b}var e=this.getPrefixes(),a=e.length,c,d;while(a-->0){c=(d=e[a]).length;if(c<b.length&&b.charAt(c)==="."&&d===b.substring(0,c)){return d}}return""},getPrefixes:function(){var a=this,b=a.prefixes;if(!b){a.prefixes=b=a.names.slice(0);b.sort(a._compareNames)}return b},removeName:function(b){var f=this,j=f.aliasToName,l=f.alternateToName,k=f.nameToAliases,e=f.nameToAlternates,c=k[b],g=e[b],d,h;delete k[b];delete e[b];if(c){for(d=c.length;d--;){if(b===(h=c[d])){delete j[h]}}}if(g){for(d=g.length;d--;){if(b===(h=g[d])){delete l[h]}}}},resolveName:function(a){var b=this,c;if(!(a in b.nameToAliases)){if(!(c=b.aliasToName[a])){c=b.alternateToName[a]}}return c||a},select:function(e,c){var d=this,f={},b={excludes:f,exclude:function(){d.getNamesByExpression(arguments,f,true);return this}},a;for(a in e){b[a]=d.selectMethod(f,e[a],c||e)}return b},selectMethod:function(d,b,a){var c=this;return function(e){var f=Ext.Array.slice(arguments,1);f.unshift(c.getNamesByExpression(e,d));return b.apply(a,f)}},setPath:Ext.Function.flexSetter(function(a,c){var b=this;b.paths[a]=c;b.names.push(a);b.prefixes=null;return b}),_compareNames:function(a,c){var b=a.length-c.length;if(!b){b=(a<c)?-1:1}return b}};Ext.ClassManager=(function(e,m,d,p,f){var k=Ext.Class.makeCtor,g=typeof window==="undefined",a=Ext.apply(new Ext.Inventory(),{classes:{},classState:{},existCache:{},namespaceRewrites:[{from:"Ext.",to:Ext}],enableNamespaceParseCache:true,namespaceParseCache:{},instantiators:[],isCreated:function(u){var t,v,s,r,w;if(typeof u!=="string"||u.length<1){throw new Error("[Ext.ClassManager] Invalid classname, must be a string and must not be empty")}if(a.classes[u]||a.existCache[u]){return true}r=f;w=a.parseNamespace(u);for(t=0,v=w.length;t<v;t++){s=w[t];if(typeof s!=="string"){r=s}else{if(!r||!r[s]){return false}r=r[s]}}a.triggerCreated(u);return true},createdListeners:[],nameCreatedListeners:{},existsListeners:[],nameExistsListeners:{},triggerCreated:function(r){if(!a.existCache[r]){a.triggerExists(r)}a.classState[r]+=20;a.notify(r,a.createdListeners,a.nameCreatedListeners)},onCreated:function(t,s,r){a.addListener(t,s,r,a.createdListeners,a.nameCreatedListeners)},triggerExists:function(r,s){a.existCache[r]=s||1;a.classState[r]+=20;a.notify(r,a.existsListeners,a.nameExistsListeners)},onExists:function(t,s,r){a.addListener(t,s,r,a.existsListeners,a.nameExistsListeners)},notify:function(z,B,t){var u=a.getAlternatesByName(z),A=[z],w,y,v,x,s,r;for(w=0,y=B.length;w<y;w++){s=B[w];s.fn.call(s.scope,z)}while(A){for(w=0,y=A.length;w<y;w++){r=A[w];B=t[r];if(B){for(v=0,x=B.length;v<x;v++){s=B[v];s.fn.call(s.scope,r)}delete t[r]}}A=u;u=null}},addListener:function(w,v,u,t,s){if(Ext.isArray(u)){w=Ext.Function.createBarrier(u.length,w,v);for(r=0;r<u.length;r++){this.addListener(w,null,u[r],t,s)}return}var r,x={fn:w,scope:v};if(u){if(this.isCreated(u)){w.call(v,u);return}if(!s[u]){s[u]=[]}s[u].push(x)}else{t.push(x)}},parseNamespace:function(t){if(typeof t!=="string"){throw new Error("[Ext.ClassManager] Invalid namespace, must be a string")}var r=this.namespaceParseCache,u,w,y,s,B,A,z,v,x;if(this.enableNamespaceParseCache){if(r.hasOwnProperty(t)){return r[t]}}u=[];w=this.namespaceRewrites;y=f;s=t;for(v=0,x=w.length;v<x;v++){B=w[v];A=B.from;z=B.to;if(s===A||s.substring(0,A.length)===A){s=s.substring(A.length);if(typeof z!=="string"){y=z}else{u=u.concat(z.split("."))}break}}u.push(y);u=u.concat(s.split("."));if(this.enableNamespaceParseCache){r[t]=u}return u},setNamespace:function(u,x){var s=f,y=this.parseNamespace(u),w=y.length-1,r=y[w],v,t;for(v=0;v<w;v++){t=y[v];if(typeof t!=="string"){s=t}else{if(!s[t]){s[t]={}}s=s[t]}}s[r]=x;return s[r]},createNamespaces:function(){var r=f,w,t,u,s,v,x;for(u=0,v=arguments.length;u<v;u++){w=this.parseNamespace(arguments[u]);for(s=0,x=w.length;s<x;s++){t=w[s];if(typeof t!=="string"){r=t}else{if(!r[t]){r[t]={}}r=r[t]}}}return r},set:function(r,u){var t=this,s=t.getName(u);t.classes[r]=t.setNamespace(r,u);if(s&&s!==r){t.addAlternate(s,r)}return this},get:function(t){var v=this.classes,r,x,s,u,w;if(v[t]){return v[t]}r=f;x=this.parseNamespace(t);for(u=0,w=x.length;u<w;u++){s=x[u];if(typeof s!=="string"){r=s}else{if(!r||!r[s]){return null}r=r[s]}}return r},addNameAliasMappings:function(r){this.addAlias(r)},addNameAlternateMappings:function(r){this.addAlternate(r)},getByAlias:function(r){return this.get(this.getNameByAlias(r))},getName:function(r){return r&&r.$className||""},getClass:function(r){return r&&r.self||null},create:function(s,u,r){if(s!=null&&typeof s!=="string"){throw new Error("[Ext.define] Invalid class name '"+s+"' specified, must be a non-empty string")}var t=k(s);if(typeof u==="function"){u=u(t)}if(s){if(a.classes[s]){Ext.log.warn("[Ext.define] Duplicate class name '"+s+"' specified, must be a non-empty string")}t.displayName=s}u.$className=s;return new e(t,u,function(){var v=u.postprocessors||a.defaultPostprocessors,C=a.postprocessors,D=[],B,x,A,w,z,y,E;delete u.postprocessors;for(x=0,A=v.length;x<A;x++){B=v[x];if(typeof B==="string"){B=C[B];y=B.properties;if(y===true){D.push(B.fn)}else{if(y){for(w=0,z=y.length;w<z;w++){E=y[w];if(u.hasOwnProperty(E)){D.push(B.fn);break}}}}}else{D.push(B)}}u.postprocessors=D;u.createdFn=r;a.processCreate(s,this,u)})},processCreate:function(u,s,w){var v=this,r=w.postprocessors.shift(),t=w.createdFn;if(!r){Ext.classSystemMonitor&&Ext.classSystemMonitor(u,"Ext.ClassManager#classCreated",arguments);if(u){v.set(u,s)}delete s._classHooks;if(t){t.call(s,s)}if(u){v.triggerCreated(u)}return}if(r.call(v,u,s,w,v.processCreate)!==false){v.processCreate(u,s,w)}},createOverride:function(x,v,t){var z=this,A=v.override,C=v.requires,u=v.uses,w=v.mixins,r,B=v.compatibility,y,s=function(){var D,H,G,F,E;if(!y){H=C?C.slice(0):[];if(w){if(!(r=w instanceof Array)){for(F in w){if(Ext.isString(D=w[F])){H.push(D)}}}else{for(G=0,E=w.length;G<E;++G){if(Ext.isString(D=w[G])){H.push(D)}}}}y=true;if(H.length){Ext.require(H,s);return}}if(r){for(G=0,E=w.length;G<E;++G){if(Ext.isString(D=w[G])){w[G]=Ext.ClassManager.get(D)}}}else{if(w){for(F in w){if(Ext.isString(D=w[F])){w[F]=Ext.ClassManager.get(D)}}}}D=z.get(A);delete v.override;delete v.compatibility;delete v.requires;delete v.uses;Ext.override(D,v);z.triggerCreated(x);if(u){Ext.Loader.addUsedClasses(u)}if(t){t.call(D,D)}};z.triggerExists(x,2);if(!B||Ext.checkVersion(B)){z.onCreated(s,z,A)}return z},instantiateByAlias:function(){var s=arguments[0],r=d.call(arguments),t=this.getNameByAlias(s);if(!t){throw new Error("[Ext.createByAlias] Unrecognized alias: "+s)}r[0]=t;return Ext.create.apply(Ext,r)},instantiate:function(){Ext.log.warn("Ext.ClassManager.instantiate() is deprecated.  Use Ext.create() instead.");return Ext.create.apply(Ext,arguments)},dynInstantiate:function(s,r){r=p(r,true);r.unshift(s);return Ext.create.apply(Ext,r)},getInstantiator:function(u){var t=this.instantiators,v,s,r;v=t[u];if(!v){s=u;r=[];for(s=0;s<u;s++){r.push("a["+s+"]")}v=t[u]=new Function("c","a","return new c("+r.join(",")+")");v.displayName="Ext.create"+u}return v},postprocessors:{},defaultPostprocessors:[],registerPostprocessor:function(s,v,t,r,u){if(!r){r="last"}if(!t){t=[s]}this.postprocessors[s]={name:s,properties:t||false,fn:v};this.setDefaultPostprocessorPosition(s,r,u);return this},setDefaultPostprocessors:function(r){this.defaultPostprocessors=p(r);return this},setDefaultPostprocessorPosition:function(s,v,u){var t=this.defaultPostprocessors,r;if(typeof v==="string"){if(v==="first"){t.unshift(s);return this}else{if(v==="last"){t.push(s);return this}}v=(v==="after")?1:-1}r=Ext.Array.indexOf(t,u);if(r!==-1){Ext.Array.splice(t,Math.max(0,r+v),0,s)}return this}});a.registerPostprocessor("alias",function(t,s,w){Ext.classSystemMonitor&&Ext.classSystemMonitor(t,"Ext.ClassManager#aliasPostProcessor",arguments);var r=Ext.Array.from(w.alias),u,v;for(u=0,v=r.length;u<v;u++){m=r[u];this.addAlias(s,m)}},["xtype","alias"]);a.registerPostprocessor("singleton",function(s,r,u,t){Ext.classSystemMonitor&&Ext.classSystemMonitor(s,"Ext.ClassManager#singletonPostProcessor",arguments);if(u.singleton){t.call(this,s,new r(),u)}else{return true}return false});a.registerPostprocessor("alternateClassName",function(s,r,w){Ext.classSystemMonitor&&Ext.classSystemMonitor(s,"Ext.ClassManager#alternateClassNamePostprocessor",arguments);var u=w.alternateClassName,t,v,x;if(!(u instanceof Array)){u=[u]}for(t=0,v=u.length;t<v;t++){x=u[t];if(typeof x!=="string"){throw new Error("[Ext.define] Invalid alternate of: '"+x+"' for class: '"+s+"'; must be a valid string")}this.set(x,r)}});a.registerPostprocessor("debugHooks",function(s,r,t){Ext.classSystemMonitor&&Ext.classSystemMonitor(r,"Ext.Class#debugHooks",arguments);if(Ext.isDebugEnabled(r.$className,t.debugHooks.$enabled)){delete t.debugHooks.$enabled;Ext.override(r,t.debugHooks)}var u=r.isInstance?r.self:r;delete u.prototype.debugHooks});a.registerPostprocessor("deprecated",function(s,r,t){Ext.classSystemMonitor&&Ext.classSystemMonitor(r,"Ext.Class#deprecated",arguments);var u=r.isInstance?r.self:r;u.addDeprecations(t.deprecated);delete u.prototype.deprecated});Ext.apply(Ext,{create:function(){var t=arguments[0],u=typeof t,s=d.call(arguments,1),r;if(u==="function"){r=t}else{if(u!=="string"&&s.length===0){s=[t];if(!(t=t.xclass)){t=s[0].xtype;if(t){t="widget."+t}}}if(typeof t!=="string"||t.length<1){throw new Error("[Ext.create] Invalid class name or alias '"+t+"' specified, must be a non-empty string")}t=a.resolveName(t);r=a.get(t)}if(!r){!g&&Ext.log.warn("[Ext.Loader] Synchronously loading '"+t+"'; consider adding Ext.require('"+t+"') above Ext.onReady");Ext.syncRequire(t);r=a.get(t)}if(!r){throw new Error("[Ext.create] Unrecognized class name / alias: "+t)}if(typeof r!=="function"){throw new Error("[Ext.create] Singleton '"+t+"' cannot be instantiated.")}return a.getInstantiator(s.length)(r,s)},widget:function(t,s){var w=t,u,v,r;if(typeof w!=="string"){s=t;w=s.xtype;v=s.xclass}else{s=s||{}}if(s.isComponent){return s}if(!v){u="widget."+w;v=a.getNameByAlias(u)}if(v){r=a.get(v)}if(!r){return Ext.create(v||u,s)}return new r(s)},createByAlias:m(a,"instantiateByAlias"),define:function(s,t,r){Ext.classSystemMonitor&&Ext.classSystemMonitor(s,"ClassManager#define",arguments);if(t.override){a.classState[s]=20;return a.createOverride.apply(a,arguments)}a.classState[s]=10;return a.create.apply(a,arguments)},undefine:function(u){Ext.classSystemMonitor&&Ext.classSystemMonitor(u,"Ext.ClassManager#undefine",arguments);var s=a.classes,w,x,t,r;delete a.namespaceParseCache[u];delete s[u];delete a.existCache[u];delete a.classState[u];a.removeName(u);w=a.parseNamespace(u);x=w.length-1;t=w[0];for(r=1;r<x;r++){t=t[w[r]];if(!t){return}}try{delete t[w[x]]}catch(v){t[w[x]]=undefined}},getClassName:m(a,"getName"),getDisplayName:function(r){if(r){if(r.displayName){return r.displayName}if(r.$name&&r.$class){return Ext.getClassName(r.$class)+"#"+r.$name}if(r.$className){return r.$className}}return"Anonymous"},getClass:m(a,"getClass"),namespace:m(a,"createNamespaces")});Ext.createWidget=Ext.widget;Ext.ns=Ext.namespace;e.registerPreprocessor("className",function(r,s){if("$className" in s){r.$className=s.$className;r.displayName=r.$className}Ext.classSystemMonitor&&Ext.classSystemMonitor(r,"Ext.ClassManager#classNamePreprocessor",arguments)},true,"first");e.registerPreprocessor("alias",function(C,w){Ext.classSystemMonitor&&Ext.classSystemMonitor(C,"Ext.ClassManager#aliasPreprocessor",arguments);var A=C.prototype,t=p(w.xtype),r=p(w.alias),D="widget.",B=D.length,x=Array.prototype.slice.call(A.xtypesChain||[]),u=Ext.merge({},A.xtypesMap||{}),v,z,y,s;for(v=0,z=r.length;v<z;v++){y=r[v];if(typeof y!=="string"||y.length<1){throw new Error("[Ext.define] Invalid alias of: '"+y+"' for class: '"+b+"'; must be a valid string")}if(y.substring(0,B)===D){s=y.substring(B);Ext.Array.include(t,s)}}C.xtype=w.xtype=t[0];w.xtypes=t;for(v=0,z=t.length;v<z;v++){s=t[v];if(!u[s]){u[s]=true;x.push(s)}}w.xtypesChain=x;w.xtypesMap=u;Ext.Function.interceptAfter(w,"onClassCreated",function(){Ext.classSystemMonitor&&Ext.classSystemMonitor(C,"Ext.ClassManager#aliasPreprocessor#afterClassCreated",arguments);var E=A.mixins,G,F;for(G in E){if(E.hasOwnProperty(G)){F=E[G];t=F.xtypes;if(t){for(v=0,z=t.length;v<z;v++){s=t[v];if(!u[s]){u[s]=true;x.push(s)}}}}}});for(v=0,z=t.length;v<z;v++){s=t[v];if(typeof s!=="string"||s.length<1){throw new Error("[Ext.define] Invalid xtype of: '"+s+"' for class: '"+b+"'; must be a valid non-empty string")}Ext.Array.include(r,D+s)}w.alias=r},["xtype","alias"]);if(Ext.manifest){var c=Ext.manifest,j=c.classes,q=c.paths,h={},o={},n,l,b;if(q){if(c.bootRelative){baseUrl=Ext.Boot.baseUrl;for(path in q){if(q.hasOwnProperty(path)){q[path]=baseUrl+q[path]}}}a.setPath(q)}if(j){for(n in j){o[n]=[];h[n]=[];l=j[n];if(l.alias){h[n]=l.alias}if(l.alternates){o[n]=l.alternates}}}a.addAlias(h);a.addAlternate(o)}return a}(Ext.Class,Ext.Function.alias,Array.prototype.slice,Ext.Array.from,Ext.global));Ext.env||(Ext.env={});Ext.env.Browser=function(r,m){var s=this,a=s.browserPrefixes,b=s.enginePrefixes,p=r.match(new RegExp("((?:"+Ext.Object.getValues(a).join(")|(?:")+"))([\\w\\._]+)")),g=r.match(new RegExp("((?:"+Ext.Object.getValues(b).join(")|(?:")+"))([\\w\\._]+)")),c=s.browserNames,o=c.other,j=s.engineNames,q=j.other,l="",f="",d="",h=false,n,k,t;s.userAgent=r;if(p){o=c[Ext.Object.getKey(a,p[1])];if(o==="Safari"&&/^Opera/.test(r)){o="Opera"}l=new Ext.Version(p[2])}if(g){q=j[Ext.Object.getKey(b,g[1])];f=new Ext.Version(g[2])}if(q=="Trident"&&o!="IE"){o="IE";var e=r.match(/.*rv:(\d+.\d+)/);if(e&&e.length){e=e[1];l=new Ext.Version(e)}}if(r.match(/FB/)&&o=="Other"){o=c.safari;q=j.webkit}if(r.match(/Android.*Chrome/g)){o="ChromeMobile"}if(r.match(/OPR/)){o="Opera";p=r.match(/OPR\/(\d+.\d+)/);l=new Ext.Version(p[1])}Ext.apply(this,{engineName:q,engineVersion:f,name:o,version:l});this.setFlag(o,true,m);if(l){d=l.getMajor()||"";if(s.is.IE){d=parseInt(d,10);k=document.documentMode;if(k==7||(d==7&&k!=8&&k!=9&&k!=10)){d=7}else{if(k==8||(d==8&&k!=8&&k!=9&&k!=10)){d=8}else{if(k==9||(d==9&&k!=7&&k!=8&&k!=10)){d=9}else{if(k==10||(d==10&&k!=7&&k!=8&&k!=9)){d=10}}}}if(d<=7){Ext.isIE7m=true}if(d<=8){Ext.isIE8m=true}if(d<=9){Ext.isIE9m=true}if(d>=7){Ext.isIE7p=true}if(d>=8){Ext.isIE8p=true}if(d>=9){Ext.isIE9p=true}if(d>=10){Ext.isIE10p=true}}if(s.is.Opera&&parseInt(d,10)<=12){Ext.isOpera12m=true}Ext.chromeVersion=Ext.isChrome?d:0;Ext.firefoxVersion=Ext.isFirefox?d:0;Ext.ieVersion=Ext.isIE?d:0;Ext.operaVersion=Ext.isOpera?d:0;Ext.safariVersion=Ext.isSafari?d:0;Ext.webKitVersion=Ext.isWebKit?d:0;this.setFlag(o+d,true,m);this.setFlag(o+l.getShortVersion())}for(n in c){if(c.hasOwnProperty(n)){t=c[n];this.setFlag(t,o===t)}}this.setFlag(t);if(f){this.setFlag(q+(f.getMajor()||""));this.setFlag(q+f.getShortVersion())}for(n in j){if(j.hasOwnProperty(n)){t=j[n];this.setFlag(t,q===t,m)}}this.setFlag("Standalone",!!navigator.standalone);this.setFlag("Ripple",!!document.getElementById("tinyhippos-injected")&&!Ext.isEmpty(window.top.ripple));this.setFlag("WebWorks",!!window.blackberry);if(typeof window.PhoneGap!="undefined"||typeof window.Cordova!="undefined"||typeof window.cordova!="undefined"){h=true;this.setFlag("PhoneGap");this.setFlag("Cordova")}else{if(!!window.isNK){h=true;this.setFlag("Sencha")}}if(/(Glass)/i.test(r)){this.setFlag("GoogleGlass")}if(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)(?!.*FBAN)/i.test(r)){h=true}this.setFlag("WebView",h);this.isStrict=Ext.isStrict=document.compatMode=="CSS1Compat";this.isSecure=/^https/i.test(window.location.protocol);this.identity=o+d+(this.isStrict?"Strict":"Quirks")};Ext.env.Browser.prototype={constructor:Ext.env.Browser,browserNames:{ie:"IE",firefox:"Firefox",safari:"Safari",chrome:"Chrome",opera:"Opera",dolfin:"Dolfin",webosbrowser:"webOSBrowser",chromeMobile:"ChromeMobile",chromeiOS:"ChromeiOS",silk:"Silk",other:"Other"},engineNames:{webkit:"WebKit",gecko:"Gecko",presto:"Presto",trident:"Trident",other:"Other"},enginePrefixes:{webkit:"AppleWebKit/",gecko:"Gecko/",presto:"Presto/",trident:"Trident/"},browserPrefixes:{ie:"MSIE ",firefox:"Firefox/",chrome:"Chrome/",safari:"Version/",opera:"OPR/",dolfin:"Dolfin/",webosbrowser:"wOSBrowser/",chromeMobile:"CrMo/",chromeiOS:"CriOS/",silk:"Silk/"},styleDashPrefixes:{WebKit:"-webkit-",Gecko:"-moz-",Trident:"-ms-",Presto:"-o-",Other:""},stylePrefixes:{WebKit:"Webkit",Gecko:"Moz",Trident:"ms",Presto:"O",Other:""},propertyPrefixes:{WebKit:"webkit",Gecko:"moz",Trident:"ms",Presto:"o",Other:""},is:function(a){return !!this.is[a]},name:null,version:null,engineName:null,engineVersion:null,setFlag:function(a,c,b){if(typeof c=="undefined"){c=true}this.is[a]=c;this.is[a.toLowerCase()]=c;if(b){Ext["is"+a]=c}return this},getStyleDashPrefix:function(){return this.styleDashPrefixes[this.engineName]},getStylePrefix:function(){return this.stylePrefixes[this.engineName]},getVendorProperyName:function(a){var b=this.propertyPrefixes[this.engineName];if(b.length>0){return b+Ext.String.capitalize(a)}return a},getPreferredTranslationMethod:function(a){if(typeof a=="object"&&"translationMethod" in a&&a.translationMethod!=="auto"){return a.translationMethod}else{if(this.is.AndroidStock2||this.is.IE){return"scrollposition"}else{return"csstransform"}}}};(function(a){Ext.browser=new Ext.env.Browser(a,true);Ext.userAgent=a.toLowerCase()}(Ext.global.navigator.userAgent));Ext.env.OS=function(o,b,l){var k=this,j=k.names,d=k.prefixes,a,h="",f=k.is,c,g,e,n,m;l=l||Ext.browser;for(c in d){if(d.hasOwnProperty(c)){g=d[c];e=o.match(new RegExp("(?:"+g+")([^\\s;]+)"));if(e){a=j[c];m=e[1];if(m&&m=="HTC_"){h=new Ext.Version("2.3")}else{if(m&&m=="Silk/"){h=new Ext.Version("2.3")}else{h=new Ext.Version(e[e.length-1])}}break}}}if(!a){a=j[(o.toLowerCase().match(/mac|win|linux/)||["other"])[0]];h=new Ext.Version("")}this.name=a;this.version=h;if(b){this.setFlag(b.replace(/ simulator$/i,""))}this.setFlag(a);if(h){this.setFlag(a+(h.getMajor()||""));this.setFlag(a+h.getShortVersion())}for(c in j){if(j.hasOwnProperty(c)){n=j[c];if(!f.hasOwnProperty(a)){this.setFlag(n,(a===n))}}}if(this.name=="iOS"&&window.screen.height==568){this.setFlag("iPhone5")}if(l.is.Safari||l.is.Silk){if(this.is.Android2||this.is.Android3||l.version.shortVersion==501){l.setFlag("AndroidStock");l.setFlag("AndroidStock2")}if(this.is.Android4){l.setFlag("AndroidStock");l.setFlag("AndroidStock4")}}};Ext.env.OS.prototype={constructor:Ext.env.OS,names:{ios:"iOS",android:"Android",windowsPhone:"WindowsPhone",webos:"webOS",blackberry:"BlackBerry",rimTablet:"RIMTablet",mac:"MacOS",win:"Windows",tizen:"Tizen",linux:"Linux",bada:"Bada",chrome:"ChromeOS",other:"Other"},prefixes:{tizen:"(Tizen )",ios:"i(?:Pad|Phone|Pod)(?:.*)CPU(?: iPhone)? OS ",android:"(Android |HTC_|Silk/)",windowsPhone:"Windows Phone ",blackberry:"(?:BlackBerry|BB)(?:.*)Version/",rimTablet:"RIM Tablet OS ",webos:"(?:webOS|hpwOS)/",bada:"Bada/",chrome:"CrOS "},is:function(a){return !!this[a]},name:null,version:null,setFlag:function(a,b){if(typeof b=="undefined"){b=true}if(this.flags){this.flags[a]=b}this.is[a]=b;this.is[a.toLowerCase()]=b;return this}};(function(){var a=Ext.global.navigator,g=a.userAgent,f=Ext.env.OS,e=(Ext.is||(Ext.is={})),h,d,b;f.prototype.flags=e;Ext.os=h=new f(g,a.platform);d=h.name;Ext["is"+d]=true;Ext.isMac=e.Mac=e.MacOS;var j=window.location.search.match(/deviceType=(Tablet|Phone)/),c=window.deviceType;if(j&&j[1]){b=j[1]}else{if(c==="iPhone"){b="Phone"}else{if(c==="iPad"){b="Tablet"}else{if(!h.is.Android&&!h.is.iOS&&!h.is.WindowsPhone&&/Windows|Linux|MacOS/.test(d)){b="Desktop";Ext.browser.is.WebView=!!Ext.browser.is.Ripple}else{if(h.is.iPad||h.is.RIMTablet||h.is.Android3||Ext.browser.is.Silk||(h.is.Android4&&g.search(/mobile/i)==-1)){b="Tablet"}else{b="Phone"}}}}}h.setFlag(b,true);h.deviceType=b;delete f.prototype.flags}());Ext.feature={has:function(a){return !!this.has[a]},testElements:{},getTestElement:function(a,b){if(a===undefined){a="div"}else{if(typeof a!=="string"){return a}}if(b){return document.createElement(a)}if(!this.testElements[a]){this.testElements[a]=document.createElement(a)}return this.testElements[a]},isStyleSupported:function(c,b){var d=this.getTestElement(b).style,a=Ext.String.capitalize(c);if(typeof d[c]!=="undefined"||typeof d[Ext.browser.getStylePrefix(c)+a]!=="undefined"){return true}return false},isStyleSupportedWithoutPrefix:function(b,a){var c=this.getTestElement(a).style;if(typeof c[b]!=="undefined"){return true}return false},isEventSupported:function(c,a){if(a===undefined){a=window}var e=this.getTestElement(a),b="on"+c.toLowerCase(),d=(b in e);if(!d){if(e.setAttribute&&e.removeAttribute){e.setAttribute(b,"");d=typeof e[b]==="function";if(typeof e[b]!=="undefined"){e[b]=undefined}e.removeAttribute(b)}}return d},getStyle:function(c,b){var a=c.ownerDocument.defaultView,d=(a?a.getComputedStyle(c,null):c.currentStyle)||c.style;return d[b]},getSupportedPropertyName:function(b,a){var c=Ext.browser.getVendorProperyName(a);if(c in b){return c}else{if(a in b){return a}}return null},detect:function(h){var j=this,l=document,f=j.toRun||j.tests,e=f.length,b=l.createElement("div"),c=[],o=Ext.supports,m=j.has,a,g,d,k;if(!Ext.theme){Ext.theme={name:"Default"}}Ext.theme.is={};Ext.theme.is[Ext.theme.name]=true;b.innerHTML='<div style="height:30px;width:50px;"><div style="height:20px;width:20px;"></div></div><div style="width: 200px; height: 200px; position: relative; padding: 5px;"><div style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"></div></div><div style="position: absolute; left: 10%; top: 10%;"></div><div style="float:left; background-color:transparent;"></div>';if(h){l.body.appendChild(b)}d=j.preDetected[Ext.browser.identity]||[];while(e--){g=f[e];k=d[e];a=g.name;if(k===undefined){if(!h&&g.ready){c.push(g);continue}k=g.fn.call(j,l,b)}o[a]=m[a]=k}if(h){l.body.removeChild(b)}j.toRun=c},report:function(){var b=[],a=this.tests.length,c;for(c=0;c<a;++c){b.push(this.has[this.tests[c].name]?1:0)}Ext.log(Ext.browser.identity+": ["+b.join(",")+"]")},preDetected:{},tests:[{name:"CSSPointerEvents",fn:function(a){return"pointerEvents" in a.documentElement.style}},{name:"CSS3BoxShadow",fn:function(a){return"boxShadow" in a.documentElement.style||"WebkitBoxShadow" in a.documentElement.style||"MozBoxShadow" in a.documentElement.style}},{name:"ClassList",fn:function(a){return !!a.documentElement.classList}},{name:"TimeoutActualLateness",fn:function(){setTimeout(function(){Ext.supports.TimeoutActualLateness=arguments.length!==0},0)}},{name:"Canvas",fn:function(){var a=this.getTestElement("canvas");return !!(a&&a.getContext&&a.getContext("2d"))}},{name:"Svg",fn:function(a){return !!(a.createElementNS&&!!a.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect)}},{name:"Vml",fn:function(){var b=this.getTestElement(),a=false;b.innerHTML="<!--[if vml]><br><![endif]-->";a=(b.childNodes.length===1);b.innerHTML="";return a}},{name:"TouchEvents",fn:function(){return this.isEventSupported("touchend")}},{name:"Touch",fn:function(){var a=navigator.msMaxTouchPoints||navigator.maxTouchPoints;return(this.isEventSupported("touchend")&&a!==1)||a>1}},{name:"PointerEvents",fn:function(){return navigator.pointerEnabled}},{name:"MSPointerEvents",fn:function(){return navigator.msPointerEnabled}},{name:"Orientation",fn:function(){return("orientation" in window)&&this.isEventSupported("orientationchange")}},{name:"OrientationChange",fn:function(){return this.isEventSupported("orientationchange")}},{name:"DeviceMotion",fn:function(){return this.isEventSupported("devicemotion")}},{names:["Geolocation","GeoLocation"],fn:function(){return"geolocation" in window.navigator}},{name:"SqlDatabase",fn:function(){return"openDatabase" in window}},{name:"WebSockets",fn:function(){return"WebSocket" in window}},{name:"Range",fn:function(){return !!document.createRange}},{name:"CreateContextualFragment",fn:function(){var a=!!document.createRange?document.createRange():false;return a&&!!a.createContextualFragment}},{name:"History",fn:function(){return("history" in window&&"pushState" in window.history)}},{name:"CssTransforms",fn:function(){return this.isStyleSupported("transform")}},{name:"CssTransformNoPrefix",fn:function(){return this.isStyleSupportedWithoutPrefix("transform")}},{name:"Css3dTransforms",fn:function(){return this.has("CssTransforms")&&this.isStyleSupported("perspective")&&!Ext.browser.is.AndroidStock2}},{name:"CssAnimations",fn:function(){return this.isStyleSupported("animationName")}},{names:["CssTransitions","Transitions"],fn:function(){return this.isStyleSupported("transitionProperty")}},{names:["Audio","AudioTag"],fn:function(){return !!this.getTestElement("audio").canPlayType}},{name:"Video",fn:function(){return !!this.getTestElement("video").canPlayType}},{name:"LocalStorage",fn:function(){try{if("localStorage" in window&&window.localStorage!==null){localStorage.setItem("sencha-localstorage-test","test success");localStorage.removeItem("sencha-localstorage-test");return true}}catch(a){}return false}},{name:"XHR2",fn:function(){return window.ProgressEvent&&window.FormData&&window.XMLHttpRequest&&("withCredentials" in new XMLHttpRequest)}},{name:"XHRUploadProgress",fn:function(){if(window.XMLHttpRequest&&!Ext.browser.is.AndroidStock){var a=new XMLHttpRequest();return a&&("upload" in a)&&("onprogress" in a.upload)}return false}},{name:"NumericInputPlaceHolder",fn:function(){return !(Ext.browser.is.AndroidStock4&&Ext.os.version.getMinor()<2)}},{name:"ProperHBoxStretching",ready:true,fn:function(){var b=document.createElement("div"),c=b.appendChild(document.createElement("div")),d=c.appendChild(document.createElement("div")),a;b.setAttribute("style","width: 100px; height: 100px; position: relative;");c.setAttribute("style","position: absolute; display: -ms-flexbox; display: -webkit-flex; display: -moz-flexbox; display: flex; -ms-flex-direction: row; -webkit-flex-direction: row; -moz-flex-direction: row; flex-direction: row; min-width: 100%;");d.setAttribute("style","width: 200px; height: 50px;");document.body.appendChild(b);a=c.offsetWidth;document.body.removeChild(b);return(a>100)}},{name:"matchesSelector",fn:function(){var b=document.documentElement,e="matches",d="webkitMatchesSelector",a="msMatchesSelector",c="mozMatchesSelector";return b[e]?e:b[d]?d:b[a]?a:b[c]?c:null}},{name:"RightMargin",ready:true,fn:function(b,c){var a=b.defaultView;return !(a&&a.getComputedStyle(c.firstChild.firstChild,null).marginRight!="0px")}},{name:"DisplayChangeInputSelectionBug",fn:function(){var a=Ext.webKitVersion;return 0<a&&a<533}},{name:"DisplayChangeTextAreaSelectionBug",fn:function(){var a=Ext.webKitVersion;return 0<a&&a<534.24}},{name:"TransparentColor",ready:true,fn:function(b,c,a){a=b.defaultView;return !(a&&a.getComputedStyle(c.lastChild,null).backgroundColor!="transparent")}},{name:"ComputedStyle",ready:true,fn:function(b,c,a){a=b.defaultView;return a&&a.getComputedStyle}},{name:"Float",fn:function(a){return"cssFloat" in a.documentElement.style}},{name:"CSS3BorderRadius",ready:true,fn:function(d){var b=["borderRadius","BorderRadius","MozBorderRadius","WebkitBorderRadius","OBorderRadius","KhtmlBorderRadius"],c=false,a;for(a=0;a<b.length;a++){if(d.documentElement.style[b[a]]!==undefined){return true}}return c}},{name:"CSS3LinearGradient",fn:function(f,a){var h="background-image:",g="-webkit-gradient(linear, left top, right bottom, from(black), to(white))",e="linear-gradient(left top, black, white)",d="-moz-"+e,b="-ms-"+e,c="-o-"+e,j=[h+g,h+e,h+d,h+b,h+c];a.style.cssText=j.join(";");return((""+a.style.backgroundImage).indexOf("gradient")!==-1)&&!Ext.isIE9}},{name:"MouseEnterLeave",fn:function(a){return("onmouseenter" in a.documentElement&&"onmouseleave" in a.documentElement)}},{name:"MouseWheel",fn:function(a){return("onmousewheel" in a.documentElement)}},{name:"Opacity",fn:function(a,b){if(Ext.isIE8){return false}b.firstChild.style.cssText="opacity:0.73";return b.firstChild.style.opacity=="0.73"}},{name:"Placeholder",fn:function(a){return"placeholder" in a.createElement("input")}},{name:"Direct2DBug",fn:function(a){return Ext.isString(a.documentElement.style.msTransformOrigin)&&Ext.isIE10m}},{name:"BoundingClientRect",fn:function(a){return"getBoundingClientRect" in a.documentElement}},{name:"RotatedBoundingClientRect",ready:true,fn:function(e){var a=e.body,b=false,d=this.getTestElement(),c=d.style;if(d.getBoundingClientRect){c.WebkitTransform=c.MozTransform=c.msTransform=c.OTransform=c.transform="rotate(90deg)";c.width="100px";c.height="30px";a.appendChild(d);b=d.getBoundingClientRect().height!==100;a.removeChild(d)}return b}},{name:"IncludePaddingInWidthCalculation",ready:true,fn:function(a,b){return b.childNodes[1].firstChild.offsetWidth==210}},{name:"IncludePaddingInHeightCalculation",ready:true,fn:function(a,b){return b.childNodes[1].firstChild.offsetHeight==210}},{name:"TextAreaMaxLength",fn:function(a){return("maxlength" in a.createElement("textarea"))}},{name:"GetPositionPercentage",ready:true,fn:function(a,b){return Ext.feature.getStyle(b.childNodes[2],"left")=="10%"}},{name:"PercentageHeightOverflowBug",ready:true,fn:function(d){var a=false,c,b;if(Ext.getScrollbarSize().height){b=this.getTestElement();c=b.style;c.height="50px";c.width="50px";c.overflow="auto";c.position="absolute";b.innerHTML=['<div style="display:table;height:100%;">','<div style="width:51px;"></div>',"</div>"].join("");d.body.appendChild(b);if(b.firstChild.offsetHeight===50){a=true}d.body.removeChild(b)}return a}},{name:"xOriginBug",ready:true,fn:function(d,e){e.innerHTML='<div id="b1" style="height:100px;width:100px;direction:rtl;position:relative;overflow:scroll"><div id="b2" style="position:relative;width:100%;height:20px;"></div><div id="b3" style="position:absolute;width:20px;height:20px;top:0px;right:0px"></div></div>';var c=document.getElementById("b1").getBoundingClientRect(),b=document.getElementById("b2").getBoundingClientRect(),a=document.getElementById("b3").getBoundingClientRect();return(b.left!==c.left&&a.right!==c.right)}},{name:"ScrollWidthInlinePaddingBug",ready:true,fn:function(d){var a=false,c,b;b=d.createElement("div");c=b.style;c.height="50px";c.width="50px";c.padding="10px";c.overflow="hidden";c.position="absolute";b.innerHTML='<span style="display:inline-block;zoom:1;height:60px;width:60px;"></span>';d.body.appendChild(b);if(b.scrollWidth===70){a=true}d.body.removeChild(b);return a}},{name:"rtlVertScrollbarOnRight",ready:true,fn:function(c,d){d.innerHTML='<div style="height:100px;width:100px;direction:rtl;overflow:scroll"><div style="width:20px;height:200px;"></div></div>';var b=d.firstChild,a=b.firstChild;return(a.offsetLeft+a.offsetWidth!==b.offsetLeft+b.offsetWidth)}},{name:"rtlVertScrollbarOverflowBug",ready:true,fn:function(b,c){c.innerHTML='<div style="height:100px;width:100px;direction:rtl;overflow:auto"><div style="width:95px;height:200px;"></div></div>';var a=c.firstChild;return a.clientHeight===a.offsetHeight}},{identity:"defineProperty",fn:function(){if(Ext.isIE8m){Ext.Object.defineProperty=Ext.emptyFn;return false}return true}},{identify:"nativeXhr",fn:function(){if(typeof XMLHttpRequest!=="undefined"){return true}XMLHttpRequest=function(){try{return new ActiveXObject("MSXML2.XMLHTTP.3.0")}catch(a){return null}};return false}},{name:"SpecialKeyDownRepeat",fn:function(){return Ext.isWebKit?parseInt(navigator.userAgent.match(/AppleWebKit\/(\d+)/)[1],10)>=525:!((Ext.isGecko&&!Ext.isWindows)||(Ext.isOpera&&Ext.operaVersion<12))}},{name:"EmulatedMouseOver",fn:function(){return Ext.os.is.iOS}},{name:"Hashchange",fn:function(){var a=document.documentMode;return"onhashchange" in window&&(a===undefined||a>7)}},{name:"FixedTableWidthBug",ready:true,fn:function(){if(Ext.isIE8){return false}var b=document.createElement("div"),a=document.createElement("div"),c;b.setAttribute("style","display:table;table-layout:fixed;");a.setAttribute("style","display:table-cell;min-width:50px;");b.appendChild(a);document.body.appendChild(b);b.offsetWidth;b.style.width="25px";c=b.offsetWidth;document.body.removeChild(b);return c===50}}]};Ext.supports={};Ext.feature.detect();Ext.env.Ready={blocks:0,bound:0,delay:1,events:[],firing:false,generation:0,listeners:[],nextId:0,sortGeneration:0,state:0,timer:null,bind:function(){var a=Ext.env.Ready,b=document;if(!a.bound){if(b.readyState=="complete"){a.onReadyEvent({type:b.readyState||"body"})}else{a.bound=1;if(Ext.browser.is.PhoneGap&&!Ext.os.is.Desktop){a.bound=2;b.addEventListener("deviceready",a.onReadyEvent,false)}b.addEventListener("DOMContentLoaded",a.onReadyEvent,false);window.addEventListener("load",a.onReadyEvent,false)}}},block:function(){++this.blocks},fireReady:function(){var a=Ext.env.Ready;if(!a.state){Ext._readyTime=Ext.now();Ext.isDomReady=true;a.state=1;Ext.feature.detect(true);if(!a.delay){a.handleReady()}else{if(navigator.standalone){a.timer=setTimeout(function(){a.timer=null;a.handleReadySoon()},1)}else{a.handleReadySoon()}}}},handleReady:function(){var a=this;if(a.state===1){if(a.isPaused()){a.handleReadySoon(250)}else{a.state=2;Ext._beforeReadyTime=Ext.now();a.invokeAll();Ext._afterReadytime=Ext.now()}}},handleReadySoon:function(a){var b=this;if(!b.timer){b.timer=setTimeout(function(){b.timer=null;b.handleReady()},a||b.delay)}},invoke:function(b){var a=b.delay;if(a){setTimeout(function(){b.fn.call(b.scope)},a)}else{b.fn.call(b.scope)}},invokeAll:function(){var b=this,a=b.listeners,c;if(!b.blocks){Ext.isReady=true}b.firing=true;while(a.length){if(b.sortGeneration!==b.generation){b.sortGeneration=b.generation;a.sort(b.sortFn)}c=a.pop();if(b.blocks&&!c.dom){a.push(c);break}b.invoke(c)}b.firing=false},isPaused:function(){return(location.search||"").indexOf("ext-pauseReadyFire")>0&&!Ext._continueFireReady},makeListener:function(d,c,b){var a={fn:d,id:++this.nextId,scope:c,dom:false,priority:0};if(b){Ext.apply(a,b)}a.phase=a.dom?0:1;return a},on:function(c,b,a){var d=Ext.env.Ready,e=d.makeListener(c,b,a);if(d.state===2&&!d.firing&&(e.dom||!d.blocks)){d.invoke(e)}else{d.listeners.push(e);++d.generation;if(!d.bound){d.bind()}}},onReadyEvent:function(b){var a=Ext.env.Ready;if(b&&b.type){a.events.push(b)}if(a.bound>0){a.unbind();a.bound=-1}if(!a.state){a.fireReady()}},sortFn:function(d,c){return -((d.phase-c.phase)||(c.priority-d.priority)||(d.id-c.id))},unblock:function(){var a=this;if(a.blocks){if(!--a.blocks){if(a.state===2&&!a.firing){a.invokeAll()}}}},unbind:function(){var a=this,b=document;if(a.bound>1){b.removeEventListener("deviceready",a.onReadyEvent,false)}b.removeEventListener("DOMContentLoaded",a.onReadyEvent,false);window.removeEventListener("load",a.onReadyEvent,false)}};(function(){var a=Ext.env.Ready;if(Ext.isIE8){Ext.apply(a,{scrollTimer:null,readyStatesRe:/complete/i,pollScroll:function(){var b=true;try{document.documentElement.doScroll("left")}catch(c){b=false}if(b&&document.body){a.onReadyEvent({type:"doScroll"})}else{a.scrollTimer=setTimeout(a.pollScroll,20)}return b},bind:function(){if(a.bound){return}var d=document,b;try{b=window.frameElement===undefined}catch(c){}if(!b||!d.documentElement.doScroll){a.pollScroll=Ext.emptyFn}else{if(a.pollScroll()){return}}if(d.readyState=="complete"){a.onReadyEvent({type:"already "+(d.readyState||"body")})}else{d.attachEvent("onreadystatechange",a.onReadyStateChange);window.attachEvent("onload",a.onReadyEvent);a.bound=1}},unbind:function(){document.detachEvent("onreadystatechange",a.onReadyStateChange);window.detachEvent("onload",a.onReadyEvent);if(Ext.isNumber(a.scrollTimer)){clearTimeout(a.scrollTimer);a.scrollTimer=null}},onReadyStateChange:function(){var b=document.readyState;if(a.readyStatesRe.test(b)){a.onReadyEvent({type:b})}}})}Ext.onDocumentReady=function(e,d,b){var c={dom:true};if(b){Ext.apply(c,b)}a.on(e,d,c)};Ext.onReady=function(d,c,b){a.on(d,c,b)};a.bind()}());Ext.Loader=new function(){var c=this,a=Ext.ClassManager,g=Ext.Boot,d=Ext.Class,j=Ext.env.Ready,h=Ext.Function.alias,f=["extend","mixins","requires"],n={},k=[],b=[],e=[],o={},m={},l={enabled:true,scriptChainDelay:false,disableCaching:true,disableCachingParam:"_dc",paths:a.paths,preserveScripts:true,scriptCharset:undefined},p={disableCaching:true,disableCachingParam:true,preserveScripts:true,scriptChainDelay:"loadDelay"};Ext.apply(c,{isInHistory:n,isLoading:false,history:k,config:l,readyListeners:b,optionalRequires:e,requiresMap:o,hasFileLoadError:false,scriptsLoading:0,classesLoading:[],syncModeEnabled:false,missingQueue:m,init:function(){var v=document.getElementsByTagName("script"),q=v[v.length-1].src,A=q.substring(0,q.lastIndexOf("/")+1),y=Ext._classPathMetadata,z=Ext.Microloader,s=Ext.manifest,t,w,x,u,r;if(q.indexOf("packages/sencha-core/src/")!==-1){A=A+"../../"}else{if(q.indexOf("/core/src/class/")!==-1){A=A+"../../../"}}if(!a.getPath("Ext")){a.setPath("Ext",A+"src")}if(y){Ext._classPathMetadata=null;c.addClassPathMappings(y)}if(s){t=s.loadOrder;w=Ext.Boot.baseUrl;if(t&&s.bootRelative){for(x=t.length,u=0;u<x;u++){r=t[u];r.path=w+r.path}}}if(z){j.block();z.onMicroloaderReady(function(){j.unblock()})}},setConfig:Ext.Function.flexSetter(function(q,r){if(q==="paths"){c.setPath(r)}else{l[q]=r;var s=p[q];if(s){g.setConfig((s===true)?q:s,r)}}return c}),getConfig:function(q){return q?l[q]:l},setPath:function(){a.setPath.apply(a,arguments);return c},addClassPathMappings:function(q){a.setPath(q);return c},addBaseUrlClassPathMappings:function(q){for(var r in q){q[r]=g.baseUrl+q[r]}Ext.Loader.addClassPathMappings(q)},getPath:function(q){return a.getPath(q)},require:function(s,r,q,u){if(u){return c.exclude(u).require(s,r,q)}var t=a.getNamesByExpression(s);return c.load(t,r,q)},syncRequire:function(){var r=c.syncModeEnabled;c.syncModeEnabled=true;var q=c.require.apply(c,arguments);c.syncModeEnabled=r;return q},exclude:function(r){var q=a.select({require:function(u,t,s){return c.load(u,t,s)},syncRequire:function(w,u,t){var v=c.syncModeEnabled;c.syncModeEnabled=true;var s=c.load(w,u,t);c.syncModeEnabled=v;return s}});q.exclude(r);return q},load:function(q,y,z){if(y){if(y.length){y=c.makeLoadCallback(q,y)}y=y.bind(z||Ext.global)}var t=[],s=q.length,w,v,u,x=[],r=a.classState;for(v=0;v<s;++v){w=a.resolveName(q[v]);if(!a.isCreated(w)){t.push(w);m[w]=c.getPath(w);if(!r[w]){x.push(m[w])}}}u=t.length;if(u){c.missingCount+=u;Ext.Array.push(c.classesLoading,t);Ext.each(t,function(B,A){a.onExists(function(){var C=Ext.Boot.canonicalUrl(x[A]),D=Ext.Boot.scripts[C];if(D&&!D.done){Ext.Boot.notifyAll(D)}},c,B)});a.onExists(function(){Ext.Array.remove(c.classesLoading,t);Ext.each(t,function(A){Ext.Array.remove(c.classesLoading,A)});if(y){Ext.callback(y,z,arguments)}c.checkReady()},c,t);if(!l.enabled){Ext.Error.raise("Ext.Loader is not enabled, so dependencies cannot be resolved dynamically. Missing required class"+((t.length>1)?"es":"")+": "+t.join(", "))}if(x.length){c.loadScripts({url:x,_classNames:t})}else{c.checkReady()}}else{if(y){y.call(z)}c.checkReady()}if(c.syncModeEnabled){if(s===1){return a.get(q[0])}}return c},makeLoadCallback:function(q,r){return function(){var t=[],s=q.length;while(s-->0){t[s]=a.get(q[s])}return r.apply(this,t)}},onLoadFailure:function(){var q=this,r=q.onError;c.hasFileLoadError=true;--c.scriptsLoading;if(r){r.call(q.userScope,q)}else{Ext.Error.raise("[Ext.Loader] Some requested files failed to load.")}c.checkReady()},onLoadSuccess:function(){var q=this,r=q.onLoad;--c.scriptsLoading;if(r){r.call(q.userScope,q)}c.checkReady()},reportMissingClasses:function(){if(!c.syncModeEnabled&&!c.scriptsLoading&&c.isLoading&&!c.hasFileLoadError){var q=[],s=[];for(var r in m){q.push(r);s.push(m[r])}if(q.length){throw new Error("The following classes are not declared even if their files have been loaded: '"+q.join("', '")+"'. Please check the source code of their corresponding files for possible typos: '"+s.join("', '"))}}},onReady:function(s,r,u,q){if(u){j.on(s,r,q)}else{var t=j.makeListener(s,r,q);if(c.isLoading){b.push(t)}else{j.invoke(t)}}},addUsedClasses:function(s){var q,r,t;if(s){s=(typeof s==="string")?[s]:s;for(r=0,t=s.length;r<t;r++){q=s[r];if(typeof q==="string"&&!Ext.Array.contains(e,q)){e.push(q)}}}return c},triggerReady:function(){var q,r=e;if(c.isLoading&&r.length){e=[];c.require(r)}else{c.isLoading=false;b.sort(j.sortFn);while(b.length&&!c.isLoading){q=b.pop();j.invoke(q)}j.unblock()}},historyPush:function(q){if(q&&!n[q]){n[q]=true;k.push(q)}return c},loadScripts:function(u){var t=Ext.manifest,q=t&&t.loadOrder,r=t&&t.loadOrderMap,s;++c.scriptsLoading;if(q&&!r){t.loadOrderMap=r=g.createLoadOrderMap(q)}c.checkReady();s=Ext.apply({loadOrder:q,loadOrderMap:r,charset:l.scriptCharset,success:c.onLoadSuccess,failure:c.onLoadFailure,sync:c.syncModeEnabled,_classNames:[]},u);s.userScope=s.scope;s.scope=s;g.load(s)},loadScriptsSync:function(r){var q=c.syncModeEnabled;c.syncModeEnabled=true;c.loadScripts({url:r});c.syncModeEnabled=q},loadScriptsSyncBasePrefix:function(r){var q=c.syncModeEnabled;c.syncModeEnabled=true;c.loadScripts({url:r,prependBaseUrl:true});c.syncModeEnabled=q},loadScript:function(y){var r=typeof y==="string",u=y instanceof Array,x=!u&&!r,q=x?y.url:y,t=x&&y.onError,v=x&&y.onLoad,w=x&&y.scope,s={url:q,scope:w,onLoad:v,onError:t,_classNames:[]};c.loadScripts(s)},flushMissingQueue:function(){var q,t,s=0,r=0;for(q in m){s++;t=m[q];if(a.isCreated(q)){delete m[q]}else{if(a.existCache[q]===2){delete m[q]}else{++r}}}this.missingCount=r},checkReady:function(){var r=c.isLoading,q;c.flushMissingQueue();q=c.missingCount+c.scriptsLoading;if(q&&!r){j.block();c.isLoading=!!q}else{if(!q&&r){c.triggerReady()}}}});Ext.require=h(c,"require");Ext.syncRequire=h(c,"syncRequire");Ext.exclude=h(c,"exclude");d.registerPreprocessor("loader",function(q,H,r,E){Ext.classSystemMonitor&&Ext.classSystemMonitor(q,"Ext.Loader#loaderPreprocessor",arguments);var G=this,y=[],A,t=a.getName(q),D,C,x,u,B,z,F,s;for(D=0,x=f.length;D<x;D++){z=f[D];if(H.hasOwnProperty(z)){F=H[z];if(typeof F=="string"){y.push(F)}else{if(F instanceof Array){for(C=0,u=F.length;C<u;C++){B=F[C];if(typeof B=="string"){y.push(B)}}}else{if(typeof F!="function"){for(C in F){if(F.hasOwnProperty(C)){B=F[C];if(typeof B=="string"){y.push(B)}}}}}}}}if(y.length===0){return}if(t){o[t]=y}var w=[],v;if(t){s=c.requiredByMap||(c.requiredByMap={});for(D=0,x=y.length;D<x;D++){A=y[D];(s[A]||(s[A]=[])).push(t)}v=function(I){w.push(I);if(o[I]){if(Ext.Array.contains(o[I],t)){Ext.Error.raise("Circular requirement detected! '"+t+"' and '"+w[1]+"' mutually require each other. Path: "+w.join(" -> ")+" -> "+w[0])}for(D=0,x=o[I].length;D<x;D++){v(o[I][D])}}};v(t)}(t?c.exclude(t):c).require(y,function(){for(D=0,x=f.length;D<x;D++){z=f[D];if(H.hasOwnProperty(z)){F=H[z];if(typeof F=="string"){H[z]=a.get(F)}else{if(F instanceof Array){for(C=0,u=F.length;C<u;C++){B=F[C];if(typeof B=="string"){H[z][C]=a.get(B)}}}else{if(typeof F!="function"){for(var I in F){if(F.hasOwnProperty(I)){B=F[I];if(typeof B=="string"){H[z][I]=a.get(B)}}}}}}}}E.call(G,q,H,r)});return false},true,"after","className");a.registerPostprocessor("uses",function(r,B,w){Ext.classSystemMonitor&&Ext.classSystemMonitor(B,"Ext.Loader#usesPostprocessor",arguments);var q=Ext.manifest,s=q&&q.loadOrder,t=q&&q.classes,u,y,A,x,v,z;if(s){y=t[r];if(y&&!isNaN(v=y.idx)){A=s[v];u=A.uses;z={};for(x=u.length,v=0;v<x;v++){z[u[v]]=true}u=Ext.Boot.getPathsFromIndexes(z,s,true);if(u.length>0){c.loadScripts({url:u,sequential:true})}}}if(w.uses){u=w.uses;c.addUsedClasses(u)}});a.onCreated(c.historyPush);c.init()};Ext._endTime=new Date().getTime();if(Ext._beforereadyhandler){Ext._beforereadyhandler()}Ext.define("Ext.mixin.Identifiable",{statics:{uniqueIds:{}},isIdentifiable:true,mixinId:"identifiable",idCleanRegex:/\.|[^\w\-]/g,defaultIdPrefix:"ext-",defaultIdSeparator:"-",getOptimizedId:function(){return this.id},getUniqueId:function(){var f=this.id,b,d,e,a,c;if(!(f||f===0)){b=this.self.prototype;d=this.defaultIdSeparator;a=Ext.mixin.Identifiable.uniqueIds;if(!b.hasOwnProperty("identifiablePrefix")){e=this.xtype;if(e){c=this.defaultIdPrefix+e.replace(this.idCleanRegex,d)+d}else{if(!(c=b.$className)){c=this.defaultIdPrefix+"anonymous"+d}else{c=c.replace(this.idCleanRegex,d).toLowerCase()+d}}b.identifiablePrefix=c}c=this.identifiablePrefix;if(!a.hasOwnProperty(c)){a[c]=0}f=this.id=c+(++a[c])}this.getUniqueId=this.getOptimizedId;return f},setId:function(a){this.id=a},getId:function(){var a=this.id;if(!a){a=this.getUniqueId()}this.getId=this.getOptimizedId;return a}});Ext.define("Ext.event.gesture.Recognizer",{mixins:[Ext.mixin.Identifiable],handledEvents:[],config:{onRecognized:Ext.emptyFn,callbackScope:null},constructor:function(a){this.initConfig(a);return this},getHandledEvents:function(){return this.handledEvents},onStart:Ext.emptyFn,onEnd:Ext.emptyFn,onTouchStart:Ext.emptyFn,onTouchMove:Ext.emptyFn,onTouchEnd:Ext.emptyFn,onTouchCancel:Ext.emptyFn,fail:function(){return false},fire:function(){this.getOnRecognized().apply(this.getCallbackScope(),arguments)},debugHooks:{$enabled:false,fail:function(a){Ext.log.info(this.$className+" Gesture Failed: "+a);return false}}});Ext.define("Ext.event.gesture.SingleTouch",{extend:Ext.event.gesture.Recognizer,inheritableStatics:{NOT_SINGLE_TOUCH:"Not Single Touch",TOUCH_MOVED:"Touch Moved",EVENT_CANCELED:"Event Canceled"},onTouchStart:function(a){if(a.touches.length>1){return this.fail(this.self.NOT_SINGLE_TOUCH)}},onTouchCancel:function(){return false}});Ext.define("Ext.event.gesture.DoubleTap",{extend:Ext.event.gesture.SingleTouch,inheritableStatics:{DIFFERENT_TARGET:"Different Target"},config:{moveDistance:8,tapDistance:24,maxDuration:300},handledEvents:["singletap","doubletap"],singleTapTimer:null,startTime:0,lastTapTime:0,onTouchStart:function(c){var b=this,a;if(b.callParent(arguments)===false){return false}a=b.lastStartPoint=c.changedTouches[0].point;b.startPoint=b.startPoint||a;b.startTime=c.time;clearTimeout(b.singleTapTimer)},onTouchMove:function(c){var b=this,a=c.changedTouches[0].point;if(Math.abs(a.getDistanceTo(b.lastStartPoint))>=b.getMoveDistance()){b.startPoint=null;return b.fail(b.self.TOUCH_MOVED)}},onTouchEnd:function(f){var h=this,d=h.getMaxDuration(),a=f.time,g=f.target,j=h.lastTapTime,b=h.lastTarget,k=f.changedTouches[0].point,c;h.lastTapTime=a;h.lastTarget=g;if(j){c=a-j;if(c<=d&&Math.abs(k.getDistanceTo(h.startPoint))<=h.getTapDistance()){if(g!==b){return h.fail(h.self.DIFFERENT_TARGET)}h.lastTarget=null;h.lastTapTime=0;h.fire("doubletap",f,{touch:f.changedTouches[0],duration:c});h.startPoint=null;return}}if(a-h.startTime>d){h.fireSingleTap(f)}else{h.setSingleTapTimer(f)}},setSingleTapTimer:function(b){var a=this;a.singleTapTimer=setTimeout(function(){a.fireSingleTap(b)},a.getMaxDuration())},fireSingleTap:function(a,b){this.fire("singletap",a,{touch:b});this.startPoint=null}});Ext.define("Ext.event.gesture.Drag",{extend:Ext.event.gesture.SingleTouch,isStarted:false,startPoint:null,previousPoint:null,lastPoint:null,handledEvents:["dragstart","drag","dragend","dragcancel"],config:{minDistance:8},constructor:function(){this.callSuper(arguments);this.info={touch:null,previous:{x:0,y:0},x:0,y:0,delta:{x:0,y:0},absDelta:{x:0,y:0},flick:{velocity:{x:0,y:0}},direction:{x:0,y:0},time:0,previousTime:{x:0,y:0}}},onTouchStart:function(a){if(this.callSuper(arguments)===false){if(this.isStarted&&this.lastMoveEvent!==null){this.lastMoveEvent.isStopped=false;this.onTouchEnd(this.lastMoveEvent)}return false}this.startTime=a.time;this.startPoint=a.changedTouches[0].point},tryDragStart:function(d){var b=this.startPoint,g=d.changedTouches[0],a=g.point,f=this.getMinDistance(),c=this.info;if(Math.abs(a.getDistanceTo(b))>=f){this.isStarted=true;this.previousPoint=this.lastPoint=a;this.resetInfo("x",d,g);this.resetInfo("y",d,g);c.time=d.time;this.fire("dragstart",d,c)}},onTouchMove:function(b){if(!this.isStarted){this.tryDragStart(b)}if(!this.isStarted){return}var c=b.changedTouches[0],a=c.point;if(this.lastPoint){this.previousPoint=this.lastPoint}this.lastPoint=a;this.lastMoveEvent=b;this.updateInfo("x",b,c);this.updateInfo("y",b,c);this.info.time=b.time;this.fire("drag",b,this.info)},onAxisDragEnd:function(a,c){var b=c.time-c.previousTime[a];if(b>0){c.flick.velocity[a]=(c[a]-c.previous[a])/b}},resetInfo:function(c,g,j){var d=this.lastPoint[c],b=this.startPoint[c],h=d-b,a=c.toUpperCase(),f=this.info;f.touch=j;f.delta[c]=h;f.absDelta[c]=Math.abs(h);f.previousTime[c]=this.startTime;f.previous[c]=b;f[c]=d;f.direction[c]=0;f["start"+a]=this.startPoint[c];f["previous"+a]=f.previous[c];f["page"+a]=f[c];f["delta"+a]=f.delta[c];f["absDelta"+a]=f.absDelta[c];f["previousDelta"+a]=0;f.startTime=this.startTime},updateInfo:function(d,j,h){var k=this,m=k.lastPoint[d],f=k.previousPoint[d],a=k.startPoint[d],n=m-a,c=k.info,l=c.direction,g=d.toUpperCase(),b=c.previous[d];c.touch=h;c.delta[d]=n;c.absDelta[d]=Math.abs(n);if(m!==b&&m!==c[d]){c.previous[d]=c[d];c.previousTime[d]=c.time}c[d]=m;if(m>f){l[d]=1}else{if(m<f){l[d]=-1}}c["start"+g]=a;c["previous"+g]=c.previous[d];c["page"+g]=c[d];c["delta"+g]=c.delta[d];c["absDelta"+g]=c.absDelta[d];c["previousDelta"+g]=c.previous[d]-a;c.startTime=k.startTime},onTouchEnd:function(a){this.doEnd(a)},onTouchCancel:function(a){this.doEnd(a,true);return false},doEnd:function(d,b){if(!this.isStarted){this.tryDragStart(d)}if(this.isStarted){var f=d.changedTouches[0],a=f.point,c=this.info;this.isStarted=false;this.lastPoint=a;this.updateInfo("x",d,f);this.updateInfo("y",d,f);c.time=d.time;this.onAxisDragEnd("x",c);this.onAxisDragEnd("y",c);this.fire(b?"dragcancel":"dragend",d,c);this.startPoint=null;this.previousPoint=null;this.lastPoint=null;this.lastMoveEvent=null}}});Ext.define("Ext.event.gesture.Swipe",{extend:Ext.event.gesture.SingleTouch,handledEvents:["swipestart","swipe","swipecancel"],inheritableStatics:{MAX_OFFSET_EXCEEDED:"Max Offset Exceeded",MAX_DURATION_EXCEEDED:"Max Duration Exceeded",DISTANCE_NOT_ENOUGH:"Distance Not Enough"},config:{minDistance:80,maxOffset:35,maxDuration:1000},onTouchStart:function(a){if(this.callParent(arguments)===false){return false}var b=a.changedTouches[0];this.startTime=a.time;this.isHorizontal=true;this.isVertical=true;this.startX=b.pageX;this.startY=b.pageY},onTouchMove:function(k){var j=k.changedTouches[0],n=j.pageX,l=j.pageY,h=n-this.startX,g=l-this.startY,d=Math.abs(n-this.startX),c=Math.abs(l-this.startY),f=k.time-this.startTime,o=this.getMinDistance(),b=k.time,m,a;if(b-this.startTime>this.getMaxDuration()){return this.fail(this.self.MAX_DURATION_EXCEEDED)}if(this.isHorizontal&&c>this.getMaxOffset()){this.isHorizontal=false}if(this.isVertical&&d>this.getMaxOffset()){this.isVertical=false}if(!this.isVertical||!this.isHorizontal){if(this.isHorizontal&&d<o){m=(h<0)?"left":"right";a=d}else{if(this.isVertical&&c<o){m=(g<0)?"up":"down";a=c}}}if(m&&!this.started){this.started=true;this.fire("swipestart",k,{touch:j,direction:m,distance:a,duration:f})}if(!this.isHorizontal&&!this.isVertical){return this.fail(this.self.MAX_OFFSET_EXCEEDED)}},onTouchEnd:function(j){if(this.onTouchMove(j)===false){return false}var h=j.changedTouches[0],m=h.pageX,k=h.pageY,g=m-this.startX,f=k-this.startY,c=Math.abs(g),b=Math.abs(f),n=this.getMinDistance(),d=j.time-this.startTime,l,a;if(this.isVertical&&b<n){this.isVertical=false}if(this.isHorizontal&&c<n){this.isHorizontal=false}if(this.isHorizontal){l=(g<0)?"left":"right";a=c}else{if(this.isVertical){l=(f<0)?"up":"down";a=b}else{return this.fail(this.self.DISTANCE_NOT_ENOUGH)}}this.started=false;this.fire("swipe",j,{touch:h,direction:l,distance:a,duration:d})},onTouchCancel:function(a){this.fire("swipecancel",a);return false}});Ext.define("Ext.event.gesture.EdgeSwipe",{extend:Ext.event.gesture.Swipe,handledEvents:["edgeswipe","edgeswipestart","edgeswipeend","edgeswipecancel"],inheritableStatics:{NOT_NEAR_EDGE:"Not Near Edge"},config:{minDistance:60},onTouchStart:function(a){if(this.callParent(arguments)===false){return false}var b=a.changedTouches[0];this.started=false;this.direction=null;this.isHorizontal=true;this.isVertical=true;this.startX=b.pageX;this.startY=b.pageY},onTouchMove:function(l){var j=l.changedTouches[0],p=j.pageX,m=j.pageY,h=p-this.startX,g=m-this.startY,b=Math.abs(m-this.startY),c=Math.abs(p-this.startX),q=this.getMinDistance(),f=this.getMaxOffset(),d=l.time-this.startTime,o=Ext.Viewport&&Ext.Element.getViewportWidth(),k=Ext.Viewport&&Ext.Element.getViewportHeight(),n,a;if(this.isVertical&&c>f){this.isVertical=false}if(this.isHorizontal&&b>f){this.isHorizontal=false}if(this.isVertical&&this.isHorizontal){if(b>c){this.isHorizontal=false}else{this.isVertical=false}}if(this.isHorizontal){n=(h<0)?"left":"right";a=h}else{if(this.isVertical){n=(g<0)?"up":"down";a=g}}this.direction=this.direction||n;if(this.direction=="up"){a=g*-1}else{if(this.direction=="left"){a=h*-1}}this.distance=a;if(a==0){return this.fail(this.self.DISTANCE_NOT_ENOUGH)}if(!this.started){if(this.direction=="right"&&this.startX>q){return this.fail(this.self.NOT_NEAR_EDGE)}else{if(this.direction=="down"&&this.startY>q){return this.fail(this.self.NOT_NEAR_EDGE)}else{if(this.direction=="left"&&(o-this.startX)>q){return this.fail(this.self.NOT_NEAR_EDGE)}else{if(this.direction=="up"&&(k-this.startY)>q){return this.fail(this.self.NOT_NEAR_EDGE)}}}}this.started=true;this.startTime=l.time;this.fire("edgeswipestart",l,{touch:j,direction:this.direction,distance:this.distance,duration:d})}else{this.fire("edgeswipe",l,{touch:j,direction:this.direction,distance:this.distance,duration:d})}},onTouchEnd:function(b){var a;if(this.onTouchMove(b)!==false){a=b.time-this.startTime;this.fire("edgeswipeend",b,{touch:b.changedTouches[0],direction:this.direction,distance:this.distance,duration:a})}},onTouchCancel:function(a){this.fire("edgeswipecancel",a,{touch:a.changedTouches[0]});return false}});Ext.define("Ext.event.gesture.LongPress",{extend:Ext.event.gesture.SingleTouch,inheritableStatics:{DURATION_NOT_ENOUGH:"Duration Not Enough"},config:{moveDistance:8,minDuration:1000},handledEvents:["longpress"],fireLongPress:function(a){this.fire("longpress",a,{touch:a.changedTouches[0],duration:this.getMinDuration()});this.isLongPress=true},onTouchStart:function(a){if(this.callParent(arguments)===false){return false}this.startPoint=a.changedTouches[0].point;this.isLongPress=false;this.setLongPressTimer(a)},setLongPressTimer:function(b){var a=this;a.timer=setTimeout(function(){a.fireLongPress(b)},a.getMinDuration())},onTouchMove:function(b){var a=b.changedTouches[0].point;if(Math.abs(a.getDistanceTo(this.startPoint))>=this.getMoveDistance()){return this.fail(this.self.TOUCH_MOVED)}},onTouchEnd:function(){if(!this.isLongPress){return this.fail(this.self.DURATION_NOT_ENOUGH)}},fail:function(){clearTimeout(this.timer);return this.callParent(arguments)}},function(){this.override({handledEvents:["longpress","taphold"],fire:function(a){if(a==="longpress"){var b=Array.prototype.slice.call(arguments);b[0]="taphold";this.fire.apply(this,b)}return this.callOverridden(arguments)}})});Ext.define("Ext.event.gesture.MultiTouch",{extend:Ext.event.gesture.Recognizer,requiredTouchesCount:2,isTracking:false,isStarted:false,onTouchStart:function(d){var a=this.requiredTouchesCount,c=d.touches,b=c.length;if(b===a){this.start(d)}else{if(b>a){this.end(d)}}},onTouchEnd:function(a){this.end(a)},onTouchCancel:function(a){this.end(a,true);return false},start:function(){if(!this.isTracking){this.isTracking=true;this.isStarted=false}},end:function(b,a){if(this.isTracking){this.isTracking=false;if(this.isStarted){this.isStarted=false;this[a?"fireCancel":"fireEnd"](b)}}}});Ext.define("Ext.event.gesture.Pinch",{extend:Ext.event.gesture.MultiTouch,handledEvents:["pinchstart","pinch","pinchend","pinchcancel"],startDistance:0,lastTouches:null,onTouchMove:function(c){if(!this.isTracking){return}var b=c.touches,d,a,f;d=b[0].point;a=b[1].point;f=d.getDistanceTo(a);if(f===0){return}if(!this.isStarted){this.isStarted=true;this.startDistance=f;this.fire("pinchstart",c,{touches:b,distance:f,scale:1})}else{this.fire("pinch",c,{touches:b,distance:f,scale:f/this.startDistance})}},fireEnd:function(a){this.fire("pinchend",a)},fireCancel:function(a){this.fire("pinchcancel",a)},fail:function(){return this.callParent(arguments)}});Ext.define("Ext.event.gesture.Rotate",{extend:Ext.event.gesture.MultiTouch,handledEvents:["rotatestart","rotate","rotateend","rotatecancel"],startAngle:0,lastTouches:null,lastAngle:null,onTouchMove:function(h){if(!this.isTracking){return}var g=h.touches,b=this.lastAngle,d,f,c,a,j,k;d=g[0].point;f=g[1].point;c=d.getAngleTo(f);if(b!==null){k=Math.abs(b-c);a=c+360;j=c-360;if(Math.abs(a-b)<k){c=a}else{if(Math.abs(j-b)<k){c=j}}}this.lastAngle=c;if(!this.isStarted){this.isStarted=true;this.startAngle=c;this.fire("rotatestart",h,{touches:g,angle:c,rotation:0})}else{this.fire("rotate",h,{touches:g,angle:c,rotation:c-this.startAngle})}this.lastTouches=Ext.Array.clone(g)},fireEnd:function(a){this.lastAngle=null;this.fire("rotateend",a)},fireCancel:function(a){this.lastAngle=null;this.fire("rotatecancel",a)}});Ext.define("Ext.event.gesture.Tap",{extend:Ext.event.gesture.SingleTouch,handledEvents:["tap","tapcancel"],config:{moveDistance:8},onTouchStart:function(a){if(this.callParent([a])===false){return false}this.startPoint=a.changedTouches[0].point},onTouchMove:function(b){var c=b.changedTouches[0],a=c.point;if(Math.abs(a.getDistanceTo(this.startPoint))>=this.getMoveDistance()){this.fire("tapcancel",b,{touch:c});return this.fail(this.self.TOUCH_MOVED)}},onTouchEnd:function(a){this.fire("tap",a,{touch:a.changedTouches[0]})},onTouchCancel:function(a){this.fire("tapcancel",a,{touch:a.changedTouches[0]});return false}});Ext.define("Ext.event.publisher.Publisher",{targetType:"",idSelectorRegex:/^#([\w\-]+)$/i,constructor:function(){var b=this.handledEvents||[],a,c,e,d;a=this.handledEventsMap={};for(c=0,e=b.length;c<e;c++){d=b[c];a[d]=true}this.subscribers={};return this},handles:function(a){var b=this.handledEventsMap;return !!b[a]||!!b["*"]||a==="*"},getHandledEvents:function(){return this.handledEvents},setDispatcher:function(a){this.dispatcher=a},subscribe:function(){return false},unsubscribe:function(){return false},unsubscribeAll:function(){delete this.subscribers;this.subscribers={};return this},notify:function(){return false},getTargetType:function(){return this.targetType},dispatch:function(d,b,c,a){this.dispatcher.doDispatchEvent(this.targetType,d,b,c,null,null,a)},destroy:Ext.emptyFn});Ext.define("Ext.util.Offset",{statics:{fromObject:function(a){return new this(a.x,a.y)}},constructor:function(a,b){this.x=(a!=null&&!isNaN(a))?a:0;this.y=(b!=null&&!isNaN(b))?b:0;return this},copy:function(){return new Ext.util.Offset(this.x,this.y)},copyFrom:function(a){this.x=a.x;this.y=a.y},toString:function(){return"Offset["+this.x+","+this.y+"]"},equals:function(a){if(!(a instanceof this.statics())){Ext.Error.raise("Offset must be an instance of Ext.util.Offset")}return(this.x==a.x&&this.y==a.y)},round:function(b){if(!isNaN(b)){var a=Math.pow(10,b);this.x=Math.round(this.x*a)/a;this.y=Math.round(this.y*a)/a}else{this.x=Math.round(this.x);this.y=Math.round(this.y)}},isZero:function(){return this.x==0&&this.y==0}});Ext.define("Ext.util.Region",{isRegion:true,statics:{getRegion:function(a){return Ext.fly(a).getRegion()},from:function(a){return new this(a.top,a.right,a.bottom,a.left)}},constructor:function(d,f,a,c){var e=this;e.y=e.top=e[1]=d;e.right=f;e.bottom=a;e.x=e.left=e[0]=c},contains:function(b){var a=this;return(b.x>=a.x&&b.right<=a.right&&b.y>=a.y&&b.bottom<=a.bottom)},intersect:function(g){var f=this,d=Math.max(f.y,g.y),e=Math.min(f.right,g.right),a=Math.min(f.bottom,g.bottom),c=Math.max(f.x,g.x);if(a>d&&e>c){return new this.self(d,e,a,c)}else{return false}},union:function(g){var f=this,d=Math.min(f.y,g.y),e=Math.max(f.right,g.right),a=Math.max(f.bottom,g.bottom),c=Math.min(f.x,g.x);return new this.self(d,e,a,c)},constrainTo:function(b){var a=this,c=Ext.Number.constrain;a.top=a.y=c(a.top,b.y,b.bottom);a.bottom=c(a.bottom,b.y,b.bottom);a.left=a.x=c(a.left,b.x,b.right);a.right=c(a.right,b.x,b.right);return a},adjust:function(d,f,a,c){var e=this;e.top=e.y+=d;e.left=e.x+=c;e.right+=f;e.bottom+=a;return e},getOutOfBoundOffset:function(a,b){if(!Ext.isObject(a)){if(a=="x"){return this.getOutOfBoundOffsetX(b)}else{return this.getOutOfBoundOffsetY(b)}}else{b=a;var c=new Ext.util.Offset();c.x=this.getOutOfBoundOffsetX(b.x);c.y=this.getOutOfBoundOffsetY(b.y);return c}},getOutOfBoundOffsetX:function(a){if(a<=this.x){return this.x-a}else{if(a>=this.right){return this.right-a}}return 0},getOutOfBoundOffsetY:function(a){if(a<=this.y){return this.y-a}else{if(a>=this.bottom){return this.bottom-a}}return 0},isOutOfBound:function(a,b){if(!Ext.isObject(a)){if(a=="x"){return this.isOutOfBoundX(b)}else{return this.isOutOfBoundY(b)}}else{b=a;return(this.isOutOfBoundX(b.x)||this.isOutOfBoundY(b.y))}},isOutOfBoundX:function(a){return(a<this.x||a>this.right)},isOutOfBoundY:function(a){return(a<this.y||a>this.bottom)},restrict:function(b,d,a){if(Ext.isObject(b)){var c;a=d;d=b;if(d.copy){c=d.copy()}else{c={x:d.x,y:d.y}}c.x=this.restrictX(d.x,a);c.y=this.restrictY(d.y,a);return c}else{if(b=="x"){return this.restrictX(d,a)}else{return this.restrictY(d,a)}}},restrictX:function(b,a){if(!a){a=1}if(b<=this.x){b-=(b-this.x)*a}else{if(b>=this.right){b-=(b-this.right)*a}}return b},restrictY:function(b,a){if(!a){a=1}if(b<=this.y){b-=(b-this.y)*a}else{if(b>=this.bottom){b-=(b-this.bottom)*a}}return b},getSize:function(){return{width:this.right-this.x,height:this.bottom-this.y}},copy:function(){return new this.self(this.y,this.right,this.bottom,this.x)},copyFrom:function(b){var a=this;a.top=a.y=a[1]=b.y;a.right=b.right;a.bottom=b.bottom;a.left=a.x=a[0]=b.x;return this},toString:function(){return"Region["+this.top+","+this.right+","+this.bottom+","+this.left+"]"},translateBy:function(a,c){if(arguments.length==1){c=a.y;a=a.x}var b=this;b.top=b.y+=c;b.right+=a;b.bottom+=c;b.left=b.x+=a;return b},round:function(){var a=this;a.top=a.y=Math.round(a.y);a.right=Math.round(a.right);a.bottom=Math.round(a.bottom);a.left=a.x=Math.round(a.x);return a},equals:function(a){return(this.top===a.top&&this.right===a.right&&this.bottom===a.bottom&&this.left===a.left)}});Ext.define("Ext.util.Point",{extend:Ext.util.Region,radianToDegreeConstant:180/Math.PI,origin:{x:0,y:0},statics:{fromEvent:function(b){var a=b.changedTouches,c=(a&&a.length>0)?a[0]:b;return this.fromTouch(c)},fromTouch:function(a){return new this(a.pageX,a.pageY)},from:function(a){if(!a){return new this(0,0)}if(!(a instanceof this)){return new this(a.x,a.y)}return a}},constructor:function(a,b){if(a==null){a=0}if(b==null){b=0}this.callParent([b,a,b,a])},clone:function(){return new this.self(this.x,this.y)},copy:function(){return this.clone.apply(this,arguments)},copyFrom:function(a){this.x=a.x;this.y=a.y;return this},toString:function(){return"Point["+this.x+","+this.y+"]"},isCloseTo:function(c,b){if(typeof b=="number"){return this.getDistanceTo(c)<=b}var a=c.x,f=c.y,e=b.x,d=b.y;return(this.x<=a+e&&this.x>=a-e&&this.y<=f+d&&this.y>=f-d)},isWithin:function(){return this.isCloseTo.apply(this,arguments)},isContainedBy:function(a){if(!(a instanceof Ext.util.Region)){a=Ext.get(a.el||a).getRegion()}return a.contains(this)},roundedEquals:function(a){if(typeof a!="object"){a=this.origin}return(Math.round(this.x)===Math.round(a.x)&&Math.round(this.y)===Math.round(a.y))},getDistanceTo:function(b){if(typeof b!="object"){b=this.origin}var c=this.x-b.x,a=this.y-b.y;return Math.sqrt(c*c+a*a)},getAngleTo:function(b){if(typeof b!="object"){b=this.origin}var c=this.x-b.x,a=this.y-b.y;return Math.atan2(a,c)*this.radianToDegreeConstant}},function(){this.prototype.translate=this.prototype.translateBy});Ext.define("Ext.event.Event",{alternateClassName:"Ext.EventObjectImpl",isStopped:false,isEvent:true,statics:{resolveTextNode:function(a){return(a&&a.nodeType===3)?a.parentNode:a},pointerEvents:{pointerdown:1,pointermove:1,pointerup:1,pointercancel:1,pointerover:1,pointerout:1,pointerenter:1,pointerleave:1,MSPointerDown:1,MSPointerMove:1,MSPointerUp:1,MSPointerOver:1,MSPointerOut:1,MSPointerCancel:1,MSPointerEnter:1,MSPointerLeave:1},mouseEvents:{mousedown:1,mousemove:1,mouseup:1,mouseover:1,mouseout:1,mouseenter:1,mouseleave:1},touchEvents:{touchstart:1,touchmove:1,touchend:1,touchcancel:1},pointerTypes:{2:"touch",3:"pen",4:"mouse",touch:"touch",pen:"pen",mouse:"mouse"}},constructor:function(b){var f=this,j=f.self,e=f.self.resolveTextNode,h=b.changedTouches,c=h?h[0]:b,g=b.type,a,d;f.pageX=c.pageX;f.pageY=c.pageY;f.target=f.delegatedTarget=e(b.target);d=b.relatedTarget;if(d){f.relatedTarget=e(d)}f.browserEvent=f.event=b;f.type=g;f.button=b.button||0;f.shiftKey=b.shiftKey;f.ctrlKey=b.ctrlKey||b.metaKey||false;f.altKey=b.altKey;f.charCode=b.charCode;f.keyCode=b.keyCode;if(j.mouseEvents[g]){a="mouse"}else{if(j.pointerEvents[g]){a=j.pointerTypes[b.pointerType]}else{if(j.touchEvents[g]){a="touch"}}}if(a){f.pointerType=a}f.timeStamp=f.time=+(b.timeStamp||new Date())},chain:function(a){var b=Ext.Object.chain(this);b.parentEvent=this;return Ext.apply(b,a)},correctWheelDelta:function(c){var b=this.WHEEL_SCALE,a=Math.round(c/b);if(!a&&c){a=(c<0)?-1:1}return a},getCharCode:function(){return this.charCode||this.keyCode},getKey:function(){return this.keyCode||this.charCode},getPoint:function(){var a=this.getXY();return new Ext.util.Point(a[0],a[1])},getRelatedTarget:function(b,e,a){var c=this.relatedTarget,d=null;if(c){if(b){d=Ext.fly(c).findParent(b,e,a)}else{d=a?Ext.get(c):c}}return d},getTarget:function(b,c,a){return b?Ext.fly(this.target).findParent(b,c,a):(a?Ext.get(this.target):this.target)},getTime:function(){return this.time},getWheelDelta:function(){var a=this.getWheelDeltas();return a.y},getWheelDeltas:function(){var d=this,c=d.browserEvent,b=0,a=0;if(Ext.isDefined(c.wheelDeltaX)){b=c.wheelDeltaX;a=c.wheelDeltaY}else{if(c.wheelDelta){a=c.wheelDelta}else{if(c.detail){a=-c.detail;if(a>100){a=3}else{if(a<-100){a=-3}}if(Ext.isDefined(c.axis)&&c.axis===c.HORIZONTAL_AXIS){b=a;a=0}}}}return{x:d.correctWheelDelta(b),y:d.correctWheelDelta(a)}},getX:function(){return this.getXY()[0]},getXY:function(){if(!this.xy){this.xy=[this.pageX,this.pageY]}return this.xy},getY:function(){return this.getXY()[1]},hasModifier:function(){var a=this;return !!(a.ctrlKey||a.altKey||a.shiftKey||a.metaKey)},isNavKeyPress:function(){var b=this,a=b.keyCode;return(a>=33&&a<=40)||a===b.RETURN||a===b.TAB||a===b.ESC},isSpecialKey:function(){var a=this.keyCode;return(this.type==="keypress"&&this.ctrlKey)||this.isNavKeyPress()||(a===this.BACKSPACE)||(a>=16&&a<=20)||(a>=44&&a<=46)},makeUnpreventable:function(){this.browserEvent.preventDefault=Ext.emptyFn},preventDefault:function(){this.browserEvent.preventDefault();return this},setCurrentTarget:function(a){this.currentTarget=this.delegatedTarget=a},stopEvent:function(){return this.preventDefault().stopPropagation()},stopPropagation:function(){var b=this,c=b.browserEvent,a=b.parentEvent;b.isStopped=true;if(a){a.isStopped=true}if(!c.stopPropagation){c.cancelBubble=true;return b}c.stopPropagation();return b},within:function(d,e,b){if(d){var c=e?this.getRelatedTarget():this.getTarget(),a;if(c){a=Ext.fly(d).contains(c);if(!a&&b){a=(c===Ext.getDom(d))}return a}}return false},deprecated:{"4.0":{methods:{getPageX:"getX",getPageY:"getY"}}}},function(a){var b={BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,RETURN:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,WHEEL_SCALE:(function(){var c;if(Ext.isGecko){c=3}else{if(Ext.isMac){if(Ext.isSafari&&Ext.webKitVersion>=532){c=120}else{c=12}c*=3}else{c=120}}return c}())};Ext.apply(a,b);Ext.apply(a.prototype,b)});Ext.define("Ext.overrides.event.Event",{override:"Ext.event.Event",mousedownEvents:{mousedown:1,pointerdown:1,touchstart:1},getXY:function(){var c=this,e=c.xy,b,g,d,f,a;if(!e){e=c.callParent();b=e[0];if(!b&&b!==0){g=c.browserEvent;d=document;f=d.documentElement;a=d.body;e[0]=g.clientX+(f&&f.scrollLeft||a&&a.scrollLeft||0)-(f&&f.clientLeft||a&&a.clientLeft||0);e[1]=g.clientY+(f&&f.scrollTop||a&&a.scrollTop||0)-(f&&f.clientTop||a&&a.clientTop||0)}}return e},injectEvent:(function(){var d,e={},c;if(!Ext.isIE9m&&document.createEvent){d={createHtmlEvent:function(k,h,g,f){var j=k.createEvent("HTMLEvents");j.initEvent(h,g,f);return j},createMouseEvent:function(u,s,m,l,o,k,h,j,f,r,q,n,p){var g=u.createEvent("MouseEvents"),t=u.defaultView||window;if(g.initMouseEvent){g.initMouseEvent(s,m,l,t,o,k,h,k,h,j,f,r,q,n,p)}else{g=u.createEvent("UIEvents");g.initEvent(s,m,l);g.view=t;g.detail=o;g.screenX=k;g.screenY=h;g.clientX=k;g.clientY=h;g.ctrlKey=j;g.altKey=f;g.metaKey=q;g.shiftKey=r;g.button=n;g.relatedTarget=p}return g},createUIEvent:function(m,k,h,g,j){var l=m.createEvent("UIEvents"),f=m.defaultView||window;l.initUIEvent(k,h,g,f,j);return l},fireEvent:function(h,f,g){h.dispatchEvent(g)}}}else{if(document.createEventObject){c={0:1,1:4,2:2};d={createHtmlEvent:function(k,h,g,f){var j=k.createEventObject();j.bubbles=g;j.cancelable=f;return j},createMouseEvent:function(t,s,m,l,o,k,h,j,f,r,q,n,p){var g=t.createEventObject();g.bubbles=m;g.cancelable=l;g.detail=o;g.screenX=k;g.screenY=h;g.clientX=k;g.clientY=h;g.ctrlKey=j;g.altKey=f;g.shiftKey=r;g.metaKey=q;g.button=c[n]||n;g.relatedTarget=p;return g},createUIEvent:function(l,j,g,f,h){var k=l.createEventObject();k.bubbles=g;k.cancelable=f;return k},fireEvent:function(h,f,g){h.fireEvent("on"+f,g)}}}}Ext.Object.each({load:[false,false],unload:[false,false],select:[true,false],change:[true,false],submit:[true,true],reset:[true,false],resize:[true,false],scroll:[true,false]},function(h,j){var g=j[0],f=j[1];e[h]=function(m,k){var l=d.createHtmlEvent(h,g,f);d.fireEvent(m,h,l)}});function b(h,g){var f=(h!="mousemove");return function(m,j){var l=j.getXY(),k=d.createMouseEvent(m.ownerDocument,h,true,f,g,l[0],l[1],j.ctrlKey,j.altKey,j.shiftKey,j.metaKey,j.button,j.relatedTarget);d.fireEvent(m,h,k)}}Ext.each(["click","dblclick","mousedown","mouseup","mouseover","mousemove","mouseout"],function(f){e[f]=b(f,1)});Ext.Object.each({focusin:[true,false],focusout:[true,false],activate:[true,true],focus:[false,false],blur:[false,false]},function(h,j){var g=j[0],f=j[1];e[h]=function(m,k){var l=d.createUIEvent(m.ownerDocument,h,g,f,1);d.fireEvent(m,h,l)}});if(!d){e={};d={}}function a(g,f){}return function(j){var h=this,g=e[h.type]||a,f=j?(j.dom||j):h.getTarget();g(f,h)}}()),preventDefault:function(){var b=this,a=b.browserEvent;if(a.preventDefault){a.preventDefault()}else{a.returnValue=false;if(a.ctrlKey||a.keyCode>111&&a.keyCode<124){a.keyCode=-1}}return b},stopPropagation:function(){var a=this;if(a.mousedownEvents[a.type]){Ext.GlobalEvents.fireMouseDown(a)}return a.callParent()},deprecated:{"5.0":{methods:{clone:function(){return new this.self(this.browserEvent,this)}}}}},function(){var a=this,b;if(Ext.isIE9m){b={1:0,4:1,2:2};a.override({statics:{enableIEAsync:function(e){var c,d={};for(c in e){d[c]=e[c]}return d}},constructor:function(f,g,d,c){var e=this;e.callParent([f,g,d,c]);e.button=b[f.button];e.toElement=f.toElement;e.fromElement=f.fromElement},mouseLeaveRe:/(mouseout|mouseleave)/,mouseEnterRe:/(mouseover|mouseenter)/,enableIEAsync:function(c){this.browserEvent=this.self.enableIEAsync(c)},getRelatedTarget:function(d,h,c){var f=this,e,g;if(!f.relatedTarget){e=f.type;if(f.mouseLeaveRe.test(e)){g=f.toElement}else{if(f.mouseEnterRe.test(e)){g=f.fromElement}}if(g){f.relatedTarget=f.self.resolveTextNode(g)}}return f.callParent([d,h,c])}})}});Ext.define("Ext.event.ListenerStack",{currentOrder:"current",length:0,constructor:function(){this.listeners={before:[],current:[],after:[]};this.lateBindingMap={};return this},add:function(k,l,m,f,c){var b=this.lateBindingMap,j=this.getAll(f),g=j.length,h=typeof k==="string",a,e,d;if(h&&l&&l.isIdentifiable){d=l.getId();a=b[d];if(a){if(a[k]){return false}else{a[k]=true}}else{b[d]=a={};a[k]=true}}else{if(g>0){while(g--){e=j[g];if(e.fn===k&&e.scope===l){e.options=m;return false}}}}e=this.create(k,l,m,f,c);if(h&&(!l||l==="this"||l==="controller")){e.boundFn=this.bindDynamicScope(c,k,l);e.isLateBinding=false}if(m&&m.prepend){delete m.prepend;j.unshift(e)}else{j.push(e)}this.length++;return true},bindDynamicScope:function(c,b,a){return function(){var d=c.resolveListenerScope(a);if(typeof d[b]!=="function"){Ext.Error.raise("No such method "+b+" on "+d.$className)}return d[b].apply(d,arguments)}},getAt:function(b,a){return this.getAll(a)[b]},getAll:function(a){return this.listeners[a||this.currentOrder]},count:function(a){return this.getAll(a).length},create:function(d,c,b,a,e){b=b||{};return{stack:this,fn:d,firingFn:false,boundFn:false,isLateBinding:typeof d==="string",scope:c,options:b,order:a,observable:e,type:b.type}},remove:function(h,j,e){var g=this.getAll(e),f=g.length,b=false,a=this.lateBindingMap,d,c;if(f>0){while(f--){d=g[f];if(d.fn===h&&d.scope===j){g.splice(f,1);b=true;this.length--;if(j&&j.isIdentifiable&&typeof h==="string"){c=j.getId();if(a[c]&&a[c][h]){delete a[c][h]}}break}}}return b}});Ext.define("Ext.event.Controller",{isFiring:false,listenerStack:null,constructor:function(a){this.firingListeners=[];this.firingArguments=[];this.dispatcher=a;return this},setInfo:function(a){this.info=a},getInfo:function(){return this.info},setListenerStacks:function(a){this.listenerStacks=a},fire:function(h,e){var n=this.listenerStacks,m=this.firingListeners,d=this.firingArguments,k=m.push,g=n.length,j,l,c,o,a=false,b=false,f;m.length=0;if(e){if(e.order!=="after"){a=true}else{b=true}}if(g===1){j=n[0].listeners;l=j.before;c=j.current;o=j.after;if(l.length>0){k.apply(m,l)}if(a){k.call(m,e)}if(c.length>0){k.apply(m,c)}if(b){k.call(m,e)}if(o.length>0){k.apply(m,o)}}else{for(f=0;f<g;f++){l=n[f].listeners.before;if(l.length>0){k.apply(m,l)}}if(a){k.call(m,e)}for(f=0;f<g;f++){c=n[f].listeners.current;if(c.length>0){k.apply(m,c)}}if(b){k.call(m,e)}for(f=0;f<g;f++){o=n[f].listeners.after;if(o.length>0){k.apply(m,o)}}}if(m.length===0){return this}if(!h){h=[]}d.length=0;d.push.apply(d,h);d.push(null,this);this.doFire();return this},doFire:function(){var v=this,j=v.firingListeners,r=v.firingArguments,n=r[1],o=r.length-2,m=j[0].observable,u=v.info,p,q,k,f,e,h,s,c,t,a,b,l,d,g;if(m&&m.isElement){p=r[0]}v.isPausing=v.isPaused=v.isStopped=false;v.isFiring=true;for(q=0,k=j.length;q<k;q++){f=j[q];e=f.options;h=f.fn;s=f.firingFn;c=f.boundFn;t=f.isLateBinding;a=f.scope;if(t&&c&&c!==a[h]){c=false;s=false}if(!c){if(t){c=a[h];if(!c){continue}}else{c=h}f.boundFn=c}if(p){d=f.type;if(d){r[0]=p.chain({type:d})}Ext.EventObject=r[0]}if(!s){s=c;if(e.delay){s=Ext.Function.createDelayed(s,e.delay,a)}else{if(e.buffer){s=Ext.Function.createBuffered(s,e.buffer,a)}else{if(e.onFrame){s=Ext.Function.createAnimationFrame(s,a)}}}f.firingFn=s}r[o]=e;b=r;if(e.args){b=e.args.concat(b)}if(e.delegate&&v.info.targetType==="element"){r[1]=Ext.fly(n).findParent(e.delegate,n)}if(e.single){v.dispatcher.removeListener(u.targetType,u.target,u.eventName,h,a,e,f.order,f.observable)}g=e.beforeFn;if(g){l=g.apply(Ext.global,b)!==false;if(l!==false){l=s.apply(a,b)}}else{l=s.apply(a,b)}if(e.delegate){r[1]=n}if(l===false){v.stop()}if(v.isStopped){break}if(v.isPausing){v.isPaused=true;j.splice(0,q+1);return}if(p){r[0]=p}}v.isFiring=false;v.listenerStacks=null;j.length=r.length=0;v.connectingController=null},connect:function(a){this.connectingController=a},resume:function(){var a=this.connectingController;this.isPausing=false;if(this.isPaused&&this.firingListeners.length>0){this.isPaused=false;this.doFire()}if(a){a.resume()}return this},isInterrupted:function(){return this.isStopped||this.isPaused},stop:function(){var a=this.connectingController;this.isStopped=true;if(a){this.connectingController=null;a.stop()}this.isFiring=false;this.listenerStacks=null;return this},pause:function(){var a=this.connectingController;this.isPausing=true;if(a){a.pause()}return this}});Ext.define("Ext.event.Dispatcher",{statics:{getInstance:function(){if(!this.instance){this.instance=new this()}return this.instance},setInstance:function(a){this.instance=a;return this}},baseHasListeners:{_decr_:function(a){if(!--this[a]){delete this[a]}},_incr_:function(a){if(this.hasOwnProperty(a)){++this[a]}else{this[a]=1}}},hasListeners:{},config:{publishers:{}},wildcard:"*",constructor:function(a){this.listenerStacks={};this.captureListenerStacks={};this.directListenerStacks={};this.activePublishers={};this.publishersCache={};this.noActivePublishers=[];this.controller=null;this.initConfig(a);return this},getListenerStack:function(c,d,b,a){return this.doGetListenerStack(this.listenerStacks,c,d,b,a)},getCaptureListenerStack:function(c,d,b,a){return this.doGetListenerStack(this.captureListenerStacks,c,d,b,a)},getDirectListenerStack:function(c,d,b,a){return this.doGetListenerStack(this.directListenerStacks,c,d,b,a)},doGetListenerStack:function(d,e,g,c,b){var f=d[e],a;if(!f){if(b){d[e]=f={}}else{return null}}f=f[g];if(!f){if(b){d[e][g]=f={}}else{return null}}a=f[c];if(!a){if(b){f[c]=a=new Ext.event.ListenerStack()}else{return null}}return a},getController:function(e,g,c,b){var d=this,a=d.controller,f={targetType:e,target:g,eventName:c};if(!a){d.controller=a=new Ext.event.Controller(d)}if(a.isFiring){a=new Ext.event.Controller(d)}a.setInfo(f);if(b&&a!==b){a.connect(b)}return a},applyPublishers:function(c){var a,b;this.publishersCache={};for(a in c){if(c.hasOwnProperty(a)){b=c[a];this.registerPublisher(b)}}return c},registerPublisher:function(b){var a=this.activePublishers,c=b.getTargetType(),d=a[c];if(!d){a[c]=d=[]}d.push(b);b.setDispatcher(this);return this},getCachedActivePublishers:function(c,b){var a=this.publishersCache,d;if((d=a[c])&&(d=d[b])){return d}return null},cacheActivePublishers:function(c,b,d){var a=this.publishersCache;if(!a[c]){a[c]={}}a[c][b]=d;return d},getActivePublishers:function(g,b){var h=this.getCachedActivePublishers(g,b),a,f,c,e,d;if(h){return h}a=this.activePublishers[g];if(a){h=[];for(c=0,e=a.length;c<e;c++){d=a[c];if(d.handles(b)){h.push(d)}}if(!h.length&&g==="element"){f=this.getPublisher("dom");if(f){h.push(f)}}}else{h=this.noActivePublishers}return this.cacheActivePublishers(g,b,h)},hasListener:function(e,f,c){var a=this.getListenerStack(e,f,c),d=this.getCaptureListenerStack(e,f,c),b=false;if(a){b=a.count()>0}if(!b&&e==="element"){b=d.count()>0}return b},getHasListeners:function(c,d){var b=this.hasListeners,a=d&&d.hasListeners;if(!a){a=b[c]||(b[c]=Ext.Object.chain(this.baseHasListeners));if(d){d.hasListeners=a=Ext.Object.chain(a)}}return a},addListener:function(b,f,e,h,k,m,c,a){m=m||{};var j=this.getActivePublishers(b,e),g=j.length,d,l;l=this.doAddListener(b,f,e,h,k,m,c,a);if(l){for(d=0;d<g;d++){j[d].subscribe(f,e,m,a)}}return l},doAddListener:function(b,g,e,j,k,l,c,a){l=l||{};var h=this,f,d;if(b==="element"){if(l.capture){f=h.getCaptureListenerStack(b,g,e,true)}else{d=h.getPublisher("dom");if(l.delegated===false||d.directEvents[e]||(!d.isTargetWin&&g==="#ext-window")){f=h.getDirectListenerStack(b,g,e,true)}}}if(!f){f=h.getListenerStack(b,g,e,true)}h.getHasListeners(b,a)._incr_(e);return f.add(j,k,l,c,a)},removeListener:function(b,f,e,h,k,m,c,a){m=m||{};var j=this.getActivePublishers(b,e),g=j.length,d,l;l=this.doRemoveListener(b,f,e,h,k,m,c,a);if(l){for(d=0;d<g;d++){j[d].unsubscribe(f,e,null,m,a)}}return l},doRemoveListener:function(b,g,e,j,k,l,c,a){l=l||{};var h=this,f,d;if(b==="element"){if(l.capture){f=h.getCaptureListenerStack(b,g,e)}else{d=h.getPublisher("dom");if(l.delegated===false||d.directEvents[e]||(!d.isTargetWin&&g==="#ext-window")){f=h.getDirectListenerStack(b,g,e)}}}if(!f){f=h.getListenerStack(b,g,e)}if(f&&f.remove(j,k,c)){h.getHasListeners(b,a)._decr_(e);return true}return false},clearListeners:function(e,g,f){var c=this,b=c.listenerStacks[e],d=c.captureListenerStacks[e],a;if(b){c.doClearListeners(b,e,g,{},f)}if(d){c.doClearListeners(d,e,g,{capture:true},f)}if(f){a=c.directListenerStacks[e];if(a){c.doClearListeners(a,e,g,{delegated:false},f)}}},doClearListeners:function(l,b,f,m,a){var j=this,c=l[f],h=j.getHasListeners(b,a),e,d,g,k;if(c){for(e in c){k=j.getActivePublishers(b,e);for(d=0,g=k.length;d<g;d++){k[d].unsubscribe(f,e,true,m,a)}if(!(h[e]-=c[e].length)){delete h[e]}}delete l[f]}},dispatchEvent:function(d,e,a){var f=this.getActivePublishers(d,a),c=f.length,b;if(c>0){for(b=0;b<c;b++){f[b].notify(e,a)}}return this.doDispatchEvent.apply(this,arguments)},doDispatchEvent:function(a,g,f,j,c,b,k){var h=k?this.getCaptureListenerStack(a,g,f):this.getListenerStack(a,g,f,k),d=this.getWildcardListenerStacks(a,g,f,k),e;if(!h||!h.length){if(!d.length&&!c){return}}else{d.push(h)}e=this.getController(a,g,f,b);e.setListenerStacks(d);e.fire(j,c);return !e.isInterrupted()},dispatchDirectEvent:function(e,f,c,d){var b=this.getDirectListenerStack(e,f,c),a;if(b&&b.length){a=this.getController(e,f,c);a.setListenerStacks([b]);a.fire(d);return !a.isInterrupted()}},getWildcardListenerStacks:function(a,f,e,j){var c=[],d=this.wildcard,b=e!==d,h=f!==d,g;if(b&&(g=this.getListenerStack(a,f,d,j))){c.push(g)}if(h&&(g=this.getListenerStack(a,d,e,j))){c.push(g)}return c},getPublisher:function(a){return this.getPublishers()[a]},destroy:function(){var b=this.getPublishers(),a;for(a in b){b[a].destroy()}}});Ext.define("Ext.Mixin",function(a){return{statics:{addHook:function(h,e,c,d){var g=Ext.isFunction(h),f=function(){var k=arguments,l=g?h:d[h],j=this.callParent(k);l.apply(this,k);return j},b=e.hasOwnProperty(c)&&e[c];if(g){h.$previous=Ext.emptyFn}f.$name=c;f.$owner=e.self;if(b){f.$previous=b.$previous;b.$previous=f}else{e[c]=f}}},onClassExtended:function(l,d){var f=d.mixinConfig,j=d.xhooks,h=l.superclass,e=d.onClassMixedIn,b,g,k,c;if(j){delete d.xhooks;(f||(d.mixinConfig=f={})).on=j}if(f){b=h.mixinConfig;if(b){d.mixinConfig=f=Ext.merge({},b,f)}d.mixinId=f.id;if(f.beforeHooks){Ext.Error.raise('Use of "beforeHooks" is deprecated - use "before" instead')}if(f.hooks){Ext.Error.raise('Use of "hooks" is deprecated - use "after" instead')}if(f.afterHooks){Ext.Error.raise('Use of "afterHooks" is deprecated - use "after" instead')}g=f.before;k=f.after;j=f.on;c=f.extended}if(g||k||j||c){d.onClassMixedIn=function(p){var m=this.prototype,o=p.prototype,n;if(g){Ext.Object.each(g,function(q,r){p.addMember(q,function(){if(m[r].apply(this,arguments)!==false){return this.callParent(arguments)}})})}if(k){Ext.Object.each(k,function(q,r){p.addMember(q,function(){var s=this.callParent(arguments);m[r].apply(this,arguments);return s})})}if(j){for(n in j){a.addHook(j[n],o,n,m)}}if(c){p.onExtended(function(){var q=Ext.Array.slice(arguments,0);q.unshift(p);return c.apply(this,q)},this)}if(e){e.apply(this,arguments)}}}}}});Ext.define("Ext.mixin.Observable",{extend:Ext.Mixin,mixins:[Ext.mixin.Identifiable],mixinConfig:{id:"observable",after:{destroy:"destroy"}},isObservable:true,observableType:"observable",validIdRe:Ext.validIdRe,observableIdPrefix:"#",listenerOptionsRegex:/^(?:delegate|delegated|single|delay|buffer|args|prepend|capture|destroyable|translate)$/,eventFiringSuspended:0,config:{listeners:{$value:null,merge:function(d,a,c){var b=d;if(c.isInstance){if(c._hasDeclaredListeners){b=[c.self.getDeclaredListeners(),d]}}else{if(!c.listeners){c.listeners=c.getDeclaredListeners()}if(d){c.prototype._hasDeclaredListeners=true;c.listeners.push(d)}}return b}},bubbleEvents:null},inheritableStatics:{getDeclaredListeners:function(){var f=this,g=f.superclass,d=f.listeners,e=f.prototype,a,c,b;if(!d){d=f.listeners=[];if(g.isObservable){d.push(g.self.getDeclaredListeners())}if(e.hasOwnProperty("mixins")){a=e.mixins;for(c in a){b=a[c];if(b.isObservable){d.push(b.self.getDeclaredListeners())}}}}return d}},afterClassMixedIn:function(b){var a=b.prototype,c=a.listeners;if(c){delete a.listeners;b.getConfigurator().add({listeners:c})}},constructor:function(a){var b=this;b.initConfig(a);b.getEventDispatcher().getHasListeners(b.observableType,b)},applyListeners:function(a){if(a){if(a instanceof Array){Ext.each(a,this.applyListeners,this)}else{this.addListener(a)}}return a},resolveListenerScope:function(a){if(a==="controller"){Ext.Error.raise('scope: "controller" can only be specified on components that derive from component')}if(a==="this"){a=null}return a||this},applyBubbleEvents:function(a){if(a){this.enableBubble(a)}},getOptimizedObservableId:function(){return this.observableId},getObservableId:function(){var a=this,c,b;if(!a.observableId){c=a.getUniqueId();b=a.validIdRe;if(b&&!b.test(c)){Ext.Error.raise('Invalid unique id "'+c+'" for object of type '+a.$className)}a.observableId=a.observableIdPrefix+c;a.getObservableId=a.getOptimizedObservableId}return a.observableId},getOptimizedEventDispatcher:function(){return this.eventDispatcher},createEventDispatcher:function(){var b=this,a;b.eventDispatcher=a=Ext.event.Dispatcher.getInstance();b.getEventDispatcher=b.getOptimizedEventDispatcher;b.getListeners();b.getBubbleEvents();return a},getEventDispatcher:function(){var a=this.eventDispatcher;if(!a){a=this.createEventDispatcher()}return a},getManagedListeners:function(c,b){var d=c.getUniqueId(),a=this.managedListeners;if(!a){this.managedListeners=a={}}if(!a[d]){a[d]={};c.doAddListener("destroy","clearManagedListeners",this,{single:true,args:[c]})}if(!a[d][b]){a[d][b]=[]}return a[d][b]},getUsedSelectors:function(){var a=this.usedSelectors;if(!a){a=this.usedSelectors=[];a.$map={}}return a},fireEvent:function(a){var b=Array.prototype.slice.call(arguments,1);return this.doFireEvent(a,b)},fireEventArgs:function(a,b){return this.doFireEvent(a,b)},fireAction:function(c,e,g,f,d,a){var b=typeof g,h;if(e===undefined){e=[]}if(b!=="undefined"){h={fn:g,isLateBinding:b==="string",scope:f||this,options:d||{},order:a}}return this.doFireEvent(c,e,h)},doFireEvent:function(d,g,c,b){var h=this,j=h.eventQueue,a=Ext.$eventNameMap,f=h.suspendedEvents,e=true;d=a[d]||(a[d]=d.toLowerCase());if(h.eventFiringSuspended||(f&&f[d])){if(j){j.push([d,g,c,b])}}else{e=h.getEventDispatcher().dispatchEvent(h.observableType,h.getObservableId(),d,g,c,b)}return e},doAddListener:function(a,k,m,n,c){var j=this,e=(m&&m!==j&&m.isIdentifiable),b=j.getUsedSelectors(),f=b.$map,d=j.getObservableId(),g,l,h;if(!n){n={}}if(!m&&typeof k==="function"){m=j}if(n.delegate){h=n.delegate;d+=" "+h}if(!(d in f)){f[d]=true;b.push(d)}g=j.addDispatcherListener(d,a,k,m,n,c);if(g&&e){l=j.getManagedListeners(m,a);l.push({delegate:h,scope:m,fn:k,order:c})}return g},addDispatcherListener:function(b,d,f,e,c,a){return this.getEventDispatcher().addListener(this.observableType,b,d,f,e,c,a,this)},doRemoveListener:function(b,l,n,o,d){var k=this,g=(n&&n!==k&&n.isIdentifiable),e=k.getObservableId(),a,m,f,h,c,j;if(!o){o={}}if(!n&&typeof l==="function"){n=k}if(o.delegate){j=o.delegate;e+=" "+j}a=k.removeDispatcherListener(e,b,l,n,o,d);if(a&&g){m=k.getManagedListeners(n,b);for(f=0,h=m.length;f<h;f++){c=m[f];if(c.fn===l&&c.scope===n&&c.delegate===j&&c.order===d){m.splice(f,1);break}}}return a},removeDispatcherListener:function(b,d,f,e,c,a){return this.getEventDispatcher().removeListener(this.observableType,b,d,f,e,c,a,this)},clearManagedListeners:function(d){var h=this,k=h.managedListeners,a,c,j,f,e,g,b,l;if(!k){return h}if(d){if(typeof d!=="string"){a=d.getUniqueId()}else{a=d}c=k[a];for(f in c){if(c.hasOwnProperty(f)){j=c[f];for(e=0,g=j.length;e<g;e++){b=j[e];l={};if(b.delegate){l.delegate=b.delegate}if(h.doRemoveListener(f,b.fn,b.scope,l,b.order)){e--;g--}}}}delete k[a];return h}for(a in k){if(k.hasOwnProperty(a)){h.clearManagedListeners(a)}}},changeListener:function(j,f,g,b,d,n){var r=this,q=Ext.$eventNameMap,k,l,a,c,s,m,o,h,e,p;if(typeof g!=="undefined"){if(typeof f!=="string"){for(o=0,h=f.length;o<h;o++){s=f[o];s=q[s]||(q[s]=s.toLowerCase());j.call(r,s,g,b,d,n)}return r}f=q[f]||(q[f]=f.toLowerCase());j.call(r,f,g,b,d,n)}else{if(Ext.isArray(f)){l=f;for(o=0,h=l.length;o<h;o++){e=l[o];f=e.event;f=q[f]||(q[f]=f.toLowerCase());j.call(r,f,e.fn,e.scope,e,e.order)}}else{a=r.listenerOptionsRegex;d=f;k=[];l=[];c={};for(s in d){m=d[s];if(s==="scope"){b=m;continue}else{if(s==="order"){n=m;continue}}if(!a.test(s)){s=q[s]||(q[s]=s.toLowerCase());p=typeof m;if(p!=="string"&&p!=="function"){j.call(this,s,m.fn,m.scope||b,m,m.order||n);continue}k.push(s);l.push(m)}else{c[s]=m}}for(o=0,h=k.length;o<h;o++){j.call(r,k[o],l[o],b,c,n)}}}return r},addListener:function(b,g,f,d,a){var h=this,e,c;if(d){e=d.destroyable}else{if(typeof b==="object"){e=b.destroyable}}c=h.changeListener(h.doAddListener,b,g,f,d,a);if(e){c=new Ext.mixin.Observable.$ListenerRemover(h,b,g,f,d,a)}return c},toggleListener:function(b,c,f,e,d,a){return this.changeListener(b?this.doAddListener:this.doRemoveListener,c,f,e,d,a)},addBeforeListener:function(a,d,c,b){return this.addListener(a,d,c,b,"before")},addAfterListener:function(a,d,c,b){return this.addListener(a,d,c,b,"after")},removeListener:function(b,e,d,c,a){return this.changeListener(this.doRemoveListener,b,e,d,c,a)},removeBeforeListener:function(a,d,c,b){return this.removeListener(a,d,c,b,"before")},removeAfterListener:function(a,d,c,b){return this.removeListener(a,d,c,b,"after")},clearListeners:function(){var e=this,f=e.getUsedSelectors(),c=e.getEventDispatcher(),b,d,a;for(b=0,d=f.length;b<d;b++){a=f[b];c.clearListeners(e.observableType,a,e)}},hasListener:function(a){return this.getEventDispatcher().hasListener(this.observableType,this.getObservableId(),a)},isSuspended:function(a){var c=Ext.$eventNameMap,b=this.suspendedEvents;if(a){a=c[a]||(c[a]=a.toLowerCase())}return !!(this.eventFiringSuspended||(b&&b[a]))},suspendEvents:function(a){++this.eventFiringSuspended;if(a&&!this.eventQueue){this.eventQueue=[]}},suspendEvent:function(){var b=arguments,e=this.suspendedEvents,f=Ext.$eventNameMap,d=b.length,c,a;if(!e){e=this.suspendedEvents={}}for(c=0;c<d;c++){a=b[c];a=f[a]||(f[a]=a.toLowerCase());if(!(a in e)){e[a]=0}++e[a]}},resumeEvents:function(g){var f=this,a=f.eventQueue||[],e=f.suspendedEvents,b,c,d;if(f.eventFiringSuspended&&!--f.eventFiringSuspended){if(!g){for(c=0,d=a.length;c<d;c++){b=a[c];if(!(e&&e[b[0]])){f.doFireEvent.apply(f,b)}}}f.eventQueue=null}},resumeEvent:function(){var f=this,b=arguments,e=f.suspendedEvents,g=Ext.$eventNameMap,d=b.length,c,a;for(c=0;c<d;c++){a=b[c];a=g[a]||(g[a]=a.toLowerCase());if(e&&e[a]){--e[a]}}if(!f.eventFiringSuspended){f.resumeEvents()}},relayEvents:function(b,d,g){var h=Ext.$eventNameMap,c,f,e,a;if(typeof g==="undefined"){g=""}g=g.toLowerCase();if(typeof d==="string"){d=[d]}if(Ext.isArray(d)){for(c=0,f=d.length;c<f;c++){e=d[c];e=h[e]||(h[e]=e.toLowerCase());a=g+e;b.addListener(e,this.createEventRelayer(a),this)}}else{for(e in d){if(d.hasOwnProperty(e)){e=h[e]||(h[e]=e.toLowerCase());a=g+d[e];b.addListener(e,this.createEventRelayer(a),this)}}}return this},relayEvent:function(e,f,h,j,a){var g=typeof f,c=e[e.length-1],d=c.getInfo().eventName,b;e=Array.prototype.slice.call(e,0,-2);e[0]=this;if(g!=="undefined"){b={fn:f,scope:h||this,options:j||{},order:a,isLateBinding:g==="string"}}return this.doFireEvent(d,e,b,c)},createEventRelayer:function(a){return function(){return this.doFireEvent(a,Array.prototype.slice.call(arguments,0,-2))}},enableBubble:function(d){var b=this.isBubblingEnabled,f=Ext.$eventNameMap,c,e,a;if(!b){b=this.isBubblingEnabled={}}if(typeof d==="string"){d=Ext.Array.clone(arguments)}for(c=0,e=d.length;c<e;c++){a=d[c];a=f[a]||(f[a]=a.toLowerCase());if(!b[a]){b[a]=true;this.addListener(a,this.createEventBubbler(a),this)}}},createEventBubbler:function(a){return function b(){var c=("getBubbleTarget" in this)?this.getBubbleTarget():null;if(c&&c!==this&&c.isObservable){c.fireAction(a,Array.prototype.slice.call(arguments,0,-2),b,c,null,"after")}}},getBubbleTarget:function(){return false},destroy:function(){var a=this;if(a.observableId){a.fireEvent("destroy",a);a.clearListeners();a.clearManagedListeners()}},deprecated:{"2.0":{methods:{addEvents:null,addManagedListener:function(){var a=arguments[0];a.addListener.apply(a,Ext.Array.slice(arguments,1))},removeManagedListener:function(){var a=arguments[0];a.removeListener.apply(a,Ext.Array.slice(arguments,1))},mon:function(){var a=arguments[0];a.addListener.apply(a,Ext.Array.slice(arguments,1))},mun:function(){var a=arguments[0];a.removeListener.apply(a,Ext.Array.slice(arguments,1))}}}}},function(b){var a=function(c){if(c instanceof a){return c}this.observable=c;this.args=Array.prototype.slice.call(arguments,1)};a.prototype.destroy=function(){var c=this.observable;c.un.apply(c,this.args)};b.$ListenerRemover=a;b.createAlias({on:"addListener",un:"removeListener",onBefore:"addBeforeListener",onAfter:"addAfterListener",unBefore:"removeBeforeListener",unAfter:"removeAfterListener"})});Ext.define("Ext.util.Positionable",{mixinId:"positionable",_positionTopLeft:["position","top","left"],_alignRe:/^([a-z]+)-([a-z]+)(\?)?$/,afterSetPosition:Ext.emptyFn,getAnchorToXY:function(){Ext.Error.raise("getAnchorToXY is not implemented in "+this.$className)},getBorderPadding:function(){Ext.Error.raise("getBorderPadding is not implemented in "+this.$className)},getLocalX:function(){Ext.Error.raise("getLocalX is not implemented in "+this.$className)},getLocalXY:function(){Ext.Error.raise("getLocalXY is not implemented in "+this.$className)},getLocalY:function(){Ext.Error.raise("getLocalY is not implemented in "+this.$className)},getX:function(){Ext.Error.raise("getX is not implemented in "+this.$className)},getXY:function(){Ext.Error.raise("getXY is not implemented in "+this.$className)},getY:function(){Ext.Error.raise("getY is not implemented in "+this.$className)},setLocalX:function(){Ext.Error.raise("setLocalX is not implemented in "+this.$className)},setLocalXY:function(){Ext.Error.raise("setLocalXY is not implemented in "+this.$className)},setLocalY:function(){Ext.Error.raise("setLocalY is not implemented in "+this.$className)},setX:function(){Ext.Error.raise("setX is not implemented in "+this.$className)},setXY:function(){Ext.Error.raise("setXY is not implemented in "+this.$className)},setY:function(){Ext.Error.raise("setY is not implemented in "+this.$className)},adjustForConstraints:function(c,b){var a=this.getConstrainVector(b,c);if(a){c[0]+=a[0];c[1]+=a[1]}return c},alignTo:function(c,a,f,b){var e=this,d=e.el;return e.setXY(e.getAlignToXY(c,a,f),d.anim&&!!b?d.anim(b):false)},calculateAnchorXY:function(f,h,g,d){var j=this,c=j.el,k=document,e=(c.dom===k.body||c.dom===k),l=Math.round,m,b,a;f=(f||"tl").toLowerCase();d=d||{};b=d.width||(e?Ext.Element.getViewportWidth():j.getWidth());a=d.height||(e?Ext.Element.getViewportHeight():j.getHeight());switch(f){case"tl":m=[0,0];break;case"bl":m=[0,a];break;case"tr":m=[b,0];break;case"c":m=[l(b*0.5),l(a*0.5)];break;case"t":m=[l(b*0.5),0];break;case"l":m=[0,l(a*0.5)];break;case"r":m=[b,l(a*0.5)];break;case"b":m=[l(b*0.5),a];break;case"tc":m=[l(b*0.5),0];break;case"bc":m=[l(b*0.5),a];break;case"br":m=[b,a]}return[m[0]+h,m[1]+g]},convertPositionSpec:Ext.identityFn,getAlignToXY:function(j,w,e){var z=this,d,v,a,g,r,f,s,t,p,q,u,o,n,b,c,h,l,m,k;j=Ext.get(j.el||j);if(!j||!j.dom){Ext.Error.raise({sourceClass:"Ext.util.Positionable",sourceMethod:"getAlignToXY",msg:"Attempted to align an element that doesn't exist"})}e=e||[0,0];w=(!w||w=="?"?"tl-bl?":(!(/-/).test(w)&&w!==""?"tl-"+w:w||"tl-bl")).toLowerCase();w=z.convertPositionSpec(w);a=w.match(z._alignRe);if(!a){Ext.Error.raise({sourceClass:"Ext.util.Positionable",sourceMethod:"getAlignToXY",el:j,position:w,offset:e,msg:'Attemmpted to align an element with an invalid position: "'+w+'"'})}o=a[1];n=a[2];u=!!a[3];g=z.getAnchorXY(o,true);r=z.getAnchorToXY(j,n,false);m=r[0]-g[0]+e[0];k=r[1]-g[1]+e[1];if(u){d=z.constrainTo||z.container||z.el.parent();d=Ext.get(d.el||d);v=d.getViewRegion();v.right=v.left+d.el.dom.clientWidth;f=z.getWidth();s=z.getHeight();t=j.getRegion();b=o.charAt(0);c=o.charAt(o.length-1);h=n.charAt(0);l=n.charAt(n.length-1);p=(m<t.right&&m+f>=t.left)&&((b=="t"&&h=="b")||(b=="b"&&h=="t"));q=(k<t.bottom&&k+s>=t.top)&&((c=="r"&&l=="l")||(c=="l"&&l=="r"));if(m+f>v.right){if(q){m=t.left-f;q=false}else{m=v.right-f}}if(m<v.left){m=q?t.right:v.left}if(k+s>v.bottom){if(p){k=t.top-s;p=false}else{k=v.bottom-s}}if(k<v.top){k=p?t.bottom:v.top}}return[m,k]},getAnchorXY:function(d,h,b){var g=this,j=g.getXY(),a=g.el,l=document,c=a.dom==l.body||a.dom==l,k=a.getScroll(),f=c?k.left:h?0:j[0],e=c?k.top:h?0:j[1];return g.calculateAnchorXY(d,f,e,b)},getBox:function(d,g){var e=this,m=g?e.getLocalXY():e.getXY(),j=m[0],f=m[1],k=e.getWidth(),b=e.getHeight(),c,a,l;if(d){c=e.getBorderPadding();a=c.beforeX;l=c.beforeY;j+=a;f+=l;k-=(a+c.afterX);b-=(l+c.afterY)}return{x:j,left:j,0:j,y:f,top:f,1:f,width:k,height:b,right:j+k,bottom:f+b}},calculateConstrainedPosition:function(g,b,l,d){var k=this,c,h=k.floatParent,e=h?h.getTargetEl():null,a,f,j,m=false;if(l&&h){a=e.getXY();f=e.getBorderPadding();a[0]+=f.beforeX;a[1]+=f.beforeY;if(b){j=[b[0]+a[0],b[1]+a[1]]}}else{j=b}g=g||k.constrainTo||e||k.container||k.el.parent();c=k.getConstrainVector(g,j,d);m=b||k.getPosition(l);if(c){m[0]+=c[0];m[1]+=c[1]}return m},getConstrainVector:function(g,c,e){var a=this.getRegion(),d=[0,0],b=(this.shadow&&this.constrainShadow&&!this.shadowDisabled)?this.shadow.getShadowSize():undefined,j=false,h,f=this.constraintInsets;if(!(g instanceof Ext.util.Region)){g=Ext.get(g.el||g);h=g.getViewSize();g=g.getViewRegion();g.right=g.left+h.width;g.bottom=g.top+h.height}if(f){f=Ext.isObject(f)?f:Ext.Element.parseBox(f);g.adjust(f.top,f.right,f.bottom,f.length)}if(c){a.translateBy(c[0]-a.x,c[1]-a.y)}if(e){a.right=a.left+e[0];a.bottom=a.top+e[1]}if(b){g.adjust(b[0],-b[1],-b[2],b[3])}if(a.right>g.right){j=true;d[0]=(g.right-a.right)}if(a.left+d[0]<g.left){j=true;d[0]=(g.left-a.left)}if(a.bottom>g.bottom){j=true;d[1]=(g.bottom-a.bottom)}if(a.top+d[1]<g.top){j=true;d[1]=(g.top-a.top)}return j?d:false},getOffsetsTo:function(a){var c=this.getXY(),b=Ext.fly(a.el||a).getXY();return[c[0]-b[0],c[1]-b[1]]},getRegion:function(){var a=this.getBox();return new Ext.util.Region(a.top,a.right,a.bottom,a.left)},getViewRegion:function(){var f=this,c=f.el,a=c.dom.nodeName==="BODY",e,j,g,h,d,b,k;if(a){j=c.getScroll();d=j.left;h=j.top;b=Ext.Element.getViewportWidth();k=Ext.Element.getViewportHeight()}else{e=f.getBorderPadding();g=f.getXY();d=g[0]+e.beforeX;h=g[1]+e.beforeY;b=f.getWidth(true);k=f.getHeight(true)}return new Ext.util.Region(h,d+b,h+k,d)},move:function(j,b,c){var f=this,m=f.getXY(),k=m[0],h=m[1],d=[k-b,h],l=[k+b,h],g=[k,h-b],a=[k,h+b],e={l:d,left:d,r:l,right:l,t:g,top:g,up:g,b:a,bottom:a,down:a};j=j.toLowerCase();f.setXY([e[j][0],e[j][1]],c)},setBox:function(c){var b=this,a,d;if(c.isRegion){c={x:c.left,y:c.top,width:c.right-c.left,height:c.bottom-c.top}}b.constrainBox(c);a=c.x;d=c.y;b.setSize(c.width,c.height);b.setXY([a,d]);b.afterSetPosition(a,d);return b},constrainBox:function(c){var b=this,a;if(b.constrain||b.constrainHeader){a=b.calculateConstrainedPosition(null,[(c.x||c.left),(c.y||c.top)],false,[c.width,c.height]);if(a){c.x=a[0];c.y=a[1]}}},translatePoints:function(a,c){var b=this.translateXY(a,c);return{left:b.x,top:b.y}},translateXY:function(g,e){var d=this,b=d.el,h=b.getStyle(d._positionTopLeft),a=h.position==="relative",c=parseFloat(h.left),f=parseFloat(h.top),j=d.getXY();if(Ext.isArray(g)){e=g[1];g=g[0]}if(isNaN(c)){c=a?0:b.dom.offsetLeft}if(isNaN(f)){f=a?0:b.dom.offsetTop}c=(typeof g==="number")?g-j[0]+c:undefined;f=(typeof e==="number")?e-j[1]+f:undefined;return{x:c,y:f}}});Ext.define("Ext.overrides.util.Positionable",{override:"Ext.util.Positionable",anchorTo:function(g,e,b,a,j,k){var f=this,h=!Ext.isEmpty(j),c=function(){f.alignTo(g,e,b,a);Ext.callback(k,f)},d=f.getAnchor();f.removeAnchor();Ext.apply(d,{fn:c,scroll:h});Ext.on("resize",c,null);if(h){Ext.getWin().on("scroll",c,null,{buffer:!isNaN(j)?j:50})}c();return f},getAnchor:function(){var b=this.el,c,a;if(!b.dom){return}c=b.getData();a=c._anchor;if(!a){a=c._anchor={}}return a},removeAnchor:function(){var a=this.getAnchor();if(a&&a.fn){Ext.un("resize",a.fn);if(a.scroll){Ext.getWin().on("scroll",a.fn)}delete a.fn}return this},setBox:function(c,a){var b=this;if(c.isRegion){c={x:c.left,y:c.top,width:c.right-c.left,height:c.bottom-c.top}}if(a){b.constrainBox(c);b.animate(Ext.applyIf({to:c,listeners:{afteranimate:Ext.Function.bind(b.afterSetPosition,b,[c.x,c.y])}},a))}else{b.callParent([c])}return b}});Ext.define("Ext.dom.Helper",function(){var a="afterbegin",f="afterend",g="beforebegin",d="beforeend",h=["BeforeBegin","previousSibling"],e=["AfterEnd","nextSibling"],c={beforebegin:h,afterend:e},b={beforebegin:h,afterend:e,afterbegin:["AfterBegin","firstChild"],beforeend:["BeforeEnd","lastChild"]};return{singleton:true,alternateClassName:["Ext.DomHelper","Ext.core.DomHelper"],emptyTags:/^(?:br|frame|hr|img|input|link|meta|range|spacer|wbr|area|param|col)$/i,confRe:/^(?:tag|children|cn|html|tpl|tplData)$/i,endRe:/end/i,attributeTransform:{cls:"class",htmlFor:"for"},closeTags:{},detachedDiv:document.createElement("div"),decamelizeName:function(){var l=/([a-z])([A-Z])/g,k={};function j(m,o,n){return o+"-"+n.toLowerCase()}return function(m){return k[m]||(k[m]=m.replace(l,j))}}(),generateMarkup:function(q,k){var p=this,o=typeof q,n,j,r,m,l;if(o==="string"||o==="number"){k.push(q)}else{if(Ext.isArray(q)){for(m=0;m<q.length;m++){if(q[m]){p.generateMarkup(q[m],k)}}}else{r=q.tag||"div";k.push("<",r);for(n in q){if(q.hasOwnProperty(n)){j=q[n];if(j!==undefined&&!p.confRe.test(n)){if(typeof j==="object"){k.push(" ",n,'="');p.generateStyles(j,k,true).push('"')}else{k.push(" ",p.attributeTransform[n]||n,'="',j,'"')}}}}if(p.emptyTags.test(r)){k.push("/>")}else{k.push(">");if((j=q.tpl)){j.applyOut(q.tplData,k)}if((j=q.html)){k.push(j)}if((j=q.cn||q.children)){p.generateMarkup(j,k)}l=p.closeTags;k.push(l[r]||(l[r]="</"+r+">"))}}}return k},generateStyles:function(n,k,m){var j=k||[],l,o;for(l in n){if(n.hasOwnProperty(l)){o=n[l];l=this.decamelizeName(l);if(m&&Ext.String.hasHtmlCharacters(o)){o=Ext.String.htmlEncode(o)}j.push(l,":",o,";")}}return k||j.join("")},markup:function(j){if(typeof j==="string"){return j}var k=this.generateMarkup(j,[]);return k.join("")},applyStyles:function(j,k){Ext.fly(j).applyStyles(k)},createContextualFragment:function(k){var n=this.detachedDiv,j=document.createDocumentFragment(),l,m;n.innerHTML=k;m=n.childNodes;l=m.length;while(l--){j.appendChild(m[0])}return j},createDom:function(m,j){var l=this,k=l.markup(m),n=l.detachedDiv;n.innerHTML=k;return n.firstChild},insertHtml:function(m,j,n){var r=this,k,o,l,q,s;m=m.toLowerCase();if(j.insertAdjacentHTML){if(r.ieInsertHtml){s=r.ieInsertHtml(m,j,n);if(s){return s}}k=b[m];if(k){if(Ext.global.MSApp&&Ext.global.MSApp.execUnsafeLocalFunction){MSApp.execUnsafeLocalFunction(function(){j.insertAdjacentHTML(k[0],n)})}else{j.insertAdjacentHTML(k[0],n)}return j[k[1]]}}else{if(j.nodeType===3){m=m===a?g:m;m=m===d?f:m}o=Ext.supports.CreateContextualFragment?j.ownerDocument.createRange():undefined;q="setStart"+(this.endRe.test(m)?"After":"Before");if(c[m]){if(o){o[q](j);s=o.createContextualFragment(n)}else{s=this.createContextualFragment(n)}j.parentNode.insertBefore(s,m===g?j:j.nextSibling);return j[(m===g?"previous":"next")+"Sibling"]}else{l=(m===a?"first":"last")+"Child";if(j.firstChild){if(o){try{o[q](j[l]);s=o.createContextualFragment(n)}catch(p){s=this.createContextualFragment(n)}}else{s=this.createContextualFragment(n)}if(m===a){j.insertBefore(s,j.firstChild)}else{j.appendChild(s)}}else{j.innerHTML=n}return j[l]}}Ext.Error.raise({sourceClass:"Ext.DomHelper",sourceMethod:"insertHtml",htmlToInsert:n,targetElement:j,msg:'Illegal insertion point reached: "'+m+'"'})},insertBefore:function(j,l,k){return this.doInsert(j,l,k,g)},insertAfter:function(j,l,k){return this.doInsert(j,l,k,f)},insertFirst:function(j,l,k){return this.doInsert(j,l,k,a)},append:function(j,l,k){return this.doInsert(j,l,k,d)},overwrite:function(l,k,n){var m=this,j;l=Ext.getDom(l);k=m.markup(k);if(m.ieOverwrite){j=m.ieOverwrite(l,k)}if(!j){l.innerHTML=k;j=l.firstChild}return n?Ext.get(j):j},doInsert:function(l,p,n,j){var m=this,k;l=l.dom||Ext.getDom(l);if("innerHTML" in l){k=m.insertHtml(j,l,m.markup(p))}else{k=m.createDom(p,null);if(l.nodeType===3){j=j===a?g:j;j=j===d?f:j}if(c[j]){l.parentNode.insertBefore(k,j===g?l:l.nextSibling)}else{if(l.firstChild&&j===a){l.insertBefore(k,l.firstChild)}else{l.appendChild(k)}}}return n?Ext.get(k):k},createTemplate:function(k){var j=this.markup(k);return new Ext.Template(j)},createHtml:function(j){return this.markup(j)}}});Ext.define("Ext.overrides.dom.Helper",(function(){var c=/^(?:table|thead|tbody|tr|td)$/i,g=/td|tr|tbody|thead/i,f="<table>",h="</table>",b=f+"<tbody>",e="</tbody>"+h,a=b+"<tr>",d="</tr>"+e;return{override:"Ext.dom.Helper",ieInsertHtml:function(j,l,k){var m=null;if(Ext.isIE9m&&c.test(l.tagName)){m=this.insertIntoTable(l.tagName.toLowerCase(),j,l,k)}return m},ieOverwrite:function(k,j){if(Ext.isIE9m&&c.test(k.tagName)){while(k.firstChild){k.removeChild(k.firstChild)}if(j){return this.insertHtml("afterbegin",k,j)}}},ieTable:function(p,k,q,o){var l=-1,n=this.detachedDiv,m,j;n.innerHTML=[k,q,o].join("");while(++l<p){n=n.firstChild}m=n.nextSibling;if(m){m=n;n=document.createDocumentFragment();while(m){j=m.nextSibling;n.appendChild(m);m=j}}return n},insertIntoTable:function(s,l,k,m){var j,p,o=l==="beforebegin",r=l==="afterbegin",n=l==="beforeend",q=l==="afterend";if(s==="td"&&(r||n)||!g.test(s)&&(o||q)){return null}p=o?k:q?k.nextSibling:r?k.firstChild:null;if(o||q){k=k.parentNode}if(s==="td"||(s==="tr"&&(n||r))){j=this.ieTable(4,a,m,d)}else{if(((s==="tbody"||s==="thead")&&(n||r))||(s==="tr"&&(o||q))){j=this.ieTable(3,b,m,e)}else{j=this.ieTable(2,f,m,h)}}k.insertBefore(j,p);return j}}})());Ext.define("Ext.dom.Element",function(n){var s=window,J=document,V="ext-window",E="ext-document",e="width",H="height",S="min-width",c="min-height",o="max-width",y="max-height",K="top",W="right",F="bottom",B="left",g="visibility",T="hidden",b="display",L="none",l="z-index",N="position",q="relative",r="static",w="-",u=/\w/g,D=/\s+/,U=/[\s]+/,a=/^(?:transparent|(?:rgba[(](?:\s*\d+\s*[,]){3}\s*0\s*[)]))$/i,C=/table-row|table-.*-group/,t={t:"border-top-width",r:"border-right-width",b:"border-bottom-width",l:"border-left-width"},R={t:"padding-top",r:"padding-right",b:"padding-bottom",l:"padding-left"},j={t:"margin-top",r:"margin-right",b:"margin-bottom",l:"margin-left"},A=[R.l,R.r,R.t,R.b],d=[t.l,t.r,t.t,t.b],Q=/\d+$/,f=/\d+(px|em|%|en|ex|pt|in|cm|mm|pc)$/i,I="px",G=/(-[a-z])/gi,X=/([a-z0-9-]+)\s*:\s*([^;\s]+(?:\s*[^;\s]+)*);?/gi,p=/^\d+(?:\.\d*)?px$/i,v={},M=function(Y,Z){return Z.charAt(1).toUpperCase()},k=null,z=Ext.baseCSSPrefix+"hidden-visibility",x=Ext.baseCSSPrefix+"hidden-display",h=Ext.baseCSSPrefix+"hidden-offsets",P=Ext.baseCSSPrefix+"no-touch-scroll",m={style:"style",className:"className",cls:"cls",classList:"classList",text:"text",hidden:"hidden",html:"html",children:"children"},O;if(!("activeElement" in J)&&J.addEventListener){J.addEventListener("focus",function(Y){if(Y&&Y.target){k=(Y.target===J)?null:Y.target}},true)}return{alternateClassName:"Ext.Element",mixins:{positionable:Ext.util.Positionable,observable:Ext.mixin.Observable},observableType:"element",isElement:true,isSynchronized:false,skipGarbageCollection:true,identifiablePrefix:"ext-element-",styleHooks:{},validIdRe:Ext.validIdRe,blockedEvents:Ext.supports.EmulatedMouseOver?{mouseover:1}:{},longpressEvents:{longpress:1,taphold:1},constructor:function(aa,Y){var Z=this,ab;if(typeof aa==="string"){aa=J.getElementById(aa)}if(!aa){Ext.Error.raise("Invalid domNode reference or an id of an existing domNode: "+aa);return null}if(Ext.cache[aa.id]){Ext.Error.raise("Element cache already contains an entry for id '"+aa.id+"'.  Use Ext.get() to create or retrieve Element instances.")}Z.dom=aa;ab=aa.id;if(ab){Z.id=ab}else{ab=aa.id=Z.getUniqueId()}if(!Z.validIdRe.test(Z.id)){Ext.Error.raise('Invalid Element "id": "'+Z.id+'"')}Z.el=Z;if(!Y){Ext.cache[ab]=Z}Z.mixins.observable.constructor.call(Z)},inheritableStatics:{cache:Ext.cache={},VISIBILITY:1,DISPLAY:2,OFFSETS:3,unitRe:f,useDelegatedEvents:true,validNodeTypes:{1:1,9:1,11:1},addUnits:function(Z,Y){if(typeof Z==="number"){return Z+(Y||I)}if(Z===""||Z==="auto"||Z==null){return Z||""}if(Q.test(Z)){return Z+(Y||I)}if(!f.test(Z)){Ext.Logger.warn("Warning, size detected ("+Z+") not a valid property value on Element.addUnits.");return Z||""}return Z},create:function(aa,Z){var ag=this,ad=m.hidden,ac,ah,aj,ai,Y,ab,af,ae;if(!aa){aa={}}if(aa.isElement){return Z?aa.dom:aa}else{if("nodeType" in aa){return Z?aa:Ext.get(aa)}}if(typeof aa==="string"){return J.createTextNode(aa)}aj=aa.tag;if(!aj){aj="div"}if(aa.namespace){ac=J.createElementNS(aa.namespace,aj)}else{ac=J.createElement(aj)}ah=ac.style;if(aa[ad]){ae=aa.className;ae=(ae==null)?"":ae+" ";aa.className=ae+x;delete aa[ad]}for(Y in aa){if(Y!=="tag"){ai=aa[Y];switch(Y){case m.style:if(typeof ai==="string"){ac.setAttribute(Y,ai)}else{for(ab in ai){if(ai.hasOwnProperty(ab)){ah[ab]=ai[ab]}}}break;case m.className:case m.cls:ac.className=ai;break;case m.classList:ac.className=ai.join(" ");break;case m.text:ac.textContent=ai;break;case m.html:ac.innerHTML=ai;break;case m.children:for(ab=0,af=ai.length;ab<af;ab++){ac.appendChild(ag.create(ai[ab],true))}break;default:if(ai!=null){ac.setAttribute(Y,ai)}}}}if(Z){return ac}else{return ag.get(ac)}},detach:function(){var Y=this.dom;if(Y&&Y.parentNode&&Y.tagName!=="BODY"){Y.parentNode.removeChild(Y)}return this},fly:function(Z,Y){return Ext.fly(Z,Y)},fromPoint:function(Y,Z){return Ext.get(J.elementFromPoint(Y,Z))},get:function(ab){var ah=this,Y=Ext.cache,ad,ac,Z,ai,ae,aa,af;if(!ab){return null}function ag(aj){Ext.Error.raise("DOM element with id "+aj+" in Element cache is not the same as element in the DOM. Make sure to clean up Element instances using destroy()")}if(ab.isFly){ab=ab.dom;ae=ab._extData}if(typeof ab==="string"){Z=ab;if(Y.hasOwnProperty(Z)){ai=Y[Z];if(ai.skipGarbageCollection||!Ext.isGarbage(ai.dom)){ac=Ext.getElementById?Ext.getElementById(Z):J.getElementById(Z);if(ac&&(ac!==ai.dom)){ag(Z)}return ai}else{ai.destroy()}}if(Z===V){return n.get(s)}else{if(Z===E){return n.get(J)}}ac=Ext.getElementById?Ext.getElementById(Z):J.getElementById(Z);if(ac){return new n(ac)}}if(ab===J){if(!ah.docEl){J.id=E;ah.docEl=new n(J,true)}return ah.docEl}else{if(ab==s){if(!ah.winEl){s.id=V;ah.winEl=new n(s,true)}return ah.winEl}}ad=ab.nodeType;if(ah.validNodeTypes[ad]||(!ad&&(ab.window===ab))){Z=ab.id;if(Y.hasOwnProperty(Z)){ai=Y[Z];if(ai.skipGarbageCollection||ab===ai.dom||!Ext.isGarbage(ai.dom)){if(ab!==ai.dom){ag(Z)}return ai}else{ai.destroy()}}return new n(ab)}if(ab.isElement){return ab}if(ab.isComposite){return ab}if(Ext.isIterable(ab)){return ah.select(ab)}return null},getActiveElement:function(){var Y=J.activeElement;Y=Y||k;if(!Y){Y=k=J.body}return Y},getDocumentHeight:function(){return Math.max(!Ext.isStrict?J.body.scrollHeight:J.documentElement.scrollHeight,this.getViewportHeight())},getDocumentWidth:function(){return Math.max(!Ext.isStrict?J.body.scrollWidth:J.documentElement.scrollWidth,this.getViewportWidth())},getOrientation:function(){if(Ext.supports.OrientationChange){return(s.orientation==0)?"portrait":"landscape"}return(s.innerHeight>s.innerWidth)?"portrait":"landscape"},getViewportHeight:function(){return s.innerHeight},getViewportWidth:function(){return s.innerWidth},getViewSize:function(){return{width:n.getViewportWidth(),height:n.getViewportHeight()}},normalize:function(Y){return v[Y]||(v[Y]=Y.replace(G,M))},parseBox:function(aa){aa=aa||0;var Y=typeof aa,ab,Z;if(Y==="number"){return{top:aa,right:aa,bottom:aa,left:aa}}else{if(Y!=="string"){return aa}}ab=aa.split(" ");Z=ab.length;if(Z===1){ab[1]=ab[2]=ab[3]=ab[0]}else{if(Z===2){ab[2]=ab[0];ab[3]=ab[1]}else{if(Z===3){ab[3]=ab[1]}}}return{top:parseFloat(ab[0])||0,right:parseFloat(ab[1])||0,bottom:parseFloat(ab[2])||0,left:parseFloat(ab[3])||0}},parseStyles:function(Z){var Y={},aa;if(Z){X.lastIndex=0;while((aa=X.exec(Z))){Y[aa[1]]=aa[2]||""}}return Y},select:function(Y,aa,Z){return Ext.fly(Z||J).select(Y,aa)},query:function(Z,Y,aa){return Ext.fly(aa||J).query(Z,Y)},unitizeBox:function(aa,Y){var Z=this;aa=Z.parseBox(aa);return Z.addUnits(aa.top,Y)+" "+Z.addUnits(aa.right,Y)+" "+Z.addUnits(aa.bottom,Y)+" "+Z.addUnits(aa.left,Y)},serializeForm:function(aa){var ab=aa.elements||(J.forms[aa]||Ext.getDom(aa)).elements,ak=false,aj=encodeURIComponent,ae="",ad=ab.length,af,Y,ai,am,al,ag,ac,ah,Z;for(ag=0;ag<ad;ag++){af=ab[ag];Y=af.name;ai=af.type;am=af.options;if(!af.disabled&&Y){if(/select-(one|multiple)/i.test(ai)){ah=am.length;for(ac=0;ac<ah;ac++){Z=am[ac];if(Z.selected){al=Z.hasAttribute?Z.hasAttribute("value"):Z.getAttributeNode("value").specified;ae+=Ext.String.format("{0}={1}&",aj(Y),aj(al?Z.value:Z.text))}}}else{if(!(/file|undefined|reset|button/i.test(ai))){if(!(/radio|checkbox/i.test(ai)&&!af.checked)&&!(ai=="submit"&&ak)){ae+=aj(Y)+"="+aj(af.value)+"&";ak=/submit/i.test(ai)}}}}}return ae.substr(0,ae.length-1)}},addCls:function(af,ad,ah){var ag=this,ai,ab,Z,aa,ac,ae,Y;if(!af){return ag}if(!ag.isSynchronized){ag.synchronize()}ab=ag.dom;Z=ag.hasClassMap;aa=ag.classList;ad=ad?ad+w:"";ah=ah?w+ah:"";if(typeof af==="string"){af=af.split(D)}for(ac=0,ae=af.length;ac<ae;ac++){Y=ad+af[ac]+ah;if(!Z[Y]){Z[Y]=true;aa.push(Y);ai=true}}if(ai){ab.className=aa.join(" ")}return ag},addStyles:function(af,ae){var aa=0,ad=(af||"").match(u),ac,Y=ad.length,ab,Z=[];if(Y===1){aa=Math.abs(parseFloat(this.getStyle(ae[ad[0]]))||0)}else{if(Y){for(ac=0;ac<Y;ac++){ab=ad[ac];Z.push(ae[ab])}Z=this.getStyle(Z);for(ac=0;ac<Y;ac++){ab=ad[ac];aa+=parseFloat(Z[ae[ab]])||0}}}return aa},addUnits:function(Z,Y){return n.addUnits(Z,Y)},adjustDirect2DDimension:function(aa){var af=this,Z=af.dom,ad=af.getStyle("display"),ac=Z.style.display,ag=Z.style.position,ae=aa===e?0:1,Y=Z.currentStyle,ab;if(ad==="inline"){Z.style.display="inline-block"}Z.style.position=ad.match(C)?"absolute":"static";ab=(parseFloat(Y[aa])||parseFloat(Y.msTransformOrigin.split(" ")[ae])*2)%1;Z.style.position=ag;if(ad==="inline"){Z.style.display=ac}return ab},append:function(){this.appendChild.apply(this,arguments)},appendChild:function(aa,Z){var ab=this,ad,Y,ac;if(aa.nodeType||aa.dom||typeof aa==="string"){aa=Ext.getDom(aa);ab.dom.appendChild(aa);return !Z?Ext.get(aa):aa}else{if(aa.length){ad=Ext.fly(document.createDocumentFragment());Y=aa.length;for(ac=0;ac<Y;ac++){ad.appendChild(aa[ac],Z)}ab.dom.appendChild(ad.dom);return Z?ad.dom:ad}else{return ab.createChild(aa,null,Z)}}},appendTo:function(Y){Ext.getDom(Y).appendChild(this.dom);return this},applyStyles:function(Y){if(Y){if(typeof Y==="function"){Y=Y.call()}if(typeof Y==="string"){Y=n.parseStyles(Y)}if(typeof Y==="object"){this.setStyle(Y)}}return this},blur:function(){var Y=this,aa=Y.dom;if(aa!==J.body){try{aa.blur()}catch(Z){}return Y}else{return Y.focus(undefined,aa)}},center:function(Y){return this.alignTo(Y||J,"c-c")},child:function(Y,Z){var aa=this,ab=Ext.get(aa).id;return aa.selectNode(Ext.makeIdSelector(ab)+" > "+Y,!!Z)},createChild:function(Z,Y,aa){Z=Z||{tag:"div"};if(Y){return Ext.DomHelper.insertBefore(Y,Z,aa!==true)}else{return Ext.DomHelper.append(this.dom,Z,aa!==true)}},createShim:function(){var Y=J.createElement("iframe"),Z;Y.frameBorder="0";Y.className=Ext.baseCSSPrefix+"shim";Y.src=Ext.SSL_SECURE_URL;Y.setAttribute("role","presentation");Z=Ext.get(this.dom.parentNode.insertBefore(Y,this.dom));return Z},contains:function(Y){if(!Y){return false}var Z=this,aa=Ext.getDom(Y);return(aa===Z.dom)||Z.isAncestor(aa)},destroy:function(){var Y=this,Z=Y.dom;if(Y.isDestroyed){Ext.Logger.warn('Cannot destroy Element "'+Y.id+'". Already destroyed.');return}if(Z){if(Z.tagName==="BODY"){Ext.Error.raise("Cannot destroy body element.")}else{if(Z===J){Ext.Error.raise("Cannot destroy document object.")}else{if(Z===s){Ext.Error.raise("Cannot destroy window object")}}}}if(!Y.isFly){Y.clearListeners();delete Ext.cache[Y.id];Y.isDestroyed=true}if(Z){if(Z.parentNode){Z.parentNode.removeChild(Z)}Z._extData=Y.dom=null}},detach:function(){var Y=this.dom;if(Y&&Y.parentNode&&Y.tagName!=="BODY"){Y.parentNode.removeChild(Y)}return this},disableTouchContextMenu:function(){this._contextMenuListenerRemover=this.on({MSHoldVisual:function(Y){Y.preventDefault()},destroyable:true,delegated:false})},disableTouchScroll:function(){this.addCls(P);this.on({touchmove:function(Y){Y.preventDefault()},translate:false})},doAddListener:function(ab,ae,af,ag){var ad=this,Y,Z,aa,ac;if(!ad.blockedEvents[ab]){Z=ad.mixins.observable.doAddListener;ag=ag||{};if(ad.longpressEvents[ab]){ad.disableTouchContextMenu()}if(ad.normalizeEvent){Y=ad.normalizeEvent(ab);if(Y){ab=Y.eventName;ag.beforeFn=Y.normalizeFn}}if(n.useDelegatedEvents===false){ag.delegated=ag.delegated||false}if(ag.translate!==false){aa=ad.additiveEvents[ab];if(aa){ag.type=ab;ab=aa;Z.apply(ad,arguments)}ac=ad.eventMap[ab];if(ac){ag.type=ag.type||ab;ab=ac}}Z.apply(ad,arguments);delete ag.type}return ad},doRemoveListener:function(ab,ae,af,ag){var ad=this,Y,Z,aa,ac;if(!ad.blockedEvents[ab]){Z=ad.mixins.observable.doRemoveListener;ag=ag||{};if(ad.longpressEvents[ab]){ac=this._contextMenuListenerRemover;if(ac){ac.destroy()}}if(ad.normalizeEvent){Y=ad.normalizeEvent(ab);if(Y){ab=Y.eventName}}if(n.useDelegatedEvents===false){ag.delegated=ag.delegated||false}if(ag.translate!==false){aa=ad.additiveEvents[ab];if(aa){ab=aa;Z.apply(ad,arguments)}ab=ad.eventMap[ab]||ab}Z.apply(ad,arguments)}return ad},doReplaceWith:function(Y){var Z=this.dom;Z.parentNode.replaceChild(Ext.getDom(Y),Z)},down:function(Y,Z){return this.selectNode(Y,!!Z)},findParent:function(ae,Z,Y){var ab=this,ac=ab.dom,aa=J.documentElement,ad=0;Z=Z||50;if(isNaN(Z)){Z=Number.MAX_VALUE}while(ac&&ac.nodeType===1&&ad<Z&&ac!==aa){if(Ext.fly(ac).is(ae)){return Y?Ext.get(ac):ac}ad++;ac=ac.parentNode}return null},findParentNode:function(ab,Z,Y){var aa=Ext.fly(this.dom.parentNode);return aa?aa.findParent(ab,Z,Y):null},first:function(Y,Z){return this.matchNode("nextSibling","firstChild",Y,Z)},focus:function(ab,aa){var Y=this;aa=aa||Y.dom;try{if(Number(ab)){Ext.defer(Y.focus,ab,Y,[null,aa])}else{Ext.GlobalEvents.fireEvent("beforefocus",aa);aa.focus()}}catch(Z){}return Y},getAnchorToXY:function(ab,Y,aa,Z){return ab.getAnchorXY(Y,aa,Z)},getAttribute:function(Y,Z){var aa=this.dom;return Z?(aa.getAttributeNS(Z,Y)||aa.getAttribute(Z+":"+Y)):(aa.getAttribute(Y)||aa[Y]||null)},getBottom:function(Y){return(Y?this.getLocalY():this.getY())+this.getHeight()},getById:function(aa,Y){var Z=J.getElementById(aa)||this.dom.querySelector(Ext.makeIdSelector(aa));return Y?Z:(Z?Ext.get(Z):null)},getBorderPadding:function(){var Y=this.getStyle(A),Z=this.getStyle(d);return{beforeX:(parseFloat(Z[t.l])||0)+(parseFloat(Y[R.l])||0),afterX:(parseFloat(Z[t.r])||0)+(parseFloat(Y[R.r])||0),beforeY:(parseFloat(Z[t.t])||0)+(parseFloat(Y[R.t])||0),afterY:(parseFloat(Z[t.b])||0)+(parseFloat(Y[R.b])||0)}},getBorderWidth:function(Y){return this.addStyles(Y,t)},getData:function(){var Y=this.dom;return(Y._extData||(Y._extData={}))},getFirstChild:function(){return Ext.get(this.dom.firstElementChild)},getHeight:function(ab,Z){var aa=this,ac=aa.isStyle("display","none"),Y,ad;if(ac){return 0}Y=aa.dom.offsetHeight;if(Ext.supports.Direct2DBug){ad=aa.adjustDirect2DDimension(H);if(Z){Y+=ad}else{if(ad>0&&ad<0.5){Y++}}}if(ab){Y-=aa.getBorderWidth("tb")+aa.getPadding("tb")}return(Y<0)?0:Y},getHtml:function(){return this.dom?this.dom.innerHTML:""},getLeft:function(Y){return Y?this.getLocalX():this.getX()},getLocalX:function(){var aa=this,Z,Y=aa.getStyle("left");if(!Y||Y==="auto"){Y=0}else{if(p.test(Y)){Y=parseFloat(Y)}else{Y=aa.getX();Z=aa.dom.offsetParent;if(Z){Y-=Ext.fly(Z).getX()}}}return Y},getLocalXY:function(){var ab=this,aa,Z=ab.getStyle(["left","top"]),Y=Z.left,ac=Z.top;if(!Y||Y==="auto"){Y=0}else{if(p.test(Y)){Y=parseFloat(Y)}else{Y=ab.getX();aa=ab.dom.offsetParent;if(aa){Y-=Ext.fly(aa).getX()}}}if(!ac||ac==="auto"){ac=0}else{if(p.test(ac)){ac=parseFloat(ac)}else{ac=ab.getY();aa=ab.dom.offsetParent;if(aa){ac-=Ext.fly(aa).getY()}}}return[Y,ac]},getLocalY:function(){var Z=this,Y,aa=Z.getStyle("top");if(!aa||aa==="auto"){aa=0}else{if(p.test(aa)){aa=parseFloat(aa)}else{aa=Z.getY();Y=Z.dom.offsetParent;if(Y){aa-=Ext.fly(Y).getY()}}}return aa},getMargin:function(aa){var ab=this,ac={t:"top",l:"left",r:"right",b:"bottom"},Z,ad,Y;if(!aa){Y=[];for(Z in j){Y.push(j[Z])}ad=ab.getStyle(j);if(ad&&typeof ad==="object"){for(Z in j){ad[ac[Z]]=parseFloat(ad[j[Z]])||0}}return ad}else{return ab.addStyles(aa,j)}},getPadding:function(Y){return this.addStyles(Y,R)},getParent:function(){return Ext.get(this.dom.parentNode)},getRight:function(Y){return(Y?this.getLocalX():this.getX())+this.getWidth()},getSize:function(Y){return{width:this.getWidth(Y),height:this.getHeight(Y)}},getStyle:function(ak,af){var ag=this,ab=ag.dom,an=typeof ak!=="string",al=ag.styleHooks,Z=ak,ah=Z,ae=1,ad,am,aj,ai,aa,Y,ac;if(an){aj={};Z=ah[0];ac=0;if(!(ae=ah.length)){return aj}}if(!ab||ab.documentElement){return aj||""}ad=ab.style;if(af){Y=ad}else{Y=ab.ownerDocument.defaultView.getComputedStyle(ab,null);if(!Y){af=true;Y=ad}}do{ai=al[Z];if(!ai){al[Z]=ai={name:n.normalize(Z)}}if(ai.get){aa=ai.get(ab,ag,af,Y)}else{am=ai.name;aa=Y[am]}if(!an){return aa}aj[Z]=aa;Z=ah[++ac]}while(ac<ae);return aj},getStyleValue:function(Y){return this.dom.style.getPropertyValue(Y)},getTop:function(Y){return Y?this.getLocalY():this.getY()},getValue:function(Z){var Y=this.dom.value;return Z?parseInt(Y,10):Y},getViewSize:function(){var Y=this.dom;if(Y===J||Y===J.body){return{width:n.getViewportWidth(),height:n.getViewportHeight()}}else{return{width:Y.clientWidth,height:Y.clientHeight}}},getVisibilityMode:function(){var Y=this,Z=Y.getData(),aa=Z.visibilityMode;if(aa===undefined){Z.visibilityMode=aa=n.DISPLAY}return aa},getWidth:function(Y,ad){var ab=this,ae=ab.dom,ac=ab.isStyle("display","none"),aa,Z,af;if(ac){return 0}if(Ext.supports.BoundingClientRect){aa=ae.getBoundingClientRect();Z=(ab.vertical&&!Ext.supports.RotatedBoundingClientRect)?(aa.bottom-aa.top):(aa.right-aa.left);Z=ad?Z:Math.ceil(Z)}else{Z=ae.offsetWidth}if(Ext.supports.Direct2DBug&&!ab.vertical){af=ab.adjustDirect2DDimension(e);if(ad){Z+=af}else{if(af>0&&af<0.5){Z++}}}if(Y){Z-=ab.getBorderWidth("lr")+ab.getPadding("lr")}return(Z<0)?0:Z},getX:function(){return this.getXY()[0]},getXY:function(){var Z=Math.round,ac=this.dom,Y=0,ad=0,ab;if(ac!==J&&ac!==J.body){try{ab=ac.getBoundingClientRect()}catch(aa){ab={left:0,top:0}}Y=Z(ab.left);ad=Z(ab.top)}return[Y,ad]},getY:function(){return this.getXY()[1]},hasCls:function(Y){if(!this.isSynchronized){this.synchronize()}return this.hasClassMap.hasOwnProperty(Y)},hide:function(){this.setVisible(false);return this},insertAfter:function(Y){Y=Ext.getDom(Y);Y.parentNode.insertBefore(this.dom,Y.nextSibling);return this},insertBefore:function(Y){Y=Ext.getDom(Y);Y.parentNode.insertBefore(this.dom,Y);return this},insertFirst:function(Z,Y){Z=Z||{};if(Z.nodeType||Z.dom||typeof Z==="string"){Z=Ext.getDom(Z);this.dom.insertBefore(Z,this.dom.firstChild);return !Y?Ext.get(Z):Z}else{return this.createChild(Z,this.dom.firstChild,Y)}},insertHtml:function(Z,aa,Y){var ab=Ext.DomHelper.insertHtml(Z,this.dom,aa);return Y?Ext.get(ab):ab},insertSibling:function(Z,ac,af){var ae=this,ag=Ext.DomHelper,ah=(ac||"before").toLowerCase()==="after",ab,Y,aa,ad;if(Ext.isIterable(Z)){aa=Z.length;Y=Ext.fly(document.createDocumentFragment());if(Ext.isArray(Z)){for(ad=0;ad<aa;ad++){ab=Y.appendChild(Z[ad],af)}}else{for(ad=0;ad<aa;ad++){Y.dom.appendChild(ab=Z[0])}if(af===false){ab=Ext.get(ab)}}ae.dom.parentNode.insertBefore(Y.dom,ah?ae.dom.nextSibling:ae.dom);return ab}Z=Z||{};if(Z.nodeType||Z.dom){ab=ae.dom.parentNode.insertBefore(Ext.getDom(Z),ah?ae.dom.nextSibling:ae.dom);if(!af){ab=Ext.get(ab)}}else{if(ah&&!ae.dom.nextSibling){ab=ag.append(ae.dom.parentNode,Z,!af)}else{ab=ag[ah?"insertAfter":"insertBefore"](ae.dom,Z,!af)}}return ab},is:function(Y){var aa=this.dom,Z;if(!Y){Z=true}else{if(!aa.tagName){Z=false}else{if(Ext.isFunction(Y)){Z=Y(aa)}else{Z=aa[Ext.supports.matchesSelector](Y)}}}return Z},isAncestor:function(Z){var Y=false,aa=this.dom,ab=Ext.getDom(Z);if(aa&&ab){if(aa.contains){return aa.contains(ab)}else{if(aa.compareDocumentPosition){return !!(aa.compareDocumentPosition(ab)&16)}else{while((ab=ab.parentNode)){Y=ab===aa||Y}}}}return Y},isPainted:(function(){return !Ext.browser.is.IE?function(){var Y=this.dom;return Boolean(Y&&Y.offsetParent)}:function(){var Y=this.dom;return Boolean(Y&&(Y.offsetHeight!==0&&Y.offsetWidth!==0))}})(),isStyle:function(Y,Z){return this.getStyle(Y)===Z},isVisible:function(Z){var aa=this.dom,Y;if(!aa){return false}if(!O){O=new Ext.dom.Fly()}for(Y=aa.ownerDocument.documentElement;aa!==Y;aa=aa.parentNode){if(!aa||aa.nodeType===11||(O.attach(aa)).isStyle(g,T)||O.isStyle(b,L)){return false}if(!Z){break}}return true},last:function(Y,Z){return this.matchNode("previousSibling","lastChild",Y,Z)},matchNode:function(Z,ad,Y,aa){var ab=this.dom,ac;if(!ab){return null}ac=ab[ad];while(ac){if(ac.nodeType===1&&(!Y||Ext.fly(ac,"_matchNode").is(Y))){return !aa?Ext.get(ac):ac}ac=ac[Z]}return null},next:function(Y,Z){return this.matchNode("nextSibling","nextSibling",Y,Z)},parent:function(Y,Z){return this.matchNode("parentNode","parentNode",Y,Z)},position:function(ac,ab,Y,aa){var Z=this;if(!ac&&Z.isStyle(N,r)){Z.setStyle(N,q)}else{if(ac){Z.setStyle(N,ac)}}if(ab){Z.setStyle(l,ab)}if(Y||aa){Z.setXY([Y||false,aa||false])}},prev:function(Y,Z){return this.matchNode("previousSibling","previousSibling",Y,Z)},query:function(aa,ai,ag){var ac=this.dom,ae,af,ah,Z,Y,ad,ab;if(!ac){return null}ai=(ai!==false);aa=aa.split(",");if(!ag){ae=[]}for(ad=0,af=aa.length;ad<af;ad++){if(typeof aa[ad]==="string"){if(ag){Z=ac.querySelector(aa[ad]);return ai?Z:Ext.get(Z)}Y=ac.querySelectorAll(aa[ad]);for(ab=0,ah=Y.length;ab<ah;ab++){ae.push(ai?Y[ab]:Ext.get(Y[ab]))}}}return ae},radioCls:function(ab){var ac=this.dom.parentNode.childNodes,Z;ab=Ext.isArray(ab)?ab:[ab];for(var aa=0,Y=ac.length;aa<Y;aa++){Z=ac[aa];if(Z&&Z.nodeType===1){Ext.fly(Z).removeCls(ab)}}return this.addCls(ab)},redraw:function(){var Z=this.dom,Y=Z.style;Y.display="none";Z.offsetHeight;Y.display=""},remove:function(){this.destroy()},removeChild:function(Y){this.dom.removeChild(Ext.getDom(Y));return this},removeCls:function(af,ad,ah){var ag=this,ai,ab,Z,aa,ac,ae,Y;if(!af){return ag}if(!ag.isSynchronized){ag.synchronize()}if(!ah){ah=""}ab=ag.dom;Z=ag.hasClassMap;aa=ag.classList;ad=ad?ad+w:"";ah=ah?w+ah:"";if(typeof af==="string"){af=af.split(D)}for(ac=0,ae=af.length;ac<ae;ac++){Y=ad+af[ac]+ah;if(Z[Y]){delete Z[Y];Ext.Array.remove(aa,Y);ai=true}}if(ai){ab.className=aa.join(" ")}return ag},repaint:function(){var Y=this;Y.addCls(Ext.baseCSSPrefix+"repaint");setTimeout(function(){if(Y.dom){Ext.fly(Y.dom).removeCls(Ext.baseCSSPrefix+"repaint")}},1);return Y},replace:function(aa,Z){aa=Ext.getDom(aa);var Y=aa.parentNode,ac=aa.id,ab=this.dom;if(!Y){Ext.Error.raise('Cannot replace element "'+ac+'". It is not attached to a parent node.')}if(Z!==false&&ac&&Ext.cache[ac]){Y.insertBefore(ab,aa);Ext.get(aa).destroy()}else{Y.replaceChild(ab,aa)}return this},replaceCls:function(aa,ag,ae,ai){var ah=this,ac,Z,ab,ad,af,Y;if(!aa&&!ag){return ah}aa=aa||[];ag=ag||[];if(!ah.isSynchronized){ah.synchronize()}if(!ai){ai=""}ac=ah.dom;Z=ah.hasClassMap;ab=ah.classList;ae=ae?ae+w:"";ai=ai?w+ai:"";if(typeof aa==="string"){aa=aa.split(D)}if(typeof ag==="string"){ag=ag.split(D)}for(ad=0,af=aa.length;ad<af;ad++){Y=ae+aa[ad]+ai;if(Z[Y]){delete Z[Y];Ext.Array.remove(ab,Y)}}for(ad=0,af=ag.length;ad<af;ad++){Y=ae+ag[ad]+ai;if(!Z[Y]){Z[Y]=true;ab.push(Y)}}ac.className=ab.join(" ");return ah},replaceWith:function(ab){var ac=this,ad=ac.dom,aa=ad.parentNode,Y=Ext.cache,Z;ac.clearListeners();if(ab.nodeType||ab.dom||typeof ab==="string"){ab=Ext.get(ab);Z=aa.insertBefore(ab.dom,ad)}else{Z=Ext.DomHelper.insertBefore(ad,ab)}aa.removeChild(ad);ac.dom=Z;if(!ac.isFly){delete Y[ac.id];Y[ac.id=Ext.id(Z)]=ac}return ac},resolveListenerScope:function(Z){var Y=this.component;return Y?Y.resolveListenerScope(Z):this},select:function(Z,ab){var Y,aa;if(typeof Z==="string"){aa=this.query(Z,!ab)}else{if(Z.length===undefined){Ext.Error.raise("Invalid selector specified: "+Z)}else{aa=Z;Y=true}}return ab?new Ext.CompositeElement(aa,!Y):new Ext.CompositeElementLite(aa,true)},selectNode:function(Z,Y){return this.query(Z,Y,true)},set:function(Y,Z){var ab=this,ad=ab.dom,aa,ac;for(aa in Y){if(Y.hasOwnProperty(aa)){ac=Y[aa];if(aa==="style"){ab.applyStyles(ac)}else{if(aa==="cls"){ad.className=ac}else{if(Z!==false){if(ac===undefined){ad.removeAttribute(aa)}else{ad.setAttribute(aa,ac)}}else{ad[aa]=ac}}}}}return ab},setBottom:function(Y){this.dom.style[F]=n.addUnits(Y);return this},setBorder:function(Y){var aa=this,Z=aa.dom.style;if(Y||Y===0){Y=aa.self.unitizeBox((Y===true)?1:Y);Z.setProperty("border-width",Y,"important")}else{Z.removeProperty("border-top-width");Z.removeProperty("border-right-width");Z.removeProperty("border-bottom-width");Z.removeProperty("border-left-width")}},setCls:function(aa){var ac=this,ad=ac.hasClassMap,Z,ab,Y;if(typeof aa==="string"){aa=aa.split(D)}for(Z=0,ab=aa.length;Z<ab;Z++){Y=aa[Z];if(!ad[Y]){ad[Y]=true}}ac.classList=aa.slice();ac.dom.className=aa.join(" ")},setHeight:function(Y){this.dom.style[H]=n.addUnits(Y);return this},setHtml:function(Y){if(this.dom){this.dom.innerHTML=Y}},setId:function(ab){var aa=this,Y=aa.id,Z=Ext.cache;if(Y){delete Z[Y]}aa.dom.id=ab;aa.id=ab;Z[ab]=aa;return aa},setLeft:function(Y){this.dom.style[B]=n.addUnits(Y);return this},setLocalX:function(Y){var Z=this.dom.style;Z.right="auto";Z.left=(Y===null)?"auto":Y+"px"},setLocalXY:function(Y,aa){var Z=this.dom.style;Z.right="auto";if(Y&&Y.length){aa=Y[1];Y=Y[0]}if(Y===null){Z.left="auto"}else{if(Y!==undefined){Z.left=Y+"px"}}if(aa===null){Z.top="auto"}else{if(aa!==undefined){Z.top=aa+"px"}}},setLocalY:function(Y){this.dom.style.top=(Y===null)?"auto":Y+"px"},setMargin:function(aa){var Z=this,Y=Z.dom.style;if(aa||aa===0){aa=Z.self.unitizeBox((aa===true)?5:aa);Y.setProperty("margin",aa,"important")}else{Y.removeProperty("margin-top");Y.removeProperty("margin-right");Y.removeProperty("margin-bottom");Y.removeProperty("margin-left")}},setMaxHeight:function(Y){this.dom.style[y]=n.addUnits(Y);return this},setMaxWidth:function(Y){this.dom.style[o]=n.addUnits(Y);return this},setMinHeight:function(Y){this.dom.style[c]=n.addUnits(Y);return this},setMinWidth:function(Y){this.dom.style[S]=n.addUnits(Y);return this},setPadding:function(aa){var Z=this,Y=Z.dom.style;if(aa||aa===0){aa=Z.self.unitizeBox((aa===true)?5:aa);Y.setProperty("padding",aa,"important")}else{Y.removeProperty("padding-top");Y.removeProperty("padding-right");Y.removeProperty("padding-bottom");Y.removeProperty("padding-left")}},setRight:function(Y){this.dom.style[W]=n.addUnits(Y);return this},setSize:function(aa,Y){var ab=this,Z=ab.dom.style;if(Ext.isObject(aa)){Y=aa.height;aa=aa.width}Z.width=n.addUnits(aa);Z.height=n.addUnits(Y);return ab},setSizeState:function(ac){var ab=this,aa=["x-sized","x-unsized","x-stretched"],Y=[true,false,null],Z=Y.indexOf(ac),ad;if(Z!==-1){ad=aa[Z];aa.splice(Z,1);ab.addCls(ad)}ab.removeCls(aa);return ab},setStyle:function(af,ad){var ab=this,ae=ab.dom,Y=ab.styleHooks,aa=ae.style,Z=af,ac;if(typeof Z==="string"){ac=Y[Z];if(!ac){Y[Z]=ac={name:n.normalize(Z)}}ad=(ad==null)?"":ad;if(ac.set){ac.set(ae,ad,ab)}else{aa[ac.name]=ad}if(ac.afterSet){ac.afterSet(ae,ad,ab)}}else{for(Z in af){if(af.hasOwnProperty(Z)){ac=Y[Z];if(!ac){Y[Z]=ac={name:n.normalize(Z)}}ad=af[Z];ad=(ad==null)?"":ad;if(ac.set){ac.set(ae,ad,ab)}else{aa[ac.name]=ad}if(ac.afterSet){ac.afterSet(ae,ad,ab)}}}}return ab},setText:function(Y){this.dom.textContent=Y},setTop:function(Y){this.dom.style[K]=n.addUnits(Y);return this},setVisibility:function(Y){var Z=this.dom.style;if(Y){Z.removeProperty("visibility")}else{Z.setProperty("visibility","hidden","important")}},setVisibilityMode:function(Y){if(Y!==1&&Y!==2&&Y!==3){Ext.Error.raise("visibilityMode must be one of the following: Ext.Element.DISPLAY, Ext.Element.VISIBILITY, or Ext.Element.OFFSETS")}this.getData().visibilityMode=Y;return this},setVisible:function(aa){var Y=this,Z=Y.getVisibilityMode(),ab=aa?"removeCls":"addCls";switch(Z){case n.DISPLAY:Y.removeCls([z,h]);Y[ab](x);break;case n.VISIBILITY:Y.removeCls([x,h]);Y[ab](z);break;case n.OFFSETS:Y.removeCls([z,x]);Y[ab](h);break}return Y},setWidth:function(Y){this.dom.style[e]=n.addUnits(Y);return this},setX:function(Y){return this.setXY([Y,false])},setXY:function(aa){var Z=this,ab=Z.translatePoints(aa),Y=Z.dom.style,ac;Z.position();Y.right="auto";for(ac in ab){if(!isNaN(ab[ac])){Y[ac]=ab[ac]+"px"}}return Z},setY:function(Y){return this.setXY([false,Y])},show:function(){this.setVisible(true);return this},swapCls:function(Z,ae,Y,ac){if(Y===undefined){Y=true}var ab=this,ad=Y?Z:ae,aa=Y?ae:Z;if(aa){ab.removeCls(ac?ac+"-"+aa:aa)}if(ad){ab.addCls(ac?ac+"-"+ad:ad)}return ab},synchronize:function(){var ad=this,af=ad.dom,Y={},ab=af.className,ae,aa,ac,Z;if(ab&&ab.length>0){ae=af.className.split(U);for(aa=0,ac=ae.length;aa<ac;aa++){Z=ae[aa];Y[Z]=true}}else{ae=[]}ad.classList=ae;ad.hasClassMap=Y;ad.isSynchronized=true;return ad},toggleCls:function(Y,Z){if(typeof Z!=="boolean"){Z=!this.hasCls(Y)}return(Z)?this.addCls(Y):this.removeCls(Y)},toggle:function(){this.setVisible(!this.isVisible());return this},translate:function(){var Y="webkitTransform" in J.createElement("div").style?"webkitTransform":"transform";return function(Z,ab,aa){this.dom.style[Y]="translate3d("+(Z||0)+"px, "+(ab||0)+"px, "+(aa||0)+"px)"}}(),unwrap:function(){var aa=this.dom,Y=aa.parentNode,Z;if(Y){Z=Y.parentNode;Z.insertBefore(aa,Y);Z.removeChild(Y)}else{Z=document.createDocumentFragment();Z.appendChild(aa)}return this},up:function(aa,Y,Z){return this.findParentNode(aa,Y,!Z)},update:function(Y){return this.setHtml(Y)},wrap:function(Z,aa,Y){var ab=this,ae=ab.dom,ad=Ext.DomHelper.insertBefore(ae,Z||{tag:"div"},true),ac=ad;if(Y){ac=ad.selectNode(Y)}ac.appendChild(ae);return aa?ad.dom:ad},deprecated:{"5.0":{methods:{cssTranslate:null,getHTML:"getHtml",getOuterHeight:null,getOuterWidth:null,getPageBox:function(aa){var ad=this,ab=ad.dom,af=ab.nodeName==="BODY",ag=af?n.getViewportWidth():ab.offsetWidth,ac=af?n.getViewportHeight():ab.offsetHeight,ai=ad.getXY(),ah=ai[1],Y=ai[0]+ag,ae=ai[1]+ac,Z=ai[0];if(aa){return new Ext.util.Region(ah,Y,ae,Z)}else{return{left:Z,top:ah,width:ag,height:ac,right:Y,bottom:ae}}},getScrollParent:null,isDescendent:null,isTransparent:function(Z){var Y=this.getStyle(Z);return Y?a.test(Y):false},purgeAllListeners:"clearListeners",removeAllListeners:"clearListeners",setHTML:"setHtml",setTopLeft:null}}}}},function(q){var b=document,m=q.prototype,x=Ext.supports,D="pointerdown",e="pointermove",c="pointerup",d="pointercancel",h="MSPointerDown",n="MSPointerMove",z="MSPointerUp",a="MSPointerCancel",t="mousedown",y="mousemove",u="mouseup",E="mouseover",C="mouseout",p="mouseenter",f="mouseleave",w="touchstart",l="touchmove",A="touchend",g="touchcancel",r="click",j="dblclick",v="tap",B="doubletap",k=m.eventMap={},s=m.additiveEvents={},o=Ext.id;Ext.id=function(H,G){var F=Ext.getDom(H,true),I,J;if(!F){J=o(H,G)}else{if(!(J=F.id)){J=o(null,G||q.prototype.identifiablePrefix);if(Ext.isSandboxed){I=Ext.sandboxPrefix||(Ext.sandboxPrefix=Ext.sandboxName.toLowerCase()+"-");J=I+J}F.id=J}}return J};if(x.PointerEvents){k[t]=D;k[y]=e;k[u]=c;k[w]=D;k[l]=e;k[A]=c;k[g]=d;k[r]=v;k[j]=B;k[E]="pointerover";k[C]="pointerout";k[p]="pointerenter";k[f]="pointerleave"}else{if(x.MSPointerEvents){k[D]=h;k[e]=n;k[c]=z;k[d]=a;k[t]=h;k[y]=n;k[u]=z;k[w]=h;k[l]=n;k[A]=z;k[g]=a;k[r]=v;k[j]=B;k[E]="MSPointerOver";k[C]="MSPointerOut"}else{if(x.TouchEvents){k[D]=w;k[e]=l;k[c]=A;k[d]=g;k[t]=w;k[y]=l;k[u]=A;k[r]=v;k[j]=B;if(Ext.isWebKit&&Ext.os.is.Desktop){k[w]=t;k[l]=y;k[A]=u;k[g]=u;s[t]=t;s[y]=y;s[u]=u;s[w]=w;s[l]=l;s[A]=A;s[g]=g;s[D]=t;s[e]=y;s[c]=u;s[d]=u}}else{k[D]=t;k[e]=y;k[c]=u;k[d]=u;k[w]=t;k[l]=y;k[A]=u;k[g]=u}}}m.getTrueXY=m.getXY;Ext.select=q.select;Ext.query=q.query;Ext.apply(Ext,{get:function(F){return q.get(F)},getDom:function(F){if(!F||!b){return null}return F.dom||(typeof F==="string"?Ext.getElementById(F):F)},getBody:function(){if(!Ext._bodyEl){if(!b.body){throw new Error("[Ext.getBody] document.body does not yet exist")}Ext._bodyEl=Ext.get(b.body)}return Ext._bodyEl},getHead:function(){if(!Ext._headEl){Ext._headEl=Ext.get(b.head||b.getElementsByTagName("head")[0])}return Ext._headEl},getDoc:function(){if(!Ext._docEl){Ext._docEl=Ext.get(b)}return Ext._docEl},getWin:function(){if(!Ext._winEl){Ext._winEl=Ext.get(window)}return Ext._winEl},removeNode:function(H){var I=H&&H.id,G=Ext.cache[I],F;if(G){G.destroy()}else{if(H&&H.tagName.toUpperCase()!=="BODY"){F=H.parentNode;if(F){F.removeChild(H)}}}}});Ext.isGarbage=function(F){return F&&F.nodeType===1&&(!F.parentNode||(!F.offsetParent&&!(Ext.isIE8?b.all[F.id]:b.getElementById(F.id))&&!(Ext.detachedBodyEl&&Ext.detachedBodyEl.isAncestor(F))))}});Ext.define("Ext.dom.Fly",{extend:Ext.dom.Element,alternateClassName:"Ext.dom.Element.Fly",isFly:true,constructor:function(a){this.dom=a;this.el=this},attach:function(c){if(!c){return this.detach()}var a=this,b=Ext.cache[c.id];a.dom=c;a.isSynchronized=false;if(b){b.isSynchronized=false}return this},detach:function(){this.dom=this.classList=this.hasClassMap=null},addListener:function(){Ext.Error.raise("Cannot use addListener() on Ext.dom.Fly instances. Please use Ext.get() to retrieve an Ext.dom.Element instance instead.")}||null,removeListener:function(){Ext.Error.raise("Cannot use removeListener() on Ext.dom.Fly instances. Please use Ext.get() to retrieve an Ext.dom.Element instance instead.")}||null},function(a){var b={};a.cache=b;Ext.fly=function(g,d){var f=null,e=Ext.fly,c;d=d||(e.caller&&e.caller.$name)||"_global";g=Ext.getDom(g);if(g){c=g.nodeType;if(Ext.Element.validNodeTypes[c]||(!c&&(g.window===g))){f=Ext.cache[g.id];if(!f||f.dom!==g){f=b[d]||(b[d]=new a());f.dom=g;f.isSynchronized=false}}}return f}});Ext.define("Ext.dom.CompositeElementLite",{alternateClassName:["Ext.CompositeElementLite"],isComposite:true,isLite:true,statics:{importElementMethods:function(){var a=Ext.dom.Element,b=this.prototype;Ext.Object.each(a.prototype,function(c,d){if(typeof d==="function"&&!b[c]){b[c]=function(){return this.invoke(c,arguments)}}})}},constructor:function(b,a){if(a){this.elements=b||[]}else{this.elements=[];this.add(b)}},getElement:function(b){var a=this._fly||(this._fly=new Ext.dom.Fly());return a.attach(b)},transformElement:function(a){return Ext.getDom(a)},getCount:function(){return this.elements.length},add:function(c,a){var e=this.elements,b,d;if(!c){return this}if(typeof c=="string"){c=Ext.fly(a||document).query(c)}else{if(c.isComposite){c=c.elements}else{if(!Ext.isIterable(c)){c=[c]}}}for(b=0,d=c.length;b<d;++b){e.push(this.transformElement(c[b]))}return this},invoke:function(e,b){var g=this,h=g.elements,f=h.length,a,d,c;if(c!==0){a=(g.isLite?Ext.dom.Fly:Ext.dom.Element).prototype;for(c=0;c<f;c++){d=h[c];if(d){a[e].apply(g.getElement(d),b)}}}return g},item:function(b){var c=this.elements[b],a=null;if(c){a=this.getElement(c)}return a},slice:function(){return this.elements.slice.apply(this.elements,arguments)},each:function(f,d){var g=this,c=g.elements,a=c.length,b,h;for(b=0;b<a;b++){h=c[b];if(h){h=this.getElement(h);if(f.call(d||h,h,g,b)===false){break}}}return g},fill:function(a){var b=this;b.elements=[];b.add(a);return b},insert:function(b,a){Ext.Array.insert(this.elements,b,a)},filter:function(b){var g=this,c=g.elements,f=c.length,d=[],e=0,h=typeof b=="function",j,a;for(;e<f;e++){a=c[e];j=false;if(a){a=g.getElement(a);if(h){j=b.call(a,a,g,e)!==false}else{j=a.is(b)}if(j){d.push(g.transformElement(a))}}}g.elements=d;return g},indexOf:function(a){return Ext.Array.indexOf(this.elements,this.transformElement(a))},replaceElement:function(e,c,a){var b=!isNaN(e)?e:this.indexOf(e),f;if(b>-1){c=Ext.getDom(c);if(a){f=this.elements[b];f.parentNode.insertBefore(c,f);Ext.removeNode(f)}Ext.Array.splice(this.elements,b,1,c)}return this},clear:function(d){var c=this,b=c.elements,a=b.length-1;if(d){for(;a>=0;a--){Ext.removeNode(b[a])}}this.elements=[]},addElements:function(d,b){if(!d){return this}if(typeof d==="string"){d=Ext.dom.Element.selectorFunction(d,b)}var c=this.elements,a=d.length,f;for(f=0;f<a;f++){c.push(Ext.get(d[f]))}return this},first:function(){return this.item(0)},last:function(){return this.item(this.getCount()-1)},contains:function(a){return this.indexOf(a)!=-1},removeElement:function(e,h){e=[].concat(e);var d=this,f=d.elements,c=e.length,g,b,a;for(a=0;a<c;a++){g=e[a];if((b=(f[g]||f[g=d.indexOf(g)]))){if(h){if(b.dom){b.destroy()}else{Ext.removeNode(b)}}Ext.Array.erase(f,g,1)}}return d},destroy:function(){return this.invoke("destroy",arguments)}},function(b){var a=b.prototype;b.importElementMethods();a.on=a.addListener});Ext.define("Ext.util.Filter",{isFilter:true,config:{property:null,value:null,filterFn:null,id:null,anyMatch:false,exactMatch:false,caseSensitive:false,disabled:false,operator:null,root:null},scope:null,$configStrict:false,statics:{createFilterFn:function(a){if(!a){return Ext.returnTrue}return function(f){var b=a.isCollection?a.items:a,g=b.length,c=true,d,e;for(d=0;c&&d<g;d++){e=b[d];if(!e.getDisabled()){c=e.filter(f)}}return c}},isInvalid:function(a){var b=a.value;if(!a.filterFn){if(!a.property){return"A Filter requires either a property or a filterFn to be set"}if(!(b||b===0||b===false||(b===""&&a.exatchMatch))){if(!a.operator){return"A Filter requires either a property and value, or a filterFn to be set"}}}return false}},constructor:function(a){var b=Ext.util.Filter.isInvalid(a);if(b){Ext.log.warn(b)}this.initConfig(a)},filter:function(b){var a=this,c=a._filterFn||a.getFilterFn();return c.call(a.scope||a,b)},getId:function(){var a=this._id;if(!a){a=this.getProperty();if(!a){a=Ext.id(null,"ext-filter-")}this._id=a}return a},getFilterFn:function(){var b=this,c=b._filterFn,a;if(!c){a=b.getOperator();if(a){c=b.operatorFns[a]}else{c=b.createRegexFilter()}b._filterFn=c}return c},createRegexFilter:function(){var b=this,e=!!b.getAnyMatch(),a=!!b.getExactMatch(),c=b.getValue(),d=Ext.String.createRegex(c,!e,!e&&a,!b.getCaseSensitive());return function(f){var g=b.getPropertyValue(f);return d?d.test(g):(g==null)}},getPropertyValue:function(b){var a=this._root,c=(a==null)?b:b[a];return c[this._property]},getState:function(){var c=this.getInitialConfig(),a={},b;for(b in c){if(c.hasOwnProperty(b)){a[b]=c[b]}}delete a.root;a.value=this.getValue();return a},getScope:function(){return this.scope},serialize:function(){var a=this.getState();delete a.id;return a}},function(){var a=this.prototype,e=(a.operatorFns={"<":function(g){var f=this._value;return Ext.coerce(this.getPropertyValue(g),f)<f},"<=":function(g){var f=this._value;return Ext.coerce(this.getPropertyValue(g),f)<=f},"=":function(g){var f=this._value;return Ext.coerce(this.getPropertyValue(g),f)==f},">=":function(g){var f=this._value;return Ext.coerce(this.getPropertyValue(g),f)>=f},">":function(g){var f=this._value;return Ext.coerce(this.getPropertyValue(g),f)>f},"!=":function(g){var f=this._value;return Ext.coerce(this.getPropertyValue(g),f)!=f},"in":function(g){var f=this._value;return Ext.Array.contains(f,Ext.coerce(this.getPropertyValue(g),f))},like:function(g){var f=this._value;return f&&Ext.coerce(this.getPropertyValue(g),f).toLowerCase().indexOf(f.toLowerCase())>-1}}),d=function(){this._filterFn=null},c=["updateOperator","updateValue"],b;e["=="]=e["="];e.gt=e[">"];e.ge=e[">="];e.lt=e["<"];e.le=e["<="];e.eq=e["="];e.ne=e["!="];for(b=c.length;b-->0;){a[c[b]]=d}});Ext.util=Ext.util||{};Ext.util.DelayedTask=function(e,d,b,g){var f=this,a,c=function(){var h=Ext.GlobalEvents;clearInterval(f.id);f.id=null;e.apply(d,b||[]);if(h.hasListeners.idle){h.fireEvent("idle")}};g=typeof g==="boolean"?g:true;f.id=null;f.delay=function(j,l,k,h){if(g){f.cancel()}if(typeof j==="number"){a=j}e=l||e;d=k||d;b=h||b;if(!f.id){f.id=setInterval(c,a)}};f.cancel=function(){if(f.id){clearInterval(f.id);f.id=null}}};Ext.define("Ext.util.Event",function(){var d=Array.prototype.slice,a=Ext.Array.insert,c=Ext.Array.toArray,b={};return{isEvent:true,suspended:0,noOptions:{},constructor:function(f,e){this.name=e;this.observable=f;this.listeners=[]},addListener:function(p,r,t,h){var n=this,o,j,q,e,s,m,g,l,k,f;if(typeof p!=="string"){r=r||n.observable}if(!p){Ext.Error.raise({sourceClass:Ext.getClassName(this.observable),sourceMethod:"addListener",msg:"The specified callback function is undefined"})}if(!n.isListening(p,r)){j=n.createListener(p,r,t,h);if(n.firing){n.listeners=n.listeners.slice(0)}o=n.listeners;l=g=o.length;q=t&&t.priority;s=n._highestNegativePriorityIndex;m=(s!==undefined);if(q){e=(q<0);if(!e||m){for(k=(e?s:0);k<g;k++){f=o[k].o?o[k].o.priority||0:0;if(f<q){l=k;break}}}else{n._highestNegativePriorityIndex=l}}else{if(m){l=s}}if(!e&&l<=s){n._highestNegativePriorityIndex++}if(l===g){n.listeners[g]=j}else{a(n.listeners,l,[j])}}return j},createListener:function(l,m,e,f){var j=this,h=m==="this"||m==="controller",g={fn:l,scope:m,ev:j,caller:f,preventClimb:h,defaultScope:h?m:undefined,lateBound:(typeof l==="string"&&(!m||h))},n=l,k=true;if(e){g.o=e;if(e.single){n=j.createSingle(n,g,e,m);k=false}if(e.target){n=j.createTargeted(n,g,e,m,k);k=false}if(e.delay){n=j.createDelayed(n,g,e,m,k);k=false}if(e.buffer){n=j.createBuffered(n,g,e,m,k);k=false}}g.fireFn=n;g.allowLookup=k;return g},findListener:function(k,j){var h=this.listeners,f=h.length,l,g,e;while(f--){l=h[f];if(l){g=l.scope;e=(l.lateBound&&!l.preventClimb)?undefined:(j||this.observable);if(l.fn==k&&g==e){return f}}}return -1},isListening:function(f,e){return this.findListener(f,e)!==-1},removeListener:function(h,g){var j=this,f,m,l,e;if(h.fireFn){f=Ext.Array.indexOf(listeners,h)}else{f=j.findListener(h,g)}if(f!=-1){m=j.listeners[f];l=j._highestNegativePriorityIndex;if(j.firing){j.listeners=j.listeners.slice(0)}if(m.task){m.task.cancel();delete m.task}e=m.tasks&&m.tasks.length;if(e){while(e--){m.tasks[e].cancel()}delete m.tasks}j.listeners.splice(f,1);if(l){if(f<l){j._highestNegativePriorityIndex--}else{if(f===l&&f===j.listeners.length){delete j._highestNegativePriorityIndex}}}return true}return false},clearListeners:function(){var f=this.listeners,e=f.length;while(e--){this.removeListener(f[e].fn,f[e].scope)}},suspend:function(){++this.suspended},resume:function(){if(this.suspended){--this.suspended}},isSuspended:function(){return this.suspended>0},fire:function(){var k=this,h=k.listeners,j=h.length,m,g,f,l,e;if(!k.suspended&&j>0){k.firing=true;f=arguments.length?d.call(arguments,0):[];e=f.length;for(g=0;g<j;g++){l=h[g];if(l.o){f[e]=l.o}if(l){m=k.getFireInfo(l);if(m.fn.apply(m.scope,f)===false){return(k.firing=false)}}}}k.firing=false;return true},getFireInfo:function(k,e){var l=this.observable,j=e?k.fn:k.fireFn,h=k.scope,g=k.caller;var f=j;if((e||k.allowLookup)&&k.lateBound){h=(g||l).resolveListenerScope(k.defaultScope);j=h[j]}else{h=h||l}b.fn=j;b.scope=h;if(!j){Ext.Error.raise('Unable to dynamically resolve method "'+f+'"')}return b},createTargeted:function(g,h,j,f,e){return function(){if(j.target===arguments[0]){var k;if(e){k=h.ev.getFireInfo(h,true);g=k.fn;f=k.scope}g.apply(f,arguments)}}},createBuffered:function(g,h,j,f,e){h.task=new Ext.util.DelayedTask();return function(){var k;if(e){k=h.ev.getFireInfo(h,true);g=k.fn;f=k.scope}h.task.delay(j.buffer,g,f,c(arguments))}},createDelayed:function(g,h,j,f,e){return function(){var k=new Ext.util.DelayedTask(),l;if(e){l=h.ev.getFireInfo(h,true);g=l.fn;f=l.scope}if(!h.tasks){h.tasks=[]}h.tasks.push(k);k.delay(j.delay||10,g,f,c(arguments))}},createSingle:function(f,g,h,e){return function(){var j=g.ev,k=j.getFireInfo(g,true);if(j.removeListener(g.fn,e)&&j.observable){j.observable.hasListeners[j.name]--}k.fn.apply(k.scope,arguments)}}}});Ext.define("Ext.util.Observable",function(a){var d=Ext.emptyFn,c=[],e=Array.prototype,f=e.slice,g=Ext.$eventNameMap,b=function(h){if(h instanceof b){return h}this.observable=h;if(arguments[1].isObservable){this.managedListeners=true}this.args=f.call(arguments,1)};b.prototype.destroy=function(){var h=this.observable;h[this.managedListeners?"mun":"un"].apply(h,this.args)};return{mixinId:"observable",statics:{releaseCapture:function(h){h.fireEventArgs=this.prototype.fireEventArgs},capture:function(l,j,h){var k=function(m,n){return j.apply(h,[m].concat(n))};this.captureArgs(l,k,h)},captureArgs:function(k,j,h){k.fireEventArgs=Ext.Function.createInterceptor(k.fireEventArgs,j,h)},observe:function(h,j){if(h){if(!h.isObservable){Ext.applyIf(h,new this());this.captureArgs(h.prototype,h.fireEventArgs,h)}if(Ext.isObject(j)){h.on(j)}}return h},prepareClass:function(l,j,o){var n=l.listeners=[],p=o?o.listeners:l.prototype.listeners,k,j;if(j){n.push(j.listeners)}else{n.push(l.superclass.self.listeners)}if(p){n.push(p)}if(!l.HasListeners){var m=function(){},h=l.superclass.HasListeners||(j&&j.HasListeners)||a.HasListeners;l.prototype.HasListeners=l.HasListeners=m;m.prototype=l.hasListeners=new h()}}},isObservable:true,isUtilObservable:true,eventsSuspended:0,constructor:function(k){var l=this,j=l.self,h;if(k){Ext.apply(l,k)}l.hasListeners=new l.HasListeners();l.events=l.events||{};h=j.listeners;if(h&&!l._addDeclaredListeners(h)){j.listeners=null}if(l.listeners){l.on(l.listeners);l.listeners=null}if(l.bubbleEvents){l.enableBubble(l.bubbleEvents)}},onClassExtended:function(h){if(!h.HasListeners){a.prepareClass(h)}},eventOptionsRe:/^(?:scope|delay|buffer|onFrame|single|stopEvent|preventDefault|stopPropagation|normalized|args|delegate|element|destroyable|vertical|horizontal|priority)$/,_addDeclaredListeners:function(h){var j=this;if(h instanceof Array){Ext.each(h,j._addDeclaredListeners,j)}else{j._addedDeclaredListeners=true;j.addListener(h)}return j._addedDeclaredListeners},addManagedListener:function(p,l,n,q,r,k){var m=this,o=m.managedListeners=m.managedListeners||[],j,h;if(typeof l!=="string"){h=arguments.length>4?r:l;r=l;for(l in r){if(r.hasOwnProperty(l)){j=r[l];if(!m.eventOptionsRe.test(l)){m.addManagedListener(p,l,j.fn||j,j.scope||r.scope||q,j.fn?j:h,true)}}}if(r&&r.destroyable){return new b(m,p,r)}}else{if(n!==d){o.push({item:p,ename:l,fn:n,scope:q,options:r});if(p.isUtilObservable){p.on(l,n,q,r,m)}else{p.on(l,n,q,r)}if(!k&&r&&r.destroyable){return new b(m,p,l,n,q)}}}},removeManagedListener:function(p,k,n,q){var m=this,r,j,o,h,l;if(typeof k!=="string"){r=k;for(k in r){if(r.hasOwnProperty(k)){j=r[k];if(!m.eventOptionsRe.test(k)){m.removeManagedListener(p,k,j.fn||j,j.scope||r.scope||q)}}}}else{o=m.managedListeners?m.managedListeners.slice():[];if(typeof n==="string"&&q&&q!=="this"&&q!=="controller"&&!o.length){m.resolveMethod(n,q)}for(l=0,h=o.length;l<h;l++){m.removeManagedListenerItem(false,o[l],p,k,n,q)}}},fireEvent:function(h){return this.fireEventArgs(h,f.call(arguments,1))},resolveListenerScope:function(h){if(h==="controller"){Ext.Error.raise('scope: "controller" can only be specified on components that derive from component')}if(h==="this"){h=null}return h||this},fireEventArgs:function(h,k){h=g[h]||(g[h]=h.toLowerCase());var n=this,l=n.events,m=l&&l[h],j=true;if(n.hasListeners[h]){j=n.doFireEvent(h,k||c,m?m.bubble:false)}return j},doFireEvent:function(k,m,j){var o=this,h,n,l=true;do{if(o.eventsSuspended){if((h=o.eventQueue)){h.push([k,m])}return l}else{n=o.events&&o.events[k];if(n&&n!==true){if((l=n.fire.apply(n,m))===false){break}}}}while(j&&(o=o.getBubbleParent()));return l},getBubbleParent:function(){var j=this,h=j.getBubbleTarget&&j.getBubbleTarget();if(h&&h.isObservable){return h}return null},addListener:function(l,n,p,q,j){var m=this,k,h,o=0;if(typeof l!=="string"){q=l;for(l in q){k=q[l];if(!m.eventOptionsRe.test(l)){m.addListener(l,k.fn||k,k.scope||q.scope,k.fn?k:q,j)}}if(q&&q.destroyable){return new b(m,q)}}else{l=g[l]||(g[l]=l.toLowerCase());h=(m.events||(m.events={}))[l];if(h&&h.isEvent){o=h.listeners.length}else{m.events[l]=h=new Ext.util.Event(m,l)}if(typeof n==="string"&&p&&p!=="this"&&p!=="controller"){n=m.resolveMethod(n,p)}else{if(!(typeof n==="string"&&(!p||p==="this"||p==="controller"))){Ext.Assert.isFunction(n,"No function passed for event "+m.$className+"."+l)}}if(n!==d){h.addListener(n,p,q,j);if(h.listeners.length!==o){m.hasListeners._incr_(l)}if(q&&q.destroyable){return new b(m,l,n,p,q)}}}},removeListener:function(l,n,m){var p=this,k=p.events,j,o,h;if(typeof l!=="string"){h=l;for(l in h){if(h.hasOwnProperty(l)){j=h[l];if(!p.eventOptionsRe.test(l)){p.removeListener(l,j.fn||j,j.scope||h.scope)}}}}else{l=g[l]||(g[l]=l.toLowerCase());o=k&&k[l];if(o&&o.isEvent){if(typeof n==="string"&&m&&m!=="this"&&m!=="controller"){n=p.resolveMethod(n,m)}if(o.removeListener(n,m)){p.hasListeners._decr_(l)}}}},clearListeners:function(){var m=this,k=m.events,h=m.hasListeners,l,j;if(k){for(j in k){if(k.hasOwnProperty(j)){l=k[j];if(l.isEvent){delete h[j];l.clearListeners()}}}}m.clearManagedListeners()},purgeListeners:function(){if(Ext.global.console){Ext.global.console.warn("Observable: purgeListeners has been deprecated. Please use clearListeners.")}return this.clearListeners.apply(this,arguments)},clearManagedListeners:function(){var l=this,j=l.managedListeners||[],k=0,h=j.length;for(;k<h;k++){l.removeManagedListenerItem(true,j[k])}l.managedListeners=[]},removeManagedListenerItem:function(j,h,n,k,m,l){if(j||(h.item===n&&h.ename===k&&(!m||h.fn===m)&&(!l||h.scope===l))){h.item.un(h.ename,h.fn,h.scope);if(!j){Ext.Array.remove(this.managedListeners,h)}}},purgeManagedListeners:function(){if(Ext.global.console){Ext.global.console.warn("Observable: purgeManagedListeners has been deprecated. Please use clearManagedListeners.")}return this.clearManagedListeners.apply(this,arguments)},resolveMethod:function(j,h){if(!j){Ext.Error.raise("No function specified")}if(!h||!Ext.isObject(h)){Ext.Error.raise('Named method "'+j+'" requires a scope object')}if(!Ext.isFunction(h[j])){Ext.Error.raise('No method named "'+j+'" on '+(h.$className||"scope object"))}return h[j]},hasListener:function(h){h=g[h]||(g[h]=h.toLowerCase());return !!this.hasListeners[h]},isSuspended:function(k){var j=this.eventsSuspended>0,h=this.events;if(!j&&k&&h){k=h[k];if(k&&k.isEvent){return k.isSuspended()}}return j},suspendEvents:function(h){++this.eventsSuspended;if(h&&!this.eventQueue){this.eventQueue=[]}},suspendEvent:function(){var n=this,l=n.events||(n.events={}),h=arguments.length,k,m,j;for(k=0;k<h;k++){j=arguments[k];j=g[j]||(g[j]=j.toLowerCase());m=l[j];if(!m||!m.isEvent){l[j]=m=new Ext.util.Event(n,j)}m.suspend()}},resumeEvent:function(){var k=this.events||0,h=k&&arguments.length,j,l;for(j=0;j<h;j++){l=k[arguments[j]];if(l&&l.resume){l.resume()}}},resumeEvents:function(h){var j=this,m=j.eventQueue,l,k;if(j.eventsSuspended&&!--j.eventsSuspended){delete j.eventQueue;if(!h&&m){l=m.length;for(k=0;k<l;k++){j.fireEventArgs.apply(j,m[k])}}}},relayEvents:function(j,l,o){var n=this,h=l.length,k=0,m,p={};for(;k<h;k++){m=l[k];p[m]=n.createRelayer(o?o+m:m)}n.mon(j,p,null,null,undefined);return new b(n,j,p)},createRelayer:function(h,j){var k=this;return function(){return k.fireEventArgs.call(k,h,j?f.apply(arguments,j):arguments)}},enableBubble:function(p){if(p){var n=this,o=(typeof p=="string")?arguments:p,k=n.events||(n.events={}),m=k&&o.length,j,l,h;for(h=0;h<m;++h){j=o[h];j=g[j]||(g[j]=j.toLowerCase());l=k[j];if(!l||!l.isEvent){k[j]=l=new Ext.util.Event(n,j)}n.hasListeners._incr_(j);l.bubble=true}}},deprecated:{"5.0":{methods:{addEvents:null}}}}},function(){var a=this,d=a.prototype,b=function(){},e=function(f){if(!f.HasListeners){var g=f.prototype;a.prepareClass(f,this);f.onExtended(function(h,j){Ext.classSystemMonitor&&Ext.classSystemMonitor("extend mixin",arguments);a.prepareClass(h,null,j)});if(g.onClassMixedIn){Ext.override(f,{onClassMixedIn:function(h){e.call(this,h);this.callParent(arguments)}})}else{g.onClassMixedIn=function(h){e.call(this,h)}}}};b.prototype={_decr_:function(f){if(!--this[f]){delete this[f]}},_incr_:function(f){if(this.hasOwnProperty(f)){++this[f]}else{this[f]=1}}};d.HasListeners=a.HasListeners=b;a.createAlias({on:"addListener",un:"removeListener",mon:"addManagedListener",mun:"removeManagedListener"});a.observeClass=a.observe;function c(m){var l=(this.methodEvents=this.methodEvents||{})[m],h,g,j,k=this,f;if(!l){this.methodEvents[m]=l={};l.originalFn=this[m];l.methodName=m;l.before=[];l.after=[];f=function(p,o,n){if((g=p.apply(o||k,n))!==undefined){if(typeof g=="object"){if(g.returnValue!==undefined){h=g.returnValue}else{h=g}j=!!g.cancel}else{if(g===false){j=true}else{h=g}}}};this[m]=function(){var p=Array.prototype.slice.call(arguments,0),o,q,n;h=g=undefined;j=false;for(q=0,n=l.before.length;q<n;q++){o=l.before[q];f(o.fn,o.scope,p);if(j){return h}}if((g=l.originalFn.apply(k,p))!==undefined){h=g}for(q=0,n=l.after.length;q<n;q++){o=l.after[q];f(o.fn,o.scope,p);if(j){return h}}return h}}return l}Ext.apply(d,{onClassMixedIn:e,beforeMethod:function(h,g,f){c.call(this,h).before.push({fn:g,scope:f})},afterMethod:function(h,g,f){c.call(this,h).after.push({fn:g,scope:f})},removeMethodListener:function(l,j,h){var k=this.getMethodEvent(l),g,f;for(g=0,f=k.before.length;g<f;g++){if(k.before[g].fn==j&&k.before[g].scope==h){Ext.Array.erase(k.before,g,1);return}}for(g=0,f=k.after.length;g<f;g++){if(k.after[g].fn==j&&k.after[g].scope==h){Ext.Array.erase(k.after,g,1);return}}},toggleEventLogging:function(f){Ext.util.Observable[f?"capture":"releaseCapture"](this,function(g){if(Ext.isDefined(Ext.global.console)){Ext.global.console.log(g,arguments)}})}})});Ext.define("Ext.util.AbstractMixedCollection",{mixins:{observable:Ext.util.Observable},isMixedCollection:true,generation:0,indexGeneration:0,constructor:function(b,a){var c=this;if(arguments.length===1&&Ext.isObject(b)){c.initialConfig=b;Ext.apply(c,b)}else{c.allowFunctions=b===true;if(a){c.getKey=a}c.initialConfig={allowFunctions:c.allowFunctions,getKey:c.getKey}}c.items=[];c.map={};c.keys=[];c.indexMap={};c.length=0;c.mixins.observable.constructor.call(c)},allowFunctions:false,add:function(c,d){var a=this.length,b;if(arguments.length===1){b=this.insert(a,c)}else{b=this.insert(a,c,d)}return b},getKey:function(a){return a.id},replace:function(c,e){var d=this,a,b;if(arguments.length==1){e=arguments[0];c=d.getKey(e)}a=d.map[c];if(typeof c=="undefined"||c===null||typeof a=="undefined"){return d.add(c,e)}d.generation++;b=d.indexOfKey(c);d.items[b]=e;d.map[c]=e;if(d.hasListeners.replace){d.fireEvent("replace",c,a,e)}return e},updateKey:function(f,g){var d=this,e=d.map,a=d.indexOfKey(f),c=d.indexMap,b;if(a>-1){b=e[f];delete e[f];delete c[f];e[g]=b;c[g]=a;d.keys[a]=g;d.indexGeneration=++d.generation}},addAll:function(c){var b=this,a;if(arguments.length>1||Ext.isArray(c)){b.insert(b.length,arguments.length>1?arguments:c)}else{for(a in c){if(c.hasOwnProperty(a)){if(b.allowFunctions||typeof c[a]!="function"){b.add(a,c[a])}}}}},each:function(e,d){var b=Ext.Array.push([],this.items),c=0,a=b.length,f;for(;c<a;c++){f=b[c];if(e.call(d||f,f,c,a)===false){break}}},eachKey:function(e,d){var f=this.keys,b=this.items,c=0,a=f.length;for(;c<a;c++){e.call(d||window,f[c],b[c],c,a)}},findBy:function(e,d){var f=this.keys,b=this.items,c=0,a=b.length;for(;c<a;c++){if(e.call(d||window,b[c],f[c])){return b[c]}}return null},find:function(){if(Ext.isDefined(Ext.global.console)){Ext.global.console.warn("Ext.util.MixedCollection: find has been deprecated. Use findBy instead.")}return this.findBy.apply(this,arguments)},insert:function(b,c,d){var a;if(Ext.isIterable(c)){a=this.doInsert(b,c,d)}else{if(arguments.length>2){a=this.doInsert(b,[c],[d])}else{a=this.doInsert(b,[c])}a=a[0]}return a},doInsert:function(h,n,m){var k=this,b,c,f,j=n.length,a=j,e=k.hasListeners.add,d,g={},l,p,o;if(m!=null){k.useLinearSearch=true}else{m=n;n=new Array(j);for(f=0;f<j;f++){n[f]=this.getKey(m[f])}}k.suspendEvents();for(f=0;f<j;f++){b=n[f];c=k.indexOfKey(b);if(c!==-1){if(c<h){h--}k.removeAt(c)}if(b!=null){if(g[b]!=null){l=true;a--}g[b]=f}}k.resumeEvents();if(l){p=n;o=m;n=new Array(a);m=new Array(a);f=0;for(b in g){n[f]=p[g[b]];m[f]=o[g[b]];f++}j=a}d=h===k.length&&k.indexGeneration===k.generation;Ext.Array.insert(k.items,h,m);Ext.Array.insert(k.keys,h,n);k.length+=j;k.generation++;if(d){k.indexGeneration=k.generation}for(f=0;f<j;f++,h++){b=n[f];if(b!=null){k.map[b]=m[f];if(d){k.indexMap[b]=h}}if(e){k.fireEvent("add",h,m[f],b)}}return m},remove:function(d){var c=this,b,a;if(!c.useLinearSearch&&(b=c.getKey(d))){a=c.indexOfKey(b)}else{a=Ext.Array.indexOf(c.items,d)}return(a===-1)?false:c.removeAt(a)},removeAll:function(a){var c=this,b;if(a||c.hasListeners.remove){if(a){for(b=a.length-1;b>=0;--b){c.remove(a[b])}}else{while(c.length){c.removeAt(0)}}}else{c.length=c.items.length=c.keys.length=0;c.map={};c.indexMap={};c.generation++;c.indexGeneration=c.generation}},removeAt:function(a){var c=this,d,b;if(a<c.length&&a>=0){c.length--;d=c.items[a];Ext.Array.erase(c.items,a,1);b=c.keys[a];if(typeof b!="undefined"){delete c.map[b]}Ext.Array.erase(c.keys,a,1);if(c.hasListeners.remove){c.fireEvent("remove",d,b)}c.generation++;return d}return false},removeRange:function(g,a){var h=this,b,j,f,e,c,d;if(g<h.length&&g>=0){if(!a){a=1}e=Math.min(g+a,h.length);a=e-g;d=e===h.length;c=d&&h.indexGeneration===h.generation;for(f=g;f<e;f++){j=h.keys[f];if(j!=null){delete h.map[j];if(c){delete h.indexMap[j]}}}b=h.items[f-1];h.length-=a;h.generation++;if(c){h.indexGeneration=h.generation}if(d){h.items.length=h.keys.length=h.length}else{h.items.splice(g,a);h.keys.splice(g,a)}return b}return false},removeAtKey:function(b){var d=this,c=d.keys,a;if(b==null){for(a=c.length-1;a>=0;a--){if(c[a]==null){d.removeAt(a)}}}else{return d.removeAt(d.indexOfKey(b))}},getCount:function(){return this.length},indexOf:function(c){var b=this,a;if(c!=null){if(!b.useLinearSearch&&(a=b.getKey(c))){return this.indexOfKey(a)}return Ext.Array.indexOf(b.items,c)}return -1},indexOfKey:function(a){if(!this.map.hasOwnProperty(a)){return -1}if(this.indexGeneration!==this.generation){this.rebuildIndexMap()}return this.indexMap[a]},rebuildIndexMap:function(){var e=this,d=e.indexMap={},c=e.keys,a=c.length,b;for(b=0;b<a;b++){d[c[b]]=b}e.indexGeneration=e.generation},get:function(b){var d=this,a=d.map[b],c=a!==undefined?a:(typeof b=="number")?d.items[b]:undefined;return typeof c!="function"||d.allowFunctions?c:null},getAt:function(a){return this.items[a]},getByKey:function(a){return this.map[a]},contains:function(c){var b=this,a;if(c!=null){if(!b.useLinearSearch&&(a=b.getKey(c))){return this.map[a]!=null}return Ext.Array.indexOf(this.items,c)!==-1}return false},containsKey:function(a){return this.map.hasOwnProperty(a)},clear:function(){var a=this;if(a.generation){a.length=0;a.items=[];a.keys=[];a.map={};a.indexMap={};a.generation++;a.indexGeneration=a.generation}if(a.hasListeners.clear){a.fireEvent("clear")}},first:function(){return this.items[0]},last:function(){return this.items[this.length-1]},sum:function(g,b,h,a){var c=this.extractValues(g,b),f=c.length,e=0,d;h=h||0;a=(a||a===0)?a:f-1;for(d=h;d<=a;d++){e+=c[d]}return e},collect:function(j,e,g){var k=this.extractValues(j,e),a=k.length,b={},c=[],h,f,d;for(d=0;d<a;d++){h=k[d];f=String(h);if((g||!Ext.isEmpty(h))&&!b[f]){b[f]=true;c.push(h)}}return c},extractValues:function(c,a){var b=this.items;if(a){b=Ext.Array.pluck(b,a)}return Ext.Array.pluck(b,c)},hasRange:function(b,a){return(a<this.length)},getRange:function(h,b){var g=this,d=g.items,c=[],a=d.length,f,e;if(a<1){return c}if(h>b){e=true;f=h;h=b;b=f}if(h<0){h=0}if(b==null||b>=a){b=a-1}c=d.slice(h,b+1);if(e&&c.length){c.reverse()}return c},filter:function(d,c,e,a){var b=[];if(Ext.isString(d)){b.push(new Ext.util.Filter({property:d,value:c,anyMatch:e,caseSensitive:a}))}else{if(Ext.isArray(d)||d instanceof Ext.util.Filter){b=b.concat(d)}}return this.filterBy(Ext.util.Filter.createFilterFn(b))},filterBy:function(e,d){var h=this,a=new h.self(h.initialConfig),g=h.keys,b=h.items,f=b.length,c;a.getKey=h.getKey;for(c=0;c<f;c++){if(e.call(d||h,b[c],g[c])){a.add(g[c],b[c])}}a.useLinearSearch=h.useLinearSearch;return a},findIndex:function(c,b,e,d,a){if(Ext.isEmpty(b,false)){return -1}b=this.createValueMatcher(b,d,a);return this.findIndexBy(function(f){return f&&b.test(f[c])},null,e)},findIndexBy:function(e,d,h){var g=this,f=g.keys,b=g.items,c=h||0,a=b.length;for(;c<a;c++){if(e.call(d||g,b[c],f[c])){return c}}return -1},createValueMatcher:function(c,e,a,b){if(!c.exec){var d=Ext.String.escapeRegex;c=String(c);if(e===true){c=d(c)}else{c="^"+d(c);if(b===true){c+="$"}}c=new RegExp(c,a?"":"i")}return c},clone:function(){var a=this,b=new a.self(a.initialConfig);b.add(a.keys,a.items);b.useLinearSearch=a.useLinearSearch;return b}});Ext.define("Ext.util.Sorter",{isSorter:true,config:{property:null,sorterFn:null,root:null,transform:null,direction:"ASC",id:undefined},statics:{createComparator:function(b,a){a=a||0;return function(c,h){var e=b.isCollection?b.items:b,g=e.length,d,f;for(f=0;f<g;++f){d=e[f].sort(c,h);if(d){return d}}return a&&a(c,h)}}},multiplier:1,constructor:function(a){if(a&&!this.isGrouper){if(!a.property===!a.sorterFn){Ext.Error.raise("A Sorter requires either a property or a sorterFn.")}}this.initConfig(a)},getId:function(){var a=this._id;if(!a){a=this.getProperty();if(!a){a=Ext.id(null,"ext-sorter-")}this._id=a}return a},sort:function(a,b){return this.multiplier*this.sortFn(a,b)},sortFn:function(d,c){var f=this,e=f._transform,b=f._root,g=f._property,a,h;if(b){d=d[b];c=c[b]}a=d[g];h=c[g];if(e){a=e(a);h=e(h)}return(a>h)?1:(a<h?-1:0)},applyDirection:function(a){return a?a:"ASC"},updateDirection:function(a){this.multiplier=(a.toUpperCase()==="DESC")?-1:1},updateProperty:function(a){if(a){delete this.sortFn}},updateSorterFn:function(a){this.sortFn=a},toggle:function(){this.setDirection(Ext.String.toggle(this.getDirection(),"ASC","DESC"))},getState:function(){return{root:this.getRoot(),property:this.getProperty(),direction:this.getDirection()}},serialize:function(){return{property:this.getProperty(),direction:this.getDirection()}}});Ext.define("Ext.util.Sortable",{isSortable:true,$configPrefixed:false,$configStrict:false,config:{sorters:null},defaultSortDirection:"ASC",multiSortLimit:3,statics:{createComparator:function(a){return a&&a.length?function(d,c){var b=a[0].sort(d,c),f=a.length,e=1;for(;!b&&e<f;e++){b=a[e].sort.call(this,d,c)}return b}:function(){return 0}}},applySorters:function(c){var b=this,a=b.getSorters()||new Ext.util.MixedCollection(false,Ext.returnId);if(c){a.addAll(b.decodeSorters(c))}return a},sort:function(g,f,a,e){var b=this,h,d,c=b.getSorters();if(!c){b.setSorters(null);c=b.getSorters()}if(Ext.isArray(g)){e=a;a=f}else{if(Ext.isObject(g)){g=[g];e=a;a=f}else{if(Ext.isString(g)){h=c.get(g);if(!h){h={property:g,direction:f}}else{if(f==null){h.toggle()}else{h.setDirection(f)}}g=[h]}}}if(g&&g.length){g=b.decodeSorters(g);switch(a){case"multi":c.insert(0,g[0]);d=c.getCount()-b.multiSortLimit;if(d>0){c.removeRange(b.multiSortLimit,d)}break;case"prepend":c.insert(0,g);break;case"append":c.addAll(g);break;case undefined:case null:case"replace":c.clear();c.addAll(g);break;default:Ext.Error.raise('Sorter insertion point must be "multi", "prepend", "append" or "replace"')}}if(e!==false){b.fireEvent("beforesort",b,g);b.onBeforeSort(g);if(b.getSorterCount()){b.doSort(b.generateComparator())}}return g},getSorterCount:function(){return this.getSorters().items.length},generateComparator:function(){var a=this.getSorters().getRange();return a.length?this.createComparator(a):this.emptyComparator},emptyComparator:function(){return 0},onBeforeSort:Ext.emptyFn,decodeSorters:function(f){if(!Ext.isArray(f)){if(f===undefined){f=[]}else{f=[f]}}var d=f.length,g=Ext.util.Sorter,b=this.getModel?this.getModel():this.model,e,a,c;for(c=0;c<d;c++){a=f[c];if(!(a instanceof g)){if(Ext.isString(a)){a={property:a}}Ext.applyIf(a,{root:this.sortRoot,direction:"ASC"});if(a.fn){a.sorterFn=a.fn}if(typeof a=="function"){a={sorterFn:a}}if(b&&!a.transform){e=b.getField(a.property);a.transform=e&&e.sortType!==Ext.identityFn?e.sortType:undefined}f[c]=new Ext.util.Sorter(a)}}return f},getFirstSorter:function(){var c=this.getSorters().items,a=c.length,b=0,d;for(;b<a;++b){d=c[b];if(!d.isGrouper){return d}}return null}},function(){this.prototype.createComparator=this.createComparator});Ext.define("Ext.util.MixedCollection",{extend:Ext.util.AbstractMixedCollection,mixins:{sortable:Ext.util.Sortable},constructor:function(){var a=this;a.initConfig();a.callParent(arguments)},doSort:function(a){this.sortBy(a)},_sort:function(l,b,k){var j=this,e,f,d=String(b).toUpperCase()=="DESC"?-1:1,h=[],m=j.keys,g=j.items,a;k=k||function(n,c){return n-c};for(e=0,f=g.length;e<f;e++){h[h.length]={key:m[e],value:g[e],index:e}}Ext.Array.sort(h,function(n,c){return k(n[l],c[l])*d||(n.index<c.index?-1:1)});for(e=0,f=h.length;e<f;e++){a=h[e];g[e]=a.value;m[e]=a.key;j.indexMap[a.key]=e}j.generation++;j.indexGeneration=j.generation;j.fireEvent("sort",j)},sortBy:function(b){var h=this,a=h.items,g,f=h.keys,d,e=a.length,c;for(c=0;c<e;c++){a[c].$extCollectionIndex=c}Ext.Array.sort(a,function(k,j){return b(k,j)||(k.$extCollectionIndex<j.$extCollectionIndex?-1:1)});for(c=0;c<e;c++){g=a[c];d=h.getKey(g);f[c]=d;h.indexMap[d]=c;delete a.$extCollectionIndex}h.generation++;h.indexGeneration=h.generation;h.fireEvent("sort",h,a,f)},findInsertionIndex:function(e,d){var f=this,b=f.items,h=0,a=b.length-1,c,g;if(!d){d=f.generateComparator()}while(h<=a){c=(h+a)>>1;g=d(e,b[c]);if(g>=0){h=c+1}else{if(g<0){a=c-1}}}return h},reorder:function(d){var g=this,b=g.items,c=0,f=b.length,a=[],e=[],h;g.suspendEvents();for(h in d){a[d[h]]=b[h]}for(c=0;c<f;c++){if(d[c]==undefined){e.push(b[c])}}for(c=0;c<f;c++){if(a[c]==undefined){a[c]=e.shift()}}g.clear();g.addAll(a);g.resumeEvents();g.fireEvent("sort",g)},sortByKey:function(a,b){this._sort("key",a,b||function(d,c){var f=String(d).toUpperCase(),e=String(c).toUpperCase();return f>e?1:(f<e?-1:0)})}});Ext.define("Ext.util.TaskRunner",{interval:10,timerId:null,constructor:function(a){var b=this;if(typeof a=="number"){b.interval=a}else{if(a){Ext.apply(b,a)}}b.tasks=[];b.timerFn=Ext.Function.bind(b.onTick,b)},newTask:function(b){var a=new Ext.util.TaskRunner.Task(b);a.manager=this;return a},start:function(a){var c=this,b=Ext.Date.now();if(!a.pending){c.tasks.push(a);a.pending=true}a.stopped=false;a.taskStartTime=b;a.taskRunTime=a.fireOnStart!==false?0:a.taskStartTime;a.taskRunCount=0;if(!c.firing){if(a.fireOnStart!==false){c.startTimer(0,b)}else{c.startTimer(a.interval,b)}}return a},stop:function(a){if(!a.stopped){a.stopped=true;if(a.onStop){a.onStop.call(a.scope||a,a)}}return a},stopAll:function(){Ext.each(this.tasks,this.stop,this)},firing:false,nextExpires:1e+99,onTick:function(){var m=this,f=m.tasks,a=Ext.Date.now(),n=1e+99,k=f.length,d=Ext.GlobalEvents,c,o,h,b,e,g,p;m.timerId=null;m.firing=true;for(h=0;h<k||h<(k=f.length);++h){b=f[h];if(!(g=b.stopped)){c=b.taskRunTime+b.interval;if(c<=a){e=1;if(b.hasOwnProperty("fireIdleEvent")){p=b.fireIdleEvent}else{p=m.fireIdleEvent}try{e=b.run.apply(b.scope||b,b.args||[++b.taskRunCount])}catch(j){try{Ext.log({msg:j,level:"error"});if(b.onError){e=b.onError.call(b.scope||b,b,j)}}catch(l){}}b.taskRunTime=a;if(e===false||b.taskRunCount===b.repeat){m.stop(b);g=true}else{g=b.stopped;c=a+b.interval}}if(!g&&b.duration&&b.duration<=(a-b.taskStartTime)){m.stop(b);g=true}}if(g){b.pending=false;if(!o){o=f.slice(0,h)}}else{if(o){o.push(b)}if(n>c){n=c}}}if(o){m.tasks=o}m.firing=false;if(m.tasks.length){m.startTimer(n-a,Ext.Date.now())}if(p!==false&&d.hasListeners.idle){d.fireEvent("idle")}},startTimer:function(e,c){var d=this,b=c+e,a=d.timerId;if(a&&d.nextExpires-b>d.interval){clearTimeout(a);a=null}if(!a){if(e<d.interval){e=d.interval}d.timerId=setTimeout(d.timerFn,e);d.nextExpires=b}}},function(){var b=this,a=b.prototype;a.destroy=a.stopAll;b.Task=new Ext.Class({isTask:true,stopped:true,fireOnStart:false,constructor:function(c){Ext.apply(this,c)},restart:function(c){if(c!==undefined){this.interval=c}this.manager.start(this)},start:function(c){if(this.stopped){this.restart(c)}},stop:function(){this.manager.stop(this)}});a=b.Task.prototype;a.destroy=a.stop});Ext.define("Ext.fx.target.Target",{isAnimTarget:true,constructor:function(a){this.target=a;this.id=this.getId()},getId:function(){return this.target.id},remove:function(){Ext.destroy(this.target)}});Ext.define("Ext.fx.target.Element",{extend:Ext.fx.target.Target,type:"element",getElVal:function(b,a,c){if(c==undefined){if(a==="x"){c=b.getX()}else{if(a==="y"){c=b.getY()}else{if(a==="scrollTop"){c=b.getScroll().top}else{if(a==="scrollLeft"){c=b.getScroll().left}else{if(a==="height"){c=b.getHeight()}else{if(a==="width"){c=b.getWidth()}else{c=b.getStyle(a)}}}}}}}return c},getAttr:function(a,c){var b=this.target;return[[b,this.getElVal(b,a,c)]]},setAttr:function(h){var e=this.target,g=h.length,k,f,b,d,c,a;for(d=0;d<g;d++){k=h[d].attrs;for(f in k){if(k.hasOwnProperty(f)){a=k[f].length;for(c=0;c<a;c++){b=k[f][c];this.setElVal(b[0],f,b[1])}}}}},setElVal:function(b,a,c){if(a==="x"){b.setX(c)}else{if(a==="y"){b.setY(c)}else{if(a==="scrollTop"){b.scrollTo("top",c)}else{if(a==="scrollLeft"){b.scrollTo("left",c)}else{if(a==="width"){b.setWidth(c)}else{if(a==="height"){b.setHeight(c)}else{b.setStyle(a,c)}}}}}}}});Ext.define("Ext.fx.target.ElementCSS",{extend:Ext.fx.target.Element,setAttr:function(m,e){var p={attrs:[],duration:[],easing:[]},l=m.length,f,n,h,k,c,b,g,d,a;for(g=0;g<l;g++){n=m[g];c=n.duration;k=n.easing;n=n.attrs;for(h in n){if(Ext.Array.indexOf(p.attrs,h)==-1){p.attrs.push(h.replace(/[A-Z]/g,function(j){return"-"+j.toLowerCase()}));p.duration.push(c+"ms");p.easing.push(k)}}}f=p.attrs.join(",");c=p.duration.join(",");k=p.easing.join(", ");for(g=0;g<l;g++){n=m[g].attrs;for(h in n){a=n[h].length;for(d=0;d<a;d++){b=n[h][d];b[0].setStyle(Ext.supports.CSS3Prefix+"TransitionProperty",e?"":f);b[0].setStyle(Ext.supports.CSS3Prefix+"TransitionDuration",e?"":c);b[0].setStyle(Ext.supports.CSS3Prefix+"TransitionTimingFunction",e?"":k);b[0].setStyle(h,b[1]);if(e){b=b[0].dom.offsetWidth}else{b[0].on(Ext.supports.CSS3TransitionEnd,function(){this.setStyle(Ext.supports.CSS3Prefix+"TransitionProperty",null);this.setStyle(Ext.supports.CSS3Prefix+"TransitionDuration",null);this.setStyle(Ext.supports.CSS3Prefix+"TransitionTimingFunction",null)},b[0],{single:true})}}}}}});Ext.define("Ext.fx.target.CompositeElement",{extend:Ext.fx.target.Element,isComposite:true,constructor:function(a){a.id=a.id||Ext.id(null,"ext-composite-");this.callParent([a])},getAttr:function(a,h){var b=[],g=this.target,f=g.elements,e=f.length,c,d;for(c=0;c<e;c++){d=f[c];if(d){d=g.getElement(d);b.push([d,this.getElVal(d,a,h)])}}return b},setAttr:function(m){var h=this.target,l=m.length,b=h.elements,q=b.length,n,d,p,g,c,f,e,a;for(f=0;f<l;f++){p=m[f].attrs;for(g in p){if(p.hasOwnProperty(g)){a=p[g].length;for(e=0;e<a;e++){n=p[g][e][1];for(d=0;d<q;++d){el=b[d];if(el){el=h.getElement(el);this.setElVal(el,g,n)}}}}}}},remove:function(){this.target.destroy()}});Ext.define("Ext.fx.target.CompositeElementCSS",{extend:Ext.fx.target.CompositeElement,setAttr:function(){return Ext.fx.target.ElementCSS.prototype.setAttr.apply(this,arguments)}});Ext.define("Ext.fx.target.Sprite",{extend:Ext.fx.target.Target,type:"draw",getFromPrim:function(b,a){var c;switch(a){case"rotate":case"rotation":c=b.attr.rotation;return{x:c.x||0,y:c.y||0,degrees:c.degrees||0};case"scale":case"scaling":c=b.attr.scaling;return{x:c.x||1,y:c.y||1,cx:c.cx||0,cy:c.cy||0};case"translate":case"translation":c=b.attr.translation;return{x:c.x||0,y:c.y||0};default:return b.attr[a]}},getAttr:function(a,b){return[[this.target,b!=undefined?b:this.getFromPrim(this.target,a)]]},setAttr:function(l){var f=l.length,h=[],b,e,o,q,p,n,m,d,c,k,g,a;for(d=0;d<f;d++){b=l[d].attrs;for(e in b){o=b[e];a=o.length;for(c=0;c<a;c++){p=o[c][0];q=o[c][1];if(e==="translate"||e==="translation"){m={x:q.x,y:q.y}}else{if(e==="rotate"||e==="rotation"){k=q.x;if(isNaN(k)){k=null}g=q.y;if(isNaN(g)){g=null}m={degrees:q.degrees,x:k,y:g}}else{if(e==="scale"||e==="scaling"){k=q.x;if(isNaN(k)){k=null}g=q.y;if(isNaN(g)){g=null}m={x:k,y:g,cx:q.cx,cy:q.cy}}else{if(e==="width"||e==="height"||e==="x"||e==="y"){m=parseFloat(q)}else{m=q}}}}n=Ext.Array.indexOf(h,p);if(n==-1){h.push([p,{}]);n=h.length-1}h[n][1][e]=m}}}f=h.length;for(d=0;d<f;d++){h[d][0].setAttributes(h[d][1])}this.target.redraw()}});Ext.define("Ext.fx.target.CompositeSprite",{extend:Ext.fx.target.Sprite,getAttr:function(a,g){var b=[],f=[].concat(this.target.items),e=f.length,d,c;for(d=0;d<e;d++){c=f[d];b.push([c,g!=undefined?g:this.getFromPrim(c,a)])}return b}});Ext.define("Ext.fx.target.Component",{extend:Ext.fx.target.Target,type:"component",getPropMethod:{top:function(){return this.getPosition(true)[1]},left:function(){return this.getPosition(true)[0]},x:function(){return this.getPosition()[0]},y:function(){return this.getPosition()[1]},height:function(){return this.getHeight()},width:function(){return this.getWidth()},opacity:function(){return this.el.getStyle("opacity")}},setMethods:{top:"setPosition",left:"setPosition",x:"setPagePosition",y:"setPagePosition",height:"setSize",width:"setSize",opacity:"setOpacity"},getAttr:function(a,b){return[[this.target,b!==undefined?b:this.getPropMethod[a].call(this.target)]]},setAttr:function(r,f,b){var p=this,n=r.length,u,m,c,g,e,l,d,q,t,k,a={},s;for(g=0;g<n;g++){u=r[g].attrs;for(m in u){l=u[m].length;for(e=0;e<l;e++){c=u[m][e];s=a[p.setMethods[m]]||(a[p.setMethods[m]]={});s.target=c[0];s[m]=c[1]}}if(a.setPosition){c=a.setPosition;d=(c.left===undefined)?undefined:parseFloat(c.left);q=(c.top===undefined)?undefined:parseFloat(c.top);c.target.setPosition(d,q)}if(a.setPagePosition){c=a.setPagePosition;c.target.setPagePosition(c.x,c.y)}if(a.setSize){c=a.setSize;t=(c.width===undefined)?c.target.getWidth():parseFloat(c.width);k=(c.height===undefined)?c.target.getHeight():parseFloat(c.height);c.target.el.setSize(t,k);if(b||p.dynamic){Ext.GlobalEvents.on({idle:Ext.Function.bind(c.target.setSize,c.target,[t,k]),single:true})}}if(a.setOpacity){c=a.setOpacity;c.target.el.setStyle("opacity",c.opacity)}}}});Ext.define("Ext.util.HashMap",{mixins:[Ext.mixin.Observable],generation:0,config:{keyFn:null},constructor:function(a){var c=this,b;c.mixins.observable.constructor.call(c,a);c.clear(true);b=c.getKeyFn();if(b){c.getKey=b}},getCount:function(){return this.length},getData:function(a,b){if(b===undefined){b=a;a=this.getKey(b)}return[a,b]},getKey:function(a){return a.id},add:function(a,c){var b=this;if(arguments.length===1){c=a;a=b.getKey(c)}if(b.containsKey(a)){return b.replace(a,c)}b.map[a]=c;++b.length;b.generation++;if(b.hasListeners.add){b.fireEvent("add",b,a,c)}return c},replace:function(b,d){var c=this,e=c.map,a;if(arguments.length===1){d=b;b=c.getKey(d)}if(!c.containsKey(b)){c.add(b,d)}a=e[b];e[b]=d;c.generation++;if(c.hasListeners.replace){c.fireEvent("replace",c,b,d,a)}return d},remove:function(b){var a=this.findKey(b);if(a!==undefined){return this.removeAtKey(a)}return false},removeAtKey:function(a){var b=this,c;if(b.containsKey(a)){c=b.map[a];delete b.map[a];--b.length;b.generation++;if(b.hasListeners.remove){b.fireEvent("remove",b,a,c)}return true}return false},get:function(a){var b=this.map;return b.hasOwnProperty(a)?b[a]:undefined},clear:function(a){var b=this;if(a||b.generation){b.map={};b.length=0;b.generation=a?0:b.generation+1}if(a!==true&&b.hasListeners.clear){b.fireEvent("clear",b)}return b},containsKey:function(a){var b=this.map;return b.hasOwnProperty(a)&&b[a]!==undefined},contains:function(a){return this.containsKey(this.findKey(a))},getKeys:function(){return this.getArray(true)},getValues:function(){return this.getArray(false)},getArray:function(d){var a=[],b,c=this.map;for(b in c){if(c.hasOwnProperty(b)){a.push(d?b:c[b])}}return a},each:function(d,c){var a=Ext.apply({},this.map),b,e=this.length;c=c||this;for(b in a){if(a.hasOwnProperty(b)){if(d.call(c,b,a[b],e)===false){break}}}return this},clone:function(){var c=new this.self(this.initialConfig),b=this.map,a;c.suspendEvents();for(a in b){if(b.hasOwnProperty(a)){c.add(a,b[a])}}c.resumeEvents();return c},findKey:function(b){var a,c=this.map;for(a in c){if(c.hasOwnProperty(a)&&c[a]===b){return a}}return undefined}});Ext.define("Ext.fx.Queue",{constructor:function(){this.targets=new Ext.util.HashMap();this.fxQueue={}},getFxDefaults:function(a){var b=this.targets.get(a);if(b){return b.fxDefaults}return{}},setFxDefaults:function(a,c){var b=this.targets.get(a);if(b){b.fxDefaults=Ext.apply(b.fxDefaults||{},c)}},stopAnimation:function(b){var d=this,a=d.getFxQueue(b),c=a.length;while(c){a[c-1].end();c--}},getActiveAnimation:function(b){var a=this.getFxQueue(b);return(a&&!!a.length)?a[0]:false},hasFxBlock:function(b){var a=this.getFxQueue(b);return a&&a[0]&&a[0].block},getFxQueue:function(b){if(!b){return false}var c=this,a=c.fxQueue[b],d=c.targets.get(b);if(!d){return false}if(!a){c.fxQueue[b]=[];if(d.type!="element"){d.target.on("destroy",function(){c.fxQueue[b]=[]})}}return c.fxQueue[b]},queueFx:function(d){var c=this,e=d.target,a,b;if(!e){return}a=c.getFxQueue(e.getId());b=a.length;if(b){if(d.concurrent){d.paused=false}else{a[b-1].on("afteranimate",function(){d.paused=false})}}else{d.paused=false}d.on("afteranimate",function(){Ext.Array.remove(a,d);if(a.length===0){c.targets.remove(d.target)}if(d.remove){if(e.type=="element"){var f=Ext.get(e.id);if(f){f.destroy()}}}},c,{single:true});a.push(d)}});Ext.define("Ext.fx.Manager",{singleton:true,mixins:{queue:Ext.fx.Queue},constructor:function(){var a=this;a.items=new Ext.util.MixedCollection();a.targetArr={};a.mixins.queue.constructor.call(a);a.taskRunner=new Ext.util.TaskRunner()},interval:16,forceJS:true,createTarget:function(d){var b=this,c=!b.forceJS&&Ext.supports.Transitions,a;b.useCSS3=c;if(d){if(d.tagName||Ext.isString(d)||d.isFly){d=Ext.get(d);a=new Ext.fx.target["Element"+(c?"CSS":"")](d)}else{if(d.dom){a=new Ext.fx.target["Element"+(c?"CSS":"")](d)}else{if(d.isComposite){a=new Ext.fx.target["CompositeElement"+(c?"CSS":"")](d)}else{if(d.isSprite){a=new Ext.fx.target.Sprite(d)}else{if(d.isCompositeSprite){a=new Ext.fx.target.CompositeSprite(d)}else{if(d.isComponent){a=new Ext.fx.target.Component(d)}else{if(d.isAnimTarget){return d}else{return null}}}}}}}b.targets.add(a);return a}else{return null}},addAnim:function(d){var c=this,b=c.items,a=c.task;b.add(d.id,d);if(!a&&b.length){a=c.task={run:c.runner,interval:c.interval,scope:c};c.taskRunner.start(a)}},removeAnim:function(d){var c=this,b=c.items,a=c.task;b.removeAtKey(d.id);if(a&&!b.length){c.taskRunner.stop(a);delete c.task}},runner:function(){var d=this,b=d.items.getRange(),c=0,a=b.length,e;d.targetArr={};d.timestamp=new Date();for(;c<a;c++){e=b[c];if(e.isReady()){d.startAnim(e)}}for(c=0;c<a;c++){e=b[c];if(e.isRunning()){d.runAnim(e)}else{if(!d.useCSS3){}}}d.applyPendingAttrs()},startAnim:function(a){a.start(this.timestamp)},runAnim:function(e,a){if(!e){return}var d=this,g=d.useCSS3&&e.target.type=="element",b=d.timestamp-e.startTime,c=(b>=e.duration),f,h;if(a){b=e.duration;c=true}f=this.collectTargetData(e,b,g,c);if(g){e.target.setAttr(f.anims[e.id].attributes,true);d.collectTargetData(e,e.duration,g,c);e.paused=true;f=e.target.target;if(e.target.isComposite){f=e.target.target.last()}h={};h[Ext.supports.CSS3TransitionEnd]=e.lastFrame;h.scope=e;h.single=true;f.on(h)}return f},jumpToEnd:function(a){var b=this.runAnim(a,true);this.applyAnimAttrs(b,b.anims[a.id])},collectTargetData:function(c,a,e,f){var b=c.target.getId(),d=this.targetArr[b];if(!d){d=this.targetArr[b]={id:b,el:c.target,anims:{}}}d.anims[c.id]={id:c.id,anim:c,elapsed:a,isLastFrame:f,attributes:[{duration:c.duration,easing:(e&&c.reverse)?c.easingFn.reverse().toCSS3():c.easing,attrs:c.runAnim(a)}]};return d},applyAnimAttrs:function(c,a){var b=a.anim;if(a.attributes&&b.isRunning()){c.el.setAttr(a.attributes,false,a.isLastFrame);if(a.isLastFrame){b.lastFrame()}}},applyPendingAttrs:function(){var e=this.targetArr,f,c,b,d,a;for(c in e){if(e.hasOwnProperty(c)){f=e[c];for(a in f.anims){if(f.anims.hasOwnProperty(a)){b=f.anims[a];d=b.anim;if(b.attributes&&d.isRunning()){f.el.setAttr(b.attributes,false,b.isLastFrame);if(b.isLastFrame){d.lastFrame()}}}}}}}});Ext.define("Ext.fx.Animator",{mixins:{observable:Ext.util.Observable},isAnimator:true,duration:250,delay:0,delayStart:0,dynamic:false,easing:"ease",running:false,paused:false,damper:1,iterations:1,currentIteration:0,keyframeStep:0,animKeyFramesRE:/^(from|to|\d+%?)$/,constructor:function(a){var b=this;a=Ext.apply(b,a||{});b.config=a;b.id=Ext.id(null,"ext-animator-");b.mixins.observable.constructor.call(b,a);b.timeline=[];b.createTimeline(b.keyframes);if(b.target){b.applyAnimator(b.target);Ext.fx.Manager.addAnim(b)}},sorter:function(d,c){return d.pct-c.pct},createTimeline:function(d){var g=this,k=[],h=g.to||{},b=g.duration,l,a,c,f,j,e;for(j in d){if(d.hasOwnProperty(j)&&g.animKeyFramesRE.test(j)){e={attrs:Ext.apply(d[j],h)};if(j=="from"){j=0}else{if(j=="to"){j=100}}e.pct=parseInt(j,10);k.push(e)}}Ext.Array.sort(k,g.sorter);f=k.length;for(c=0;c<f;c++){l=(k[c-1])?b*(k[c-1].pct/100):0;a=b*(k[c].pct/100);g.timeline.push({duration:a-l,attrs:k[c].attrs})}},applyAnimator:function(d){var g=this,h=[],k=g.timeline,f=k.length,b,e,a,j,c;if(g.fireEvent("beforeanimate",g)!==false){for(c=0;c<f;c++){b=k[c];j=b.attrs;e=j.easing||g.easing;a=j.damper||g.damper;delete j.easing;delete j.damper;b=new Ext.fx.Anim({target:d,easing:e,damper:a,duration:b.duration,paused:true,to:j});h.push(b)}g.animations=h;g.target=b.target;for(c=0;c<f-1;c++){b=h[c];b.nextAnim=h[c+1];b.on("afteranimate",function(){this.nextAnim.paused=false});b.on("afteranimate",function(){this.fireEvent("keyframe",this,++this.keyframeStep)},g)}h[f-1].on("afteranimate",function(){this.lastFrame()},g)}},start:function(d){var e=this,c=e.delay,b=e.delayStart,a;if(c){if(!b){e.delayStart=d;return}else{a=d-b;if(a<c){return}else{d=new Date(b.getTime()+c)}}}if(e.fireEvent("beforeanimate",e)!==false){e.startTime=d;e.running=true;e.animations[e.keyframeStep].paused=false}},lastFrame:function(){var c=this,a=c.iterations,b=c.currentIteration;b++;if(b<a){c.startTime=new Date();c.currentIteration=b;c.keyframeStep=0;c.applyAnimator(c.target);c.animations[c.keyframeStep].paused=false}else{c.currentIteration=0;c.end()}},end:function(){var a=this;a.fireEvent("afteranimate",a,a.startTime,new Date()-a.startTime)},isReady:function(){return this.paused===false&&this.running===false&&this.iterations>0},isRunning:function(){return false}});Ext.define("Ext.fx.CubicBezier",{singleton:true,cubicBezierAtTime:function(o,d,b,n,m,h){var j=3*d,l=3*(n-d)-j,a=1-j-l,g=3*b,k=3*(m-b)-g,p=1-g-k;function f(q){return((a*q+l)*q+j)*q}function c(q,s){var r=e(q,s);return((p*r+k)*r+g)*r}function e(q,y){var w,v,t,r,u,s;for(t=q,s=0;s<8;s++){r=f(t)-q;if(Math.abs(r)<y){return t}u=(3*a*t+2*l)*t+j;if(Math.abs(u)<0.000001){break}t=t-r/u}w=0;v=1;t=q;if(t<w){return w}if(t>v){return v}while(w<v){r=f(t);if(Math.abs(r-q)<y){return t}if(q>r){w=t}else{v=t}t=(v-w)/2+w}return t}return c(o,1/(200*h))},cubicBezier:function(b,e,a,c){var d=function(f){return Ext.fx.CubicBezier.cubicBezierAtTime(f,b,e,a,c,1)};d.toCSS3=function(){return"cubic-bezier("+[b,e,a,c].join(",")+")"};d.reverse=function(){return Ext.fx.CubicBezier.cubicBezier(1-a,1-c,1-b,1-e)};return d}});Ext.require("Ext.fx.CubicBezier",function(){var e=Math,g=e.PI,d=e.pow,b=e.sin,f=e.sqrt,a=e.abs,c=1.70158;Ext.define("Ext.fx.Easing",{singleton:true,linear:Ext.identityFn,ease:function(l){var h=0.07813-l/2,m=-0.25,o=f(0.0066+h*h),r=o-h,k=d(a(r),1/3)*(r<0?-1:1),p=-o-h,j=d(a(p),1/3)*(p<0?-1:1),s=k+j+0.25;return d(1-s,2)*3*s*0.1+(1-s)*3*s*s+s*s*s},easeIn:function(h){return d(h,1.7)},easeOut:function(h){return d(h,0.48)},easeInOut:function(r){var l=0.48-r/1.04,k=f(0.1734+l*l),h=k-l,p=d(a(h),1/3)*(h<0?-1:1),o=-k-l,m=d(a(o),1/3)*(o<0?-1:1),j=p+m+0.5;return(1-j)*3*j*j+j*j*j},backIn:function(h){return h*h*((c+1)*h-c)},backOut:function(h){h=h-1;return h*h*((c+1)*h+c)+1},elasticIn:function(k){if(k===0||k===1){return k}var j=0.3,h=j/4;return d(2,-10*k)*b((k-h)*(2*g)/j)+1},elasticOut:function(h){return 1-Ext.fx.Easing.elasticIn(1-h)},bounceIn:function(h){return 1-Ext.fx.Easing.bounceOut(1-h)},bounceOut:function(m){var j=7.5625,k=2.75,h;if(m<(1/k)){h=j*m*m}else{if(m<(2/k)){m-=(1.5/k);h=j*m*m+0.75}else{if(m<(2.5/k)){m-=(2.25/k);h=j*m*m+0.9375}else{m-=(2.625/k);h=j*m*m+0.984375}}}return h}},function(){var j=Ext.fx.Easing.self,h=j.prototype;j.addMembers({"back-in":h.backIn,"back-out":h.backOut,"ease-in":h.easeIn,"ease-out":h.easeOut,"elastic-in":h.elasticIn,"elastic-out":h.elasticOut,"bounce-in":h.bounceIn,"bounce-out":h.bounceOut,"ease-in-out":h.easeInOut})})});Ext.define("Ext.fx.DrawPath",{singleton:true,pathToStringRE:/,?([achlmqrstvxz]),?/gi,pathCommandRE:/([achlmqstvz])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?\s*,?\s*)+)/ig,pathValuesRE:/(-?\d*\.?\d*(?:e[-+]?\d+)?)\s*,?\s*/ig,stopsRE:/^(\d+%?)$/,radian:Math.PI/180,is:function(b,a){a=String(a).toLowerCase();return(a=="object"&&b===Object(b))||(a=="undefined"&&typeof b==a)||(a=="null"&&b===null)||(a=="array"&&Array.isArray&&Array.isArray(b))||(Object.prototype.toString.call(b).toLowerCase().slice(8,-1))==a},path2string:function(){return this.join(",").replace(Ext.fx.DrawPath.pathToStringRE,"$1")},pathToString:function(a){return a.join(",").replace(Ext.fx.DrawPath.pathToStringRE,"$1")},parsePathString:function(a){if(!a){return null}var d={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},c=[],b=this;if(b.is(a,"array")&&b.is(a[0],"array")){c=b.pathClone(a)}if(!c.length){String(a).replace(b.pathCommandRE,function(f,e,j){var h=[],g=e.toLowerCase();j.replace(b.pathValuesRE,function(l,k){k&&h.push(+k)});if(g=="m"&&h.length>2){c.push([e].concat(Ext.Array.splice(h,0,2)));g="l";e=(e=="m")?"l":"L"}while(h.length>=d[g]){c.push([e].concat(Ext.Array.splice(h,0,d[g])));if(!d[g]){break}}})}c.toString=b.path2string;return c},pathClone:function(f){var c=[],a,e,b,d;if(!this.is(f,"array")||!this.is(f&&f[0],"array")){f=this.parsePathString(f)}for(b=0,d=f.length;b<d;b++){c[b]=[];for(a=0,e=f[b].length;a<e;a++){c[b][a]=f[b][a]}}c.toString=this.path2string;return c},pathToAbsolute:function(c){if(!this.is(c,"array")||!this.is(c&&c[0],"array")){c=this.parsePathString(c)}var h=[],l=0,k=0,n=0,m=0,f=0,g=c.length,b,d,e,a;if(g&&c[0][0]=="M"){l=+c[0][1];k=+c[0][2];n=l;m=k;f++;h[0]=["M",l,k]}for(;f<g;f++){b=h[f]=[];d=c[f];if(d[0]!=d[0].toUpperCase()){b[0]=d[0].toUpperCase();switch(b[0]){case"A":b[1]=d[1];b[2]=d[2];b[3]=d[3];b[4]=d[4];b[5]=d[5];b[6]=+(d[6]+l);b[7]=+(d[7]+k);break;case"V":b[1]=+d[1]+k;break;case"H":b[1]=+d[1]+l;break;case"M":n=+d[1]+l;m=+d[2]+k;default:e=1;a=d.length;for(;e<a;e++){b[e]=+d[e]+((e%2)?l:k)}}}else{e=0;a=d.length;for(;e<a;e++){h[f][e]=d[e]}}switch(b[0]){case"Z":l=n;k=m;break;case"H":l=b[1];break;case"V":k=b[1];break;case"M":d=h[f];a=d.length;n=d[a-2];m=d[a-1];default:d=h[f];a=d.length;l=d[a-2];k=d[a-1]}}h.toString=this.path2string;return h},interpolatePaths:function(q,k){var h=this,d=h.pathToAbsolute(q),l=h.pathToAbsolute(k),m={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},a={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},b=function(p,r){if(p[r].length>7){p[r].shift();var s=p[r];while(s.length){Ext.Array.splice(p,r++,0,["C"].concat(Ext.Array.splice(s,0,6)))}Ext.Array.erase(p,r,1);n=Math.max(d.length,l.length||0)}},c=function(u,t,r,p,s){if(u&&t&&u[s][0]=="M"&&t[s][0]!="M"){Ext.Array.splice(t,s,0,["M",p.x,p.y]);r.bx=0;r.by=0;r.x=u[s][1];r.y=u[s][2];n=Math.max(d.length,l.length||0)}},g,n,f,o,e,j;for(g=0,n=Math.max(d.length,l.length||0);g<n;g++){d[g]=h.command2curve(d[g],m);b(d,g);(l[g]=h.command2curve(l[g],a));b(l,g);c(d,l,m,a,g);c(l,d,a,m,g);f=d[g];o=l[g];e=f.length;j=o.length;m.x=f[e-2];m.y=f[e-1];m.bx=parseFloat(f[e-4])||m.x;m.by=parseFloat(f[e-3])||m.y;a.bx=(parseFloat(o[j-4])||a.x);a.by=(parseFloat(o[j-3])||a.y);a.x=o[j-2];a.y=o[j-1]}return[d,l]},command2curve:function(c,b){var a=this;if(!c){return["C",b.x,b.y,b.x,b.y,b.x,b.y]}if(c[0]!="T"&&c[0]!="Q"){b.qx=b.qy=null}switch(c[0]){case"M":b.X=c[1];b.Y=c[2];break;case"A":c=["C"].concat(a.arc2curve.apply(a,[b.x,b.y].concat(c.slice(1))));break;case"S":c=["C",b.x+(b.x-(b.bx||b.x)),b.y+(b.y-(b.by||b.y))].concat(c.slice(1));break;case"T":b.qx=b.x+(b.x-(b.qx||b.x));b.qy=b.y+(b.y-(b.qy||b.y));c=["C"].concat(a.quadratic2curve(b.x,b.y,b.qx,b.qy,c[1],c[2]));break;case"Q":b.qx=c[1];b.qy=c[2];c=["C"].concat(a.quadratic2curve(b.x,b.y,c[1],c[2],c[3],c[4]));break;case"L":c=["C"].concat(b.x,b.y,c[1],c[2],c[1],c[2]);break;case"H":c=["C"].concat(b.x,b.y,c[1],b.y,c[1],b.y);break;case"V":c=["C"].concat(b.x,b.y,b.x,c[1],b.x,c[1]);break;case"Z":c=["C"].concat(b.x,b.y,b.X,b.Y,b.X,b.Y);break}return c},quadratic2curve:function(b,d,g,e,a,c){var f=1/3,h=2/3;return[f*b+h*g,f*d+h*e,f*a+h*g,f*c+h*e,a,c]},rotate:function(b,g,a){var d=Math.cos(a),c=Math.sin(a),f=b*d-g*c,e=b*c+g*d;return{x:f,y:e}},arc2curve:function(r,ae,G,E,w,m,f,q,ad,z){var u=this,d=Math.PI,v=u.radian,D=d*120/180,b=v*(+w||0),L=[],I=Math,S=I.cos,a=I.sin,U=I.sqrt,s=I.abs,n=I.asin,H,N,M,Z,c,Q,T,B,A,l,j,p,g,ac,e,ab,O,R,P,aa,Y,X,V,K,W,J,C,F,o;if(!z){H=u.rotate(r,ae,-b);r=H.x;ae=H.y;H=u.rotate(q,ad,-b);q=H.x;ad=H.y;N=(r-q)/2;M=(ae-ad)/2;Z=(N*N)/(G*G)+(M*M)/(E*E);if(Z>1){Z=U(Z);G=Z*G;E=Z*E}c=G*G;Q=E*E;T=(m==f?-1:1)*U(s((c*Q-c*M*M-Q*N*N)/(c*M*M+Q*N*N)));B=T*G*M/E+(r+q)/2;A=T*-E*N/G+(ae+ad)/2;l=n(((ae-A)/E).toFixed(7));j=n(((ad-A)/E).toFixed(7));l=r<B?d-l:l;j=q<B?d-j:j;if(l<0){l=d*2+l}if(j<0){j=d*2+j}if(f&&l>j){l=l-d*2}if(!f&&j>l){j=j-d*2}}else{l=z[0];j=z[1];B=z[2];A=z[3]}p=j-l;if(s(p)>D){C=j;F=q;o=ad;j=l+D*(f&&j>l?1:-1);q=B+G*S(j);ad=A+E*a(j);L=u.arc2curve(q,ad,G,E,w,0,f,F,o,[j,C,B,A])}p=j-l;g=S(l);ac=a(l);e=S(j);ab=a(j);O=I.tan(p/4);R=4/3*G*O;P=4/3*E*O;aa=[r,ae];Y=[r+R*ac,ae-P*g];X=[q+R*ab,ad-P*e];V=[q,ad];Y[0]=2*aa[0]-Y[0];Y[1]=2*aa[1]-Y[1];if(z){return[Y,X,V].concat(L)}else{L=[Y,X,V].concat(L).join().split(",");K=[];J=L.length;for(W=0;W<J;W++){K[W]=W%2?u.rotate(L[W-1],L[W],b).y:u.rotate(L[W],L[W+1],b).x}return K}}});Ext.define("Ext.fx.PropertyHandler",{statics:{defaultHandler:{pixelDefaultsRE:/width|height|top$|bottom$|left$|right$/i,unitRE:/^(-?\d*\.?\d*){1}(em|ex|px|in|cm|mm|pt|pc|%)*$/,scrollRE:/^scroll/i,computeDelta:function(j,c,a,f,h){a=(typeof a=="number")?a:1;var g=this.unitRE,d=g.exec(j),b,e;if(d){j=d[1];e=d[2];if(!this.scrollRE.test(h)&&!e&&this.pixelDefaultsRE.test(h)){e="px"}}j=+j||0;d=g.exec(c);if(d){c=d[1];e=d[2]||e}c=+c||0;b=(f!=null)?f:j;return{from:j,delta:(c-b)*a,units:e}},get:function(n,b,a,m,h){var l=n.length,d=[],e,g,k,c,f;for(e=0;e<l;e++){if(m){g=m[e][1].from}if(Ext.isArray(n[e][1])&&Ext.isArray(b)){k=[];c=0;f=n[e][1].length;for(;c<f;c++){k.push(this.computeDelta(n[e][1][c],b[c],a,g,h))}d.push([n[e][0],k])}else{d.push([n[e][0],this.computeDelta(n[e][1],b,a,g,h)])}}return d},set:function(k,f){var g=k.length,c=[],d,a,h,e,b;for(d=0;d<g;d++){a=k[d][1];if(Ext.isArray(a)){h=[];b=0;e=a.length;for(;b<e;b++){h.push(a[b].from+a[b].delta*f+(a[b].units||0))}c.push([k[d][0],h])}else{c.push([k[d][0],a.from+a.delta*f+(a.units||0)])}}return c}},stringHandler:{computeDelta:function(e,b,d,c,a){return{from:e,delta:b}},get:function(n,b,a,m,h){var l=n.length,d=[],e,g,k,c,f;for(e=0;e<l;e++){d.push([n[e][0],this.computeDelta(n[e][1],b,a,g,h)])}return d},set:function(k,f){var g=k.length,c=[],d,a,h,e,b;for(d=0;d<g;d++){a=k[d][1];c.push([k[d][0],a.delta])}return c}},color:{rgbRE:/^rgb\(([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\)$/i,hexRE:/^#?([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})$/i,hex3RE:/^#?([0-9A-F]{1})([0-9A-F]{1})([0-9A-F]{1})$/i,parseColor:function(e,a){a=(typeof a=="number")?a:1;var f=false,c=[this.hexRE,this.rgbRE,this.hex3RE],d=c.length,h,b,j,g;for(g=0;g<d;g++){j=c[g];b=(g%2===0)?16:10;h=j.exec(e);if(h&&h.length===4){if(g===2){h[1]+=h[1];h[2]+=h[2];h[3]+=h[3]}f={red:parseInt(h[1],b),green:parseInt(h[2],b),blue:parseInt(h[3],b)};break}}return f||e},computeDelta:function(g,a,e,c){g=this.parseColor(g);a=this.parseColor(a,e);var f=c?c:g,b=typeof f,d=typeof a;if(b=="string"||b=="undefined"||d=="string"||d=="undefined"){return a||f}return{from:g,delta:{red:Math.round((a.red-f.red)*e),green:Math.round((a.green-f.green)*e),blue:Math.round((a.blue-f.blue)*e)}}},get:function(h,a,f,d){var g=h.length,c=[],e,b;for(e=0;e<g;e++){if(d){b=d[e][1].from}c.push([h[e][0],this.computeDelta(h[e][1],a,f,b)])}return c},set:function(j,e){var f=j.length,c=[],d,b,a,g,h;for(d=0;d<f;d++){b=j[d][1];if(b){g=b.from;h=b.delta;b=(typeof b=="object"&&"red" in b)?"rgb("+b.red+", "+b.green+", "+b.blue+")":b;b=(typeof b=="object"&&b.length)?b[0]:b;if(typeof b=="undefined"){return[]}a=typeof b=="string"?b:"rgb("+[(g.red+Math.round(h.red*e))%256,(g.green+Math.round(h.green*e))%256,(g.blue+Math.round(h.blue*e))%256].join(",")+")";c.push([j[d][0],a])}}return c}},object:{interpolate:function(d,b){b=(typeof b=="number")?b:1;var a={},c;for(c in d){a[c]=parseFloat(d[c])*b}return a},computeDelta:function(g,a,c,b){g=this.interpolate(g);a=this.interpolate(a,c);var f=b?b:g,e={},d;for(d in a){e[d]=a[d]-f[d]}return{from:g,delta:e}},get:function(h,a,f,d){var g=h.length,c=[],e,b;for(e=0;e<g;e++){if(d){b=d[e][1].from}c.push([h[e][0],this.computeDelta(h[e][1],a,f,b)])}return c},set:function(k,f){var g=k.length,c=[],e={},d,h,j,b,a;for(d=0;d<g;d++){b=k[d][1];h=b.from;j=b.delta;for(a in h){e[a]=h[a]+j[a]*f}c.push([k[d][0],e])}return c}},path:{computeDelta:function(e,a,c,b){c=(typeof c=="number")?c:1;var d;e=+e||0;a=+a||0;d=(b!=null)?b:e;return{from:e,delta:(a-d)*c}},forcePath:function(a){if(!Ext.isArray(a)&&!Ext.isArray(a[0])){a=Ext.fx.DrawPath.parsePathString(a)}return a},get:function(b,h,a,p){var c=this.forcePath(h),m=[],r=b.length,d,g,n,f,o,l,e,s,q;for(n=0;n<r;n++){q=this.forcePath(b[n][1]);f=Ext.fx.DrawPath.interpolatePaths(q,c);q=f[0];c=f[1];d=q.length;s=[];for(l=0;l<d;l++){f=[q[l][0]];g=q[l].length;for(e=1;e<g;e++){o=p&&p[0][1][l][e].from;f.push(this.computeDelta(q[l][e],c[l][e],a,o))}s.push(f)}m.push([b[n][0],s])}return m},set:function(o,m){var n=o.length,e=[],g,f,d,h,l,c,a,b;for(g=0;g<n;g++){c=o[g][1];h=[];a=c.length;for(f=0;f<a;f++){l=[c[f][0]];b=c[f].length;for(d=1;d<b;d++){l.push(c[f][d].from+c[f][d].delta*m)}h.push(l.join(","))}e.push([o[g][0],h.join(",")])}return e}}}},function(){var b=["outlineColor","backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","fill","stroke"],c=b.length,a=0,d;for(;a<c;a++){d=b[a];this[d]=this.color}b=["cursor"];c=b.length;a=0;for(;a<c;a++){d=b[a];this[d]=this.stringHandler}});Ext.define("Ext.fx.Anim",{mixins:{observable:Ext.util.Observable},isAnimation:true,duration:250,delay:0,delayStart:0,dynamic:false,easing:"ease",damper:1,bezierRE:/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,reverse:false,running:false,paused:false,iterations:1,autoEnd:false,alternate:false,currentIteration:0,startTime:0,frameCount:0,constructor:function(a){var b=this,c;a=a||{};if(a.keyframes){return new Ext.fx.Animator(a)}Ext.apply(b,a);if(b.from===undefined){b.from={}}b.propHandlers={};b.config=a;b.target=Ext.fx.Manager.createTarget(b.target);b.easingFn=Ext.fx.Easing[b.easing];b.target.dynamic=b.dynamic;if(!b.easingFn){b.easingFn=String(b.easing).match(b.bezierRE);if(b.easingFn&&b.easingFn.length==5){c=b.easingFn;b.easingFn=Ext.fx.CubicBezier.cubicBezier(+c[1],+c[2],+c[3],+c[4])}}b.id=Ext.id(null,"ext-anim-");b.mixins.observable.constructor.call(b);Ext.fx.Manager.addAnim(b);if(a.autoEnd){b.running=true;b.jumpToEnd()}},setAttr:function(a,b){return Ext.fx.Manager.items.get(this.id).setAttr(this.target,a,b)},initAttrs:function(){var e=this,g=e.from,h=e.to,f=e.initialFrom||{},c={},a,b,j,d;for(d in h){if(h.hasOwnProperty(d)){a=e.target.getAttr(d,g[d]);b=h[d];if(!Ext.fx.PropertyHandler[d]){if(Ext.isObject(b)){j=e.propHandlers[d]=Ext.fx.PropertyHandler.object}else{j=e.propHandlers[d]=Ext.fx.PropertyHandler.defaultHandler}}else{j=e.propHandlers[d]=Ext.fx.PropertyHandler[d]}c[d]=j.get(a,b,e.damper,f[d],d)}}e.currentAttrs=c},start:function(d){var e=this,c=e.delay,b=e.delayStart,a;if(c){if(!b){e.delayStart=d;return}else{a=d-b;if(a<c){return}else{d=new Date(b.getTime()+c)}}}if(e.fireEvent("beforeanimate",e)!==false){e.startTime=d;if(!e.paused&&!e.currentAttrs){e.initAttrs()}e.running=true;e.frameCount=0}},jumpToEnd:function(){var a=this;if(!a.endWasCalled){if(!a.currentAttrs){a.initAttrs()}Ext.fx.Manager.jumpToEnd(a);a.end()}},runAnim:function(l){var h=this,k=h.currentAttrs,d=h.duration,c=h.easingFn,b=h.propHandlers,f={},g,j,e,a;if(l>=d){l=d;a=true}if(h.reverse){l=d-l}for(e in k){if(k.hasOwnProperty(e)){j=k[e];g=a?1:c(l/d);f[e]=b[e].set(j,g)}}h.frameCount++;return f},lastFrame:function(){var c=this,a=c.iterations,b=c.currentIteration;b++;if(b<a){if(c.alternate){c.reverse=!c.reverse}c.startTime=new Date();c.currentIteration=b;c.paused=false}else{c.currentIteration=0;c.end();c.fireEvent("lastframe",c,c.startTime)}},endWasCalled:0,end:function(){var a=this;if(a.endWasCalled++){return}a.startTime=0;a.paused=false;a.running=false;Ext.fx.Manager.removeAnim(a);a.fireEvent("afteranimate",a,a.startTime);Ext.callback(a.callback,a.scope,[a,a.startTime]);if(a.remove){a.target.destroy()}},isReady:function(){return this.paused===false&&this.running===false&&this.iterations>0},isRunning:function(){return this.paused===false&&this.running===true&&this.isAnimator!==true}});Ext.enableFx=true;Ext.define("Ext.util.Animate",{mixinId:"animate",isAnimate:true,animate:function(a){var b=this;if(Ext.fx.Manager.hasFxBlock(b.id)){return b}Ext.fx.Manager.queueFx(new Ext.fx.Anim(b.anim(a)));return this},anim:function(a){if(!Ext.isObject(a)){return(a)?{}:false}var b=this;if(a.stopAnimation){b.stopAnimation()}Ext.applyIf(a,Ext.fx.Manager.getFxDefaults(b.id));return Ext.apply({target:b,paused:true},a)},getAnimationProps:function(){var b=this,a=b.layout;return a&&a.animate?a.animate:{}},stopFx:Ext.Function.alias(Ext.util.Animate,"stopAnimation"),stopAnimation:function(){Ext.fx.Manager.stopAnimation(this.id);return this},syncFx:function(){Ext.fx.Manager.setFxDefaults(this.id,{concurrent:true});return this},sequenceFx:function(){Ext.fx.Manager.setFxDefaults(this.id,{concurrent:false});return this},hasActiveFx:Ext.Function.alias(Ext.util.Animate,"getActiveAnimation"),getActiveAnimation:function(){return Ext.fx.Manager.getActiveAnimation(this.id)}});Ext.define("Ext.dom.GarbageCollector",{singleton:true,interval:30000,constructor:function(){var a=this;a.collect=Ext.Function.bind(a.collect,a);a.resume()},collect:function(){var e=this,b=Ext.cache,a,f,d,c;if(!Ext.enableGarbageCollector){e.pause()}else{for(a in b){if(!b.hasOwnProperty(a)){continue}d=b[a];if(d.skipGarbageCollection){continue}f=d.dom;if(!f){Ext.Error.raise("Missing DOM node in element garbage collection: "+a)}if(Ext.isGarbage(f)){d.clearListeners();delete b[a]}}if(Ext.isIE9m){c={};for(a in b){if(b.hasOwnProperty(a)){c[a]=b[a]}}b=Ext.cache=c}e.lastTime=Ext.now()}},pause:function(){clearTimeout(this.timerId)},resume:function(){var a=this,b=a.lastTime;if(b&&(Ext.now()-b>a.interval)){a.collect()}a.timerId=setInterval(a.collect,a.interval)}});Ext.define("Ext.overrides.dom.Element",(function(){var Element,WIN=window,DOC=document,HIDDEN="hidden",ISCLIPPED="isClipped",OVERFLOW="overflow",OVERFLOWX="overflow-x",OVERFLOWY="overflow-y",ORIGINALCLIP="originalClip",HEIGHT="height",WIDTH="width",VISIBILITY="visibility",DISPLAY="display",NONE="none",HIDDEN="hidden",OFFSETS="offsets",ORIGINALDISPLAY="originalDisplay",VISMODE="visibilityMode",ISVISIBLE="isVisible",OFFSETCLASS=Ext.baseCSSPrefix+"hidden-offsets",boxMarkup=['<div class="{0}-tl" role="presentation">','<div class="{0}-tr" role="presentation">','<div class="{0}-tc" role="presentation"></div>',"</div>","</div>",'<div class="{0}-ml" role="presentation">','<div class="{0}-mr" role="presentation">','<div class="{0}-mc" role="presentation"></div>',"</div>","</div>",'<div class="{0}-bl" role="presentation">','<div class="{0}-br" role="presentation">','<div class="{0}-bc" role="presentation"></div>',"</div>","</div>"].join(""),scriptTagRe=/(?:<script([^>]*)?>)((\n|\r|.)*?)(?:<\/script>)/ig,replaceScriptTagRe=/(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)/ig,srcRe=/\ssrc=([\'\"])(.*?)\1/i,focusRe=/^a|button|embed|iframe|input|object|select|textarea$/i,nonSpaceRe=/\S/,typeRe=/\stype=([\'\"])(.*?)\1/i,msRe=/^-ms-/,camelRe=/(-[a-z])/gi,camelReplaceFn=function(m,a){return a.charAt(1).toUpperCase()},XMASKED=Ext.baseCSSPrefix+"masked",XMASKEDRELATIVE=Ext.baseCSSPrefix+"masked-relative",EXTELMASKMSG=Ext.baseCSSPrefix+"mask-msg",mouseEnterLeaveRe=/^(?:mouseenter|mouseleave)$/,bodyRe=/^body/i,scrollFly,propertyCache={},getDisplay=function(el){var data=el.getData(),display=data[ORIGINALDISPLAY];if(display===undefined){data[ORIGINALDISPLAY]=display=""}return display},getVisMode=function(el){var data=el.getData(),visMode=data[VISMODE];if(visMode===undefined){data[VISMODE]=visMode=Element.VISIBILITY}return visMode},garbageBin,emptyRange=DOC.createRange?DOC.createRange():null;return{override:"Ext.dom.Element",mixins:[Ext.util.Animate],skipGarbageCollection:false,_init:function(E){Element=E},statics:{selectableCls:Ext.baseCSSPrefix+"selectable",unselectableCls:Ext.baseCSSPrefix+"unselectable",normalize:function(prop){if(prop==="float"){prop=Ext.supports.Float?"cssFloat":"styleFloat"}return propertyCache[prop]||(propertyCache[prop]=prop.replace(msRe,"ms-").replace(camelRe,camelReplaceFn))},getViewportHeight:function(){return Ext.isIE9m?DOC.documentElement.clientHeight:WIN.innerHeight},getViewportWidth:function(){return(!Ext.isStrict&&!Ext.isOpera)?document.body.clientWidth:Ext.isIE9m?DOC.documentElement.clientWidth:WIN.innerWidth},addListener:function(element,eventName,handler){element=Ext.getDom(element);if(element.addEventListener){element.addEventListener(eventName,handler,false)}else{element.attachEvent("on"+eventName,handler)}}},addClsOnClick:function(className,testFn,scope){var me=this,dom=me.dom,hasTest=Ext.isFunction(testFn);me.on("mousedown",function(){if(hasTest&&testFn.call(scope||me,me)===false){return false}Ext.fly(dom).addCls(className);var d=Ext.getDoc(),fn=function(){Ext.fly(dom).removeCls(className);d.removeListener("mouseup",fn)};d.on("mouseup",fn)});return me},addClsOnFocus:function(className,testFn,scope){var me=this,dom=me.dom,hasTest=Ext.isFunction(testFn);me.on("focus",function(){if(hasTest&&testFn.call(scope||me,me)===false){return false}Ext.fly(dom).addCls(className)});me.on("blur",function(){Ext.fly(dom).removeCls(className)});return me},addClsOnOver:function(className,testFn,scope){var me=this,dom=me.dom,hasTest=Ext.isFunction(testFn);me.hover(function(){if(hasTest&&testFn.call(scope||me,me)===false){return}Ext.fly(dom).addCls(className)},function(){Ext.fly(dom).removeCls(className)});return me},addKeyListener:function(key,fn,scope){var config;if(typeof key!=="object"||Ext.isArray(key)){config={target:this,key:key,fn:fn,scope:scope}}else{config={target:this,key:key.key,shift:key.shift,ctrl:key.ctrl,alt:key.alt,fn:fn,scope:scope}}return new Ext.util.KeyMap(config)},addKeyMap:function(config){return new Ext.util.KeyMap(Ext.apply({target:this},config))},anchorAnimX:function(anchor){var xName=(anchor==="l")?"right":"left";this.dom.style[xName]="0px"},anim:function(config){if(!Ext.isObject(config)){return(config)?{}:false}var me=this,duration=config.duration||Ext.fx.Anim.prototype.duration,easing=config.easing||"ease",animConfig;if(config.stopAnimation){me.stopAnimation()}Ext.applyIf(config,Ext.fx.Manager.getFxDefaults(me.id));Ext.fx.Manager.setFxDefaults(me.id,{delay:0});animConfig={target:me.dom,remove:config.remove,alternate:config.alternate||false,duration:duration,easing:easing,callback:config.callback,listeners:config.listeners,iterations:config.iterations||1,scope:config.scope,block:config.block,concurrent:config.concurrent,delay:config.delay||0,paused:true,keyframes:config.keyframes,from:config.from||{},to:Ext.apply({},config)};Ext.apply(animConfig.to,config.to);delete animConfig.to.to;delete animConfig.to.from;delete animConfig.to.remove;delete animConfig.to.alternate;delete animConfig.to.keyframes;delete animConfig.to.iterations;delete animConfig.to.listeners;delete animConfig.to.target;delete animConfig.to.paused;delete animConfig.to.callback;delete animConfig.to.scope;delete animConfig.to.duration;delete animConfig.to.easing;delete animConfig.to.concurrent;delete animConfig.to.block;delete animConfig.to.stopAnimation;delete animConfig.to.delay;return animConfig},animate:function(config){var me=this,animId=me.dom.id||Ext.id(me.dom),listeners,anim,end;if(!Ext.fx.Manager.hasFxBlock(animId)){if(config.listeners){listeners=config.listeners;delete config.listeners}if(config.internalListeners){config.listeners=config.internalListeners;delete config.internalListeners}end=config.autoEnd;delete config.autoEnd;anim=new Ext.fx.Anim(me.anim(config));if(listeners){anim.on(listeners)}Ext.fx.Manager.queueFx(anim);if(end){anim.jumpToEnd()}}return me},boxWrap:function(cls){cls=cls||Ext.baseCSSPrefix+"box";var el=Ext.get(this.insertHtml("beforeBegin","<div class='"+cls+"' role='presentation'>"+Ext.String.format(boxMarkup,cls)+"</div>"));el.selectNode("."+cls+"-mc").appendChild(this.dom);return el},cacheScrollValues:function(){var me=this,scrollValues=[],scrolledDescendants=[],descendants,descendant,i,len;scrollFly=scrollFly||new Ext.dom.Fly();descendants=me.query("*");for(i=0,len=descendants.length;i<len;i++){descendant=descendants[i];if(descendant.scrollTop>0||descendant.scrollLeft!==0){scrolledDescendants.push(descendant);scrollValues.push(scrollFly.attach(descendant).getScroll())}}return function(){var scroll,i,len;for(i=0,len=scrolledDescendants.length;i<len;i++){scroll=scrollValues[i];scrollFly.attach(scrolledDescendants[i]);scrollFly.setScrollLeft(scroll.left);scrollFly.setScrollTop(scroll.top)}}},clean:function(forceReclean){var me=this,dom=me.dom,data=me.getData(),n=dom.firstChild,ni=-1,nx;if(data.isCleaned&&forceReclean!==true){return me}while(n){nx=n.nextSibling;if(n.nodeType===3){if(!(nonSpaceRe.test(n.nodeValue))){dom.removeChild(n)}else{if(nx&&nx.nodeType===3){n.appendData(Ext.String.trim(nx.data));dom.removeChild(nx);nx=n.nextSibling;n.nodeIndex=++ni}}}else{Ext.fly(n,"_clean").clean();n.nodeIndex=++ni}n=nx}data.isCleaned=true;return me},empty:emptyRange?function(){var dom=this.dom;if(dom.firstChild){emptyRange.setStartBefore(dom.firstChild);emptyRange.setEndAfter(dom.lastChild);emptyRange.deleteContents()}}:function(){var dom=this.dom;while(dom.lastChild){dom.removeChild(dom.lastChild)}},clearListeners:function(){this.removeAnchor();this.callParent()},clearPositioning:function(value){value=value||"";return this.setStyle({left:value,right:value,top:value,bottom:value,"z-index":"",position:"static"})},createProxy:function(config,renderTo,matchBox){config=(typeof config==="object")?config:{tag:"div",role:"presentation",cls:config};var me=this,proxy=renderTo?Ext.DomHelper.append(renderTo,config,true):Ext.DomHelper.insertBefore(me.dom,config,true);proxy.setVisibilityMode(Element.DISPLAY);proxy.hide();if(matchBox&&me.setBox&&me.getBox){proxy.setBox(me.getBox())}return proxy},clearOpacity:function(){return this.setOpacity("")},clip:function(){var me=this,data=me.getData(),style;if(!data[ISCLIPPED]){data[ISCLIPPED]=true;style=me.getStyle([OVERFLOW,OVERFLOWX,OVERFLOWY]);data[ORIGINALCLIP]={o:style[OVERFLOW],x:style[OVERFLOWX],y:style[OVERFLOWY]};me.setStyle(OVERFLOW,HIDDEN);me.setStyle(OVERFLOWX,HIDDEN);me.setStyle(OVERFLOWY,HIDDEN)}return me},constrainScrollLeft:function(left){var dom=this.dom;return Math.max(Math.min(left,dom.scrollWidth-dom.clientWidth),0)},constrainScrollTop:function(top){var dom=this.dom;return Math.max(Math.min(top,dom.scrollHeight-dom.clientHeight),0)},destroy:function(){var me=this,dom=me.dom;if(dom&&me.isAnimate){me.stopAnimation()}me.callParent();if(dom&&Ext.isIE8){garbageBin=garbageBin||DOC.createElement("div");garbageBin.appendChild(dom);garbageBin.innerHTML=""}},doScrollIntoView:function(container,hscroll,animate,highlight,getScrollX,scrollTo){scrollFly=scrollFly||new Ext.dom.Fly();var me=this,dom=me.dom,scrollX=scrollFly.attach(container)[getScrollX](),scrollY=container.scrollTop,position=me.getScrollIntoViewXY(container,scrollX,scrollY),newScrollX=position.x,newScrollY=position.y;if(highlight){if(animate){animate=Ext.apply({listeners:{afteranimate:function(){scrollFly.attach(dom).highlight()}}},animate)}else{scrollFly.attach(dom).highlight()}}if(newScrollY!==scrollY){scrollFly.attach(container).scrollTo("top",newScrollY,animate)}if(hscroll!==false&&(newScrollX!==scrollX)){scrollFly.attach(container)[scrollTo]("left",newScrollX,animate)}return me},enableDisplayMode:function(display){var me=this;me.setVisibilityMode(Element.DISPLAY);if(display!==undefined){me.getData()[ORIGINALDISPLAY]=display}return me},fadeIn:function(o){var me=this,dom=me.dom;me.animate(Ext.apply({},o,{opacity:1,internalListeners:{beforeanimate:function(anim){var el=Ext.fly(dom,"_anim");if(el.isStyle("display","none")){el.setDisplayed("")}else{el.show()}}}}));return this},fadeOut:function(o){var me=this,dom=me.dom;o=Ext.apply({opacity:0,internalListeners:{afteranimate:function(anim){if(dom&&anim.to.opacity===0){var el=Ext.fly(dom,"_anim");if(o.useDisplay){el.setDisplayed(false)}else{el.hide()}}}}},o);me.animate(o);return me},fixDisplay:function(){var me=this;if(me.isStyle(DISPLAY,NONE)){me.setStyle(VISIBILITY,HIDDEN);me.setStyle(DISPLAY,getDisplay(me));if(me.isStyle(DISPLAY,NONE)){me.setStyle(DISPLAY,"block")}}},frame:function(color,count,obj){var me=this,dom=me.dom,beforeAnim;color=color||"#C3DAF9";count=count||1;obj=obj||{};beforeAnim=function(){var el=Ext.fly(dom,"_anim"),animScope=this,box,proxy,proxyAnim;el.show();box=el.getBox();proxy=Ext.getBody().createChild({role:"presentation",id:el.dom.id+"-anim-proxy",style:{position:"absolute","pointer-events":"none","z-index":35000,border:"0px solid "+color}});proxyAnim=new Ext.fx.Anim({target:proxy,duration:obj.duration||1000,iterations:count,from:{top:box.y,left:box.x,borderWidth:0,opacity:1,height:box.height,width:box.width},to:{top:box.y-20,left:box.x-20,borderWidth:10,opacity:0,height:box.height+40,width:box.width+40}});proxyAnim.on("afteranimate",function(){proxy.destroy();animScope.end()})};me.animate({duration:(Math.max(obj.duration,500)*2)||2000,listeners:{beforeanimate:{fn:beforeAnim}},callback:obj.callback,scope:obj.scope});return me},getColor:function(attr,defaultValue,prefix){var v=this.getStyle(attr),color=prefix||prefix===""?prefix:"#",h,len,i=0;if(!v||(/transparent|inherit/.test(v))){return defaultValue}if(/^r/.test(v)){v=v.slice(4,v.length-1).split(",");len=v.length;for(;i<len;i++){h=parseInt(v[i],10);color+=(h<16?"0":"")+h.toString(16)}}else{v=v.replace("#","");color+=v.length===3?v.replace(/^(\w)(\w)(\w)$/,"$1$1$2$2$3$3"):v}return(color.length>5?color.toLowerCase():defaultValue)},getLoader:function(){var me=this,data=me.getData(),loader=data.loader;if(!loader){data.loader=loader=new Ext.ElementLoader({target:me})}return loader},getPositioning:function(autoPx){var styles=this.getStyle(["left","top","position","z-index"]),dom=this.dom;if(autoPx){if(styles.left==="auto"){styles.left=dom.offsetLeft+"px"}if(styles.top==="auto"){styles.top=dom.offsetTop+"px"}}return styles},getScroll:function(){var me=this,dom=me.dom,docElement=DOC.documentElement,left,top,body=document.body;if(dom===DOC||dom===body){left=docElement.scrollLeft||(body?body.scrollLeft:0);top=docElement.scrollTop||(body?body.scrollTop:0)}else{left=dom.scrollLeft;top=dom.scrollTop}return{left:left,top:top}},getScrollIntoViewXY:function(container,scrollX,scrollY){var me=this,dom=me.dom,ct=Ext.getDom(container),offsets=me.getOffsetsTo(ct),width=dom.offsetWidth,height=dom.offsetHeight,left=offsets[0]+scrollX,top=offsets[1]+scrollY,bottom=top+height,right=left+width,ctClientHeight=ct.clientHeight,ctClientWidth=ct.clientWidth,ctBottom=scrollY+ctClientHeight,ctRight=scrollX+ctClientWidth,scrollX,scrollY;if(height>ctClientHeight||top<scrollY){scrollY=top}else{if(bottom>ctBottom){scrollY=bottom-ctClientHeight}}if(width>ctClientWidth||left<scrollX){scrollX=left}else{if(right>ctRight){scrollX=right-ctClientWidth}}return{x:scrollX,y:scrollY}},getScrollLeft:function(){var dom=this.dom;if(dom===DOC||dom===document.body){return this.getScroll().left}else{return dom.scrollLeft}},getScrollTop:function(){var dom=this.dom;if(dom===DOC||dom===document.body){return this.getScroll().top}else{return dom.scrollTop}},getXY:function(){var xy=this.callParent(),scroll=Ext.getDoc().getScroll();xy[0]+=scroll.left;xy[1]+=scroll.top;return xy},ghost:function(anchor,obj){var me=this,dom=me.dom,beforeAnim;anchor=anchor||"b";beforeAnim=function(){var el=Ext.fly(dom,"_anim"),width=el.getWidth(),height=el.getHeight(),xy=el.getXY(),position=el.getPositioning(),to={opacity:0};switch(anchor){case"t":to.y=xy[1]-height;break;case"l":to.x=xy[0]-width;break;case"r":to.x=xy[0]+width;break;case"b":to.y=xy[1]+height;break;case"tl":to.x=xy[0]-width;to.y=xy[1]-height;break;case"bl":to.x=xy[0]-width;to.y=xy[1]+height;break;case"br":to.x=xy[0]+width;to.y=xy[1]+height;break;case"tr":to.x=xy[0]+width;to.y=xy[1]-height;break}this.to=to;this.on("afteranimate",function(){var el=Ext.fly(dom,"_anim");if(el){el.hide();el.clearOpacity();el.setPositioning(position)}})};me.animate(Ext.applyIf(obj||{},{duration:500,easing:"ease-out",listeners:{beforeanimate:beforeAnim}}));return me},hide:function(animate){if(typeof animate==="string"){this.setVisible(false,animate);return this}this.setVisible(false,this.anim(animate));return this},highlight:function(color,o){var me=this,dom=me.dom,from={},restore,to,attr,lns,event,fn;o=o||{};lns=o.listeners||{};attr=o.attr||"backgroundColor";from[attr]=color||"ffff9c";if(!o.to){to={};to[attr]=o.endColor||me.getColor(attr,"ffffff","")}else{to=o.to}o.listeners=Ext.apply(Ext.apply({},lns),{beforeanimate:function(){restore=dom.style[attr];var el=Ext.fly(dom,"_anim");el.clearOpacity();el.show();event=lns.beforeanimate;if(event){fn=event.fn||event;return fn.apply(event.scope||lns.scope||WIN,arguments)}},afteranimate:function(){if(dom){dom.style[attr]=restore}event=lns.afteranimate;if(event){fn=event.fn||event;fn.apply(event.scope||lns.scope||WIN,arguments)}}});me.animate(Ext.apply({},o,{duration:1000,easing:"ease-in",from:from,to:to}));return me},hover:function(overFn,outFn,scope,options){var me=this;me.on("mouseenter",overFn,scope||me.dom,options);me.on("mouseleave",outFn,scope||me.dom,options);return me},initDD:function(group,config,overrides){var dd=new Ext.dd.DD(Ext.id(this.dom),group,config);return Ext.apply(dd,overrides)},initDDProxy:function(group,config,overrides){var dd=new Ext.dd.DDProxy(Ext.id(this.dom),group,config);return Ext.apply(dd,overrides)},initDDTarget:function(group,config,overrides){var dd=new Ext.dd.DDTarget(Ext.id(this.dom),group,config);return Ext.apply(dd,overrides)},isFocusable:function(asFocusEl){var me=this,dom=me.dom,tabIndexAttr=dom.getAttributeNode("tabIndex"),tabIndex,nodeName=dom.nodeName,canFocus=false;if(tabIndexAttr&&tabIndexAttr.specified){tabIndex=tabIndexAttr.value}if(dom&&!dom.disabled){if(tabIndex==-1){canFocus=Ext.enableFocusManager&&asFocusEl}else{if(focusRe.test(nodeName)){if((nodeName!=="a")||dom.href){canFocus=true}}else{canFocus=tabIndex!=null&&tabIndex>=0}}canFocus=canFocus&&me.isVisible(true)}return canFocus},isMasked:function(){var me=this,data=me.getData(),maskEl=data.maskEl,maskMsg=data.maskMsg,hasMask=false;if(maskEl&&maskEl.isVisible()){if(maskMsg){maskMsg.center(me)}hasMask=true}return hasMask},isScrollable:function(){var dom=this.dom;return dom.scrollHeight>dom.clientHeight||dom.scrollWidth>dom.clientWidth},load:function(options){this.getLoader().load(options);return this},mask:function(msg,msgCls,elHeight){var me=this,dom=me.dom,data=me.getData(),maskEl=data.maskEl,maskMsg=data.maskMsg;if(!(bodyRe.test(dom.tagName)&&me.getStyle("position")=="static")){me.addCls(XMASKEDRELATIVE)}if(maskEl){maskEl.destroy()}if(maskMsg){maskMsg.destroy()}Ext.DomHelper.append(dom,[{role:"presentation",cls:Ext.baseCSSPrefix+"mask",style:"top:0;left:0;"},{role:"presentation",cls:msgCls?EXTELMASKMSG+" "+msgCls:EXTELMASKMSG,cn:{tag:"div",role:"presentation",cls:Ext.baseCSSPrefix+"mask-msg-inner",cn:{tag:"div",role:"presentation",cls:Ext.baseCSSPrefix+"mask-msg-text",html:msg||""}}}]);maskMsg=Ext.get(dom.lastChild);maskEl=Ext.get(maskMsg.dom.previousSibling);data.maskMsg=maskMsg;data.maskEl=maskEl;me.addCls(XMASKED);maskEl.setDisplayed(true);if(typeof msg==="string"){maskMsg.setDisplayed(true);maskMsg.center(me)}else{maskMsg.setDisplayed(false)}if(dom===DOC.body){maskEl.addCls(Ext.baseCSSPrefix+"mask-fixed")}if(Ext.isIE9m&&dom!==DOC.body&&me.isStyle("height","auto")){maskEl.setSize(undefined,elHeight||me.getHeight())}return maskEl},monitorMouseLeave:function(delay,handler,scope){var me=this,timer,listeners={mouseleave:function(e){if(Ext.isIE9m){e.enableIEAsync()}timer=setTimeout(Ext.Function.bind(handler,scope||me,[e]),delay)},mouseenter:function(){clearTimeout(timer)}};me.on(listeners);return listeners},needsTabIndex:function(){var me=this;if(me.dom){if((me.dom.nodeName==="a")&&(!me.dom.href)){return true}return !focusRe.test(me.dom.nodeName)}},normalizeEvent:function(eventName){var fn,newName;if(!Ext.supports.MouseEnterLeave&&mouseEnterLeaveRe.test(eventName)){fn=this.normalizeWithin;newName=eventName=="mouseenter"?"mouseover":"mouseout"}else{if(eventName=="mousewheel"&&!Ext.supports.MouseWheel&&!Ext.isOpera){newName="DOMMouseScroll"}}return newName?{eventName:newName,normalizeFn:fn}:null},normalizeWithin:function(event){var parent=event.currentTarget,child=event.getRelatedTarget();if(parent&&parent.firstChild){while(child){if(child===parent){return false}child=child.parentNode;if(child&&(child.nodeType!==1)){child=null}}}return true},puff:function(obj){var me=this,dom=me.dom,beforeAnim,box=me.getBox(),originalStyles=me.getStyle(["width","height","left","right","top","bottom","position","z-index","font-size","opacity"],true);obj=Ext.applyIf(obj||{},{easing:"ease-out",duration:500,useDisplay:false});beforeAnim=function(){var el=Ext.fly(dom,"_anim");el.clearOpacity();el.show();this.to={width:box.width*2,height:box.height*2,x:box.x-(box.width/2),y:box.y-(box.height/2),opacity:0,fontSize:"200%"};this.on("afteranimate",function(){var el=Ext.fly(dom,"_anim");if(el){if(obj.useDisplay){el.setDisplayed(false)}else{el.hide()}el.setStyle(originalStyles);Ext.callback(obj.callback,obj.scope)}})};me.animate({duration:obj.duration,easing:obj.easing,listeners:{beforeanimate:{fn:beforeAnim}}});return me},scroll:function(direction,distance,animate){if(!this.isScrollable()){return false}direction=direction.charAt(0);var me=this,dom=me.dom,side=direction==="r"||direction==="l"?"left":"top",scrolled=false,currentScroll,constrainedScroll;if(direction==="l"||direction==="t"||direction==="u"){distance=-distance}if(side==="left"){currentScroll=dom.scrollLeft;constrainedScroll=me.constrainScrollLeft(currentScroll+distance)}else{currentScroll=dom.scrollTop;constrainedScroll=me.constrainScrollTop(currentScroll+distance)}if(constrainedScroll!==currentScroll){this.scrollTo(side,constrainedScroll,animate);scrolled=true}return scrolled},scrollBy:function(deltaX,deltaY,animate){var me=this,dom=me.dom;if(deltaX.length){animate=deltaY;deltaY=deltaX[1];deltaX=deltaX[0]}else{if(typeof deltaX!="number"){animate=deltaY;deltaY=deltaX.y;deltaX=deltaX.x}}if(deltaX){me.scrollTo("left",me.constrainScrollLeft(dom.scrollLeft+deltaX),animate)}if(deltaY){me.scrollTo("top",me.constrainScrollTop(dom.scrollTop+deltaY),animate)}return me},scrollChildIntoView:function(child,hscroll){scrollFly=scrollFly||new Ext.dom.Fly();scrollFly.attach(Ext.getDom(child)).scrollIntoView(this,hscroll)},scrollIntoView:function(container,hscroll,animate,highlight){container=Ext.getDom(container)||Ext.getBody().dom;return this.doScrollIntoView(container,hscroll,animate,highlight,"getScrollLeft","scrollTo")},scrollTo:function(side,value,animate){var top=/top/i.test(side),me=this,prop=top?"scrollTop":"scrollLeft",dom=me.dom,animCfg;if(!animate||!me.anim){dom[prop]=value;dom[prop]=value}else{animCfg={to:{}};animCfg.to[prop]=value;if(Ext.isObject(animate)){Ext.applyIf(animCfg,animate)}me.animate(animCfg)}return me},selectable:function(){var me=this;me.dom.unselectable="";me.removeCls(Element.unselectableCls);me.addCls(Element.selectableCls);return me},setCapture:function(){var dom=this.dom;if(Ext.isIE9m&&dom.setCapture){dom.setCapture()}},setDisplayed:function(value){if(typeof value==="boolean"){value=value?getDisplay(this):NONE}this.setStyle(DISPLAY,value);return this},setHeight:function(height,animate){var me=this;if(!animate||!me.anim){me.callParent(arguments)}else{if(!Ext.isObject(animate)){animate={}}me.animate(Ext.applyIf({to:{height:height}},animate))}return me},setHorizontal:function(){var me=this,cls=me.verticalCls;delete me.vertical;if(cls){delete me.verticalCls;me.removeCls(cls)}delete me.setWidth;delete me.setHeight;if(!Ext.isIE8){delete me.getWidth;delete me.getHeight}delete me.styleHooks},updateText:function(text){var me=this,dom,textNode;if(dom){textNode=dom.firstChild;if(!textNode||(textNode.nodeType!==3||textNode.nextSibling)){textNode=DOC.createTextNode();me.empty();dom.appendChild(textNode)}if(text){textNode.data=text}}},setHtml:function(html,loadScripts,callback){var me=this,id,dom,interval;if(!me.dom){return me}html=html||"";dom=me.dom;if(loadScripts!==true){dom.innerHTML=html;Ext.callback(callback,me);return me}id=Ext.id();html+='<span id="'+id+'" role="presentation"></span>';interval=setInterval(function(){var hd,match,attrs,srcMatch,typeMatch,el,s;if(!(el=DOC.getElementById(id))){return false}clearInterval(interval);Ext.removeNode(el);hd=Ext.getHead().dom;while((match=scriptTagRe.exec(html))){attrs=match[1];srcMatch=attrs?attrs.match(srcRe):false;if(srcMatch&&srcMatch[2]){s=DOC.createElement("script");s.src=srcMatch[2];typeMatch=attrs.match(typeRe);if(typeMatch&&typeMatch[2]){s.type=typeMatch[2]}hd.appendChild(s)}else{if(match[2]&&match[2].length>0){if(WIN.execScript){WIN.execScript(match[2])}else{WIN.eval(match[2])}}}}Ext.callback(callback,me)},20);dom.innerHTML=html.replace(replaceScriptTagRe,"");return me},setOpacity:function(opacity,animate){var me=this;if(!me.dom){return me}if(!animate||!me.anim){me.setStyle("opacity",opacity)}else{if(typeof animate!="object"){animate={duration:350,easing:"ease-in"}}me.animate(Ext.applyIf({to:{opacity:opacity}},animate))}return me},setPositioning:function(pc){return this.setStyle(pc)},setScrollLeft:function(left){this.dom.scrollLeft=left;return this},setScrollTop:function(top){this.dom.scrollTop=top;return this},setVertical:function(angle,cls){var me=this,proto=Element.prototype;me.vertical=true;if(cls){me.addCls(me.verticalCls=cls)}me.setWidth=proto.setHeight;me.setHeight=proto.setWidth;if(!Ext.isIE8){me.getWidth=proto.getHeight;me.getHeight=proto.getWidth}me.styleHooks=(angle===270)?proto.verticalStyleHooks270:proto.verticalStyleHooks90},setSize:function(width,height,animate){var me=this;if(Ext.isObject(width)){animate=height;height=width.height;width=width.width}if(!animate||!me.anim){me.dom.style.width=Element.addUnits(width);me.dom.style.height=Element.addUnits(height)}else{if(animate===true){animate={}}me.animate(Ext.applyIf({to:{width:width,height:height}},animate))}return me},setVisible:function(visible,animate){var me=this,dom=me.dom,visMode=getVisMode(me);if(typeof animate==="string"){switch(animate){case DISPLAY:visMode=Element.DISPLAY;break;case VISIBILITY:visMode=Element.VISIBILITY;break;case OFFSETS:visMode=Element.OFFSETS;break}me.setVisibilityMode(visMode);animate=false}if(!animate||!me.anim){if(visMode===Element.DISPLAY){return me.setDisplayed(visible)}else{if(visMode===Element.OFFSETS){me[visible?"removeCls":"addCls"](OFFSETCLASS)}else{if(visMode===Element.VISIBILITY){me.fixDisplay();dom.style.visibility=visible?"":HIDDEN}}}}else{if(visible){me.setOpacity(0.01);me.setVisible(true)}if(!Ext.isObject(animate)){animate={duration:350,easing:"ease-in"}}me.animate(Ext.applyIf({callback:function(){if(!visible){Ext.fly(dom).setVisible(false).setOpacity(1)}},to:{opacity:(visible)?1:0}},animate))}me.getData()[ISVISIBLE]=visible;return me},setWidth:function(width,animate){var me=this;if(!animate||!me.anim){me.callParent(arguments)}else{if(!Ext.isObject(animate)){animate={}}me.animate(Ext.applyIf({to:{width:width}},animate))}return me},setX:function(x,animate){return this.setXY([x,this.getY()],animate)},setXY:function(xy,animate){var me=this;if(!animate||!me.anim){me.callParent([xy])}else{if(!Ext.isObject(animate)){animate={}}me.animate(Ext.applyIf({to:{x:xy[0],y:xy[1]}},animate))}return this},setY:function(y,animate){return this.setXY([this.getX(),y],animate)},show:function(animate){if(typeof animate==="string"){this.setVisible(true,animate);return this}this.setVisible(true,this.anim(animate));return this},slideIn:function(anchor,obj,slideOut){var me=this,dom=me.dom,elStyle=dom.style,beforeAnim,wrapAnim,restoreScroll,wrapDomParentNode;anchor=anchor||"t";obj=obj||{};beforeAnim=function(){var animScope=this,listeners=obj.listeners,el=Ext.fly(dom,"_anim"),box,originalStyles,anim,wrap;if(!slideOut){el.fixDisplay()}box=el.getBox();if((anchor=="t"||anchor=="b")&&box.height===0){box.height=dom.scrollHeight}else{if((anchor=="l"||anchor=="r")&&box.width===0){box.width=dom.scrollWidth}}originalStyles=el.getStyle(["width","height","left","right","top","bottom","position","z-index"],true);el.setSize(box.width,box.height);if(obj.preserveScroll){restoreScroll=el.cacheScrollValues()}wrap=el.wrap({role:"presentation",id:Ext.id()+"-anim-wrap-for-"+el.dom.id,style:{visibility:slideOut?"visible":"hidden"}});wrapDomParentNode=wrap.dom.parentNode;wrap.setPositioning(el.getPositioning(true));if(wrap.isStyle("position","static")){wrap.position("relative")}el.clearPositioning("auto");wrap.clip();if(restoreScroll){restoreScroll()}el.setStyle({visibility:"",position:"absolute"});if(slideOut){wrap.setSize(box.width,box.height)}switch(anchor){case"t":anim={from:{width:box.width+"px",height:"0px"},to:{width:box.width+"px",height:box.height+"px"}};elStyle.bottom="0px";break;case"l":anim={from:{width:"0px",height:box.height+"px"},to:{width:box.width+"px",height:box.height+"px"}};me.anchorAnimX(anchor);break;case"r":anim={from:{x:box.x+box.width,width:"0px",height:box.height+"px"},to:{x:box.x,width:box.width+"px",height:box.height+"px"}};me.anchorAnimX(anchor);break;case"b":anim={from:{y:box.y+box.height,width:box.width+"px",height:"0px"},to:{y:box.y,width:box.width+"px",height:box.height+"px"}};break;case"tl":anim={from:{x:box.x,y:box.y,width:"0px",height:"0px"},to:{width:box.width+"px",height:box.height+"px"}};elStyle.bottom="0px";me.anchorAnimX("l");break;case"bl":anim={from:{y:box.y+box.height,width:"0px",height:"0px"},to:{y:box.y,width:box.width+"px",height:box.height+"px"}};me.anchorAnimX("l");break;case"br":anim={from:{x:box.x+box.width,y:box.y+box.height,width:"0px",height:"0px"},to:{x:box.x,y:box.y,width:box.width+"px",height:box.height+"px"}};me.anchorAnimX("r");break;case"tr":anim={from:{x:box.x+box.width,width:"0px",height:"0px"},to:{x:box.x,width:box.width+"px",height:box.height+"px"}};elStyle.bottom="0px";me.anchorAnimX("r");break}wrap.show();wrapAnim=Ext.apply({},obj);delete wrapAnim.listeners;wrapAnim=new Ext.fx.Anim(Ext.applyIf(wrapAnim,{target:wrap,duration:500,easing:"ease-out",from:slideOut?anim.to:anim.from,to:slideOut?anim.from:anim.to}));wrapAnim.on("afteranimate",function(){var el=Ext.fly(dom,"_anim");el.setStyle(originalStyles);if(slideOut){if(obj.useDisplay){el.setDisplayed(false)}else{el.hide()}}if(wrap.dom){if(wrap.dom.parentNode){wrap.dom.parentNode.insertBefore(el.dom,wrap.dom)}else{wrapDomParentNode.appendChild(el.dom)}wrap.destroy()}if(restoreScroll){restoreScroll()}animScope.end()});if(listeners){wrapAnim.on(listeners)}};me.animate({duration:obj.duration?Math.max(obj.duration,500)*2:1000,listeners:{beforeanimate:beforeAnim}});return me},slideOut:function(anchor,o){return this.slideIn(anchor,o,true)},swallowEvent:function(eventName,preventDefault){var me=this,e,eLen,fn=function(e){e.stopPropagation();if(preventDefault){e.preventDefault()}};if(Ext.isArray(eventName)){eLen=eventName.length;for(e=0;e<eLen;e++){me.on(eventName[e],fn)}return me}me.on(eventName,fn);return me},switchOff:function(obj){var me=this,dom=me.dom,beforeAnim;obj=Ext.applyIf(obj||{},{easing:"ease-in",duration:500,remove:false,useDisplay:false});beforeAnim=function(){var el=Ext.fly(dom,"_anim"),animScope=this,size=el.getSize(),xy=el.getXY(),keyframe,position;el.clearOpacity();el.clip();position=el.getPositioning();keyframe=new Ext.fx.Animator({target:dom,duration:obj.duration,easing:obj.easing,keyframes:{33:{opacity:0.3},66:{height:1,y:xy[1]+size.height/2},100:{width:1,x:xy[0]+size.width/2}}});keyframe.on("afteranimate",function(){var el=Ext.fly(dom,"_anim");if(obj.useDisplay){el.setDisplayed(false)}else{el.hide()}el.clearOpacity();el.setPositioning(position);el.setSize(size);animScope.end()})};me.animate({duration:(Math.max(obj.duration,500)*2),listeners:{beforeanimate:{fn:beforeAnim}},callback:obj.callback,scope:obj.scope});return me},syncContent:function(source){source=Ext.getDom(source);var sourceNodes=source.childNodes,sourceLen=sourceNodes.length,dest=this.dom,destNodes=dest.childNodes,destLen=destNodes.length,i,destNode,sourceNode,nodeType,newAttrs,attLen,attName;if(Ext.isIE9m&&dest.mergeAttributes){dest.mergeAttributes(source,true);dest.src=source.src}else{newAttrs=source.attributes;attLen=newAttrs.length;for(i=0;i<attLen;i++){attName=newAttrs[i].name;if(attName!=="id"){dest.setAttribute(attName,newAttrs[i].value)}}}if(sourceLen!==destLen){dest.innerHTML=source.innerHTML;return}for(i=0;i<sourceLen;i++){sourceNode=sourceNodes[i];destNode=destNodes[i];nodeType=sourceNode.nodeType;if(nodeType!==destNode.nodeType||(nodeType===1&&sourceNode.tagName!==destNode.tagName)){dest.innerHTML=source.innerHTML;return}if(nodeType===3){destNode.data=sourceNode.data}else{if(sourceNode.id&&destNode.id!==sourceNode.id){destNode.id=sourceNode.id}destNode.style.cssText=sourceNode.style.cssText;destNode.className=sourceNode.className;Ext.fly(destNode,"_syncContent").syncContent(sourceNode)}}},toggle:function(animate){var me=this;me.setVisible(!me.isVisible(),me.anim(animate));return me},unmask:function(){var me=this,data=me.getData(),maskEl=data.maskEl,maskMsg=data.maskMsg,style;if(maskEl){style=maskEl.dom.style;if(style.clearExpression){style.clearExpression("width");style.clearExpression("height")}if(maskEl){maskEl.destroy();delete data.maskEl}if(maskMsg){maskMsg.destroy();delete data.maskMsg}me.removeCls([XMASKED,XMASKEDRELATIVE])}},unclip:function(){var me=this,data=me.getData(),clip;if(data[ISCLIPPED]){data[ISCLIPPED]=false;clip=data[ORIGINALCLIP];if(clip.o){me.setStyle(OVERFLOW,clip.o)}if(clip.x){me.setStyle(OVERFLOWX,clip.x)}if(clip.y){me.setStyle(OVERFLOWY,clip.y)}}return me},translate:function(x,y,z){if(Ext.supports.CssTransforms&&!Ext.isIE9m){this.callParent(arguments)}else{if(x!=null){this.dom.style.left=x+"px"}if(y!=null){this.dom.style.top=y+"px"}this.dom.style.position="absolute"}},unselectable:function(){var me=this;if(Ext.isOpera){me.dom.unselectable="on"}me.removeCls(Element.selectableCls);me.addCls(Element.unselectableCls);return me},deprecated:{"4.0":{methods:{pause:function(ms){var me=this;Ext.fx.Manager.setFxDefaults(me.id,{delay:ms});return me},scale:function(w,h,o){this.animate(Ext.apply({},o,{width:w,height:h}));return this},shift:function(config){this.animate(config);return this}}},"4.2":{methods:{moveTo:function(x,y,animate){return this.setXY([x,y],animate)},setBounds:function(x,y,width,height,animate){return this.setBox({x:x,y:y,width:width,height:height},animate)},setLeftTop:function(left,top){var me=this,style=me.dom.style;style.left=Element.addUnits(left);style.top=Element.addUnits(top);return me},setLocation:function(x,y,animate){return this.setXY([x,y],animate)}}},"5.0":{methods:{getAttributeNS:function(namespace,name){return this.getAttribute(name,namespace)},getCenterXY:function(){return this.getAlignToXY(DOC,"c-c")},getComputedHeight:function(){return Math.max(this.dom.offsetHeight,this.dom.clientHeight)||parseFloat(this.getStyle(HEIGHT))||0},getComputedWidth:function(){return Math.max(this.dom.offsetWidth,this.dom.clientWidth)||parseFloat(this.getStyle(WIDTH))||0},getStyleSize:function(){var me=this,d=this.dom,isDoc=(d===DOC||d===DOC.body),s,w,h;if(isDoc){return{width:Element.getViewportWidth(),height:Element.getViewportHeight()}}s=me.getStyle(["height","width"],true);if(s.width&&s.width!=="auto"){w=parseFloat(s.width)}if(s.height&&s.height!=="auto"){h=parseFloat(s.height)}return{width:w||me.getWidth(true),height:h||me.getHeight(true)}},isBorderBox:function(){return true},isDisplayed:function(){return !this.isStyle("display","none")},focusable:"isFocusable"}}}}})(),function(){var r=Ext.dom.Element,q=r.prototype,y=!Ext.isIE8,b=document,n=b.defaultView,x=/alpha\(opacity=(.*)\)/i,j=/^\s+|\s+$/g,z=q.styleHooks,v=Ext.supports,d=0,u,g,f,p,e,t,h,A;q._init(r);delete q._init;r.on=r.addListener;if(Ext.os.is.iOS||Ext.os.is.Android){d=2}else{if(navigator.msMaxTouchPoints||(Ext.isWebKit&&v.TouchEvents&&Ext.os.is.Desktop)){d=1}}Ext.apply(v,{touchScroll:d});Ext.plainTableCls=Ext.baseCSSPrefix+"table-plain";Ext.plainListCls=Ext.baseCSSPrefix+"list-plain";if(Ext.CompositeElementLite){Ext.CompositeElementLite.importElementMethods()}z.opacity={name:"opacity",afterSet:function(C,B,k){if(k.isLayer){k.onOpacitySet(B)}}};if(!v.Opacity&&Ext.isIE){Ext.apply(z.opacity,{get:function(D){var C=D.style.filter,B,k;if(C.match){B=C.match(x);if(B){k=parseFloat(B[1]);if(!isNaN(k)){return k?k/100:0}}}return 1},set:function(D,B){var k=D.style,C=k.filter.replace(x,"").replace(j,"");k.zoom=1;if(typeof(B)==="number"&&B>=0&&B<1){B*=100;k.filter=C+(C.length?" ":"")+"alpha(opacity="+B+")"}else{k.filter=C}}})}if(!v.matchesSelector){var l=/^([a-z]+|\*)?(?:\.([a-z][a-z\-_0-9]*))?$/i,m=/\-/g,a,w=function(k,B){var C=new RegExp("(?:^|\\s+)"+B.replace(m,"\\-")+"(?:\\s+|$)");if(k&&k!=="*"){k=k.toUpperCase();return function(D){return D.tagName===k&&C.test(D.className)}}return function(D){return C.test(D.className)}},s=function(k){k=k.toUpperCase();return function(B){return B.tagName===k}},o={};q.matcherCache=o;q.is=function(k){if(!k){return true}var B=this.dom,H,D,G,F,E,C,I;if(B.nodeType!==1){return false}if(!(G=Ext.isFunction(k)?k:o[k])){if(!(D=k.match(l))){F=B.parentNode;if(!F){E=true;F=a||(a=b.createDocumentFragment());a.appendChild(B)}C=Ext.Array.indexOf(Ext.fly(F,"_is").query(k),B)!==-1;if(E){a.removeChild(B)}return C}I=D[1];H=D[2];o[k]=G=H?w(I,H):s(I)}return G(B)}}if(!n||!n.getComputedStyle){q.getStyle=function(O,J){var K=this,F=K.dom,Q=typeof O!=="string",C=O,L=C,I=1,D=J,B=K.styleHooks,P,H,N,M,E,k,G;if(Q){N={};C=L[0];G=0;if(!(I=L.length)){return N}}if(!F||F.documentElement){return N||""}H=F.style;if(J){k=H}else{k=F.currentStyle;if(!k){D=true;k=H}}do{M=B[C];if(!M){B[C]=M={name:r.normalize(C)}}if(M.get){E=M.get(F,K,D,k)}else{P=M.name;E=k[P]}if(!Q){return E}N[C]=E;C=L[++G]}while(G<I);return N}}if(Ext.isIE8){function c(D,B,C,k){if(k[this.styleName]==="none"){return"0px"}return k[this.name]}e=["Top","Right","Bottom","Left"];t=e.length;while(t--){h=e[t];A="border"+h+"Width";z["border-"+h.toLowerCase()+"-width"]=z[A]={name:A,styleName:"border"+h+"Style",get:c}}}Ext.apply(Ext,{enableGarbageCollector:true,isBorderBox:true,getDetachedBody:function(){var k=Ext.detachedBodyEl;if(!k){k=b.createElement("div");Ext.detachedBodyEl=k=new Ext.dom.Fly(k);k.isDetachedBody=true}return k},getElementById:function(C){var B=b.getElementById(C),k;if(!B&&(k=Ext.detachedBodyEl)){B=k.dom.querySelector(Ext.makeIdSelector(C))}return B},addBehaviors:function(E){if(!Ext.isReady){Ext.onReady(function(){Ext.addBehaviors(E)})}else{var B={},D,k,C;for(k in E){if((D=k.split("@"))[1]){C=D[0];if(!B[C]){B[C]=Ext.fly(document).select(C,true)}B[C].on(D[1],E[k])}}B=null}}});if(Ext.isIE8){u=Ext.removeNode;Ext.removeNode=function(k){u(k);g=g||b.createElement("div");g.appendChild(k);g.innerHTML=""}}if(Ext.isIE9m){Ext.getElementById=function(C){var B=b.getElementById(C),k;if(!B&&(k=Ext.detachedBodyEl)){B=k.dom.all[C]}return B};q.getById=function(F,k){var E=this.dom,B=null,D,C;if(E){C=(y&&b.getElementById(F))||E.all[F];if(C){if(k){B=C}else{D=Ext.cache[F];if(D){if(D.skipGarbageCollection||!Ext.isGarbage(D.dom)){B=D}else{Ext.Error.raise("Stale Element with id '"+C.id+"' found in Element cache. Make sure to clean up Element instances using destroy()");D.destroy()}}B=B||new Ext.Element(C)}}}return B}}else{if(!b.querySelector){Ext.getDetachedBody=Ext.getBody;Ext.getElementById=function(k){return b.getElementById(k)};q.getById=function(C,k){var B=b.getElementById(C);return k?B:(B?Ext.get(B):null)}}}if(Ext.isIE&&!(Ext.isIE9p&&b.documentMode>=9)){q.getAttribute=function(k,C){var D=this.dom,B;if(C){B=typeof D[C+":"+k];if(B!="undefined"&&B!="unknown"){return D[C+":"+k]||null}return null}if(k==="for"){k="htmlFor"}return D[k]||null}}Ext.onReady(function(){var D=/^(?:transparent|(?:rgba[(](?:\s*\d+\s*[,]){3}\s*0\s*[)]))$/i,B=[],I=q.setWidth,J=q.setHeight,N=q.setSize,O=/^\d+(?:\.\d*)?px$/i,H,F,k,M;if(v.FixedTableWidthBug){z.width={name:"width",set:function(U,T,R){var Q=U.style,P=R._needsTableWidthFix,S=Q.display;if(P){Q.display="none"}Q.width=T;if(P){U.scrollWidth;Q.display=S}}};q.setWidth=function(S,Q){var U=this,V=U.dom,R=V.style,P=U._needsTableWidthFix,T=R.display;if(P&&!Q){R.display="none"}I.call(U,S,Q);if(P&&!Q){V.scrollWidth;R.display=T}return U};q.setSize=function(T,Q,R){var V=this,W=V.dom,S=W.style,P=V._needsTableWidthFix,U=S.display;if(P&&!R){S.display="none"}N.call(V,T,Q,R);if(P&&!R){W.scrollWidth;S.display=U}return V}}if(Ext.isIE8){z.height={name:"height",set:function(U,T,R){var Q=R.component,S,P;if(Q&&Q._syncFrameHeight&&this===Q.el){P=Q.frameBody.dom.style;if(O.test(T)){S=Q.getFrameInfo();if(S){P.height=(parseInt(T,10)-S.height)+"px"}}else{if(!T||T==="auto"){P.height=""}}}U.style.height=T}};q.setHeight=function(P,R){var S=this.component,T,Q;if(S&&S._syncFrameHeight&&this===S.el){Q=S.frameBody.dom.style;if(!P||P==="auto"){Q.height=""}else{T=S.getFrameInfo();if(T){Q.height=(P-T.height)+"px"}}}return J.call(this,P,R)};q.setSize=function(T,P,R){var S=this.component,U,Q;if(S&&S._syncFrameHeight&&this===S.el){Q=S.frameBody.dom.style;if(!P||P==="auto"){Q.height=""}else{U=S.getFrameInfo();if(U){Q.height=(P-U.height)+"px"}}}return N.call(this,T,P,R)}}Ext.getDoc().on("selectstart",function(T,U){var S=r.selectableCls,R=r.unselectableCls,P=U&&U.tagName;P=P&&P.toLowerCase();if(P==="input"||P==="textarea"){return}while(U&&U.nodeType===1&&U!==b.documentElement){var Q=Ext.fly(U);if(Q.hasCls(S)){return}if(Q.hasCls(R)){T.stopEvent();return}U=U.parentNode}});function G(T,Q,S,P){var R=P[this.name]||"";return D.test(R)?"transparent":R}function L(Q,R,P){return function(){Q.selectionStart=R;Q.selectionEnd=P}}function K(T){var R=v.DisplayChangeInputSelectionBug,S=v.DisplayChangeTextAreaSelectionBug,U,P,V,Q;if(R||S){U=r.getActiveElement();P=U&&U.tagName;if((S&&P==="TEXTAREA")||(R&&P==="INPUT"&&U.type==="text")){if(Ext.fly(T).isAncestor(U)){V=U.selectionStart;Q=U.selectionEnd;if(Ext.isNumber(V)&&Ext.isNumber(Q)){return L(U,V,Q)}}}}return Ext.emptyFn}function E(V,S,U,R){var P=R.marginRight,Q,T;if(P!=="0px"){Q=V.style;T=Q.display;Q.display="inline-block";P=(U?R:V.ownerDocument.defaultView.getComputedStyle(V,null)).marginRight;Q.display=T}return P}function C(W,T,V,S){var P=S.marginRight,R,Q,U;if(P!=="0px"){R=W.style;Q=K(W);U=R.display;R.display="inline-block";P=(V?S:W.ownerDocument.defaultView.getComputedStyle(W,"")).marginRight;R.display=U;Q()}return P}if(!v.RightMargin){z.marginRight=z["margin-right"]={name:"marginRight",get:(v.DisplayChangeInputSelectionBug||v.DisplayChangeTextAreaSelectionBug)?C:E}}if(!v.TransparentColor){H=["background-color","border-color","color","outline-color"];for(F=H.length;F--;){k=H[F];M=r.normalize(k);z[k]=z[M]={name:M,get:G}}}q.verticalStyleHooks90=f=Ext.Object.chain(z);q.verticalStyleHooks270=p=Ext.Object.chain(z);f.width=z.height||{name:"height"};f.height=z.width||{name:"width"};f["margin-top"]={name:"marginLeft"};f["margin-right"]={name:"marginTop"};f["margin-bottom"]={name:"marginRight"};f["margin-left"]={name:"marginBottom"};f["padding-top"]={name:"paddingLeft"};f["padding-right"]={name:"paddingTop"};f["padding-bottom"]={name:"paddingRight"};f["padding-left"]={name:"paddingBottom"};f["border-top"]={name:"borderLeft"};f["border-right"]={name:"borderTop"};f["border-bottom"]={name:"borderRight"};f["border-left"]={name:"borderBottom"};p.width=z.height||{name:"height"};p.height=z.width||{name:"width"};p["margin-top"]={name:"marginRight"};p["margin-right"]={name:"marginBottom"};p["margin-bottom"]={name:"marginLeft"};p["margin-left"]={name:"marginTop"};p["padding-top"]={name:"paddingRight"};p["padding-right"]={name:"paddingBottom"};p["padding-bottom"]={name:"paddingLeft"};p["padding-left"]={name:"paddingTop"};p["border-top"]={name:"borderRight"};p["border-right"]={name:"borderBottom"};p["border-bottom"]={name:"borderLeft"};p["border-left"]={name:"borderTop"};if(!Ext.scopeCss){B.push(Ext.baseCSSPrefix+"body")}if(v.Touch){B.push(Ext.baseCSSPrefix+"touch")}if(Ext.isIE&&Ext.isIE9m){B.push(Ext.baseCSSPrefix+"ie",Ext.baseCSSPrefix+"ie9m");B.push(Ext.baseCSSPrefix+"ie8p");if(Ext.isIE8){B.push(Ext.baseCSSPrefix+"ie8")}else{B.push(Ext.baseCSSPrefix+"ie9",Ext.baseCSSPrefix+"ie9p")}if(Ext.isIE8m){B.push(Ext.baseCSSPrefix+"ie8m")}}if(Ext.isIE10){B.push(Ext.baseCSSPrefix+"ie10")}if(Ext.isGecko){B.push(Ext.baseCSSPrefix+"gecko")}if(Ext.isOpera){B.push(Ext.baseCSSPrefix+"opera")}if(Ext.isOpera12m){B.push(Ext.baseCSSPrefix+"opera12m")}if(Ext.isWebKit){B.push(Ext.baseCSSPrefix+"webkit")}if(Ext.isSafari){B.push(Ext.baseCSSPrefix+"safari")}if(Ext.isChrome){B.push(Ext.baseCSSPrefix+"chrome")}if(Ext.isMac){B.push(Ext.baseCSSPrefix+"mac")}if(Ext.isLinux){B.push(Ext.baseCSSPrefix+"linux")}if(!v.CSS3BorderRadius){B.push(Ext.baseCSSPrefix+"nbr")}if(!v.CSS3LinearGradient){B.push(Ext.baseCSSPrefix+"nlg")}if(v.Touch){B.push(Ext.baseCSSPrefix+"touch")}Ext.getBody().addCls(B)},null,{priority:1500})});Ext.define("Ext.GlobalEvents",{extend:Ext.mixin.Observable,alternateClassName:"Ext.globalEvents",observableType:"global",singleton:true,resizeBuffer:100,idleEventMask:{mousemove:1,touchmove:1,pointermove:1,MSPointerMove:1,unload:1},constructor:function(){var a=this;a.callParent();Ext.onReady(function(){a.attachListeners()})},attachListeners:function(){Ext.get(window).on("resize",this.fireResize,this,{buffer:this.resizeBuffer})},fireResize:function(){var d=this,b=Ext.Element,a=b.getViewportWidth(),c=b.getViewportHeight();if(d.curHeight!==c||d.curWidth!==a){d.curHeight=c;d.curWidth=a;d.fireEvent("resize",a,c)}}},function(a){Ext.on=function(){return a.addListener.apply(a,arguments)};Ext.un=function(){return a.removeListener.apply(a,arguments)}});Ext.define("Ext.overrides.GlobalEvents",{override:"Ext.GlobalEvents",attachListeners:function(){this.callParent();Ext.getDoc().on("mousedown",this.fireMouseDown,this)},fireMouseDown:function(a){this.fireEvent("mousedown",a)},deprecated:{5:{methods:{addListener:function(c,e,d,b){var a,f;if(c==="ready"){f=e}else{if(typeof c!=="string"){for(a in c){if(a==="ready"){f=c[a]}}}}if(f){Ext.log.warn("Ext.on('ready', fn) is deprecated.  Please use Ext.onReady(fn) instead.");Ext.onReady(f)}this.callParent([c,e,d,b])}}}}});Ext.define("Ext.event.publisher.Dom",{extend:Ext.event.publisher.Publisher,targetType:"element",idOrClassSelectorRegex:/^([#|\.])([\w\-]+)$/,classNameSplitRegex:/\s+/,SELECTOR_ALL:"*",captureEvents:{resize:1,focus:1,blur:1,paste:1,input:1,change:1,animationstart:1,animationend:1,scroll:1},directEvents:{mouseenter:1,mouseleave:1,pointerenter:1,pointerleave:1,MSPointerEnter:1,MSPointerLeave:1,load:1,unload:1,beforeunload:1,error:1,DOMContentLoaded:1,DOMFrameContentLoaded:1},blockedPointerEvents:{pointerover:1,pointerout:1,pointerenter:1,pointerleave:1,MSPointerOver:1,MSPointerOut:1,MSPointerEnter:1,MSPointerLeave:1},blockedCompatibilityMouseEvents:{mouseenter:1,mouseleave:1},constructor:function(){var h=this,j=document,f=j.defaultView,k=h.eventToVendorMap={},e=h.vendorToEventMap={},a=h.handledEvents,d=Ext.browser,c,g,b;h.captureSubscribers={};h.directSubscribers={};h.globalListeners={};if((Ext.os.is.iOS&&Ext.os.version.getMajor()<5)||!(f&&f.addEventListener)){h.target=j;h.isTargetWin=false}else{h.target=f;h.isTargetWin=true}h.initHandlers();if(a){for(c=0,g=a.length;c<g;c++){this.addDelegatedListener(a[c])}}else{if(d.is.WebKit){k.transitionend=d.getVendorProperyName("transitionEnd");k.animationstart=d.getVendorProperyName("animationStart");k.animationend=d.getVendorProperyName("animationEnd");for(b in k){e[k[b]]=b}}}return h.callParent()},initHandlers:function(){var a=this;a.onDelegatedEvent=Ext.bind(a.onDelegatedEvent,a);a.onDirectEvent=Ext.bind(a.onDirectEvent,a)},handles:function(){return false},getSubscribers:function(b,a){var d=a?this.captureSubscribers:this.subscribers,c=d[b];if(!c){c=d[b]={id:{$length:0},className:{$length:0},selector:[],all:0,$length:0}}return c},getDirectSubscribers:function(e,a){var c=this.directSubscribers,d=c[e]||(c[e]={}),b=d[a]||(d[a]={$length:0});return b},addDelegatedListener:function(a){this.target.addEventListener(a,this.onDelegatedEvent,this.captureEvents[a])},removeDelegatedListener:function(a){this.target.removeEventListener(a,this.onDelegatedEvent,this.captureEvents[a])},addDirectListener:function(b,c,a){c.addEventListener(b,this.onDirectEvent,a)},removeDirectListener:function(b,c,a){c.removeEventListener(b,this.onDirectEvent,a)},subscribe:function(k,h,p,a){var m=this,o=!!p.capture,g=k.match(m.idOrClassSelectorRegex),b,d,e,c,j,f,l,n;if(p.delegated!==false&&!m.directEvents[h]&&!(k==="#ext-window"&&!m.isTargetWin)){if(!m.handledEvents&&!m.globalListeners[h]){m.addDelegatedListener(m.eventToVendorMap[h]||h);this.globalListeners[h]=1}}else{f=a.dom;j=this.getDirectSubscribers(f.id,h);if(++j.$length===1){m.addDirectListener(h,f,o)}if(!g){(j.selector||(j.selector=[])).push(k)}return}b=m.getSubscribers(h,o);d=b.id;e=b.className;c=b.selector;if(g){l=g[1];n=g[2];if(l==="#"){if(d.hasOwnProperty(n)){d[n]++;return}d[n]=1;d.$length++}else{if(e.hasOwnProperty(n)){e[n]++;return}e[n]=1;e.$length++}}else{if(k===this.SELECTOR_ALL){b.all++}else{if(c.hasOwnProperty(k)){c[k]++;return}c[k]=1;c.push(k)}}b.$length++},unsubscribe:function(l,j,p,r,b){var n=this,q=!!r.capture,h=l.match(n.idOrClassSelectorRegex),a,e,f,c,k,m,o,g,d;if(r.delegated===false||n.directEvents[j]||(l===Ext.windowId&&!n.isTargetWin)){g=b.dom;d=g.id;k=n.getDirectSubscribers(d,j);if(p){if(k.$length){n.removeDirectListener(j,g,q)}delete n.directSubscribers[d]}else{if(!--k.$length){n.removeDirectListener(j,g,q);delete n.directSubscribers[d][j]}else{if(!h){Ext.Array.remove(k.selector,l)}}}return}a=n.getSubscribers(j,q);e=a.id;f=a.className;c=a.selector;if(h){m=h[1];o=h[2];if(m==="#"){if(!e.hasOwnProperty(o)||(!p&&--e[o]>0)){return}delete e[o];e.$length--}else{if(!f.hasOwnProperty(o)||(!p&&--f[o]>0)){return}delete f[o];f.$length--}}else{if(l===n.SELECTOR_ALL){if(p){a.all=0}else{a.all--}}else{if(!c.hasOwnProperty(l)||(!p&&--c[l]>0)){return}delete c[l];Ext.Array.remove(c,l)}}a.$length--},getPropagatingTargets:function(b){var a=[];if(!b){return a}do{a[a.length]=b;b=b.parentNode}while(b);return a},dispatch:function(c,a,b){b.push(b[0].target);this.callParent(arguments)},publish:function(f,h,a){var k=this.getSubscribers(f,true),c=this.getSubscribers(f),b=this.getSubscribers("*",true),m=this.getSubscribers("*"),j=k.$length,e=c.$length,d=b.$length,l=m.$length,g;if(!j&&!e&&!d&&!l){return}if(Ext.isArray(h)){g=h}else{if(this.captureEvents[f]){g=[h]}else{g=this.getPropagatingTargets(h)}}if(!j||!this.doPublish(k,f,g,a,true)){if(d){this.doPublish(b,f,g,a,true)}}if(!a.isStopped&&(!e||!this.doPublish(c,f,g,a))){if(l){this.doPublish(m,f,g,a)}}return this},doPublish:function(f,l,B,x,u){var t=f.id,h=f.className,b=f.selector,r=t.$length>0,a=h.$length>0,n=b.length>0,q=f.all>0,C={},e=[x],s=false,o=this.classNameSplitRegex,k=0,g=B.length,A=1,y,m,w,d,D,p,c,z,v;if(u){k=g-1;g=A=-1}for(y=k;y!==g;y+=A){D=B[y];x.setCurrentTarget(D);if(r){p=(D.tagName==="FORM")?D.getAttribute("id"):(D===window)?"ext-window":D.id;if(p){if(t.hasOwnProperty(p)){s=true;this.dispatch("#"+p,l,e,u)}}}if(a){c=D.className;if(c){z=c.split(o);for(w=0,d=z.length;w<d;w++){c=z[w];if(!C[c]){C[c]=true;if(h.hasOwnProperty(c)){s=true;this.dispatch("."+c,l,e)}}}}}if(x.isStopped){return s}}if(q&&!s){x.setCurrentTarget(x.browserEvent.target);s=true;this.dispatch(this.SELECTOR_ALL,l,e);if(x.isStopped){return s}}if(n){for(w=0,d=B.length;w<d;w++){D=B[w];for(y=0,m=b.length;y<m;y++){v=b[y];if(Ext.fly(D).is(v)){x.setCurrentTarget(D);s=true;this.dispatch(v,l,e)}if(x.isStopped){return s}}}}return s},onDelegatedEvent:function(f,d){var c=this,a=f.type,b;b=new Ext.event.Event(f);if(c.isEventBlocked(b)){return false}c.beforeEvent(b);a=b.type=c.vendorToEventMap[a]||a;Ext.frameStartTime=f.timeStamp;c.publish(a,b.target,b);if(d!==false){c.afterEvent(b)}return b},onDirectEvent:function(m){var n=this,o=m.type,b=new Ext.event.Event(m),j,f,c,p,q,a,l,d,h,k,g;if(n.isEventBlocked(b)){return}n.beforeEvent(b);j=b.type=this.vendorToEventMap[o]||o;f=m.currentTarget;c=f.id;p=n.getDirectSubscribers(c,j).selector;q=n.dispatcher;a=n.targetType;l=m.target;d=l;Ext.frameStartTime=m.timeStamp;if(l.navigator){c="ext-window"}b.setCurrentTarget(f);if(p){k=p.length;while(d!==f){for(h=0;h<k;h++){g=p[h];if(Ext.fly(d).is(g)){q.dispatchDirectEvent(a,g,j,[b,l])}}d=d.parentNode}}q.dispatchDirectEvent(a,"#"+c,j,[b,l]);n.afterEvent(b)},beforeEvent:function(c){var f=c.browserEvent,a=Ext.event.publisher.Dom,b,d;if(f.type==="touchstart"){b=f.touches;if(b.length===1){d=b[0];a.lastTouchStartX=d.pageX;a.lastTouchStartY=d.pageY}}},afterEvent:function(d){var f=d.browserEvent,c=f.type,b=Ext.event.publisher.Dom,a=Ext.GlobalEvents;if(a.hasListeners.idle&&!a.idleEventMask[c]){a.fireEvent("idle")}if(d.self.pointerEvents[c]&&d.pointerType!=="mouse"){b.lastScreenPointerEventTime=Ext.now()}if(c==="touchend"){b.lastTouchEndTime=Ext.now()}},isEventBlocked:function(f){var d=this,c=f.type,a=Ext.event.publisher.Dom,b=Ext.now();return(d.blockedPointerEvents[c]&&f.pointerType!=="mouse")||(d.blockedCompatibilityMouseEvents[c]&&(b-a.lastScreenPointerEventTime<1000))||(Ext.supports.TouchEvents&&f.self.mouseEvents[f.type]&&Math.abs(f.pageX-a.lastTouchStartX)<15&&Math.abs(f.pageY-a.lastTouchStartY)<15&&(Ext.now()-a.lastTouchEndTime)<1000)},hasSubscriber:function(f,a){var b=f.match(this.idOrClassSelectorRegex),e=this.getSubscribers(a),c,d;if(b!==null){c=b[1];d=b[2];if(c==="#"){return e.id.hasOwnProperty(d)}else{return e.className.hasOwnProperty(d)}}else{return(e.selector.hasOwnProperty(f)&&Ext.Array.indexOf(e.selector,f)!==-1)}return false},getSubscribersCount:function(a){return this.getSubscribers(a).$length+this.getSubscribers("*").$length},destroy:function(){var e=this,b=e.handledEvents,c,d,a;if(b){for(c=0,d=b.length;c<d;c++){e.removeDelegatedListener(b[c])}}else{for(a in e.globalListeners){e.removeDelegatedListener(a)}}}});Ext.define("Ext.overrides.event.publisher.Dom",{override:"Ext.event.publisher.Dom"},function(){var b=Ext.event.publisher.Dom,a=b.prototype;if(Ext.isIE9m){b.override({initHandlers:function(){var d=this,e,c;d.callParent();e=d.onDelegatedEvent;c=d.onDirectEvent;d.target=document;d.targetIsWin=false;d.onDelegatedEvent=function(f){f.target=f.srcElement||window;e.call(d,f)};d.onDirectEvent=function(f){f.target=f.srcElement||window;f.currentTarget=this;c.call(d,f)}},addDelegatedListener:function(c){this.target.attachEvent("on"+c,this.onDelegatedEvent)},removeDelegatedListener:function(c){this.target.detachEvent("on"+c,this.onDelegatedEvent)},addDirectListener:function(c,d){var f=this,e=Ext.Function.bind(f.onDirectEvent,d);f.directSubscribers[d.id][c].fn=e;if(d.attachEvent){d.attachEvent("on"+c,e)}else{f.callParent(arguments)}},removeDirectListener:function(c,d){if(d.detachEvent){d.detachEvent("on"+c,this.directSubscribers[d.id][c].fn)}else{this.callParent(arguments)}}});Ext.apply(a.directEvents,a.captureEvents);a.captureEvents={}}});Ext.define("Ext.AnimationQueue",{singleton:true,constructor:function(){var a=Ext.Function.bind;this.queue=[];this.taskQueue=[];this.runningQueue=[];this.idleQueue=[];this.isRunning=false;this.isIdle=true;this.run=a(this.run,this);this.whenIdle=a(this.whenIdle,this);this.processIdleQueueItem=a(this.processIdleQueueItem,this);this.processTaskQueueItem=a(this.processTaskQueueItem,this);if(Ext.os.is.iOS){setInterval(this.watch,500)}},start:function(c,b,a){this.queue.push(arguments);if(!this.isRunning){if(this.hasOwnProperty("idleTimer")){clearTimeout(this.idleTimer);delete this.idleTimer}if(this.hasOwnProperty("idleQueueTimer")){clearTimeout(this.idleQueueTimer);delete this.idleQueueTimer}this.isIdle=false;this.isRunning=true;this.startCountTime=Ext.now();this.count=0;this.doStart()}},watch:function(){if(this.isRunning&&Ext.now()-this.lastRunTime>=500){this.run()}},run:function(){if(!this.isRunning){return}var a=this.runningQueue,d,g;this.lastRunTime=Ext.now();this.frameStartTime=Ext.now();a.push.apply(a,this.queue);for(d=0,g=a.length;d<g;d++){this.invoke(a[d])}a.length=0;var b=this.frameStartTime,e=this.startCountTime,c=b-e,f=++this.count;if(c>=200){this.onFpsChanged(f*1000/c,f,c);this.startCountTime=b;this.count=0}this.doIterate()},onFpsChanged:Ext.emptyFn,onStop:Ext.emptyFn,doStart:function(){this.animationFrameId=Ext.Function.requestAnimationFrame(this.run);this.lastRunTime=Ext.now()},doIterate:function(){this.animationFrameId=Ext.Function.requestAnimationFrame(this.run)},doStop:function(){Ext.Function.cancelAnimationFrame(this.animationFrameId)},stop:function(e,d,b){if(!this.isRunning){return}var a=this.queue,g=a.length,c,f;for(c=0;c<g;c++){f=a[c];if(f[0]===e&&f[1]===d&&f[2]===b){a.splice(c,1);c--;g--}}if(g===0){this.doStop();this.onStop();this.isRunning=false;this.idleTimer=setTimeout(this.whenIdle,100)}},onIdle:function(e,d,a){var c=this.idleQueue,b,f,g;for(b=0,f=c.length;b<f;b++){g=c[b];if(e===g[0]&&d===g[1]&&a===g[2]){return}}c.push(arguments);if(this.isIdle){this.processIdleQueue()}},unIdle:function(e,d,a){var c=this.idleQueue,b,f,g;for(b=0,f=c.length;b<f;b++){g=c[b];if(e===g[0]&&d===g[1]&&a===g[2]){c.splice(b,1);return true}}return false},queueTask:function(c,b,a){this.taskQueue.push(arguments);this.processTaskQueue()},dequeueTask:function(e,d,a){var c=this.taskQueue,b,f,g;for(b=0,f=c.length;b<f;b++){g=c[b];if(e===g[0]&&d===g[1]&&a===g[2]){c.splice(b,1);b--;f--}}},invoke:function(d){var c=d[0],b=d[1],a=d[2];c=(typeof c=="string"?b[c]:c);if(Ext.isArray(a)){c.apply(b,a)}else{c.call(b,a)}},whenIdle:function(){this.isIdle=true;this.processIdleQueue()},processIdleQueue:function(){if(!this.hasOwnProperty("idleQueueTimer")){this.idleQueueTimer=setTimeout(this.processIdleQueueItem,1)}},processIdleQueueItem:function(){delete this.idleQueueTimer;if(!this.isIdle){return}var a=this.idleQueue,b;if(a.length>0){b=a.shift();this.invoke(b);this.processIdleQueue()}},processTaskQueue:function(){if(!this.hasOwnProperty("taskQueueTimer")){this.taskQueueTimer=setTimeout(this.processTaskQueueItem,15)}},processTaskQueueItem:function(){delete this.taskQueueTimer;var a=this.taskQueue,b;if(a.length>0){b=a.shift();this.invoke(b);this.processTaskQueue()}},showFps:function(){Ext.onReady(function(){Ext.Viewport.add([{xtype:"component",bottom:50,left:0,width:50,height:20,html:"Average",style:"background-color: black; color: white; text-align: center; line-height: 20px; font-size: 8px;"},{id:"__averageFps",xtype:"component",bottom:0,left:0,width:50,height:50,html:"0",style:"background-color: red; color: white; text-align: center; line-height: 50px;"},{xtype:"component",bottom:50,left:50,width:50,height:20,html:"Min (Last 1k)",style:"background-color: black; color: white; text-align: center; line-height: 20px; font-size: 8px;"},{id:"__minFps",xtype:"component",bottom:0,left:50,width:50,height:50,html:"0",style:"background-color: orange; color: white; text-align: center; line-height: 50px;"},{xtype:"component",bottom:50,left:100,width:50,height:20,html:"Max (Last 1k)",style:"background-color: black; color: white; text-align: center; line-height: 20px; font-size: 8px;"},{id:"__maxFps",xtype:"component",bottom:0,left:100,width:50,height:50,html:"0",style:"background-color: yellow; color: black; text-align: center; line-height: 50px;"},{xtype:"component",bottom:50,left:150,width:50,height:20,html:"Current",style:"background-color: black; color: white; text-align: center; line-height: 20px; font-size: 8px;"},{id:"__currentFps",xtype:"component",bottom:0,left:150,width:50,height:50,html:"0",style:"background-color: green; color: white; text-align: center; line-height: 50px;"}]);Ext.AnimationQueue.resetFps()})},resetFps:function(){var c=Ext.getCmp("__currentFps"),b=Ext.getCmp("__averageFps"),h=Ext.getCmp("__minFps"),g=Ext.getCmp("__maxFps"),d=1000,a=0,f=0,e=0;Ext.AnimationQueue.onFpsChanged=function(j){f++;if(!(f%10)){d=1000;a=0}e+=j;d=Math.min(d,j);a=Math.max(a,j);c.setHtml(Math.round(j));b.setHtml(Math.round(e/f));h.setHtml(Math.round(d));g.setHtml(Math.round(a))}}},function(){var a=window.location.search.substr(1),b=a.split("&");if(Ext.Array.contains(b,"showfps")){Ext.AnimationQueue.showFps()}});Ext.define("Ext.event.publisher.Gesture",{extend:Ext.event.publisher.Dom,alternateClassName:"Ext.event.publisher.TouchGesture",config:{recognizers:{}},isCancelEvent:{touchcancel:1,pointercancel:1,MSPointerCancel:1},constructor:function(a){var c=this,d=c.onTouchStart,b=c.onTouchMove=Ext.Function.createAnimationFrame(c.onTouchMove,c),e=c.onTouchEnd=Ext.Function.createAnimationFrame(c.onTouchEnd,c,null,1);c.handlers={touchstart:d,touchmove:b,touchend:e,touchcancel:e,pointerdown:d,pointermove:b,pointerup:e,pointercancel:e,MSPointerDown:d,MSPointerMove:b,MSPointerUp:e,MSPointerCancel:e,mousedown:d,mousemove:b,mouseup:e};c.recognizedEvents={};c.activeTouchesMap={};c.activeTouches=[];c.changedTouches=[];if(Ext.supports.TouchEvents){c.onTargetTouchMove=c.onTargetTouchMove.bind(c);c.onTargetTouchEnd=c.onTargetTouchEnd.bind(c)}c.initConfig(a);return c.callParent()},applyRecognizers:function(b){var c,a;for(c in b){a=b[c];if(a){this.registerRecognizer(a)}}return b},handles:function(a){var b=this.handledEventsMap;return !!b[a]||!!b["*"]||a==="*"||this.recognizedEvents.hasOwnProperty(a)},registerRecognizer:function(a){var e=this,f=e.recognizedEvents,b=a.getHandledEvents(),c,d;a.setOnRecognized(e.onRecognized);a.setCallbackScope(e);for(c=0,d=b.length;c<d;c++){f[b[c]]=1}},onRecognized:function(d,g,a){var j=this,k=g.changedTouches,h=k.length,l,f,c,b;a=a||{};a.type=d;a.target=k[0].target;a.isStopped=false;g=g.chain(a);if(h>1){l=[];for(c=0;c<h;c++){b=k[c];l.push(b.targets)}f=j.getCommonTargets(l)}else{f=k[0].targets}j.publish(d,f,g)},getCommonTargets:function(a){var h=a[0],f=a.length;if(f===1){return h}var d=[],e=1,g,b,c;while(true){g=h[h.length-e];if(!g){return d}for(c=1;c<f;c++){b=a[c];if(b[b.length-e]!==g){return d}}d.unshift(g);e++}return d},invokeRecognizers:function(c,f){var b=this.getRecognizers(),d,a;if(c==="onStart"){for(d in b){b[d].isActive=true}}for(d in b){a=b[d];if(a.isActive&&a[c].call(a,f)===false){a.isActive=false}}},updateTouches:function(j,b){var n=this,r=j.browserEvent,f=r.changedTouches||[r],a=n.activeTouches,k=n.activeTouchesMap,p=[],m,h,d,g,c,l,q,o;for(c=0,l=f.length;c<l;c++){m=f[c];if("identifier" in m){h=m.identifier}else{if("pointerId" in m){h=m.pointerId}else{h=1}}d=k[h];if(b){delete k[h];Ext.Array.remove(a,d)}else{if(!d){g=Ext.event.Event.resolveTextNode(m.target);d=k[h]={identifier:h,target:g,targets:n.getPropagatingTargets(g)};a.push(d)}}q=m.pageX;o=m.pageY;d.pageX=q;d.pageY=o;d.point=new Ext.util.Point(q,o);p.push(d)}j.touches=Ext.Array.clone(a);j.changedTouches=p},onDelegatedEvent:function(b){var a=this;b=a.callParent([b,false]);if(b){if(!b.button||b.button<1){a.handlers[b.type].call(a,b)}a.afterEvent(b)}},onTouchStart:function(c){var a=this,b=c.target;if(c.browserEvent.type==="touchstart"){b.addEventListener("touchmove",a.onTargetTouchMove);b.addEventListener("touchend",a.onTargetTouchEnd);b.addEventListener("touchcancel",a.onTargetTouchEnd)}a.updateTouches(c);if(!a.isStarted){a.isStarted=true;a.invokeRecognizers("onStart",c);if(Ext.enableGarbageCollector){Ext.dom.GarbageCollector.pause()}}a.invokeRecognizers("onTouchStart",c)},onTouchMove:function(a){if(this.isStarted){this.updateTouches(a);if(a.changedTouches.length>0){this.invokeRecognizers("onTouchMove",a)}}},onTouchEnd:function(b){var a=this;if(!a.isStarted){return}a.updateTouches(b,true);a.invokeRecognizers(a.isCancelEvent[b.type]?"onTouchCancel":"onTouchEnd",b);if(!a.activeTouches.length){a.isStarted=false;a.invokeRecognizers("onEnd",b);if(Ext.enableGarbageCollector){Ext.dom.GarbageCollector.resume()}}},onTargetTouchMove:function(a){if(!Ext.getBody().contains(a.target)){this.onTouchMove(new Ext.event.Event(a))}},onTargetTouchEnd:function(c){var a=this,b=c.target;b.removeEventListener("touchmove",a.onTargetTouchMove);b.removeEventListener("touchend",a.onTargetTouchEnd);b.removeEventListener("touchcancel",a.onTargetTouchEnd);if(!Ext.getBody().contains(b)){a.onTouchEnd(new Ext.event.Event(c))}}},function(){var b=[],a=Ext.supports,c=a.TouchEvents;if(a.PointerEvents){b.push("pointerdown","pointermove","pointerup","pointercancel")}else{if(a.MSPointerEvents){b.push("MSPointerDown","MSPointerMove","MSPointerUp","MSPointerCancel")}else{if(c){b.push("touchstart","touchmove","touchend","touchcancel")}}}if(!b.length||(c&&Ext.isWebKit&&Ext.os.is.Desktop)){b.push("mousedown","mousemove","mouseup")}this.prototype.handledEvents=b});Ext.define("Ext.overrides.event.publisher.Gesture",{override:"Ext.event.publisher.Gesture"},function(){if(Ext.isIE9m){this.override({updateTouches:function(c,a){var d=c.browserEvent,b=c.getXY();d.pageX=b[0];d.pageY=b[1];this.callParent([c,a])},initHandlers:function(){var a=this,b;a.callParent();b=a.onDelegatedEvent;a.onDelegatedEvent=function(c){b.call(a,Ext.event.Event.enableIEAsync(c))}}})}});Ext.onReady(function(){var a=Ext.event.Dispatcher.getInstance();a.setPublishers({dom:new Ext.event.publisher.Dom(),gesture:new Ext.event.publisher.Gesture({recognizers:{drag:new Ext.event.gesture.Drag(),tap:new Ext.event.gesture.Tap(),doubleTap:new Ext.event.gesture.DoubleTap(),longPress:new Ext.event.gesture.LongPress(),swipe:new Ext.event.gesture.Swipe(),pinch:new Ext.event.gesture.Pinch(),rotate:new Ext.event.gesture.Rotate(),edgeSwipe:new Ext.event.gesture.EdgeSwipe()}})});Ext.get(window).on("unload",a.destroy,a)},null,{priority:2000});Ext.apply(Ext,{SSL_SECURE_URL:Ext.isSecure&&Ext.isIE?"javascript:''":"about:blank",BLANK_IMAGE_URL:"data:image/gif;base64,R0lGODlhAQABAID/AMDAwAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="});Ext.define("Ext.data.flash.BinaryXhr",{statics:{flashPluginActivated:function(){Ext.data.flash.BinaryXhr.flashPluginActive=true;Ext.data.flash.BinaryXhr.flashPlugin=document.getElementById("ext-flash-polyfill");Ext.GlobalEvents.fireEvent("flashready")},flashPluginActive:false,flashPluginInjected:false,connectionIndex:1,liveConnections:{},flashPlugin:null,onFlashStateChange:function(d,c,b){var a;a=this.liveConnections[Number(d)];if(a){a.onFlashStateChange(c,b)}else{Ext.warn.log("onFlashStateChange for unknown connection ID: "+d)}},registerConnection:function(b){var a=this.connectionIndex;this.conectionIndex=this.connectionIndex+1;this.liveConnections[a]=b;return a},injectFlashPlugin:function(){var b=this,a,c;b.flashPolyfillEl=Ext.getBody().appendChild({id:"ext-flash-polyfill",cn:[{tag:"p",html:"To view this page ensure that Adobe Flash Player version 11.1.0 or greater is installed."},{tag:"a",href:"http://www.adobe.com/go/getflashplayer",cn:[{tag:"img",src:window.location.protocol+"//www.adobe.com/images/shared/download_buttons/get_flash_player.gif",alt:"Get Adobe Flash player"}]}]});a=[Ext.Loader.getPath("Ext.data.Connection"),"../../../plugins/flash/swfobject.js"].join("/");c="/plugins/flash/FlashPlugin.swf";c=[Ext.Loader.getPath("Ext.data.Connection"),"../../plugins/flash/FlashPlugin.swf"].join("/");if(Ext.flashPluginPath){c=Ext.flashPluginPath}Ext.Loader.loadScript({url:a,onLoad:function(){var e="11.4.0";var g="playerProductInstall.swf";var d={};var h={};h.quality="high";h.bgcolor="#ffffff";h.allowscriptaccess="sameDomain";h.allowfullscreen="true";var f={};f.id="ext-flash-polyfill";f.name="polyfill";f.align="middle";swfobject.embedSWF(c,"ext-flash-polyfill","0","0",e,g,d,h,f)},onError:function(){Ext.Error.raise("Could not load flash-loader file swfobject.js from "+flashLoader)},scope:b});Ext.data.flash.BinaryXhr.flashPluginInjected=true}},readyState:0,status:0,statusText:"",responseBytes:null,javascriptId:null,constructor:function(a){if(!Ext.data.flash.BinaryXhr.flashPluginInjected){Ext.data.flash.BinaryXhr.injectFlashPlugin()}var b=this;Ext.apply(b,a);b.requestHeaders={}},abort:function(){var a=this;if(a.readyState==4){Ext.warn.log("Aborting a connection that's completed its transfer: "+this.url);return}a.aborted=true;if(!Ext.data.flash.BinaryXhr.flashPluginActive){Ext.GlobalEvents.removeListener("flashready",a.onFlashReady,a);return}Ext.data.flash.BinaryXhr.flashPlugin.abortRequest(a.javascriptId);delete Ext.data.flash.BinaryXhr.liveConnections[a.javascriptId]},getAllResponseHeaders:function(){var a=[];Ext.Object.each(this.responseHeaders,function(b,c){a.push(b+": "+c)});return a.join("\x0d\x0a")},getResponseHeader:function(b){var a=this.responseHeaders;return(a&&a[b])||null},open:function(f,c,d,a,b){var e=this;e.method=f;e.url=c;e.async=d!==false;e.user=a;e.password=b;if(!e.async){Ext.Error.raise("Binary posts are only supported in async mode: "+c)}if(e.method!="POST"){Ext.log.warn("Binary data can only be sent as a POST request: "+c)}},overrideMimeType:function(a){this.mimeType=a},send:function(a){var b=this;b.body=a;if(!Ext.data.flash.BinaryXhr.flashPluginActive){Ext.GlobalEvents.addListener("flashready",b.onFlashReady,b)}else{this.onFlashReady()}},onFlashReady:function(){var c=this,b,a;c.javascriptId=Ext.data.flash.BinaryXhr.registerConnection(c);b={method:c.method,url:c.url,user:c.user,password:c.password,mimeType:c.mimeType,requestHeaders:c.requestHeaders,body:c.body,javascriptId:c.javascriptId};a=Ext.data.flash.BinaryXhr.flashPlugin.postBinary(b)},setReadyState:function(b){var a=this;if(a.readyState!=b){a.readyState=b;a.onreadystatechange()}},setRequestHeader:function(b,a){this.requestHeaders[b]=a},onreadystatechange:Ext.emptyFn,parseData:function(b){var a=this;this.status=b.status||0;a.responseHeaders={};if(a.mimeType){a.responseHeaders["content-type"]=a.mimeType}if(b.reason=="complete"){this.responseBytes=b.data;a.responseHeaders["content-length"]=b.data.length}else{if(b.reason=="error"||b.reason=="securityError"){this.statusText=b.text;a.responseHeaders["content-length"]=0}else{Ext.Error.raise("Unkown reason code in data: "+b.reason)}}},onFlashStateChange:function(c,b){var a=this;if(c==4){a.parseData(b);delete Ext.data.flash.BinaryXhr.liveConnections[a.javascriptId]}a.setReadyState(c)}});Ext.define("Ext.data.Connection",{mixins:{observable:Ext.mixin.Observable},statics:{requestId:0},config:{url:null,async:true,username:"",password:"",disableCaching:true,withCredentials:false,binary:false,cors:false,isXdr:false,defaultXdrContentType:"text/plain",disableCachingParam:"_dc",timeout:30000,extraParams:null,autoAbort:false,method:null,defaultHeaders:null,defaultPostHeader:"application/x-www-form-urlencoded; charset=UTF-8",useDefaultXhrHeader:true,defaultXhrHeader:"XMLHttpRequest"},constructor:function(a){this.mixins.observable.constructor.call(this,a);this.requests={}},request:function(l){l=l||{};var g=this,k=l.scope||window,f=l.username||g.getUsername(),h=l.password||g.getPassword()||"",b,d,e,a,c,j;if(g.fireEvent("beforerequest",g,l)!==false){d=g.setOptions(l,k);if(g.isFormUpload(l)){g.upload(l.form,d.url,d.data,l);return null}if(l.autoAbort||g.getAutoAbort()){g.abort()}b=l.async!==false?(l.async||g.getAsync()):false;j=g.openRequest(l,d,b,f,h);c=g.getIsXdr();if(!c){a=g.setupHeaders(j,l,d.data,d.params)}e={id:++Ext.data.Connection.requestId,xhr:j,headers:a,options:l,async:b,binary:l.binary||g.getBinary(),timeout:setTimeout(function(){e.timedout=true;g.abort(e)},l.timeout||g.getTimeout())};g.requests[e.id]=e;g.latestId=e.id;if(b){if(!c){j.onreadystatechange=Ext.Function.bind(g.onStateChange,g,[e])}}if(c){g.processXdrRequest(e,j)}j.send(d.data);if(!b){return g.onComplete(e)}return e}else{Ext.callback(l.callback,l.scope,[l,undefined,undefined]);return null}},processXdrRequest:function(b,c){var a=this;delete b.headers;b.contentType=b.options.contentType||a.getDefaultXdrContentType();c.onload=Ext.Function.bind(a.onStateChange,a,[b,true]);c.onerror=c.ontimeout=Ext.Function.bind(a.onStateChange,a,[b,false])},processXdrResponse:function(a,b){a.getAllResponseHeaders=function(){return[]};a.getResponseHeader=function(){return""};a.contentType=b.contentType||this.getDefaultXdrContentType()},upload:function(b,f,s,e){b=Ext.getDom(b);e=e||{};var n=Ext.id(),l=document.createElement("iframe"),c=[],d="multipart/form-data",r={target:b.target,method:b.method,encoding:b.encoding,enctype:b.enctype,action:b.action},a=function(h,u){g=document.createElement("input");Ext.fly(g).set({type:"hidden",value:u,name:h});b.appendChild(g);c.push(g)},g,k,p,t,o,j,m,q;Ext.fly(l).set({id:n,name:n,cls:Ext.baseCSSPrefix+"hidden-display",src:Ext.SSL_SECURE_URL});document.body.appendChild(l);if(document.frames){document.frames[n].name=n}Ext.fly(b).set({target:n,method:"POST",enctype:d,encoding:d,action:f||r.action});if(s){k=Ext.Object.fromQueryString(s)||{};for(t in k){if(k.hasOwnProperty(t)){p=k[t];if(Ext.isArray(p)){o=p.length;for(j=0;j<o;j++){a(t,p[j])}}else{a(t,p)}}}}Ext.get(l).on({load:Ext.Function.bind(this.onUploadComplete,this,[l,e]),single:!Ext.isOpera});b.submit();Ext.fly(b).set(r);for(m=c.length,q=0;q<m;q++){Ext.removeNode(c[q])}},onUploadComplete:function(a,k){var f=this,b={responseText:"",responseXML:null},h,j,g,c;try{g=(a&&(a.contentWindow.document||a.contentDocument))||(window.frames[a.id]||{}).document;if(g){if(Ext.isOpera&&g.location==Ext.SSL_SECURE_URL){return}if(g.body){if((c=g.body.firstChild)&&/pre/i.test(c.tagName)){b.responseText=c.textContent||c.innerText}else{if((c=g.getElementsByTagName("textarea")[0])){b.responseText=c.value}else{b.responseText=g.body.textContent||g.body.innerText}}}b.responseXML=g.XMLDocument||g;h=k.success;j=true}else{Ext.Error.raise("Could not acquire a suitable connection for the file upload service.")}}catch(d){b.responseText='{success:false,message:"'+Ext.String.trim(d.message||d.description)+'"}';h=k.failure;j=false}f.fireEvent(j?"requestcomplete":"requestexception",f,b,k);Ext.callback(h,k.scope,[b,k]);Ext.callback(k.callback,k.scope,[k,j,b]);Ext.defer(Ext.removeNode,100,Ext,[a])},isFormUpload:function(a){var b=this.getForm(a);if(b){return(a.isUpload||(/multipart\/form-data/i).test(b.getAttribute("enctype")))}return false},getForm:function(a){var b=a.form||null;if(b){b=Ext.getDom(b)}return b},setOptions:function(l,k){var h=this,e=l.params||{},g=h.getExtraParams(),d=l.urlParams,c=l.url||h.getUrl(),j=l.jsonData,b,a,f;if(Ext.isFunction(e)){e=e.call(k,l)}if(Ext.isFunction(c)){c=c.call(k,l)}c=this.setupUrl(l,c);if(!c){Ext.Error.raise({options:l,msg:"No URL specified"})}f=l.rawData||l.binaryData||l.xmlData||j||null;if(j&&!Ext.isPrimitive(j)){f=Ext.encode(f)}if(l.binaryData){if(!Ext.isArray(l.binaryData)){Ext.log.warn("Binary submission data must be an array of byte values! Instead got "+typeof(l.binaryData))}if(h.nativeBinaryPostSupport()){f=(new Uint8Array(l.binaryData));if((Ext.isChrome&&Ext.chromeVersion<22)||Ext.isSafari||Ext.isGecko){f=f.buffer}}}if(Ext.isObject(e)){e=Ext.Object.toQueryString(e)}if(Ext.isObject(g)){g=Ext.Object.toQueryString(g)}e=e+((g)?((e)?"&":"")+g:"");d=Ext.isObject(d)?Ext.Object.toQueryString(d):d;e=this.setupParams(l,e);b=(l.method||h.getMethod()||((e||f)?"POST":"GET")).toUpperCase();this.setupMethod(l,b);a=l.disableCaching!==false?(l.disableCaching||h.getDisableCaching()):false;if(b==="GET"&&a){c=Ext.urlAppend(c,(l.disableCachingParam||h.getDisableCachingParam())+"="+(new Date().getTime()))}if((b=="GET"||f)&&e){c=Ext.urlAppend(c,e);e=null}if(d){c=Ext.urlAppend(c,d)}return{url:c,method:b,data:f||e||null}},setupUrl:function(b,a){var c=this.getForm(b);if(c){a=a||c.action}return a},setupParams:function(a,d){var c=this.getForm(a),b;if(c&&!this.isFormUpload(a)){b=Ext.Element.serializeForm(c);d=d?(d+"&"+b):b}return d},setupMethod:function(a,b){if(this.isFormUpload(a)){return"POST"}return b},setupHeaders:function(n,o,d,c){var j=this,b=Ext.apply({},o.headers||{},j.getDefaultHeaders()||{}),m=j.getDefaultPostHeader(),k=o.jsonData,a=o.xmlData,h="Content-Type",l,f;if(!b.hasOwnProperty(h)&&(d||c)){if(d){if(o.rawData){m="text/plain"}else{if(a&&Ext.isDefined(a)){m="text/xml"}else{if(k&&Ext.isDefined(k)){m="application/json"}}}}b[h]=m}if(j.getUseDefaultXhrHeader()&&!b["X-Requested-With"]){b["X-Requested-With"]=j.getDefaultXhrHeader()}if(b[h]===undefined||b[h]===null){delete b[h]}try{for(l in b){if(b.hasOwnProperty(l)){f=b[l];n.setRequestHeader(l,f)}}}catch(g){j.fireEvent("exception",l,f)}return b},newRequest:function(a){var b=this,c;if(a.binaryData){if(b.nativeBinaryPostSupport()){c=b.getXhrInstance()}else{c=new Ext.data.flash.BinaryXhr()}}else{if((a.cors||b.getCors())&&Ext.isIE&&Ext.ieVersion<=9){c=b.getXdrInstance();b.setIsXdr(true)}else{c=b.getXhrInstance()}}return c},openRequest:function(c,a,d,g,b){var e=this,f=e.newRequest(c);if(g){f.open(a.method,a.url,d,g,b)}else{if(e.getIsXdr()){f.open(a.method,a.url)}else{f.open(a.method,a.url,d)}}if(c.binary||e.getBinary()){if(window.Uint8Array){f.responseType="arraybuffer"}else{if(f.overrideMimeType){f.overrideMimeType("text/plain; charset=x-user-defined")}else{if(!Ext.isIE){Ext.log.warn("Your browser does not support loading binary data using Ajax.")}}}}if(c.withCredentials||e.getWithCredentials()){f.withCredentials=true}return f},getXdrInstance:function(){var a;if(Ext.ieVersion>=8){a=new XDomainRequest()}else{Ext.Error.raise({msg:"Your browser does not support CORS"})}return a},getXhrInstance:(function(){var b=[function(){return new XMLHttpRequest()},function(){return new ActiveXObject("MSXML2.XMLHTTP.3.0")},function(){return new ActiveXObject("MSXML2.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],c=0,a=b.length,f;for(;c<a;++c){try{f=b[c];f();break}catch(d){}}return f}()),isLoading:function(a){if(!a){a=this.getLatest()}if(!(a&&a.xhr)){return false}var b=a.xhr.readyState,c=Ext.data.flash&&Ext.data.flash.BinaryXhr;return((a.xhr instanceof c)&&b!=4)||!(b===0||b==4)},abort:function(b){var a=this,d;if(!b){b=a.getLatest()}if(b&&a.isLoading(b)){d=b.xhr;try{d.onreadystatechange=null}catch(c){d.onreadystatechange=Ext.emptyFn}d.abort();a.clearTimeout(b);if(!b.timedout){b.aborted=true}a.onComplete(b);a.cleanup(b)}},abortAll:function(){var b=this.requests,a;for(a in b){if(b.hasOwnProperty(a)){this.abort(b[a])}}},getLatest:function(){var b=this.latestId,a;if(b){a=this.requests[b]}return a||null},onStateChange:function(d,b){var c=this,a=Ext.GlobalEvents;if((d.xhr&&d.xhr.readyState==4)||c.isXdr){c.clearTimeout(d);c.onComplete(d,b);c.cleanup(d);if(a.hasListeners.idle){a.fireEvent("idle")}}},clearTimeout:function(a){clearTimeout(a.timeout);delete a.timeout},cleanup:function(a){a.xhr=null;delete a.xhr},onComplete:function(b,h){var d=this,j=b.options,g,k,f,a;try{g=b.xhr;k=d.parseStatus(g.status);if(k.success){k.success=g.readyState===4}}catch(c){k={success:false,isException:false}}f=d.isXdr?h:k.success;if(f){a=d.createResponse(b);d.fireEvent("requestcomplete",d,a,j);Ext.callback(j.success,j.scope,[a,j])}else{if(k.isException||b.aborted||b.timedout){a=d.createException(b)}else{a=d.createResponse(b)}d.fireEvent("requestexception",d,a,j);Ext.callback(j.failure,j.scope,[a,j])}Ext.callback(j.callback,j.scope,[j,f,a]);delete d.requests[b.id];return a},parseStatus:function(a){a=a==1223?204:a;var c=(a>=200&&a<300)||a==304,b=false;if(!c){switch(a){case 12002:case 12029:case 12030:case 12031:case 12152:case 13030:b=true;break}}return{success:c,isException:b}},createResponse:function(e){var h=this,k=e.xhr,c=h.getIsXdr(),b={},l=c?[]:k.getAllResponseHeaders().replace(/\r\n/g,"\n").split("\n"),g=l.length,m,f,j,d,a;while(g--){m=l[g];f=m.indexOf(":");if(f>=0){j=m.substr(0,f).toLowerCase();if(m.charAt(f+1)==" "){++f}b[j]=m.substr(f+1)}}e.xhr=null;delete e.xhr;d={request:e,requestId:e.id,status:k.status,statusText:k.statusText,getResponseHeader:function(n){return b[n.toLowerCase()]},getAllResponseHeaders:function(){return b}};if(c){h.processXdrResponse(d,k)}if(e.binary){d.responseBytes=h.getByteArray(k)}else{d.responseText=k.responseText;d.responseXML=k.responseXML}k=null;return d},createException:function(a){return{request:a,requestId:a.id,status:a.aborted?-1:0,statusText:a.aborted?"transaction aborted":"communication failure",aborted:a.aborted,timedout:a.timedout}},getByteArray:function(j){var c=j.response,b=j.responseBody,k=Ext.data.flash&&Ext.data.flash.BinaryXhr,a,h,f,d;if(j instanceof k){a=j.responseBytes}else{if(window.Uint8Array){a=c?new Uint8Array(c):[]}else{if(Ext.isIE9p){try{a=new VBArray(b).toArray()}catch(g){a=[]}}else{if(Ext.isIE){if(!this.self.vbScriptInjected){this.injectVBScript()}getIEByteArray(j.responseBody,a=[])}else{a=[];h=j.responseText;f=h.length;for(d=0;d<f;d++){a.push(h.charCodeAt(d)&255)}}}}}return a},injectVBScript:function(){var a=document.createElement("script");a.type="text/vbscript";a.text=["Function getIEByteArray(byteArray, out)","Dim len, i","len = LenB(byteArray)","For i = 1 to len","out.push(AscB(MidB(byteArray, i, 1)))","Next","End Function"].join("\n");Ext.getHead().dom.appendChild(a);this.self.vbScriptInjected=true},nativeBinaryPostSupport:function(){return Ext.isChrome||(Ext.isSafari&&Ext.isDefined(window.Uint8Array))||(Ext.isGecko&&Ext.isDefined(window.Uint8Array))}});Ext.define("Ext.Ajax",{extend:Ext.data.Connection,singleton:true,autoAbort:false});Ext.define("Ext.ComponentManager",{alternateClassName:"Ext.ComponentMgr",singleton:true,count:0,typeName:"xtype",constructor:function(a){Ext.apply(this,a||{});this.all={};this.references={};this.onAvailableCallbacks={}},create:function(a,b){if(typeof a=="string"){return Ext.widget(a)}if(a.isComponent){return a}if("xclass" in a){return Ext.create(a.xclass,a)}return Ext.widget(a.xtype||b,a)},get:function(a){return this.all[a]},register:function(a){var c=this.all,b=a.getId();if(b===undefined){Ext.Error.raise("Key is undefined. Please ensure the item has a key before registering the item.")}if(b in c){Ext.Error.raise('Registering duplicate id "'+b+'" with this manager')}c[b]=a;if(a.reference){this.references[b]=a}this.count++;if((this.onAvailableCallbacks[b]||[]).length){this.notifyAvailable(a)}},unregister:function(a){var b=a.getId();if(a.reference){delete this.references[b]}delete this.all[b];this.count--},markReferencesDirty:function(){this.referencesDirty=true},fixReferences:function(){var c=this,b=c.references,a;if(c.referencesDirty){for(a in b){if(b.hasOwnProperty(a)){b[a].fixReference()}}c.referencesDirty=false}},onAvailable:function(g,c,b){var f=this,e=f.onAvailableCallbacks,a=f.all,d;if(g in a){d=a[g];c.call(b||d,d)}else{if(g){if(!Ext.isArray(e[g])){e[g]=[]}e[g].push(function(h){c.call(b||h,h)})}}},notifyAvailable:function(b){var a=this.onAvailableCallbacks[b&&b.getId()]||[];while(a.length){(a.shift())(b)}},each:function(b,a){return Ext.Object.each(this.all,b,a)},getCount:function(){return this.count},getAll:function(){return Ext.Object.getValues(this.all)},deprecated:{5:{methods:{isRegistered:null,registerType:null}}}},function(){Ext.getCmp=function(a){return Ext.ComponentManager.get(a)}});Ext.ns("Ext.util").Operators={"=":function(b,c){return b==c},"!=":function(b,c){return b!=c},"^=":function(b,c){return b&&b.substr(0,c.length)==c},"$=":function(b,c){return b&&b.substr(b.length-c.length)==c},"*=":function(b,c){return b&&b.indexOf(c)!==-1},"%=":function(b,c){return(b%c)===0},"|=":function(b,c){return b&&(b==c||b.substr(0,c.length+1)==c+"-")},"~=":function(b,c){return b&&(" "+b+" ").indexOf(" "+c+" ")!=-1}};Ext.define("Ext.util.LruCache",{extend:Ext.util.HashMap,config:{maxSize:null},add:function(b,e){var d=this,a=d.findKey(e),c;if(a){d.unlinkEntry(c=d.map[a]);c.prev=d.last;c.next=null}else{c={prev:d.last,next:null,key:b,value:e}}if(d.last){d.last.next=c}else{d.first=c}d.last=c;d.callParent([b,c]);d.prune();return e},insertBefore:function(b,f,c){var e=this,a,d;if(c=this.map[this.findKey(c)]){a=e.findKey(f);if(a){e.unlinkEntry(d=e.map[a])}else{d={prev:c.prev,next:c,key:b,value:f}}if(c.prev){d.prev.next=d}else{e.first=d}d.next=c;c.prev=d;e.prune();return f}else{return e.add(b,f)}},get:function(a){var b=this.map[a];if(b){if(b.next){this.moveToEnd(b)}return b.value}},removeAtKey:function(a){this.unlinkEntry(this.map[a]);return this.callParent(arguments)},clear:function(a){this.first=this.last=null;return this.callParent(arguments)},unlinkEntry:function(a){if(a){if(a.next){a.next.prev=a.prev}else{this.last=a.prev}if(a.prev){a.prev.next=a.next}else{this.first=a.next}a.prev=a.next=null}},moveToEnd:function(a){this.unlinkEntry(a);if(a.prev=this.last){this.last.next=a}else{this.first=a}this.last=a},getArray:function(c){var a=[],b=this.first;while(b){a.push(c?b.key:b.value);b=b.next}return a},each:function(c,b,a){var f=this,e=a?f.last:f.first,d=f.length;b=b||f;while(e){if(c.call(b,e.key,e.value,d)===false){break}e=a?e.prev:e.next}return f},findKey:function(b){var a,c=this.map;for(a in c){if(c.hasOwnProperty(a)&&c[a].value===b){return a}}return undefined},clone:function(){var a=new this.self(this.initialConfig),c=this.map,b;a.suspendEvents();for(b in c){if(c.hasOwnProperty(b)){a.add(b,c[b].value)}}a.resumeEvents();return a},prune:function(){var b=this,a=b.getMaxSize(),c=a?(b.length-a):0;if(c>0){for(;b.first&&c;c--){b.removeAtKey(b.first.key)}}}});Ext.define("Ext.ComponentQuery",{singleton:true},function(){var f=this,s=Ext.util.Operators,k=/(\d*)n\+?(\d*)/,e=/\D/,m=/^(\s)+/,l=/\\(.)/g,n=new Ext.util.LruCache({maxSize:100}),o=["var r = [],","i = 0,","it = items,","l = it.length,","c;","for (; i < l; i++) {","c = it[i];","if (c.{0}) {","r.push(c);","}","}","return r;"].join(""),p=function(u,t){return t.method.apply(this,[u].concat(t.args))},a=function(v,z){var t=[],w=0,y=v.length,x,u=z!==">";for(;w<y;w++){x=v[w];if(x.getRefItems){t=t.concat(x.getRefItems(u))}}return t},g=function(u){var t=[],v=0,x=u.length,w;for(;v<x;v++){w=u[v];while(!!(w=w.getRefOwner())){t.push(w)}}return t},d=function(u,z,y){if(z==="*"){return u.slice()}else{var t=[],v=0,x=u.length,w;for(;v<x;v++){w=u[v];if(w.isXType(z,y)){t.push(w)}}return t}},b=function(B,C,w,v){var F=[],A=0,u=B.length,E,x,D,t,z,y;if(C.charAt(0)==="@"){E=true;C=C.substr(1)}if(C.charAt(0)==="?"){E=true;x=true;C=C.substr(1)}for(;A<u;A++){D=B[A];if(!E||D.hasOwnProperty(C)){t=D[C];if(x){F.push(D)}else{if(w==="~="){if(t){if(!Ext.isArray(t)){t=t.split(" ")}for(z=0,y=t.length;z<y;z++){if(s[w](Ext.coerce(t[z],v),v)){F.push(D);break}}}}else{if(w==="/="){if(D[C]!==undefined&&v.test(D[C])){F.push(D)}}else{if(!v?!!D[C]:s[w](Ext.coerce(t,v),v)){F.push(D)}}}}}}return F},h=function(u,y){var t=[],v=0,x=u.length,w;for(;v<x;v++){w=u[v];if(w.getItemId()===y){t.push(w)}}return t},r=function(t,u,v){return f.pseudos[u](t,v)},j=/^(\s?([>\^])\s?|\s|$)/,q=/^(#)?((?:\\\.|[\w\-])+|\*)(?:\((true|false)\))?/,c=[{re:/^\.((?:\\\.|[\w\-])+)(?:\((true|false)\))?/,method:d,argTransform:function(u){var t=u[0];Ext.log.warn('"'+t+'" ComponentQuery selector style is deprecated, use "'+t.replace(/^\./,"")+'" without the leading dot instead');if(u[1]!==undefined){u[1]=u[1].replace(l,"$1")}return u.slice(1)}},{re:/^(?:\[((?:[@?$])?[\w\-]*)\s*(?:([\^$*~%!\/]?=)\s*(['"])?((?:\\\]|.)*?)\3)?(?!\\)\])/,method:b,argTransform:function(A){var y=A[0],C=A[1],v=A[2],t=A[3],u=A[4],x;if(u!==undefined){u=u.replace(l,"$1");var B=Ext.String.format,w="ComponentQuery selector '{0}' has an unescaped ({1}) character at the {2} of the attribute value pattern. Usually that indicates an error where the opening quote is not followed by the closing quote. If you need to match a ({1}) character at the {2} of the attribute value, escape the quote character in your pattern: (\\{1})",z;if(z=/^(['"]).*?[^'"]$/.exec(u)){Ext.log.warn(B(w,y,z[1],"beginning"))}else{if(z=/^[^'"].*?(['"])$/.exec(u)){Ext.log.warn(B(w,y,z[1],"end"))}}}if(v==="/="){x=n.get(u);if(x){u=x}else{u=n.add(u,new RegExp(u))}}return[C,v,u]}},{re:/^#((?:\\\.|[\w\-])+)/,method:h},{re:/^\:([\w\-]+)(?:\(((?:\{[^\}]+\})|(?:(?!\{)[^\s>\/]*?(?!\})))\))?/,method:r,argTransform:function(t){if(t[2]!==undefined){t[2]=t[2].replace(l,"$1")}return t.slice(1)}},{re:/^(?:\{([^\}]+)\})/,method:o}];f.Query=Ext.extend(Object,{constructor:function(t){t=t||{};Ext.apply(this,t)},execute:function(v){var w=this.operations,u=[],y,x,t;for(x=0,t=w.length;x<t;x++){y=w[x];u=u.concat(this._execute(v,y))}return u},_execute:function(u,w){var x=0,y=w.length,v,t;if(!u){t=Ext.ComponentManager.getAll()}else{if(Ext.isIterable(u)){t=u}else{if(u.isMixedCollection){t=u.items}}}for(;x<y;x++){v=w[x];if(v.mode==="^"){t=g(t||[u])}else{if(v.mode){t=a(t||[u],v.mode)}else{t=p(t||a([u]),v)}}if(x===y-1){return t}}return[]},is:function(w){var v=this.operations,u=false,t=v.length,y,x;if(t===0){return true}for(x=0;x<t;x++){y=v[x];u=this._is(w,y);if(u){return u}}return false},_is:function(C,t){var A=t.length,u=[C],v,x,w,z,y,B,D;for(x=A-1;x>=0;--x){v=t[x];z=v.mode;if(z){if(z==="^"){u=a(u," ")}else{if(z===">"){B=[];for(w=0,A=u.length;w<A;++w){D=u[w].getRefOwner();if(D){B.push(D)}}u=B}else{u=g(u)}}if(u.length===0){return false}}else{u=p(u,v);if(u.length===0){return false}}}return true},getMatches:function(w,u){var t=u.length,v;for(v=0;v<t;++v){w=p(w,u[v]);if(w.length===0){break}}return w},isMultiMatch:function(){return this.operations.length>1}});Ext.apply(this,{cache:new Ext.util.LruCache({maxSize:100}),pseudos:{not:function(z,t){var A=Ext.ComponentQuery,x=0,y=z.length,w=[],v=-1,u;for(;x<y;++x){u=z[x];if(!A.is(u,t)){w[++v]=u}}return w},first:function(u){var t=[];if(u.length>0){t.push(u[0])}return t},last:function(v){var t=v.length,u=[];if(t>0){u.push(v[t-1])}return u},focusable:function(u){var t=u.length,w=[],v=0,x;for(;v<t;v++){x=u[v];if(x.isFocusable()){w.push(x)}}return w},"nth-child":function(z,A){var B=[],u=k.exec(A=="even"&&"2n"||A=="odd"&&"2n+1"||!e.test(A)&&"n+"+A||A),y=(u[1]||1)-0,w=u[2]-0,x,t,v;for(x=0;t=z[x];x++){v=x+1;if(y==1){if(w==0||v==w){B.push(t)}}else{if((v+w)%y==0){B.push(t)}}}return B}},query:function(t,A){if(!t){return Ext.ComponentManager.all.getArray()}var v=[],B=[],y={},x=this.cache.get(t),w,z,u;if(!x){x=this.cache.add(t,this.parse(t))}v=x.execute(A);if(x.isMultiMatch()){w=v.length;for(u=0;u<w;u++){z=v[u];if(!y[z.id]){B.push(z);y[z.id]=true}}v=B}return v},visitPreOrder:function(t,v,x,w,u){this._visit(true,t,v,x,w,u)},visitPostOrder:function(t,v,x,w,u){this._visit(false,t,v,x,w,u)},_visit:function(E,u,D,C,F,y){var B=this,A=B.cache.get(u),x=[D],t,z=0,w,v;if(!A){A=B.cache.add(u,B.parse(u))}v=A.is(D);if(D.getRefItems){t=D.getRefItems();z=t.length}if(y){Ext.Array.push(x,y)}if(E){if(v){if(C.apply(F||D,x)===false){return false}}}for(w=0;w<z;w++){if(B._visit.call(B,E,u,t[w],C,F,y)===false){return false}}if(!E){if(v){if(C.apply(F||D,x)===false){return false}}}},is:function(u,t){if(!t){return true}var v=this.cache.get(t);if(!v){v=this.cache.add(t,this.parse(t))}return v.is(u)},parse:function(u){var v=[],x,y,w,t;x=Ext.splitAndUnescape(u,",");for(w=0,t=x.length;w<t;w++){y=Ext.String.trim(x[w]);if(y===""){Ext.Error.raise('Invalid ComponentQuery selector: ""')}v.push(this._parse(y))}return new f.Query({operations:v})},_parse:function(z){var u=[],x=Ext.String.trim,v=c.length,E,A,y,F,G,H,w,B,C,t,D;while(z&&E!==z){E=z;A=z.match(q);if(A){F=A[1];y=x(A[2]).replace(l,"$1");if(F==="#"){u.push({method:h,args:[y]})}else{u.push({method:d,args:[y,Boolean(A[3])]})}z=z.replace(A[0],"").replace(m,"$1")}while(!(G=z.match(j))){for(B=0;z&&B<v;B++){C=c[B];H=z.match(C.re);t=C.method;w=C.argTransform;if(H){if(w){D=w(H)}else{D=H.slice(1)}u.push({method:Ext.isString(C.method)?Ext.functionFactory("items",Ext.String.format.apply(Ext.String,[t].concat(H.slice(1)))):C.method,args:D});z=z.replace(H[0],"").replace(m,"$1");break}if(B===(v-1)){Ext.Error.raise('Invalid ComponentQuery selector: "'+arguments[0]+'"')}}}if(G[1]){u.push({mode:G[2]||G[1]});z=z.replace(G[0],"").replace(m,"")}}return u}})});Ext.define("Ext.Evented",{alternateClassName:"Ext.EventedBase",mixins:[Ext.mixin.Observable],statics:{generateSetter:function(a){var g=a.names,b=a.name,e=g.internal,d=g.apply,c=g.changeEvent,f=g.doSet;return function(m){var l=this,k=l.$configPrefixed?e:b,n=l.initialized,j,h=l[d];if(h){m=h.call(l,m,l[k]);if(m===undefined){return l}}j=l[k];if(m!==j){if(n){l.fireAction(c,[l,m,j],l.doSet,l,{nameMap:g})}else{l[k]=m;if(l[f]){l[f](m,j)}}}return this}}},initialized:false,constructor:function(a){this.mixins.observable.constructor.call(this,a);this.initialized=true},doSet:function(c,d,b,a){var e=a.nameMap;c[e.internal]=d;if(c[e.doSet]){c[e.doSet].call(this,d,b)}},onClassExtended:function(b,e){if(!e.hasOwnProperty("eventedConfig")){return}var d=e.config,g=e.eventedConfig,f="eventedSetter",c,a;if(d){Ext.applyIf(d,g)}else{b.addConfig(g)}for(c in g){if(g.hasOwnProperty(c)){a=Ext.Config.get(c);e[a.names.set]=a[f]||(a[f]=this.generateSetter(a))}}}});Ext.USE_NATIVE_JSON=false;Ext.JSON=(new (function(){var me=this,hasNative=window.JSON&&JSON.toString()=="[object JSON]",useHasOwn=!!{}.hasOwnProperty,pad=function(n){return n<10?"0"+n:n},doDecode=function(json){return eval("("+json+")")},doEncode=function(o,newline){if(o===null||o===undefined){return"null"}else{if(Ext.isDate(o)){return me.encodeDate(o)}else{if(Ext.isString(o)){if(Ext.isMSDate(o)){return me.encodeMSDate(o)}else{return me.encodeString(o)}}else{if(typeof o=="number"){return isFinite(o)?String(o):"null"}else{if(Ext.isBoolean(o)){return String(o)}else{if(o.toJSON){return o.toJSON()}else{if(Ext.isArray(o)){return encodeArray(o,newline)}else{if(Ext.isObject(o)){return encodeObject(o,newline)}else{if(typeof o==="function"){return"null"}}}}}}}}}return"undefined"},m={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\","\x0b":"\\u000b"},charToReplace=/[\\\"\x00-\x1f\x7f-\uffff]/g,encodeString=function(s){return'"'+s.replace(charToReplace,function(a){var c=m[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"'},encodeMSDate=function(o){return'"'+o+'"'},encodeArrayPretty=function(o,newline){var len=o.length,cnewline=newline+"   ",sep=","+cnewline,a=["[",cnewline],i;for(i=0;i<len;i+=1){a.push(me.encodeValue(o[i],cnewline),sep)}a[a.length-1]=newline+"]";return a.join("")},encodeObjectPretty=function(o,newline){var cnewline=newline+"   ",sep=","+cnewline,a=["{",cnewline],i,val;for(i in o){val=o[i];if(!useHasOwn||o.hasOwnProperty(i)){if(typeof val==="function"||val===undefined){continue}a.push(me.encodeValue(i)+": "+me.encodeValue(val,cnewline),sep)}}a[a.length-1]=newline+"}";return a.join("")},encodeArray=function(o,newline){if(newline){return encodeArrayPretty(o,newline)}var a=["[",""],len=o.length,i;for(i=0;i<len;i+=1){a.push(me.encodeValue(o[i]),",")}a[a.length-1]="]";return a.join("")},encodeObject=function(o,newline){if(newline){return encodeObjectPretty(o,newline)}var a=["{",""],i,val;for(i in o){val=o[i];if(!useHasOwn||o.hasOwnProperty(i)){if(typeof val==="function"||val===undefined){continue}a.push(me.encodeValue(i),":",me.encodeValue(val),",")}}a[a.length-1]="}";return a.join("")};me.encodeString=encodeString;me.encodeValue=doEncode;me.encodeDate=function(o){return'"'+o.getFullYear()+"-"+pad(o.getMonth()+1)+"-"+pad(o.getDate())+"T"+pad(o.getHours())+":"+pad(o.getMinutes())+":"+pad(o.getSeconds())+'"'};me.encode=function(o){if(hasNative&&Ext.USE_NATIVE_JSON){return JSON.stringify(o)}return me.encodeValue(o)};me.decode=function(json,safe){try{if(hasNative&&Ext.USE_NATIVE_JSON){return JSON.parse(json)}return doDecode(json)}catch(e){if(safe){return null}Ext.Error.raise({sourceClass:"Ext.JSON",sourceMethod:"decode",msg:"You're trying to decode an invalid JSON String: "+json})}};me.encodeMSDate=encodeMSDate;if(!Ext.util){Ext.util={}}Ext.util.JSON=me;Ext.encode=me.encode;Ext.decode=me.decode})());Ext.define("Ext.util.Format",function(){var a;return{singleton:true,defaultDateFormat:"m/d/Y",thousandSeparator:",",decimalSeparator:".",currencyPrecision:2,currencySign:"$",percentSign:"%",currencyAtEnd:false,stripTagsRe:/<\/?[^>]+>/gi,stripScriptsRe:/(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)/ig,nl2brRe:/\r?\n/g,hashRe:/#+$/,allHashes:/^#+$/,formatPattern:/[\d,\.#]+/,formatCleanRe:/[^\d\.#]/g,I18NFormatCleanRe:null,formatFns:{},constructor:function(){a=this},undef:function(b){return b!==undefined?b:""},defaultValue:function(c,b){return c!==undefined&&c!==""?c:b},substr:"ab".substr(-1)!="b"?function(c,e,b){var d=String(c);return(e<0)?d.substr(Math.max(d.length+e,0),b):d.substr(e,b)}:function(c,d,b){return String(c).substr(d,b)},lowercase:function(b){return String(b).toLowerCase()},uppercase:function(b){return String(b).toUpperCase()},usMoney:function(b){return a.currency(b,"$",2)},currency:function(d,f,c,b){var h="",g=",0",e=0;d=d-0;if(d<0){d=-d;h="-"}c=Ext.isDefined(c)?c:a.currencyPrecision;g+=(c>0?".":"");for(;e<c;e++){g+="0"}d=a.number(d,g);if((b||a.currencyAtEnd)===true){return Ext.String.format("{0}{1}{2}",h,d,f||a.currencySign)}else{return Ext.String.format("{0}{1}{2}",h,f||a.currencySign,d)}},date:function(b,c){if(!b){return""}if(!Ext.isDate(b)){b=new Date(Date.parse(b))}return Ext.Date.dateFormat(b,c||Ext.Date.defaultFormat)},dateRenderer:function(b){return function(c){return a.date(c,b)}},hex:function(d,c){var b=parseInt(d||0,10).toString(16);if(c){if(c<0){c=-c;if(b.length>c){b=b.substring(b.length-c)}}while(b.length<c){b="0"+b}}return b},or:function(c,b){return c||b},pick:function(d,c,e){if(Ext.isNumber(d)){var b=arguments[d+1];if(b){return b}}return d?e:c},stripTags:function(b){return !b?b:String(b).replace(a.stripTagsRe,"")},stripScripts:function(b){return !b?b:String(b).replace(a.stripScriptsRe,"")},fileSize:(function(){var b=1024,c=1048576,d=1073741824;return function(f){var e;if(f<b){if(f===1){e="1 byte"}else{e=f+" bytes"}}else{if(f<c){e=(Math.round(((f*10)/b))/10)+" KB"}else{if(f<d){e=(Math.round(((f*10)/c))/10)+" MB"}else{e=(Math.round(((f*10)/d))/10)+" GB"}}}return e}})(),math:(function(){var b={};return function(d,c){if(!b[c]){b[c]=Ext.functionFactory("v","return v "+c+";")}return b[c](d)}}()),round:function(d,c){var b=Number(d);if(typeof c==="number"){c=Math.pow(10,c);b=Math.round(d*c)/c}else{if(c===undefined){b=Math.round(b)}}return b},number:function(m,f){if(!f){return m}if(isNaN(m)){return""}var e=a.formatFns[f];if(!e){var j=f,p=a.thousandSeparator,n=a.decimalSeparator,g=0,d="",c,k,l,o,b,h;if(f.substr(f.length-2)==="/i"){if(!a.I18NFormatCleanRe||a.lastDecimalSeparator!==n){a.I18NFormatCleanRe=new RegExp("[^\\d\\"+n+"]","g");a.lastDecimalSeparator=n}f=f.substr(0,f.length-2);c=f.indexOf(p)!==-1;k=f.replace(a.I18NFormatCleanRe,"").split(n)}else{c=f.indexOf(",")!==-1;k=f.replace(a.formatCleanRe,"").split(".")}l=f.replace(a.formatPattern,"");if(k.length>2){Ext.Error.raise({sourceClass:"Ext.util.Format",sourceMethod:"number",value:m,formatString:f,msg:"Invalid number format, should have no more than 1 decimal"})}else{if(k.length===2){g=k[1].length;o=k[1].match(a.hashRe);if(o){h=o[0].length;d='trailingZeroes=new RegExp(Ext.String.escapeRegex(utilFormat.decimalSeparator) + "*0{0,'+h+'}$")'}}}b=["var utilFormat=Ext.util.Format,extNumber=Ext.Number,neg,absVal,fnum,parts"+(c?",thousandSeparator,thousands=[],j,n,i":"")+(l?',formatString="'+f+'",formatPattern=/[\\d,\\.#]+/':"")+',trailingZeroes;return function(v){if(typeof v!=="number"&&isNaN(v=extNumber.from(v,NaN)))return"";neg=v<0;',"absVal=Math.abs(v);","fnum=Ext.Number.toFixed(absVal, "+g+");",d,";"];if(c){if(g){b[b.length]='parts=fnum.split(".");';b[b.length]="fnum=parts[0];"}b[b.length]="if(absVal>=1000) {";b[b.length]="thousandSeparator=utilFormat.thousandSeparator;thousands.length=0;j=fnum.length;n=fnum.length%3||3;for(i=0;i<j;i+=n){if(i!==0){n=3;}thousands[thousands.length]=fnum.substr(i,n);}fnum=thousands.join(thousandSeparator);}";if(g){b[b.length]="fnum += utilFormat.decimalSeparator+parts[1];"}}else{if(g){b[b.length]='if(utilFormat.decimalSeparator!=="."){parts=fnum.split(".");fnum=parts[0]+utilFormat.decimalSeparator+parts[1];}'}}if(o){b[b.length]='fnum=fnum.replace(trailingZeroes,"");'}b[b.length]='if(neg&&fnum!=="'+(g?"0."+Ext.String.repeat("0",g):"0")+'")fnum="-"+fnum;';b[b.length]="return ";if(l){b[b.length]="formatString.replace(formatPattern, fnum);"}else{b[b.length]="fnum;"}b[b.length]="};";e=a.formatFns[j]=Ext.functionFactory("Ext",b.join(""))(Ext)}return e(m)},numberRenderer:function(b){return function(c){return a.number(c,b)}},percent:function(c,b){return a.number(c*100,b||"0")+a.percentSign},attributes:function(c){if(typeof c==="object"){var b=[],d;for(d in c){if(c.hasOwnProperty(d)){b.push(d,'="',d==="style"?Ext.DomHelper.generateStyles(c[d],null,true):Ext.htmlEncode(c[d]),'" ')}}c=b.join("")}return c||""},plural:function(b,c,d){return b+" "+(b===1?c:(d?d:c+"s"))},nl2br:function(b){return Ext.isEmpty(b)?"":b.replace(a.nl2brRe,"<br/>")},capitalize:Ext.String.capitalize,uncapitalize:Ext.String.uncapitalize,ellipsis:Ext.String.ellipsis,escape:Ext.String.escape,escapeRegex:Ext.String.escapeRegex,format:Ext.String.format,htmlDecode:Ext.String.htmlDecode,htmlEncode:Ext.String.htmlEncode,leftPad:Ext.String.leftPad,toggle:Ext.String.toggle,trim:Ext.String.trim,parseBox:function(c){c=c||0;if(typeof c==="number"){return{top:c,right:c,bottom:c,left:c}}var d=c.split(" "),b=d.length;if(b===1){d[1]=d[2]=d[3]=d[0]}else{if(b===2){d[2]=d[0];d[3]=d[1]}else{if(b===3){d[3]=d[1]}}}return{top:parseInt(d[0],10)||0,right:parseInt(d[1],10)||0,bottom:parseInt(d[2],10)||0,left:parseInt(d[3],10)||0}}}});Ext.define("Ext.Template",{inheritableStatics:{from:function(b,a){b=Ext.getDom(b);return new this(b.value||b.innerHTML,a||"")}},useEval:Ext.isGecko,constructor:function(d){var f=this,b=arguments,a=[],c,e=b.length,g;f.initialConfig={};if(e===1&&Ext.isArray(d)){b=d;e=b.length}if(e>1){for(c=0;c<e;c++){g=b[c];if(typeof g=="object"){Ext.apply(f.initialConfig,g);Ext.apply(f,g)}else{a.push(g)}}}else{a.push(d)}f.html=a.join("")},isTemplate:true,disableFormats:false,tokenRe:/\{(?:(?:(\d+)|([a-z_][\w\-]*))(?::([a-z_\.]+)(?:\(([^\)]*?)?\))?)?)\}/gi,apply:function(a){var b=this;if(b.compiled){if(!b.fn){b.compile()}return b.fn(a).join("")}return b.evaluate(a)},evaluate:function(a){var f=this,c=!f.disableFormats,e=Ext.util.Format,b=f;function d(k,j,h,l,g){if(h==null||h==""){h=j}if(l&&c){if(g){g=[a[h]].concat(Ext.functionFactory("return ["+g+"];")())}else{g=[a[h]]}if(l.substr(0,5)==="this."){return b[l.substr(5)].apply(b,g)}else{if(e[l]){return e[l].apply(e,g)}else{return k}}}else{return a[h]!==undefined?a[h]:""}}return f.html.replace(f.tokenRe,d)},applyOut:function(a,b){var c=this;if(c.compiled){if(!c.fn){c.compile()}b.push.apply(b,c.fn(a))}else{b.push(c.apply(a))}return b},applyTemplate:function(){return this.apply.apply(this,arguments)},set:function(a,c){var b=this;b.html=a;b.compiled=!!c;b.fn=null;return b},compileARe:/\\/g,compileBRe:/(\r\n|\n)/g,compileCRe:/'/g,compile:function(){var b=this,a;a=b.html.replace(b.compileARe,"\\\\").replace(b.compileBRe,"\\n").replace(b.compileCRe,"\\'").replace(b.tokenRe,b.regexReplaceFn.bind(b));a=(this.disableFormats!==true?"var fm=Ext.util.Format;":"")+(b.useEval?"$=":"return")+" function(v){return ['"+a+"'];};";b.fn=b.useEval?b.evalCompiled(a):(new Function("Ext",a))(Ext);b.compiled=true;return b},evalCompiled:function($){eval($);return $},regexReplaceFn:function(d,c,b,e,a){if(c==null||c==""){c='"'+b+'"'}else{if(this.stringFormat){c=parseInt(c)+1}}if(e&&this.disableFormats!==true){a=a?","+a:"";if(e.substr(0,5)==="this."){e=e+"("}else{if(Ext.util.Format[e]){e="fm."+e+"("}else{return d}}return"',"+e+"v["+c+"]"+a+"),'"}else{return"',v["+c+"] == undefined ? '' : v["+c+"],'"}},insertFirst:function(b,a,c){return this.doInsert("afterBegin",b,a,c)},insertBefore:function(b,a,c){return this.doInsert("beforeBegin",b,a,c)},insertAfter:function(b,a,c){return this.doInsert("afterEnd",b,a,c)},append:function(b,a,c){return this.doInsert("beforeEnd",b,a,c)},doInsert:function(b,d,a,e){var c=Ext.DomHelper.insertHtml(b,Ext.getDom(d),this.apply(a));return e?Ext.get(c):c},overwrite:function(c,a,d){var b=Ext.DomHelper.overwrite(Ext.getDom(c),this.apply(a));return d?Ext.get(b):b}});Ext.define("Ext.mixin.Inheritable",{extend:Ext.Mixin,mixinConfig:{id:"inheritable"},getInherited:function(b){var g=this,f=(b&&g.inheritedStateInner)||g.inheritedState,e=g.ownerCt||g.initOwnerCt,d=g.isContainer,c,a,h;if(!f||f.invalid){c=g.getRefOwner();if(e){h=g.ownerLayout===e.layout}g.inheritedState=f=Ext.Object.chain(c?c.getInherited(h):Ext.rootInheritedState);if(d){g.inheritedStateInner=a=Ext.Object.chain(f)}g.initInheritedState(f,a);f=(d&&b)?g.inheritedStateInner:g.inheritedState}return f},getInheritedConfig:function(e,a){var d=this.inheritedState,b,c;if(!d||d.invalid){d=this.getInherited()}c=d[e];if(a&&d.hasOwnProperty(e)){b=c;delete d[e];c=d[e];d[e]=b}return c},fixReference:function(){var a=this,b;if(a.reference){b=a.lookupReferenceHolder();if(b){b.attachReference(a)}}},resolveListenerScope:function(d){var b,a=d==="this",c=a||d==="controller";if(c){if(a){b=this}else{b=this.getController()}}else{b=this.getInheritedConfig("defaultListenerScope",true)||d}return b||null},lookupReferenceHolder:function(a){return this.getInheritedConfig("referenceHolder",a!==false)||null},getRefOwner:function(){return this.ownerCt||this.initOwnerCt||this.floatParent},initInheritedState:Ext.emptyFn,invalidateInheritedState:function(){var a=this.inheritedState;if(a){a.invalid=true;delete this.inheritedState}}},function(){Ext.rootInheritedState={}});Ext.define("Ext.mixin.Bindable",{mixinId:"bindable",config:{bind:{$value:null,lazy:true},controller:null,defaultListenerScope:false,publishes:{$value:null,lazy:true,merge:function(b,a){return this.mergeSets(b,a)}},reference:null,session:{$value:null,lazy:true},twoWayBindable:{$value:null,lazy:true,merge:function(b,a){return this.mergeSets(b,a)}},viewModel:{$value:null,lazy:true}},defaultBindProperty:null,validRefRe:/^[a-z_][a-z0-9_]*$/i,initInheritedState:function(d){var e=this,a=e.getReference(),b=e.getController(),c=e.getConfig("viewModel",true),f=e.getConfig("session",true);if(b){d.defaultListenerScope=b}else{if(e.defaultListenerScope||e._defaultListenerScope){d.defaultListenerScope=e}}if(c){if(!c.isViewModel){c=e}d.viewModel=c}if(f){if(!f.isSession){f=e}d.session=f}if(a){e.referenceKey=(d.referencePath||"")+a;e.viewModelKey=(d.viewModelPath||"")+a}},lookupSession:function(a){var b=a?null:this.getSession();if(!b){b=this.getInheritedConfig("session",a);if(b&&!b.isSession){b=b.getInherited().session=b.getSession()}}return b||null},lookupViewModel:function(a){var b=a?null:this.getViewModel();if(!b){b=this.getInheritedConfig("viewModel",a);if(b&&!b.isViewModel){b=b.getInherited().viewModel=b.getViewModel()}}return b||null},publishState:function(k,j){var h=this,l=h.viewModelKey,c=h.publishedState,e=h.getBind(),g=e&&k&&e[k],f=0,b,a,d;if(g&&!g.syncing&&!g.isReadOnly()){g.setValue(j)}if(!l||!(a=h.getPublishes())){return}if(!(d=h.lookupViewModel())){return}if(k&&c){if(!a[k]){return}if(!(j&&j.constructor===Object)&&!(j instanceof Array)){if(c[k]===j){return}}l+=".";l+=k}else{c=c||(h.publishedState={});for(b in a){++f;if(b===k){c[b]=j}else{c[b]=h[b]}}if(!f){return}j=c}d.set(l,j)},privates:{addBindableUpdater:function(c){var b=this,d=b.self.$config.configs,a=d[c],e;if(a&&!b.hasOwnProperty(e=a.names.update)){b[e]=a.bindableUpdater||(a.root.bindableUpdater=b.makeBindableUpdater(a))}},applyBind:function(d,k){var f=this,h=f.lookupViewModel(),e=f.getTwoWayBindable(),a=f._getBindTemplateScope,g,j,c;if(!k||typeof k==="string"){k={}}if(!h){Ext.Error.raise("Cannot use bind config without a viewModel")}if(Ext.isString(d)){if(!f.defaultBindProperty){Ext.Error.raise(f.$className+" has no defaultBindProperty - Please specify a bind object")}g=d;d={};d[f.defaultBindProperty]=g}for(j in d){c=d[j];g=k[j];if(g&&typeof g!=="string"){g.destroy();g=null}if(c){g=h.bind(c,f.onBindNotify,f);g._config=Ext.Config.get(j);g.getTemplateScope=a;if(!f[g._config.names.set]){Ext.Error.raise("Cannot bind "+j+" on "+f.$className+" - missing a "+g._config.names.set+" method.")}}k[j]=g;if(e&&e[j]&&!g.isReadOnly()){f.addBindableUpdater(j)}}return k},applyController:function(a){a=Ext.Factory.controller(a);a.setView(this);return a},applyPublishes:function(a){if(this.lookupViewModel()){for(var b in a){this.addBindableUpdater(b)}}return a},applyReference:function(a){var b=this.validRefRe||Ext.validIdRe;if(a&&!b.test(a)){Ext.Error.raise('Invalid reference "'+a+'" for '+this.getId()+" - not a valid identifier")}return a},applySession:function(c){if(!c){return null}if(!c.isSession){var b=this.lookupSession(true),a=(c===true)?{}:c;if(b){c=b.spawn(a)}else{c=new Ext.data.Session(a)}}return c},applyViewModel:function(b){var c=this,a,d;if(!(b&&b.isViewModel)){a={parent:c.lookupViewModel(true)};a.session=c.getSession();if(!d&&!a.parent){a.session=c.lookupSession()}if(b){if(b.constructor===Object){Ext.apply(a,b)}else{if(typeof b==="string"){a.type=b}}}b=Ext.Factory.viewModel(a)}return b},_getBindTemplateScope:function(){return this.scope.resolveListenerScope()},initBindable:function(){this.initBindable=Ext.emptyFn;this.getBind();this.getPublishes()},makeBindableUpdater:function(a){var b=a.names.update;return function(e,c){var d=this,f=d.self.prototype[b];if(f){f.call(d,e,c)}d.publishState(a.name,e)}},onBindNotify:function(b,a,c){c.syncing=(c.syncing+1)||1;this[c._config.names.set](b);--c.syncing},removeBindings:function(){var c=this.bind,a,b;if(c&&typeof c!=="string"){for(a in c){b=c[a];b.destroy();b._config=b.getTemplateScope=null}}this.bind=null},updateSession:function(b){var a=this.getInherited();if(b){a.session=b}else{delete a.session}},updateViewModel:function(b){var c=this.getInherited(),a=this.getController();if(b){c.viewModel=b;b.setView(this);if(a){a.initViewModel(b)}}else{delete c.viewModel}}}});Ext.define("Ext.Widget",{extend:Ext.Evented,xtype:"widget",mixins:[Ext.mixin.Inheritable,Ext.mixin.Bindable],isWidget:true,element:{reference:"element"},eventedConfig:{width:null,height:null},template:[],constructor:function(a){var b=this;b.initId(a);b.initElement();b.mixins.observable.constructor.call(b,a);Ext.ComponentManager.register(b)},addElementReferenceOnDemand:function(a,b){if(this._elementListeners[a]){this.addElementReference(a,b)}else{Ext.Object.defineProperty(this,a,{get:function(){delete this[a];return this.addElementReference(a,b)},configurable:true})}},addElementReference:function(c,e){var f=this,b=f[c]=Ext.get(e),d=f._elementListeners[c],a,g;b.skipGarbageCollection=true;b.component=f;if(d){d=Ext.clone(d);d.scope=f;for(a in d){g=d[a];if(typeof g==="object"){g.scope=f}}b.on(d)}return b},afterCachedConfig:function(){var h=this,j=h.self.prototype,k=h.referenceList,c=h.renderElement.dom,f,d,e,g,b,a;j.renderTemplate=f=document.createDocumentFragment();f.appendChild(c.cloneNode(true));a=f.querySelectorAll("[id]");for(e=0,g=a.length;e<g;e++){d=a[e];d.removeAttribute("id")}for(e=0,g=k.length;e<g;e++){b=k[e];h[b].dom.removeAttribute("reference")}},applyWidth:function(a){return this.filterLengthValue(a)},applyHeight:function(a){return this.filterLengthValue(a)},destroy:function(){var e=this,b=e.referenceList,c,d,a;for(c=0,d=b.length;c<d;c++){a=b[c];if(e.hasOwnProperty(a)){e[a].destroy();e[a]=null}}e.callParent();Ext.ComponentManager.unregister(e)},doSetWidth:function(a){this.element.setWidth(a)},doSetHeight:function(a){this.element.setHeight(a)},filterLengthValue:function(a){if(a==="auto"||(!a&&a!==0)){return null}return a},getElementConfig:function(){var b=this,a=b.element;if(!("children" in a)){a=Ext.apply({children:b.getTemplate()},a)}return a},getSize:function(){return{width:this.getWidth(),height:this.getHeight()}},getTemplate:function(){return this.template},initElement:function(){var l=this,m=l.self.prototype,a=l.getId(),o=l.referenceList=[],c=true,h,e,g,b,f,k,j,d,n;if(m.hasOwnProperty("renderTemplate")){h=l.renderTemplate.cloneNode(true);e=h.firstChild}else{c=false;h=document.createDocumentFragment();n=l.getElementConfig();l.initElementListeners(n);e=Ext.Element.create(n,true);h.appendChild(e)}b=h.querySelectorAll("[reference]");for(f=0,k=b.length;f<k;f++){j=b[f];d=j.getAttribute("reference");if(c){j.removeAttribute("reference")}if(d==="element"){if(g){Ext.Error.raise("Duplicate 'element' reference detected in '"+l.$className+"' template.")}j.id=a;g=l.el=l.addElementReference(d,j)}else{l.addElementReferenceOnDemand(d,j)}o.push(d)}if(!g){Ext.Error.raise("No 'element' reference found in '"+l.$className+"' template.")}if(e===g.dom){l.renderElement=g}else{l.addElementReferenceOnDemand("renderElement",e)}},initElementListeners:function(h){var g=this,f=g._elementListeners||(g.self.prototype._elementListeners={}),a=h.reference,c=h.children,d,e,b;if(a){d=h.listeners;if(d){f[a]=d;h.listeners=null}}if(c){for(b=0,e=c.length;b<e;b++){g.initElementListeners(c[b])}}},initId:function(b){var c=this,a=c.config,d=(b&&b.id)||(a&&a.id);if(d){c.setId(d);c.id=d}else{c.getId()}},is:function(a){return Ext.ComponentQuery.is(this,a)},isXType:function(b,a){return a?(Ext.Array.indexOf(this.xtypes,b)!==-1):!!this.xtypesMap[b]},setSize:function(b,a){if(b!==undefined){this.setWidth(b)}if(a!==undefined){this.setHeight(a)}}});Ext.define("Ext.overrides.Widget",{override:"Ext.Widget",$configStrict:false,isComponent:true,liquidLayout:true,rendered:true,rendering:true,cachedConfig:{baseCls:Ext.baseCSSPrefix+"widget"},constructor:function(a){this.callParent([a]);this.getComponentLayout()},addCls:function(a){this.el.addCls(a)},addClsWithUI:function(a){this.el.addCls(a)},afterComponentLayout:Ext.emptyFn,finishRender:function(){this.rendering=false;this.initBindable()},getComponentLayout:function(){var b=this,a=b.componentLayout;if(!a){a=b.componentLayout=new Ext.layout.component.Auto();a.setOwner(b)}return a},getTdCls:function(){return Ext.baseCSSPrefix+this.getTdType()+"-"+(this.ui||"default")+"-cell"},getTdType:function(){return this.xtype},getItemId:function(){return this.itemId||this.id},getSizeModel:function(){return Ext.Component.prototype.getSizeModel.apply(this,arguments)},onAdded:function(b,e,a){var d=this,c=d.inheritedState;d.ownerCt=b;if(c&&a){d.invalidateInheritedState()}if(d.reference){d.fixReference()}},onRemoved:function(b){var a=this,c;if(a.reference){c=a.lookupReferenceHolder();if(c){c.clearReference(a)}}if(!b){a.removeBindings()}if(a.inheritedState&&!b){a.invalidateInheritedState()}a.ownerCt=a.ownerLayout=null},parseBox:function(a){return Ext.Element.parseBox(a)},render:function(b,a){var c=this.element,d;if(a){nextSibiling=b.childNodes[a];if(d){b.insertBefore(c,d);return}}b.appendChild(c)},setPosition:function(a,b){this.el.setLocalXY(a,b)}},function(){var a;if(Ext.isIE8){a=Ext.Widget.prototype;a.addElementReferenceOnDemand=a.addElementReference}});Ext.define("Ext.util.XTemplateParser",{constructor:function(a){Ext.apply(this,a)},doTpl:Ext.emptyFn,parse:function(n){var w=this,q=n.length,p={elseif:"elif"},r=w.topRe,c=w.actionsRe,e,d,j,o,g,k,h,v,u,b,f,a,l;w.level=0;w.stack=d=[];for(e=0;e<q;e=b){r.lastIndex=e;o=r.exec(n);if(!o){w.doText(n.substring(e,q));break}u=o.index;b=r.lastIndex;if(e<u){j=n.substring(e,u);if(!(l&&Ext.String.trim(j)==="")){w.doText(j)}}l=false;if(o[1]){b=n.indexOf("%}",u+2);w.doEval(n.substring(u+2,b));b+=2}else{if(o[2]){b=n.indexOf("]}",u+2);w.doExpr(n.substring(u+2,b));b+=2}else{if(o[3]){w.doTag(o[3])}else{if(o[4]){f=null;while((v=c.exec(o[4]))!==null){j=v[2]||v[3];if(j){j=Ext.String.htmlDecode(j);g=v[1];g=p[g]||g;f=f||{};k=f[g];if(typeof k=="string"){f[g]=[k,j]}else{if(k){f[g].push(j)}else{f[g]=j}}}}if(!f){if(w.elseRe.test(o[4])){w.doElse()}else{if(w.defaultRe.test(o[4])){w.doDefault()}else{w.doTpl();d.push({type:"tpl"})}}}else{if(f["if"]){w.doIf(f["if"],f);d.push({type:"if"})}else{if(f["switch"]){w.doSwitch(f["switch"],f);d.push({type:"switch"});l=true}else{if(f["case"]){w.doCase(f["case"],f)}else{if(f.elif){w.doElseIf(f.elif,f)}else{if(f["for"]){++w.level;if(a=w.propRe.exec(o[4])){f.propName=a[1]||a[2]}w.doFor(f["for"],f);d.push({type:"for",actions:f})}else{if(f.foreach){++w.level;if(a=w.propRe.exec(o[4])){f.propName=a[1]||a[2]}w.doForEach(f.foreach,f);d.push({type:"foreach",actions:f})}else{if(f.exec){w.doExec(f.exec,f);d.push({type:"exec",actions:f})}}}}}}}}}else{if(o[0].length===5){d.push({type:"tpl"})}else{h=d.pop();w.doEnd(h.type,h.actions);if(h.type=="for"||h.type=="foreach"){--w.level}}}}}}}},topRe:/(?:(\{\%)|(\{\[)|\{([^{}]+)\})|(?:<tpl([^>]*)\>)|(?:<\/tpl>)/g,actionsRe:/\s*(elif|elseif|if|for|foreach|exec|switch|case|eval|between)\s*\=\s*(?:(?:"([^"]*)")|(?:'([^']*)'))\s*/g,propRe:/prop=(?:(?:"([^"]*)")|(?:'([^']*)'))/,defaultRe:/^\s*default\s*$/,elseRe:/^\s*else\s*$/});Ext.define("Ext.util.XTemplateCompiler",{extend:Ext.util.XTemplateParser,useEval:Ext.isGecko,useIndex:Ext.isIE8m,useFormat:true,propNameRe:/^[\w\d\$]*$/,compile:function(a){var c=this,b=c.generate(a);return c.useEval?c.evalTpl(b):(new Function("Ext",b))(Ext)},generate:function(a){var d=this,b="var fm=Ext.util.Format,ts=Object.prototype.toString;",c;d.maxLevel=0;d.body=["var c0=values, a0="+d.createArrayTest(0)+", p0=parent, n0=xcount, i0=xindex, k0, v;\n"];if(d.definitions){if(typeof d.definitions==="string"){d.definitions=[d.definitions,b]}else{d.definitions.push(b)}}else{d.definitions=[b]}d.switches=[];d.parse(a);d.definitions.push((d.useEval?"$=":"return")+" function ("+d.fnArgs+") {",d.body.join(""),"}");c=d.definitions.join("\n");d.definitions.length=d.body.length=d.switches.length=0;delete d.definitions;delete d.body;delete d.switches;return c},doText:function(c){var b=this,a=b.body;c=c.replace(b.aposRe,"\\'").replace(b.newLineRe,"\\n");if(b.useIndex){a.push("out[out.length]='",c,"'\n")}else{a.push("out.push('",c,"')\n")}},doExpr:function(b){var a=this.body;a.push("if ((v="+b+") != null) out");if(this.useIndex){a.push("[out.length]=v+''\n")}else{a.push(".push(v+'')\n")}},doTag:function(a){var b=this.parseTag(a);if(b){this.doExpr(b)}else{this.doText("{"+a+"}")}},doElse:function(){this.body.push("} else {\n")},doEval:function(a){this.body.push(a,"\n")},doIf:function(b,c){var a=this;if(b==="."){a.body.push("if (values) {\n")}else{if(a.propNameRe.test(b)){a.body.push("if (",a.parseTag(b),") {\n")}else{a.body.push("if (",a.addFn(b),a.callFn,") {\n")}}if(c.exec){a.doExec(c.exec)}},doElseIf:function(b,c){var a=this;if(b==="."){a.body.push("else if (values) {\n")}else{if(a.propNameRe.test(b)){a.body.push("} else if (",a.parseTag(b),") {\n")}else{a.body.push("} else if (",a.addFn(b),a.callFn,") {\n")}}if(c.exec){a.doExec(c.exec)}},doSwitch:function(c){var b=this,a;if(c==="."||c==="#"){a=c==="."?"values":"xindex";b.body.push("switch (",a,") {\n")}else{if(b.propNameRe.test(c)){b.body.push("switch (",b.parseTag(c),") {\n")}else{b.body.push("switch (",b.addFn(c),b.callFn,") {\n")}}b.switches.push(0)},doCase:function(e){var d=this,c=Ext.isArray(e)?e:[e],f=d.switches.length-1,a,b;if(d.switches[f]){d.body.push("break;\n")}else{d.switches[f]++}for(b=0,f=c.length;b<f;++b){a=d.intRe.exec(c[b]);c[b]=a?a[1]:("'"+c[b].replace(d.aposRe,"\\'")+"'")}d.body.push("case ",c.join(": case "),":\n")},doDefault:function(){var a=this,b=a.switches.length-1;if(a.switches[b]){a.body.push("break;\n")}else{a.switches[b]++}a.body.push("default:\n")},doEnd:function(b,d){var c=this,a=c.level-1;if(b=="for"||b=="foreach"){if(d.exec){c.doExec(d.exec)}c.body.push("}\n");c.body.push("parent=p",a,";values=r",a+1,";xcount=n"+a+";xindex=i",a,"+1;xkey=k",a,";\n")}else{if(b=="if"||b=="switch"){c.body.push("}\n")}}},doFor:function(e,g){var d=this,c,b=d.level,a=b-1,f;if(e==="."){c="values"}else{if(d.propNameRe.test(e)){c=d.parseTag(e)}else{c=d.addFn(e)+d.callFn}}if(d.maxLevel<b){d.maxLevel=b;d.body.push("var ")}if(e=="."){f="c"+b}else{f="a"+a+"?c"+a+"[i"+a+"]:c"+a}d.body.push("i",b,"=0,n",b,"=0,c",b,"=",c,",a",b,"=",d.createArrayTest(b),",r",b,"=values,p",b,",k",b,";\n","p",b,"=parent=",f,"\n","if (c",b,"){if(a",b,"){n",b,"=c",b,".length;}else if (c",b,".isMixedCollection){c",b,"=c",b,".items;n",b,"=c",b,".length;}else if(c",b,".isStore){c",b,"=c",b,".data.items;n",b,"=c",b,".length;}else{c",b,"=[c",b,"];n",b,"=1;}}\n","for (xcount=n",b,";i",b,"<n"+b+";++i",b,"){\n","values=c",b,"[i",b,"]");if(g.propName){d.body.push(".",g.propName)}d.body.push("\n","xindex=i",b,"+1\n");if(g.between){d.body.push('if(xindex>1){ out.push("',g.between,'"); } \n')}},doForEach:function(e,g){var d=this,c,b=d.level,a=b-1,f;if(e==="."){c="values"}else{if(d.propNameRe.test(e)){c=d.parseTag(e)}else{c=d.addFn(e)+d.callFn}}if(d.maxLevel<b){d.maxLevel=b;d.body.push("var ")}if(e=="."){f="c"+b}else{f="a"+a+"?c"+a+"[i"+a+"]:c"+a}d.body.push("i",b,"=-1,n",b,"=0,c",b,"=",c,",a",b,"=",d.createArrayTest(b),",r",b,"=values,p",b,",k",b,";\n","p",b,"=parent=",f,"\n","for(k",b," in c",b,"){\n","xindex=++i",b,"+1;\n","xkey=k",b,";\n","values=c",b,"[k",b,"];");if(g.propName){d.body.push(".",g.propName)}if(g.between){d.body.push('if(xindex>1){ out.push("',g.between,'"); } \n')}},createArrayTest:("isArray" in Array)?function(a){return"Array.isArray(c"+a+")"}:function(a){return"ts.call(c"+a+')==="[object Array]"'},doExec:function(d,e){var c=this,a="f"+c.definitions.length,b=c.guards[c.strict?0:1];c.definitions.push("function "+a+"("+c.fnArgs+") {",b.doTry," var $v = values; with($v) {","  "+d," }",b.doCatch,"}");c.body.push(a+c.callFn+"\n")},guards:[{doTry:"",doCatch:""},{doTry:"try { ",doCatch:' } catch(e) {\nExt.log.warn("XTemplate evaluation exception: " + e.message);\n}'}],addFn:function(a){var d=this,b="f"+d.definitions.length,c=d.guards[d.strict?0:1];if(a==="."){d.definitions.push("function "+b+"("+d.fnArgs+") {"," return values","}")}else{if(a===".."){d.definitions.push("function "+b+"("+d.fnArgs+") {"," return parent","}")}else{d.definitions.push("function "+b+"("+d.fnArgs+") {",c.doTry," var $v = values; with($v) {","  return("+a+")"," }",c.doCatch,"}")}}return b},parseTag:function(b){var g=this,a=g.tagRe.exec(b),e,h,d,f,c;if(!a){return null}e=a[1];h=a[2];d=a[3];f=a[4];if(e=="."){if(!g.validTypes){g.definitions.push("var validTypes={string:1,number:1,boolean:1};");g.validTypes=true}c='validTypes[typeof values] || ts.call(values) === "[object Date]" ? values : ""'}else{if(e=="#"){c="xindex"}else{if(e=="$"){c="xkey"}else{if(e.substr(0,7)=="parent."){c=e}else{if(isNaN(e)&&e.indexOf("-")==-1&&e.indexOf(".")!=-1){c="values."+e}else{c="values['"+e+"']"}}}}}if(f){c="("+c+f+")"}if(h&&g.useFormat){d=d?","+d:"";if(h.substr(0,5)!="this."){h="fm."+h+"("}else{h+="("}}else{return c}return h+c+d+")"},evalTpl:function($){eval($);return $},newLineRe:/\r\n|\r|\n/g,aposRe:/[']/g,intRe:/^\s*(\d+)\s*$/,tagRe:/^([\w-\.\#\$]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?(\s?[\+\-\*\/]\s?[\d\.\+\-\*\/\(\)]+)?$/},function(){var a=this.prototype;a.fnArgs="out,values,parent,xindex,xcount,xkey";a.callFn=".call(this,"+a.fnArgs+")"});Ext.define("Ext.XTemplate",{extend:Ext.Template,emptyObj:{},fn:null,strict:false,apply:function(a,b){return this.applyOut(a,[],b).join("")},applyOut:function(a,b,d){var f=this,c;if(!f.fn){c=new Ext.util.XTemplateCompiler({useFormat:f.disableFormats!==true,definitions:f.definitions,strict:f.strict});f.fn=c.compile(f.html)}if(f.strict){f.fn(b,a,d||f.emptyObj,1,1)}else{try{f.fn(b,a,d||f.emptyObj,1,1)}catch(g){Ext.log.warn("XTemplate evaluation exception: "+g.message)}}return b},compile:function(){return this},statics:{getTpl:function(b,d){var c=b[d],a;if(c&&!c.isTemplate){c=Ext.ClassManager.dynInstantiate("Ext.XTemplate",c);if(b.hasOwnProperty(d)){a=b}else{for(a=b.self.prototype;a&&!a.hasOwnProperty(d);a=a.superclass){}}a[d]=c;c.owner=a}return c||null}}});Ext.Factory=function(a){var b=this;b.aliasPrefix=a+".";b.cache={};b.name=a.replace(b.fixNameRe,b.fixNameFn);b.type=a};Ext.Factory.prototype={defaultProperty:"type",instanceProp:"isInstance",create:function(c,e){var h=this,a=Ext.ClassManager,b=h.cache,d,g,f,j;if(c){if(c[h.instanceProp]){return c}if(typeof c==="string"){j=c;c={};c[h.defaultProperty]=j}g=c.xclass;j=c.type}if(g){if(!(f=a.get(g))){return a.instantiate(g,c)}}else{if(!(j=j||e||h.defaultType)){f=h.defaultClass}if(!j&&!f){Ext.Error.raise("No type specified for "+h.type+".create")}if(!f&&!(f=b[j])){d=h.aliasPrefix+j;g=a.getNameByAlias(d);if(!(f=g&&a.get(g))){return a.instantiateByAlias(d,c)}b[j]=f}}return new f(c)},fixNameRe:/\.[a-z]/ig,fixNameFn:function(a){return a.substring(1).toUpperCase()},clearCache:function(){this.cache={}}};Ext.Factory.define=function(f,d){var a=Ext.Factory,b,c,e;if(f.constructor===Object){Ext.Object.each(f,a.define,a)}else{c=new Ext.Factory(f);if(d){if(d.constructor===Object){Ext.apply(c,d);if(typeof(b=c.xclass)==="string"){c.defaultClass=Ext.ClassManager.get(b)}}else{c.defaultType=d}}a[c.name]=e=c.create.bind(c);e.instance=c}return e};Ext.define("Ext.mixin.Factoryable",{mixinId:"factoryable",onClassMixedIn:function(e){var d=e.prototype,f=d.factoryConfig,c=d.alias,b={},a;c=c&&c.length&&c[0];if(c&&(a=c.lastIndexOf("."))>0){b.type=c.substring(0,a);b.defaultType=c.substring(a+1)}if(f){delete d.factoryConfig;Ext.apply(b,f)}e.create=Ext.Factory.define(b.type,b)}});Ext.define("Ext.util.CollectionKey",{mixins:[Ext.mixin.Identifiable],config:{collection:null,keyFn:null,property:null,rootProperty:null,unique:true},generation:0,map:null,mapRebuilds:0,constructor:function(a){this.initConfig(a);if(!Ext.isFunction(this.getKey)){Ext.Error.raise("CollectionKey requires a keyFn or property config")}},get:function(a){var b=this.map||this.getMap();return b[a]||null},getRootProperty:function(){var b=this,a=this.callParent();return a!==null?a:b.getCollection().getRootProperty()},indexOf:function(j,e){var a=this.map||this.getMap(),k=a[j],f=this.getCollection(),b=f.length,d,g,h,c;if(!k){return -1}if(e===undefined){e=-1}if(k instanceof Array){h=k;g=b;for(c=h.length;c-->0;){d=f.indexOf(h[c]);if(d<g&&d>e){g=d}}if(g===b){return -1}}else{g=f.indexOf(k)}return(g>e)?g:-1},updateKey:function(c,e){var b=this,d=b.map,f,a;if(d){f=d[e];if(f instanceof Array){a=Ext.Array.indexOf(f,c);if(a>=0){if(f.length>2){f.splice(a,1)}else{d[e]=f[1-a]}}}else{if(f){if(b.getUnique()&&f!==c){Ext.Error.raise('Incorrect oldKey "'+e+'" for item with newKey "'+b.getKey(c)+'"')}delete d[e]}}b.add([c])}},onCollectionAdd:function(b,a){if(this.map){this.add(a.items)}},onCollectionItemChange:function(b,a){this.map=null},onCollectionRefresh:function(){this.map=null},onCollectionRemove:function(e,d){var g=this,a=g.map,f=d.items,b=f.length,c,j,h;if(a){if(g.getUnique()&&b<e.length/2){for(c=0;c<b;++c){h=g.getKey(j=f[c]);delete a[h]}}else{g.map=null}}},add:function(f){var g=this,a=g.map,b,e,j,h,c,d;c=f.length;d=g.getUnique();for(e=0;e<c;++e){h=g.getKey(j=f[e]);if(d||!(h in a)){a[h]=j}else{if(!((b=a[h]) instanceof Array)){a[h]=b=[b]}b.push(j)}}},applyKeyFn:function(a){if(Ext.isString(a)){this.getKey=function(b){return b[a]()}}else{this.getKey=a}},applyProperty:function(b){var a=this.getRootProperty();this.getKey=function(c){return(a?c[a]:c)[b]}},getMap:function(){var a=this,b=a.map;if(!b){a.map=b={};a.keysByItemKey={};++a.mapRebuilds;a.add(a.getCollection().items)}return b},updateCollection:function(a){a.addObserver(this)}});Ext.define("Ext.util.Grouper",{extend:Ext.util.Sorter,isGrouper:true,config:{groupFn:null,sortProperty:null},constructor:function(a){if(a){if(a.getGroupString){Ext.Error.raise("Cannot set getGroupString - use groupFn instead")}}this.callParent(arguments)},getGroupString:function(a){var b=this._groupFn(a);return(b!=null)?String(b):""},sortFn:function(d,c){var f=this,b=f._groupFn(d),e=f._groupFn(c),j=f._sortProperty,h=f._root,g=f._sorterFn,a=f._transform;if(b===e){return 0}if(j||g){if(g){return g.call(this,d,c)}if(h){d=d[h];c=c[h]}b=d[j];e=c[j];if(a){b=a(b);e=a(e)}}return(b>e)?1:(b<e?-1:0)},standardGroupFn:function(b){var a=this._root;return(a?b[a]:b)[this._property]},updateSorterFn:function(){},updateProperty:function(){if(!this.getGroupFn()){this.setGroupFn(this.standardGroupFn)}}});Ext.define("Ext.util.Collection",{mixins:[Ext.mixin.Observable],isCollection:true,config:{autoFilter:true,autoSort:true,decoder:null,extraKeys:null,filters:null,grouper:null,groups:null,rootProperty:null,sorters:null,multiSortLimit:3,defaultSortDirection:"ASC",source:null},generation:0,indices:null,indexRebuilds:0,updating:0,grouped:false,sorted:false,filtered:false,constructor:function(a){var b=this;b.items=[];b.map={};b.length=0;if(a&&a.keyFn){b.getKey=a.keyFn}b.mixins.observable.constructor.call(b,a)},destroy:function(){var c=this,b=c._filters,d=c._sorters,a=c._groups;if(b){b.destroy();c._filters=null}if(d){d.destroy();c._sorters=null}if(a){a.destroy();c._groups=null}c.setSource(null);c.observers=c.items=c.map=null},add:function(d){var c=this,a=c.decodeItems(arguments,0),b=a;if(a.length){c.splice(c.length,0,a);b=(a.length===1)?a[0]:a}return b},replaceAll:function(){var d=this,a=d.length,c,b;if(a===0){return d.add.apply(d,arguments)}b=d.decodeItems(arguments,0);c=b;if(b.length){d.splice(0,d.length,b);c=(b.length===1)?b[0]:b}else{d.removeAll()}return c},aggregate:function(g,b,e,a,d){var f=this,c=Ext.Array.slice(arguments);c.unshift(f.items);return f.aggregateItems.apply(f,c)},aggregateByGroup:function(d,b,c){var a=this.getGroups();return this.aggregateGroups(a,d,b,c)},aggregateItems:function(k,q,d,a,e,r){var l=this,h=Ext.Number.clipIndices(k.length,[a,e]),b=(a!==0&&e!==k.length),g,f,c,m,o,p,n;a=h[0];e=h[1];if(!Ext.isFunction(d)){d=l._aggregators[d];return d.call(l,k,a,e,q,l.getRootProperty())}m=l.getRootProperty();p=new Array(c);n=b?new Array(c):k;for(g=a,f=0;g<e;++g,f++){if(b){n[f]=o=k[g]}p[f]=(m?o[m]:o)[q]}return d.call(r||l,k,p,0)},aggregateGroups:function(a,j,c,k){var g=a.items,f=g.length,b=!Ext.isFunction(c),d={},e,h,l;for(e=0;e<f;++e){h=g[e];if(!b){l=this.aggregateItems(h.items,j,c,null,null,k)}else{l=h[c](j)}d[h.getGroupKey()]=l}return d},beginUpdate:function(){if(!this.updating++){this.notify("beginupdate")}},clear:function(){var b=this,c=b.generation,a=c?b.items:[];if(c){b.items=[];b.length=0;b.map={};b.indices={};b.generation++}return a},clone:function(){var a=this,b=new a.self(a.initialConfig);b.add(a.items);return b},collect:function(k,f,h){var e=this.items,b=e.length,a={},d=[],c,g,j;for(c=0;c<b;++c){j=e[c];j=(f?j[f]:j)[k];g=String(j);if((h||!Ext.isEmpty(j))&&!a[g]){a[g]=1;d.push(j)}}return d},contains:function(c){var a=false,b;if(c!=null){b=this.getKey(c);a=this.map[b]===c}return a},containsKey:function(a){return a in this.map},createFiltered:function(n,m,e,j,d){var h=this,f=new h.self(h.initialConfig),l=h.getRootProperty(),g=h.items,b,c,a,k,o;if(Ext.isFunction(n)){k=n;o=m}else{if(Ext.isString(n)){a=[new Ext.util.Filter({property:n,value:m,root:l,anyMatch:e,caseSensitive:j,exactMatch:d})]}else{if(n instanceof Ext.util.Filter){a=[n];n.setRoot(l)}else{if(Ext.isArray(n)){a=n.slice(0);for(c=0,b=a.length;c<b;++c){a[c].setRoot(l)}}}}k=Ext.util.Filter.createFilterFn(a)}o=o||h;for(c=0,b=g.length;c<b;c++){if(k.call(o,g[c])){f.add(g[c])}}return f},filterBy:function(b,a){return this.createFiltered(b,a)},each:function(f,e){var b=this.items,a=b.length,d,c;if(a){e=e||this;b=b.slice(0);for(d=0;d<a;d++){c=f.call(e,b[d],d,a);if(c===false){break}}}return c},eachKey:function(f,j){var e=this,d=e.items,b=d.length,a,h,g,c;if(b){j=j||e;d=d.slice(0);for(a=0;a<b;a++){g=e.getKey(h=d[a]);c=f.call(j,g,h,a,b);if(c===false){break}}}return c},endUpdate:function(){if(!--this.updating){this.notify("endupdate")}},find:function(g,f,h,d,c,b){if(Ext.isEmpty(f,false)){return null}var e=Ext.String.createRegex(f,d,c,b),a=this.getRootProperty();return this.findBy(function(j){return j&&e.test((a?j[a]:j)[g])},null,h)},findBy:function(f,j,a){var e=this,d=e.items,c=d.length,b,h,g;j=j||e;for(b=a||0;b<c;b++){g=e.getKey(h=d[b]);if(f.call(j,h,g)){return d[b]}}return null},findIndex:function(f,e,g,c,b,a){var d=this.find(f,e,g,c,b,a);return d?this.indexOf(d):-1},findIndexBy:function(b,a,d){var c=this.findBy(b,a,d);return c?this.indexOf(c):-1},first:function(b){var a=b?this.getGroups():undefined;return a?this.aggregateGroups(a,null,"first"):this.items[0]},last:function(b){var a=b?this.getGroups():undefined;return a?this.aggregateGroups(a,null,"last"):this.items[this.length-1]},get:function(a){return this.map[a]},getAt:function(a){return this.items[a]},getByKey:function(a){return this.map[a]},getCount:function(){return this.length},getKey:function(a){var b=a.id;return(b===0||b)?b:((b=a._id)===0||b)?b:a.getId()},getRange:function(d,a){var c=this.items,e=c.length,b;if(d>a){Ext.Error.raise("Inverted range passed to Collection.getRange: ["+d+","+a+"]")}if(!e){b=[]}else{b=Ext.Number.clipIndices(e,[d,a]);b=c.slice(b[0],b[1])}return b},getValues:function(j,g,a,b){var f=this.items,d=Ext.Number.clipIndices(f.length,[a,b]),e=[],c,h;for(c=d[0],b=d[1];c<b;++c){h=f[c];h=(g?h[g]:h)[j];e.push(h)}return e},indexOf:function(b){if(!b){return -1}var a=this.getKey(b);return this.indexOfKey(a)},indexOfKey:function(a){var b=this,c=b.indices;if(a in b.map){if(!c){c=b.getIndices()}return c[a]}return -1},insert:function(c,e){var d=this,a=d.decodeItems(arguments,1),b=a;if(a.length){d.splice(c,0,a);b=(a.length===1)?a[0]:a}return b},itemChanged:function(t,g,m){var u=this,c=m===0||!!m,j=u.filtered&&u.getAutoFilter(),e=false,d=0,o=u.items,l=u.length-1,a=u.sorted&&l,q=u.getSource(),v,p=0,h,k=false,b,n=false,s,r,f;if(q&&!q.updating){q.itemChanged(t,m)}else{r=u.getKey(t);if(j){h=u.indexOfKey(c?m:r);n=(h<0);k=u.isItemFiltered(t);e=(n!==k)}if(e){if(k){p=[t];b=-1}else{v=[t];b=u.length}}else{if(a&&!k){if(!j){h=u.indexOfKey(c?m:r)}f=u.getSortFn();if(h&&f(o[h-1],o[h])>0){d=-1;b=Ext.Array.binarySearch(o,t,0,h,f)}else{if(h<l&&f(o[h],o[h+1])>0){d=1;b=Ext.Array.binarySearch(o,t,h+1,f)}}if(d){v=[t]}}}s={item:t,key:r,index:b,filterChanged:e,keyChanged:c,indexChanged:!!d,filtered:k,oldIndex:h,newIndex:b,wasFiltered:n};if(c){s.oldKey=m}if(g){s.modified=g}u.beginUpdate();u.notify("beforeitemchange",[s]);if(c){u.updateKey(t,m)}if(v||p){u.splice(b,p,v)}if(d>0){s.newIndex--}else{if(d<0){s.oldIndex++}}u.notify("itemchange",[s]);u.endUpdate()}},remove:function(d){var c=this,a=c.decodeRemoveItems(arguments,0),b=c.length;c.splice(0,a);return b-c.length},removeAll:function(){var b=this,a=b.length;if(b.generation&&a){b.splice(0,a)}return b},removeAt:function(h,g){var j=this,b=j.length,e=Ext.Number,d=e.clipIndices(b,[h,(g===undefined)?1:g],e.Clip.COUNT),c=d[0],a=d[1]-c,k=(a===1)&&j.getAt(c),f;j.splice(c,a);f=j.length-b;return(k&&f)?k:f},removeByKey:function(a){var b=this.getByKey(a);if(!b||!this.remove(b)){return false}return b},splice:function(D,m,B){var l=this,d=l.sorted&&l.getAutoSort(),z=l.map,r=l.items,p=l.length,v=(m instanceof Array)?l.decodeRemoveItems(m):null,w=!v,E=Ext.Number,e=E.clipIndices(p,[D,w?m:0],E.Clip.COUNT),g=e[0],j=e[1],K=j-g,t=l.decodeItems(arguments,2),J=t?t.length:0,C,x,u,c=g,b=l.indices||((J||v)?l.getIndices():null),q=null,h=K?[g]:null,f=null,s=l.getSource(),a,G,H,M,A,F,L,o,y,I,O,N;if(s&&!s.updating){if(w){v=[];for(M=0;M<K;++M){v.push(r[g+M])}}if(g<p){M=s.indexOf(r[g])}else{M=s.length}s.splice(M,v,t);return l}if(J){C=t;f=[];x={};if(d){N=l.getSorters();if(J>1){if(!C.$cloned){t=C=C.slice(0)}l.sortData(C)}}for(M=0;M<J;++M){o=l.getKey(A=t[M]);if((L=x[o])!==undefined){(O||(O={}))[L]=1}else{F=b[o];if(F<g||j<=F){(h||(h=[])).push(F)}}x[o]=M;f.push(o)}if(O){y=f;C=[];f=[];C.$cloned=true;for(M=0;M<J;++M){if(!O[M]){A=t[M];C.push(A);f.push(y[M])}}J=C.length}q={items:C,keys:f}}for(M=v?v.length:0;M-->0;){o=l.getKey(v[M]);if((F=b[o])!==undefined){(h||(h=[])).push(F)}}if(!q&&!h){return l}l.beginUpdate();if(h){a=null;H=[];u={};if(h.length>1){h.sort(Ext.Array.numericSortFn)}for(M=0,I=h.length;M<I;++M){o=l.getKey(A=r[F=h[M]]);if(!(o in z)){continue}delete z[o];if(!a||F>(a.at+G.length)){H.push(a={at:F,items:(G=[]),keys:(y=[]),map:u,next:a,replacement:q});if(q){q.replaced=a}}G.push(u[o]=A);y.push(o);if(F<c){--c}if(K>1&&F===g){--K;h[M--]=++g}}if(q){q.at=c}for(L=H.length;L-->0;){a=H[L];M=a.at;I=a.items.length;if(M+I<p){l.indices=b=null}l.length=p-=I;r.splice(M,I);if(b){y=a.keys;for(M=0;M<I;++M){delete b[y[M]]}}++l.generation;l.notify("remove",[a])}}if(q){if(d&&J>1&&p){l.spliceMerge(C)}else{if(d){if(J>1){c=0;l.indices=b=null}else{c=N.findInsertionIndex(q.items[0],r,l.getSortFn())}}if(c===p){r.push.apply(r,C);if(b){for(M=0;M<J;++M){b[f[M]]=c+M}}}else{l.indices=null;Ext.Array.insert(r,c,C)}for(M=0;M<J;++M){z[f[M]]=C[M]}l.length+=J;q.at=c;++l.generation;l.notify("add",[q])}}l.endUpdate();return l},update:function(b,a){var c=this;c.beginUpdate();try{return b.call(a||c,c)}catch(d){Ext.log.error(this.$className+": Unhandled Exception: ",d.description||d.message);throw d}finally{c.endUpdate()}},updateKey:function(b,e){var a=this,d=a.map,g=a.indices,c=a.getSource(),f;if(c&&!c.updating){c.updateKey(b,e)}else{if((f=a.getKey(b))!==e){if(e in d||d[f]!==b){if(e in d){if(d[e]!==b){Ext.Error.raise('Incorrect oldKey "'+e+'" for item with newKey "'+f+'"')}delete d[e]}a.updating++;a.generation++;d[f]=b;if(g){g[f]=g[e];delete g[e]}a.notify("updatekey",[{item:b,newKey:f,oldKey:e}]);a.updating--}}}},onCollectionAdd:function(a,b){var j=this,l=a.getAt(b.at),f=l?j.indexOf(l):-1,h=b.items,g,c,e,k,d;if(j.getAutoFilter()&&j.filtered){for(e=0,d=h.length;e<d;++e){k=h[e];if(j.isItemFiltered(k)){if(!c){c=h.slice(0,e)}if(!g){g=[]}g.push(k)}else{if(c){c.push(k)}}}}j.splice((f<0)?j.length:f,0,c||h);if(g){j.notify("filteradd",[g])}},onCollectionBeforeItemChange:function(b,a){this.onCollectionUpdateKey=null},onCollectionBeginUpdate:function(){this.beginUpdate()},onCollectionEndUpdate:function(){this.endUpdate()},onCollectionItemChange:function(b,a){delete this.onCollectionUpdateKey;this.itemChanged(a.item,a.modified,a.oldKey)},onCollectionRefresh:function(a){var f=this,b={},h={},d,j,e,g,c;e=a.items;e=f.filtered&&f.getAutoFilter()?Ext.Array.filter(e,f.getFilterFn()):e.slice(0);if(f.sorted){f.sortData(e)}f.items=e;f.length=c=e.length;f.map=b;f.indices=h;for(d=0;d<c;++d){g=f.getKey(j=e[d]);b[g]=j;h[g]=d}f.notify("refresh")},onCollectionRemove:function(b,a){this.splice(0,a.items)},onCollectionUpdateKey:function(b,a){this.updateKey(a.item,a.oldKey)},_aggregators:{average:function(c,d,b,e,a){var f=b-d;return f&&this._aggregators.sum.call(this,c,d,b,e,a)/f},bounds:function(e,a,b,j,f){for(var h,g,c,d=a;d<b;++d){h=e[d];h=(f?h[f]:h)[j];if(!(h<g)){g=h}if(!(h>c)){c=h}}return[c,g]},count:function(a){return a.length},extremes:function(f,a,c,l,j){var g=null,b=null,e,m,h,d,k;for(e=a;e<c;++e){m=f[e];k=(j?m[j]:m)[l];if(!(k<h)){h=k;g=m}if(!(k>d)){d=k;b=m}}return[b,g]},max:function(e,f,d,g,c){var a=this._aggregators.bounds.call(this,e,f,d,g,c);return a[1]},maxItem:function(e,f,d,g,c){var a=this._aggregators.extremes.call(this,e,f,d,g,c);return a[1]},min:function(e,f,d,g,c){var a=this._aggregators.bounds.call(this,e,f,d,g,c);return a[0]},minItem:function(e,f,d,g,c){var a=this._aggregators.extremes.call(this,e,f,d,g,c);return a[0]},sum:function(c,f,b,h,a){for(var g,e=0,d=f;d<b;++d){g=c[d];g=(a?g[a]:g)[h];e+=g}return e}},_eventToMethodMap:{add:"onCollectionAdd",beforeitemchange:"onCollectionBeforeItemChange",beginupdate:"onCollectionBeginUpdate",endupdate:"onCollectionEndUpdate",itemchange:"onCollectionItemChange",refresh:"onCollectionRefresh",remove:"onCollectionRemove",sort:"onCollectionSort",filter:"onCollectionFilter",filteradd:"onCollectionFilterAdd",updatekey:"onCollectionUpdateKey"},addObserver:function(a){var d=this.observers,b,c=a.getId();if(!d){d=this.observers=[];this.observerMap={}}b=this.observerMap;if(!b[c]){d.push(a);b[c]=a;Ext.Array.sort(d,this.prioritySortFn)}},prioritySortFn:function(f,e){var d=f.observerPriority||0,c=e.observerPriority||0;return d-c},applyExtraKeys:function(e){var f=this,c={},b,d,a,g;for(a in e){b={collection:f};if(Ext.isString(g=e[a])){b.property=g}else{Ext.apply(b,g)}c[a]=f[a]=d=new Ext.util.CollectionKey(b);d.name=a}return c},applyGrouper:function(a){if(a){a=this.getSorters().decodeSorter(a,"Ext.util.Grouper")}return a},decodeItems:function(d,c){var f=this,b=(c===undefined)?d:d[c],a,g,e;if(!b||!b.$cloned){a=d.length>c+1||!Ext.isIterable(b);if(a){b=Ext.Array.slice(d,c);if(b.length===1&&b[0]===undefined){b.length=0}}g=f.getDecoder();if(g){if(!a){b=b.slice(0);a=true}for(e=b.length;e-->0;){if((b[e]=g.call(f,b[e]))===false){b.splice(e,1)}}}if(a){b.$cloned=true}}return b},getIndices:function(){var d=this,e=d.indices,a=d.items,f=a.length,c,b;if(!e){d.indices=e={};++d.indexRebuilds;for(c=0;c<f;++c){b=d.getKey(a[c]);e[b]=c}}return e},notify:function(d,g){var h=this,c=h.observers,k=h._eventToMethodMap[d],j=0,e,b,a,f;g=g||[];if(c&&k){for(e=0,b=c.length;e<b;++e){a=(f=c[e])[k];if(a){if(!j++){g.unshift(h)}a.apply(f,g)}}}if(!h.hasListeners){return}if(h.hasListeners[d]){if(!j){g.unshift(h)}h.fireEventArgs(d,g)}},getFilterFn:function(){return this.getFilters().getFilterFn()},getFilters:function(b){var a=this._filters;if(!a&&b!==false){a=new Ext.util.FilterCollection();this.setFilters(a)}return a},isItemFiltered:function(a){return !this.getFilters().filterFn(a)},onFilterChange:function(b){var a=this,c=a.getSource();if(!c){c=new Ext.util.Collection({keyFn:a.getKey,extraKeys:a.getInitialConfig().extraKeys,rootProperty:a.getRootProperty()});if(a.length){c.add(a.items)}a.setSource(c);a.autoSource=c}else{if(c.length||a.length){a.onCollectionRefresh(c)}}a.notify("filter")},applyFilters:function(a,b){if(a==null||(a&&a.isFilterCollection)){return a}if(a){if(!b){b=this.getFilters()}b.splice(0,b.length,a)}return b},updateFilters:function(a,b){var c=this;if(b){b.un("endupdate","onEndUpdateFilters",c)}if(a){a.on("endupdate","onEndUpdateFilters",c,{prepend:true});a.$filterable=c}c.onEndUpdateFilters(a)},onEndUpdateFilters:function(c){var b=this,d=b.filtered,a=!!c&&(c.length>0);if(d||a){b.filtered=a;b.onFilterChange(c)}},getSortFn:function(){return this._sortFn||this.createSortFn()},getSorters:function(b){var a=this._sorters;if(!a&&b!==false){a=new Ext.util.SorterCollection();this.setSorters(a)}return a},onSortChange:function(){if(this.sorted){this.sortItems()}},sort:function(a,c,d){var b=this.getSorters();b.addSort.apply(b,arguments);return this},sortData:function(a){Ext.Array.sort(a,this.getSortFn());return a},sortItems:function(b){var a=this;if(a.sorted){if(b){Ext.Error.raise("Collections with sorters cannot resorted")}b=a.getSortFn()}a.indices=null;if(a.length){Ext.Array.sort(a.items,b)}a.notify("sort")},sortBy:function(a){return this.sortItems(a)},findInsertionIndex:function(c,a,b){if(!a){a=this.items}if(!b){b=this.getSortFn()}return Ext.Array.binarySearch(a,c,b)},applySorters:function(a,b){if(a==null||(a&&a.isSorterCollection)){return a}if(a){if(!b){b=this.getSorters()}b.splice(0,b.length,a)}return b},createSortFn:function(){var c=this,a=c.getGrouper(),b=c.getSorters().getSortFn();if(!a){return b}return function(d,e){return a.sort(d,e)||b(d,e)}},updateGrouper:function(b){var d=this,a=d.getGroups(),f=d.getSorters(),e,c;d.onSorterChange();d.grouped=!!b;if(b){if(!a){a=new Ext.util.GroupCollection({itemRoot:d.getRootProperty()});d.addObserver(a);d.setGroups(a)}c=a.getSorters();c.splice(0,c.length,{property:"_groupKey",direction:b.getDirection()});e=true}else{if(a){d.removeObserver(a);a.destroy()}d.setGroups(null)}if(!f.updating){d.onEndUpdateSorters(f)}if(e){a.onCollectionRefresh(d)}},updateSorters:function(a,b){var c=this;if(b){b.un("endupdate","onEndUpdateSorters",c)}if(a){a.on("endupdate","onEndUpdateSorters",c,{prepend:true});a.$sortable=c}c.onSorterChange();c.onEndUpdateSorters(a)},onSorterChange:function(){this._sortFn=null},onEndUpdateSorters:function(c){var b=this,d=b.sorted,a=b.grouped||(!!c&&(c.length>0));if(d||a){b.sorted=a;b.onSortChange(c)}},removeObserver:function(a){var b=this.observers;if(b){Ext.Array.remove(b,a);delete this.observerMap[a.getId()]}},spliceMerge:function(p){var k=this,n,b=p.length,l=0,m=k.items,a=m.length,h=[],f=0,g=[],j=k.getSorters(),o,c,d,e,q;k.items=g;for(n=0;n<b;n=c){e=p[n];for(;l<a;++l){if(j.sortFn(e,q=m[l])<0){break}g.push(q)}if(l===a){h[f++]={at:g.length,items:(o=[])};if(f>1){h[f-2].next=h[f-1]}for(;n<b;++n){o.push(e=p[n]);g.push(e)}break}h[f++]={at:g.length,items:(o=[e])};if(f>1){h[f-2].next=h[f-1]}g.push(e);for(c=n+1;c<b;++c){if(j.sortFn(e=p[c],q)>=0){break}g.push(e);o.push(e)}}for(;l<a;++l){g.push(m[l])}k.length=g.length;++k.generation;for(d=0;d<f;++d){k.notify("add",[h[d]])}},getGroups:function(){return this.callParent()||null},updateGroups:function(a,b){if(b){this.removeObserver(b)}if(a){this.addObserver(a)}},updateSource:function(b,a){var c=this.autoSource;if(a){a.removeObserver(this);if(a===c){c.destroy();this.autoSource=null}}if(b){b.addObserver(this);if(b.length||this.length){this.onCollectionRefresh(b)}}}},function(){var a=this.prototype;a.removeAtKey=a.removeByKey;a.decodeRemoveItems=a.decodeItems;Ext.Object.each(a._aggregators,function(b){a[b]=function(e,d,c){return this.aggregate(e,b,d,c)};a[b+"ByGroup"]=function(c){return this.aggregateByGroup(c,b)}})});Ext.define("Ext.util.ObjectTemplate",{isObjectTemplate:true,excludeProperties:{},valueRe:/^[{][a-z\.]+[}]$/i,statics:{create:function(b,a){if(!Ext.isObject(b)){Ext.Error.raise("The template is not an Object")}return b.isObjectTemplate?b:new Ext.util.ObjectTemplate(b,a)}},constructor:function(b,a){Ext.apply(this,a);this.template=b},apply:function(a){var b=this;delete b.apply;b.apply=b.compile(b.template);return b.apply(a)},privates:{compile:function(e){var f=this,b=f.excludeProperties,g,c,a,d;if(Ext.isString(e)){if(e.indexOf("{")<0){d=function(){return e}}else{if(f.valueRe.test(e)){e=e.substring(1,e.length-1).split(".");d=function(k){for(var h=k,j=0;h&&j<e.length;++j){h=h[e[j]]}return h}}else{e=new Ext.XTemplate(e);d=function(h){return e.apply(h)}}}}else{if(Ext.isPrimitive(e)){d=function(){return e}}else{if(e instanceof Array){g=[];for(c=0,a=e.length;c<a;++c){g[c]=f.compile(e[c])}d=function(k){var h=[],j;for(j=0;j<a;++j){h[j]=g[j](k)}return h}}else{g={};for(c in e){if(!b[c]){g[c]=f.compile(e[c])}}d=function(l){var j={},k,h;for(k in e){h=b[k]?e[k]:g[k](l);if(h!==undefined){j[k]=h}}return j}}}}return d}}});Ext.define("Ext.data.schema.Role",{isRole:true,left:true,owner:false,side:"left",isMany:false,defaultReaderType:"json",constructor:function(b,c){var d=this,a=c.extra;Ext.apply(d,c);if(a){delete a.type;Ext.apply(d,a);delete d.extra}d.association=b;if(b.owner===d.side){b.owner=d;d.owner=true}},processUpdate:function(){Ext.Error.raise('Only the "many" for an association may be processed. "'+this.role+'" is not valid.')},validateAssociationRecords:function(c,b,a){return a},createAssociationStore:function(f,m,e,n){var h=this,d=h.association,g=d.getFieldName(),j=d.isManyToMany,b=h.storeConfig,a=m.getId(),c={model:h.cls,data:e,role:h,session:f,associatedEntity:m,disableMetaChangeEvent:true,pageSize:null,remoteFilter:true,trackRemoved:!f},k,l;if(j){c.filters=[{property:h.inverse.field,value:a,exactMatch:true}]}else{if(g){c.filters=[{property:g,value:a,exactMatch:true}];c.foreignKeyName=g}}if(b){Ext.apply(c,b)}l=Ext.Factory.store(c);if(e){l.complete=!!n}if(j){if(f){k=f.getMatrixSlice(h.inverse,a);k.attach(l);k.notify=h.onMatrixUpdate;k.scope=h}}if(g||(j&&f)){l.on({add:"onAddToMany",remove:"onRemoveFromMany",clear:"onRemoveFromMany",scope:h});if(e){h.onAddToMany(l,l.getData().items,true)}}return l},getAssociatedStore:function(f,r,q,b,p){var k=this,g=k.storeName||k.getStoreName(),m=f[g],o=r&&r.reload,a=f.$source,j=f.session,h,d,e,n,c,l;if(!m){if(!b&&a){a=a[g];if(a&&!a.isLoading()){l=a;b=[];n=a.getData().items;for(d=0,e=n.length;d<e;++d){c=n[d];b.push(j.getRecord(c.self,c.id))}p=true}}m=k.createAssociationStore(j,f,b,p);m.$source=l;if(!b&&(k.autoLoad||r)){o=true}f[g]=m}if(r){if(o||m.isLoading()){m.on("load",function(u,t,v,s){h=[u,s];q=q||r.scope||f;if(v){Ext.callback(r.success,q,h)}else{Ext.callback(r.failure,q,h)}h.push(v);Ext.callback(r,q,h);Ext.callback(r.callback,q,h)},null,{single:true})}else{h=[m,null];q=q||r.scope||f;Ext.callback(r.success,q,h);h.push(true);Ext.callback(r,q,h);Ext.callback(r.callback,q,h)}}if(o&&!m.isLoading()){m.load()}return m},getAssociatedItem:function(b){var a=this.isMany?this.getStoreName():this.role;return b[a]||null},getReaderRoot:function(){var a=this;return a.associationKey||(a.associationKey=a.association.schema.getNamer().readerRoot(a.role))},getReader:function(){var c=this,a=c.reader,d=c.cls,e=!c.associationKey,b=this.getReaderRoot();if(a){if(Ext.isString(a)){a={type:a,rootProperty:b,useSimpleAccessors:e}}if(a.isReader){a.setModel(d);a.setRootProperty(b);a.setUseSimpleAccessors(e)}else{Ext.applyIf(a,{model:d,rootProperty:b,useSimpleAccessors:e,type:c.defaultReaderType})}a=c.reader=Ext.createByAlias("reader."+a.type,a)}return a},getStoreName:function(){var a=this;return a.storeName||(a.storeName=a.association.schema.getNamer().storeName(a.role))},constructReader:function(d){var e=this,a=e.getReader(),f=e.cls,g=!e.associationKey,b=e.getReaderRoot(),c;if(!a){c=f.getProxy();if(c){a=c.getReader();e.savedRoot=a.getRootProperty();a.setRootProperty(b)}else{a=new d.self({model:f,useSimpleAccessors:g,rootProperty:b})}}return a},read:function(c,h,d,g){var f=this,b=this.constructReader(d),a=b.read(h,g),e=f.savedRoot;if(e!==undefined){b.setRootProperty(e);delete f.savedRoot}return a},getCallbackOptions:function(a,b,c){if(typeof a==="function"){a={callback:a,scope:b||c}}else{if(a){a=Ext.apply({},a);a.scope=b||a.scope||c}}return a},doGetFK:function(b,n,l){var j=this,m=j.cls,f=j.association.getFieldName(),e=j.role,k=b[e],a=n&&n.reload,d=k!==undefined&&!a,h=b.session,c,g;if(!d){if(h){c=b.get(f);if(c||c===0){d=h.peekRecord(m,c,true)&&!a;k=h.getRecord(m,c,false)}else{d=true;b[e]=k=null}}else{if(f){c=b.get(f);if(!c&&c!==0){d=true;b[e]=k=null}else{if(!k){k=m.createWithId(c)}}}else{d=true}}}else{if(k){d=!k.isLoading()}}if(d){if(n){g=[k,null];l=l||n.scope||b;Ext.callback(n.success,l,g);g.push(true);Ext.callback(n,l,g);Ext.callback(n.callback,l,g)}}else{b[e]=k;n=j.getCallbackOptions(n,l,b);k.load(n)}return k},doSetFK:function(a,j,m,l){var h=this,e=h.association.getFieldName(),d=h.role,f=a[d],b=h.inverse,c=b.setterName,g=a.session,k;if(j&&j.isEntity){if(f!==j){a[d]=j;if(e){a.set(e,j.getId())}if(c){j[c](a)}}}else{if(!e){Ext.Error.raise('No foreignKey specified for "'+h.association.left.role+'" by '+a.$className)}k=(a.changingKey&&!b.isMany)||a.set(e,j);if(k&&f&&f.isEntity&&!f.isEqual(f.getId(),j)){f[b.role]=a[d]=undefined}}if(m){if(Ext.isFunction(m)){m={callback:m,scope:l||a}}return a.save(m)}}});Ext.define("Ext.data.schema.Association",{isOneToOne:false,isManyToOne:false,isManyToMany:false,owner:null,field:null,constructor:function(a){var c=this,d,b;Ext.apply(c,a);c.left=d=new c.Left(c,c.left);c.right=b=new c.Right(c,c.right);d.inverse=b;b.inverse=d},hasField:function(){return !!this.field},getFieldName:function(){var a=this.field;return a?a.name:""}});Ext.define("Ext.data.schema.OneToOne",{extend:Ext.data.schema.Association,isOneToOne:true,isToOne:true,kind:"one-to-one",Left:Ext.define(null,{extend:"Ext.data.schema.Role",createGetter:function(){var a=this;return function(){return a.doGet(this)}},createSetter:function(){var a=this;return function(b){return a.doSet(this,b)}},doGet:function(a){var b=this.role,c=a[b],d=a.session;if(!c&&d){}return c},doSet:function(a,e){var b=this.role,d=a[b],c=this.inverse.setterName;if(d!==e){a[b]=e;if(c){e[c](a)}}return d},read:function(c,f,d,g){var e=this,b=e.callParent([c,f,d,g]),a=b.getRecords()[0];if(a){c[e.role]=a;a[e.inverse.role]=c}}}),Right:Ext.define(null,{extend:"Ext.data.schema.Role",left:false,side:"right",createGetter:function(){var a=this;return function(b,c){return a.doGetFK(this,b,c)}},createSetter:function(){var a=this;return function(d,b,c){return a.doSetFK(this,d,b,c)}},onValueChange:function(c,b,a){c.changingKey=true;this.doSetFK(c,a);c.changingKey=false},read:function(c,f,d,g){var e=this,b=e.callParent([c,f,d,g]),a=b.getRecords()[0];if(a){c[e.role]=a;a[e.inverse.role]=c}}})});Ext.define("Ext.data.schema.ManyToOne",{extend:Ext.data.schema.Association,isManyToOne:true,isToOne:true,kind:"many-to-one",Left:Ext.define(null,{extend:"Ext.data.schema.Role",isMany:true,processUpdate:function(g,d){var f=this,e=f.inverse.cls,c=d.R,h,a,b;if(c){for(h in c){a=g.peekRecord(e,h);if(a){records=g.getEntityList(f.cls,c[h]);b=f.getAssociatedItem(a);if(b){records=f.validateAssociationRecords(g,a,records);b.loadRecords(records);b.complete=true}else{a[f.getterName](null,null,records)}}else{g.onInvalidAssociationEntity(e,h)}}}},validateAssociationRecords:function(g,f,c){var h=g.getEntry(f.self,f.id).refs,e=[],j=this.association.getFieldName(),a,d,b;h=h&&h[this.role];if(h){if(c){a={};for(i=0,len=c.length;i<len;++i){d=c[i];b=d.id;if(h[b]){e.push(d)}a[b]=true}}for(b in h){if(!a||!a[b]){e.push(h[b])}}}return e},createGetter:function(){var a=this;return function(d,e,b){var f=this.session,c;if(f){c=!!b;b=a.validateAssociationRecords(f,this,b);if(!c&&!b.length){b=null}}return a.getAssociatedStore(this,d,e,b,c)}},createSetter:null,onAddToMany:function(b,a){this.syncFK(a,b.associatedEntity,false)},onRemoveFromMany:function(b,a){this.syncFK(a,b.associatedEntity,true)},read:function(d,a,k,b){var g=this,j=g.inverse.role,l=g.callParent([d,a,k,b]),h,f,e,c;if(l.getReadRoot()){h=d[g.getterName](null,null,l.getRecords());f=h.data.items;e=f.length;for(c=0;c<e;++c){f[c][j]=d}}},syncFK:function(c,j,h){var g=this.association.getFieldName(),e=this.inverse.setterName,f=c.length,b=h?null:j.getId(),a,d;while(f-->0){d=c[f];a=!d.isEqual(j.getId(),d.get(g));if(a!==h){d.changingKey=true;if(e){d[e](b)}else{d.set(g,b)}d.changingKey=false}}}}),Right:Ext.define(null,{extend:"Ext.data.schema.Role",left:false,side:"right",createGetter:function(){var a=this;return function(b,c){return a.doGetFK(this,b,c)}},createSetter:function(){var a=this;return function(b,c,d){return a.doSetFK(this,b,c,d)}},onValueChange:function(c,f,b,a){var j,h,d,e,g;if(c.changingKey){return}if(f){h=this.getSessionStore(f,a);if(h){h.remove(c)}if(b||b===0){h=this.getSessionStore(f,b);if(h&&!h.isLoading()){h.add(c)}}}else{j=c.joined;if(j){for(d=0,e=j.length;d<e;++d){h=j[d];if(h.isStore){g=h.getAssociatedEntity();if(g&&g.self===this.cls&&g.getId()===a){h.remove(c)}}}}}},getSessionStore:function(b,a){var c=b.peekRecord(this.cls,a);if(c){return this.inverse.getAssociatedItem(c)}},read:function(c,e,d,f){var b=this.callParent([c,e,d,f]),a=b.getRecords()[0];if(a){c[this.role]=a}}})});Ext.define("Ext.data.schema.ManyToMany",{extend:Ext.data.schema.Association,isManyToMany:true,isToMany:true,kind:"many-to-many",Left:Ext.define(null,{extend:"Ext.data.schema.Role",isMany:true,digitRe:/^\d+$/,validateAssociationRecords:function(k,j,c){var l=k.getMatrixSlice(this.inverse,j.id),d=l.members,m=this.cls,h=[],a,f,g,b,e;if(c){a={};for(f=0,g=c.length;f<g;++f){rec=c[f];b=rec.id;e=d[b];if(!(e&&e[2]===-1)){h.push(rec)}a[b]=true}}for(b in d){e=d[b];if(!a||!a[b]&&(e&&e[2]!==-1)){rec=k.peekRecord(m,b);if(rec){h.push(rec)}}}return h},processUpdate:function(g,d){var f=this,e=f.inverse.cls,c=d.R,h,a,b;if(c){for(h in c){a=g.peekRecord(e,h);if(a){records=g.getEntityList(f.cls,c[h]);b=f.getAssociatedItem(a);if(b){records=f.validateAssociationRecords(g,a,records);b.loadRecords(records);b.complete=true;f.onAddToMany(b,records,true)}else{a[f.getterName](null,null,records)}}else{g.onInvalidAssociationEntity(e,h)}}}f.processMatrixBlock(g,d.C,1);f.processMatrixBlock(g,d.D,-1)},checkMembership:function(j,f,k){var h=this.left?k.right:k.left,c=h.inverse.role.cls,d=this.inverse,m=h.slices,l,a,b,e,g;if(m){l=m[f.id];if(l){b=l.members;for(a in b){e=b[a];if(e[2]!==-1){g=j.peekRecord(c,a);if(g){store=d.getAssociatedItem(g);if(store){store.matrixUpdate=1;store.add(f);store.matrixUpdate=0}}}}}}},processMatrixBlock:function(e,b,d){var a=this.inverse,c=this.digitRe,f,g;if(b){for(g in b){if(c.test(g)){g=parseInt(g,10)}f=e.getMatrixSlice(a,g);f.update(b[g],d)}}},createGetter:function(){var a=this;return function(d,e,b){var f=this.session,c;if(f){c=!!b;b=a.validateAssociationRecords(f,this,b);if(!c&&!b.length){b=null}}return a.getAssociatedStore(this,d,e,b,c)}},onAddToMany:function(b,a,c){if(!b.matrixUpdate){b.matrixUpdate=1;b.matrix.update(a,c===true?0:1);b.matrixUpdate=0}},onRemoveFromMany:function(b,a){if(!b.matrixUpdate){b.matrixUpdate=1;b.matrix.update(a,-1);b.matrixUpdate=0}},read:function(b,f,d,g){var e=this,c=e.inverse.role,a=e.callParent([b,f,d,g]);if(a.getReadRoot()){b[e.getterName](null,null,a.getRecords())}},onMatrixUpdate:function(f,g,e){var b=f.store,c,a,d;if(b&&!b.loading&&!b.matrixUpdate){b.matrixUpdate=1;c=b.indexOfId(g);if(e<0){if(c>=0){b.remove([c])}}else{if(c<0){d=b.getSession().getEntry(this.type,g);a=d&&d.record;if(a){b.add(a)}}}b.matrixUpdate=0}}},function(){var a=this;Ext.ClassManager.onCreated(function(){Ext.data.schema.ManyToMany.prototype.Right=Ext.define(null,{extend:a,left:false,side:"right"})},null,"Ext.data.schema.ManyToMany")})});Ext.define("Ext.util.Inflector",{singleton:true,plurals:[[(/(quiz)$/i),"$1zes"],[(/^(ox)$/i),"$1en"],[(/([m|l])ouse$/i),"$1ice"],[(/(matr|vert|ind)ix|ex$/i),"$1ices"],[(/(x|ch|ss|sh)$/i),"$1es"],[(/([^aeiouy]|qu)y$/i),"$1ies"],[(/(hive)$/i),"$1s"],[(/(?:([^f])fe|([lr])f)$/i),"$1$2ves"],[(/sis$/i),"ses"],[(/([ti])um$/i),"$1a"],[(/(buffal|tomat|potat)o$/i),"$1oes"],[(/(bu)s$/i),"$1ses"],[(/(alias|status|sex)$/i),"$1es"],[(/(octop|vir)us$/i),"$1i"],[(/(ax|test)is$/i),"$1es"],[(/^(p)erson$/i),"$1eople"],[(/^(m)an$/i),"$1en"],[(/(.*)(child)(ren)?$/i),"$1$2ren"],[(/s$/i),"s"],[(/$/),"s"]],singulars:[[(/(address)$/i),"$1"],[(/(quiz)zes$/i),"$1"],[(/(matr)ices$/i),"$1ix"],[(/(vert|ind)ices$/i),"$1ex"],[(/^(ox)en/i),"$1"],[(/(alias|status)es$/i),"$1"],[(/(octop|vir)i$/i),"$1us"],[(/(cris|ax|test)es$/i),"$1is"],[(/(shoe)s$/i),"$1"],[(/(o)es$/i),"$1"],[(/(bus)es$/i),"$1"],[(/([m|l])ice$/i),"$1ouse"],[(/(x|ch|ss|sh)es$/i),"$1"],[(/(m)ovies$/i),"$1ovie"],[(/(s)eries$/i),"$1eries"],[(/([^aeiouy]|qu)ies$/i),"$1y"],[(/([lr])ves$/i),"$1f"],[(/(tive)s$/i),"$1"],[(/(hive)s$/i),"$1"],[(/([^f])ves$/i),"$1fe"],[(/(^analy)ses$/i),"$1sis"],[(/((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)ses$/i),"$1$2sis"],[(/([ti])a$/i),"$1um"],[(/(n)ews$/i),"$1ews"],[(/(p)eople$/i),"$1erson"],[(/s$/i),""]],uncountable:["sheep","fish","series","species","money","rice","information","equipment","grass","mud","offspring","deer","means"],singular:function(b,a){this.singulars.unshift([b,a])},plural:function(b,a){this.plurals.unshift([b,a])},clearSingulars:function(){this.singulars=[]},clearPlurals:function(){this.plurals=[]},isTransnumeral:function(a){return Ext.Array.indexOf(this.uncountable,a)!=-1},pluralize:function(f){if(this.isTransnumeral(f)){return f}var e=this.plurals,d=e.length,a,c,b;for(b=0;b<d;b++){a=e[b];c=a[0];if(c==f||(c.test&&c.test(f))){return f.replace(c,a[1])}}return f},singularize:function(f){if(this.isTransnumeral(f)){return f}var e=this.singulars,d=e.length,a,c,b;for(b=0;b<d;b++){a=e[b];c=a[0];if(c==f||(c.test&&c.test(f))){return f.replace(c,a[1])}}return f},classify:function(a){return Ext.String.capitalize(this.singularize(a))},ordinalize:function(d){var b=parseInt(d,10),c=b%10,a=b%100;if(11<=a&&a<=13){return d+"th"}else{switch(c){case 1:return d+"st";case 2:return d+"nd";case 3:return d+"rd";default:return d+"th"}}}},function(){var b={alumnus:"alumni",cactus:"cacti",focus:"foci",nucleus:"nuclei",radius:"radii",stimulus:"stimuli",ellipsis:"ellipses",paralysis:"paralyses",oasis:"oases",appendix:"appendices",index:"indexes",beau:"beaux",bureau:"bureaux",tableau:"tableaux",woman:"women",child:"children",man:"men",corpus:"corpora",criterion:"criteria",curriculum:"curricula",genus:"genera",memorandum:"memoranda",phenomenon:"phenomena",foot:"feet",goose:"geese",tooth:"teeth",antenna:"antennae",formula:"formulae",nebula:"nebulae",vertebra:"vertebrae",vita:"vitae"},a;for(a in b){if(b.hasOwnProperty(a)){this.plural(a,b[a]);this.singular(b[a],a)}}});Ext.define("Ext.data.schema.Namer",{mixins:[Ext.mixin.Factoryable],alias:"namer.default",isNamer:true,capitalize:function(a){return Ext.String.capitalize(a)},fieldRole:function(b){var a=b.match(this.endsWithIdRe,"");if(a){b=b.substr(0,b.length-(a[1]||a[2]).length)}return this.apply("uncapitalize",b)},idField:function(a){return this.apply("uncapitalize,singularize",a)+"Id"},multiRole:function(a){return this.apply("undotted,uncapitalize,pluralize",a)},pluralize:function(a){return Ext.util.Inflector.pluralize(a)},readerRoot:function(a){return this.apply("uncapitalize",a)},singularize:function(a){return Ext.util.Inflector.singularize(a)},storeName:function(a){return this.apply("underscore",a)},uncapitalize:function(a){return Ext.String.uncapitalize(a)},underscore:function(a){return"_"+a},uniRole:function(a){return this.apply("undotted,uncapitalize,singularize",a)},undotted:function(b){if(b.indexOf(".")<0){return b}var c=b.split("."),a=c.length;while(a-->1){c[a]=this.apply("capitalize",c[a])}return c.join("")},getterName:function(b){var a=b.role;if(b&&b.isMany){return a}return"get"+this.apply("capitalize",a)},inverseFieldRole:function(g,h,e,b){var f=this,a=f.apply(h?"uniRole":"multiRole",g),d=f.apply("pluralize",e),c=f.apply("undotted,pluralize",b);if(d.toLowerCase()!==c.toLowerCase()){a=e+f.apply("capitalize",a)}return a},manyToMany:function(e,d,a){var c=this,b=c.apply("undotted,capitalize,singularize",d)+c.apply("undotted,capitalize,pluralize",a);if(e){b=c.apply("capitalize",e+b)}return b},manyToOne:function(d,b,a,c){return this.apply("capitalize,singularize",a)+this.apply("capitalize",b)},matrixRole:function(c,b){var a=this.apply(c?"multiRole,capitalize":"multiRole",b);return c?c+a:a},oneToOne:function(d,b,a,c){return this.apply("undotted,capitalize,singularize",a)+this.apply("capitalize",b)},setterName:function(a){return"set"+this.apply("capitalize",a.role)},endsWithIdRe:/(?:(_id)|[^A-Z](Id))$/,cache:{},apply:function(e,c){var h=this,b=h.cache,j=b[c]||(b[c]={}),g=j[e],f,d,a;if(!g){if(e.indexOf(",")<0){g=h[e](c)}else{d=(a=e.split(",")).length;g=c;for(f=0;f<d;++f){g=h.apply(a[f],g)}}j[e]=g}return g}});Ext.define("Ext.data.schema.Schema",{mixins:[Ext.mixin.Factoryable],alias:"schema.default",aliasPrefix:"schema.",isSchema:true,type:"default",statics:{instances:{},get:function(d){var f=this,c=f.instances,g="default",b=d&&Ext.isString(d),a,e;if(d){if(d.isSchema){return d}g=b?d:(d.id||g)}if(!(a=c[g])){c[g]=a=f.create(d);a.id=g}else{if(d&&!b){if(g!=="default"){Ext.Error.raise("Only the default Schema instance can be reconfigured")}e=Ext.merge({},a.config);Ext.merge(e,d);a.setConfig(e);a.config=e;a.setConfig=function(){Ext.Error.raise("The schema can only be reconfigured once")}}}return a},lookupEntity:function(a){var d=null,f=this.instances,c,b,e;if(a){if(a.isEntity){d=a.self}else{if(Ext.isFunction(a)){d=a}else{if(Ext.isString(a)){for(b in f){e=f[b];c=e.getEntity(a);if(c){if(d){Ext.Error.raise('Ambiguous entity name "'+a+'". Defined by schema "'+d.schema.type+'" and "'+b+'"')}d=c}}if(!d){Ext.Error.raise('No such Entity "'+a+'".')}}}}}return d}},assocCount:0,entityCount:0,config:{defaultIdentifier:null,namer:"default",namespace:null,proxy:{type:"ajax",url:"{prefix}/{entityName}",reader:{type:"json"}},urlPrefix:""},onClassExtended:function(a,c){var b=c.alias;if(b&&!c.type){if(!Ext.isString(b)){b=b[0]}a.prototype.type=b.substring(this.prototype.aliasPrefix.length)}},constructor:function(a){this.initConfig(a);this.clear()},applyDefaultIdentifier:function(a){return a&&Ext.Factory.dataIdentifier(a)},applyNamer:function(b){var a=Ext.data.schema.Namer.create(b);a.schema=this;return a},applyNamespace:function(b){if(b){var a=b.length-1;if(b.charAt(a)!=="."){b+="."}}return b},applyProxy:function(a){return Ext.util.ObjectTemplate.create(a)},eachAssociation:function(d,c){var b=this.associations,a;for(a in b){if(b.hasOwnProperty(a)){if(d.call(c,a,b[a])===false){break}}}},eachEntity:function(c,b){var d=this.entities,a;for(a in d){if(d.hasOwnProperty(a)){if(c.call(b,a,d[a].cls)===false){break}}}},getAssociation:function(a){var b=this.associations[a];return b||null},getEntity:function(a){var b=this.entityClasses[a]||this.entities[a];return(b&&b.cls)||null},getEntityName:function(a){var d=this.getNamespace(),c,b;if(typeof a==="string"){b=a}else{b=a.$className||null}if(b){if(d){c=d.length;if(b.substring(0,c)!==d){return b}}if(c){b=b.substring(c)}}return b},hasAssociations:function(a){a=a.entityName||a;return !!this.associationEntityMap[a]},hasEntity:function(a){var b=this.getEntityName(a);return !!(this.entities[b]||this.entityClasses[b])},addMatrix:function(n,g,d,c,r){var s=this,l=s.getNamer(),p=s.associations,a=s.entities,f=c.type,q=r.type,e=c.field||l.apply("idField",f),j=r.field||l.apply("idField",q),b=c.role||l.matrixRole(d,f),m=r.role||l.matrixRole(d,q),o,h,k;h=a[f]||(a[f]={cls:null,name:f,associations:{}});k=a[q]||(a[q]={cls:null,name:q,associations:{}});++s.assocCount;p[g]=o=new Ext.data.schema.ManyToMany({name:g,schema:s,definedBy:n,left:{cls:h.cls,type:f,role:b,field:e},right:{cls:k.cls,type:q,role:m,field:j}});h.associations[o.right.role]=o.right;k.associations[o.left.role]=o.left;s.associationEntityMap[n.entityName]=true;s.decorateModel(o)},addReference:function(r,a,p,b){var u=this,n=u.getNamer(),d=u.entities,s=u.associations,m=r.entityName,e=p.association,q=!!p.legacy,j=p.child,l=p.parent,o=p.role,t=p.type||l||j,k=p.inverse,h=Ext.isString(k)?{role:k}:k,g=h&&h.role,c,f;if(!o){if(q){o=n.apply("uncapitalize",t)}else{o=n.apply("fieldRole",a.name)}}if(!g){g=n.inverseFieldRole(m,b,o,t)}if(!e){if(b){e=n.oneToOne(r,g,t,o)}else{e=n.manyToOne(r,g,t,o)}}if(e in s){Ext.Error.raise('Duplicate association: "'+e+'" declared by '+m+"."+a.name+" (collides with "+s[e].definedBy.entityName+")")}if(a&&a.definedBy===d[t]){Ext.Error.raise("ForeignKey reference should not be owned by the target model")}c=d[t]||(d[t]={cls:null,name:t,associations:{}});f=b?Ext.data.schema.OneToOne:Ext.data.schema.ManyToOne;e=new f({name:e,owner:j?"left":(l?"right":null),definedBy:r,schema:u,field:a,nullable:a?!!a.allowBlank:true,legacy:p.legacy,left:{cls:r,type:m,role:g,extra:h},right:{cls:c.cls,type:t,role:o,extra:p}});r.associations[o]=e.right;c.associations[g]=e.left;if(a){a.reference=e.right;r.references.push(a)}++u.assocCount;u.associationEntityMap[m]=true;if(c.cls){u.associationEntityMap[c.cls.entityName]=true}s[e.name]=e;if(e.right.cls){u.decorateModel(e)}},privates:{addEntity:function(d){var h=this,g=h.entities,k=d.entityName,l=g[k],f=d.fields,c,j,e,b,a;if(!l){g[k]=l={name:k,associations:{}}}else{if(l.cls){Ext.Error.raise('Duplicate entity name "'+k+'": '+l.cls.$className+" and "+d.$className)}else{c=l.associations;for(a in c){c[a].inverse.cls=d;h.associationEntityMap[k]=true;h.decorateModel(c[a].association)}}}l.cls=d;d.prototype.associations=d.associations=l.associations;h.entityClasses[d.$className]=l;++h.entityCount;for(e=0,b=f.length;e<b;++e){j=f[e];if(j.reference){h.addReferenceDescr(d,j)}}},addMatrices:function(f,a){var e=this,b,d,c;if(Ext.isString(a)){e.addMatrixDescr(f,null,a)}else{if(a[0]){for(b=0,d=a.length;b<d;++b){e.addMatrixDescr(f,null,a[b])}}else{for(c in a){e.addMatrixDescr(f,c,a[c])}}}},addMatrixDescr:function(f,b,g){var h=this,l=f.entityName,e=h.associations,j=h.getNamer(),d=g.left,o=g.right,n,c;if(Ext.isString(g)){if(g.charAt(0)==="#"){d={type:l};o={type:g.substring(1)}}else{if(g.charAt(n=g.length-1)==="#"){d={type:g.substring(0,n)};o={type:l}}else{if(j.apply("multiRole",l)<j.apply("multiRole",g)){d={type:l};o={type:g}}else{d={type:g};o={type:l}}}}}else{Ext.Assert.isString(g.type,'No "type" for manyToMany in '+l);c=g.relation;if(d||(!o&&j.apply("multiRole",l)<j.apply("multiRole",g.type))){if(!d||d===true){d={type:l}}else{d=Ext.apply({type:l},d)}o=g}else{if(!o||o===true){o={type:l}}else{o=Ext.apply({type:l},o)}d=g}}if(!b){b=j.manyToMany(c,d.type,o.type)}if(!(b in e)){h.addMatrix(f,b,c,d,o)}else{var m=e[b],k=[m.kind,m.left.type,m.left.role,m.left.field,m.right.type,m.right.role,m.right.field].join("|");delete e[b];h.addMatrix(f,b,c,d,o);var a=e[b];e[b]=m;m.left.cls.associations[m.right.role]=m.right;m.right.cls.associations[m.left.role]=m.left;--h.assocCount;a=[a.kind,a.left.type,a.left.role,a.left.field,a.right.type,a.right.role,a.right.field].join("|");if(k!=a){Ext.log.warn(b+"("+m.definedBy.entityName+"): "+k);Ext.log.warn(b+"("+l+"): "+a);Ext.Error.raise('Conflicting association: "'+b+'" declared by '+l+" was previously declared by "+m.definedBy.entityName)}}},addReferenceDescr:function(b,d){var a=this,c=d.$reference;if(Ext.isString(c)){c={type:c}}else{c=Ext.apply({},c)}if(c.legacy){if(c.single){a.addLegacySingle(b,c)}else{a.addLegacyHasMany(b,c)}}else{a.addReference(b,d,c,d.unique)}},addPending:function(a,c,e,b){var d=this.pending;if(!d[a]){d[a]=[]}d[a].push([c,e,b])},addLegacyBelongsTo:function(a,b){this.addLegacySingle(a,b)},addLegacyHasOne:function(a,b){this.addLegacySingle(a,b)},addLegacySingle:function(c,e){var b,a,d;e=this.constructLegacyAssociation(c,e);e.single=true;a=e.type;b=e.foreignKey||(a.toLowerCase()+"_id");d=c.getField(b);if(d){d.$reference=e}this.addReference(c,d,e,true)},addLegacyHasMany:function(d,j){var k=this,f=k.entities,c=k.pending,a=j.associationKey,m,b,l,h,g,e;j=this.constructLegacyAssociation(d,j);b=j.type;h=f[b];if(h&&h.cls){j.type=d.entityName;g=j.foreignKey||(j.type.toLowerCase()+"_id");m=h.cls;l=m.getField(g);j.inverse=j;e=j.name;if(e||a){j.inverse={};if(e){j.inverse.role=e}if(a){j.inverse.associationKey=a}}if(l){l.$reference=j}k.addReference(m,l,j,false)}else{if(!c[b]){c[b]=[]}c[b].push([d,j])}},constructLegacyAssociation:function(a,b){if(Ext.isString(b)){b={model:b}}b.legacy=true;b.type=this.getEntityName(b.model);if(b.associatedName){b.role=b.associatedName}return b},afterLegacyAssociations:function(b){var f=this.pending,c=b.entityName,e=f[c],d,a;if(e){for(d=0,a=e.length;d<a;++d){this.addLegacyHasMany.apply(this,e[d])}delete f[c]}},clear:function(b){var a=this;delete a.setConfig;a.associations={};a.associationEntityMap={};a.entities={};a.entityClasses={};a.pending={};a.assocCount=a.entityCount=0;if(b){a.setNamespace(null)}},constructProxy:function(d){var b=this,c=Ext.Object.chain(d),a=b.getProxy();c.schema=b;c.prefix=b.getUrlPrefix();return a.apply(c)},applyDecoration:function(g){var e=this,a=g.inverse.cls,f=e.getNamer(),c,b,d;if(a&&!g.decorated){g.decorated=true;d=a.prototype;if(!(c=g.getterName)){g.getterName=c=f.getterName(g)}d[c]=g.createGetter();if(g.createSetter){if(!(b=g.setterName)){g.setterName=b=f.setterName(g)}d[b]=g.createSetter()}}},decorateModel:function(a){this.applyDecoration(a.left);this.applyDecoration(a.right)},rankEntities:function(){var e=this,f=e.entities,a=Ext.Object.getKeys(f),d=a.length,c,b;e.nextRank=1;a.sort();for(b=0;b<d;++b){c=f[a[b]].cls;if(!c.rank){e.rankEntity(c)}}e.topoStack=null},rankEntity:function(e){var c=e.associations,g,f,a;var d=this.topoStack||(this.topoStack=[]),b=e.entityName;d.push(b);if(e.rank===0){Ext.Error.raise(b+" has circular foreign-key references: "+d.join(" --> "))}e.rank=0;for(a in c){f=c[a];if(!f.left&&f.association.field){g=f.cls;if(!g.rank){this.rankEntity(g)}}}e.rank=this.nextRank++;d.pop()}}});Ext.define("Ext.data.Batch",{mixins:{observable:Ext.mixin.Observable},config:{pauseOnException:false},current:-1,total:0,running:false,complete:false,exception:false,constructor:function(a){var b=this;b.mixins.observable.constructor.call(b,a);b.operations=[];b.exceptions=[]},add:function(b){var d=this,c,a;if(Ext.isArray(b)){for(c=0,a=b.length;c<a;++c){d.add(b[c])}}else{d.total++;b.setBatch(d);d.operations.push(b)}return d},sort:function(){this.operations.sort(this.sortFn)},sortFn:function(c,a){var b=c.order-a.order;if(b){return b}var f=c.entityType,d=a.entityType,e;if(!f||!d){return 0}if(!(e=f.rank)){f.schema.rankEntities();e=f.rank}return(e-d.rank)*c.foreignKeyDirection},start:function(a){var b=this;if(!b.operations.length||b.running){return b}b.exceptions.length=0;b.exception=false;b.running=true;return b.runOperation(Ext.isDefined(a)?a:b.current+1)},retry:function(){return this.start(this.current)},runNextOperation:function(){var a=this;if(a.running){a.runOperation(a.current+1)}return a},pause:function(){this.running=false;return this},getOperations:function(){return this.operations},getExceptions:function(){return this.exceptions},getCurrent:function(){var a=null,b=this.current;if(!(b===-1||this.complete)){a=this.operations[b]}return a},getTotal:function(){return this.total},isRunning:function(){return this.running},isComplete:function(){return this.complete},hasException:function(){return this.exception},runOperation:function(c){var d=this,b=d.operations,a=b[c];if(a===undefined){d.running=false;d.complete=true;d.fireEvent("complete",d,b[b.length-1])}else{d.current=c;a.setInternalCallback(d.onOperationComplete);a.setInternalScope(d);a.execute()}return d},onOperationComplete:function(a){var c=this,b=a.hasException();if(b){c.exception=true;c.exceptions.push(a);c.fireEvent("exception",c,a)}if(b&&c.getPauseOnException()){c.pause()}else{c.fireEvent("operationcomplete",c,a);c.runNextOperation()}}});Ext.define("Ext.data.matrix.Slice",{stub:null,constructor:function(a,b){this.id=b;this.side=a;this.members={}},attach:function(a){var b=this;Ext.Assert.falsey(b.store,"Store is already attached");b.store=a;a.matrix=b;a.on("load",b.onStoreLoad,b,{single:true})},changeId:function(b){var j=this,a=j.id,h=j.side,m=h.slices,l=m[a],c=l.members,f=h.index,d=h.inverse.slices,g,e,k;j.id=b;m[b]=l;delete m[a];for(e in c){g=c[e];g[f]=b;k=d[e].members;k[b]=k[a];delete k[a]}},onStoreLoad:function(a){this.update(a.getData().items,0)},update:function(m,f){if(!(m instanceof Array)){Ext.Error.raise("Only array of records or record ids are supported")}var s=this,h=Ext.data.matrix.Slice,c=s.side,j=c.index,e=m.length,l=s.id,r=s.members,b=c.inverse,g,o,n,p,a,q,k,d;for(n=0;n<e;++n){o=d=null;p=m[n];a=p.isEntity?(d=p).id:p;g=r[a];if(f<0&&g&&g[2]===1){delete r[a];k=b[a];if(k){delete k.members[l]}o=1}else{if(!g){g=[a,a,f];g[j]=l;r[a]=g;if(!(k=(q=b.slices)[a])){q[a]=k=new h(b,a)}k.members[l]=g;o=1}else{if(f!==g[2]&&f!==0){g[2]=f;k=b.slices[a];o=1}}}if(o){if(s.notify){s.notify.call(s.scope,s,a,f)}if(k&&k.notify){k.notify.call(k.scope,k,l,f)}}}},destroy:function(){var b=this,a=b.store;if(a){a.matrix=null;a.un("load",b.onStoreLoad,b)}b.notify=b.scope=b.store=b.side=b.members=null;b.callParent()}});Ext.define("Ext.data.matrix.Side",{constructor:function(a,b,d){var c=this;c.matrix=a;c.index=b;c.role=d;c.slices={}},get:function(b,a){var c=this,e=c.slices,d=e[b]||(e[b]=new Ext.data.matrix.Slice(c,b));return(a||a===0)?d.members[a]:d},update:function(b,a,c){var d=this.get(b);return d.update(a,c)},destroy:function(){var a=this,b=a.slices,c;for(c in b){b[c].destroy()}a.inverse=a.matrix=a.role=a.slices=null;a.callParent()}});Ext.define("Ext.data.matrix.Matrix",{constructor:function(g,c){var e=this,b=c.isManyToMany?c:g.getSchema().getAssociation(c),a=Ext.data.matrix.Side,f=new a(e,0,b.left),d=new a(e,1,b.right);Ext.Assert.truthy(b.isManyToMany,"Association is not many-to-many");e.association=b;e.session=g;e.left=f;e.right=d;f.inverse=d;d.inverse=f},update:function(b,a,c){return this.left.update(b,a,c)},destroy:function(){var a=this;a.left.destroy();a.right.destroy();a.association=a.session=a.left=a.right=null;a.callParent()}});Ext.define("Ext.data.session.ChangesVisitor",{constructor:function(c){var a=this,b;a.session=c;b=c.getCrudProperties();a.result=null;a.writerOptions={};a.createKey=b.create;a.readKey=b.read;a.updateKey=b.update;a.dropKey=b.drop},onDirtyRecord:function(f){var j=this,m=j.crud,e=f.phantom,c=f.dropped,g=!e&&!c,k=f.$className,b=(e||c)?"allDataOptions":"partialDataOptions",h=j.writerOptions,a=f.entityName,o,d,l,n;if(e&&c){return false}m=e?j.createKey:(c?j.dropKey:j.updateKey);h=h[k]||(h[k]={});if(c){if(!(o=h.drop)){h.drop=o={all:f.getProxy().getWriter().getWriteAllFields()}}if(!o.all){l=f.id}}if(!l){if(!(o=h[b])){o=f.getProxy().getWriter().getConfig(b);h[b]=o=Ext.Object.chain(o);o.serialize=true}l=f.getData(o)}n=j.result||(j.result={});d=n[a]||(n[a]={});d=d[m]||(d[m]=[]);d.push(l)},onMatrixChange:function(d,j,h,a){var g=this,b=d.left.type,f=d.right.role,e=a<0?g.dropKey:g.createKey,c,k;k=g.result||(g.result={});c=k[b]||(k[b]={});c=c[f]||(c[f]={});c=c[e]||(c[e]={});c=c[j]||(c[j]=[]);c.push(h)}});Ext.define("Ext.data.session.ChildChangesVisitor",{extend:Ext.data.session.ChangesVisitor,constructor:function(){this.seen={};this.callParent(arguments)},onDirtyRecord:function(a){if(this.callParent(arguments)!==false){if(!a.$source&&(a.dropped||!a.phantom)){this.readEntity(a)}}},readEntity:function(f){var g=this,e=g.readKey,b=f.entityName,c=f.id,a=g.seen,h=b+c,j,d;if(a[h]){return}a[h]=true;j=g.result||(g.result={});d=j[b]||(j[b]={});d=d[e]||(d[e]=[]);d.push(Ext.apply({},f.modified,f.data))}});Ext.define("Ext.data.session.BatchVisitor",{map:null,constructor:function(a){this.batch=a},getBatch:function(f){var g=this.map,d=this.batch,h,b,c,a,e;if(g){if(!d){d=new Ext.data.Batch()}for(c in g){h=g[c];b=h.entity;e=b.getProxy();delete h.entity;for(a in h){a=e.createOperation(a,{records:h[a]});a.entityType=b;d.add(a)}}}if(d&&f!==false){d.sort()}return d},onDirtyRecord:function(a){var d=this,b=a.phantom?"create":(a.dropped?"destroy":"update"),c=a.$className,e=(d.map||(d.map={})),f=(e[c]||(e[c]={entity:a.self}));f=f[b]||(f[b]=[]);f.push(a)}});Ext.define("Ext.data.Session",{isSession:true,config:{schema:"default",parent:null,crudProperties:{create:"C",read:"R",update:"U",drop:"D"}},destroyed:false,crudOperations:[{type:"R",entityMethod:"readEntities"},{type:"C",entityMethod:"createEntities"},{type:"U",entityMethod:"updateEntities"},{type:"D",entityMethod:"dropEntities"}],crudKeys:{C:1,R:1,U:1,D:1},constructor:function(a){var b=this;b.data={};b.matrices={};b.identifierCache={};b.recordCreator=b.recordCreator.bind(b);b.initConfig(a)},destroy:function(){var d=this,b=d.matrices,e=d.data,c,f,a,g;for(g in b){b[g].destroy()}for(c in e){f=e[c];for(g in f){a=f[g].record;if(a){a.$source=a.session=null}}}d.recordCreator=d.matrices=d.data=null;d.setSchema(null);d.callParent()},adopt:function(a){this.checkModelType(a.self);if(a.session&&a.session!==this){Ext.Error.raise("Record already belongs to an existing session")}if(a.phantom){Ext.Error.raise("Phantom records cannot be adopted, use the createRecord method")}if(a.session!==this){a.session=this;this.add(a)}},commit:function(){},createRecord:function(b,c){this.checkModelType(b);var d=b.$isClass?b:this.getSchema().getEntity(b),a=this.getParent(),e;if(a){e=d.getIdFromData(c);if(a.peekRecord(d,e)){Ext.Error.raise("A parent session already contains an entry for "+d.entityName+": "+e)}}return new d(c,this)},getChanges:function(){var a=new Ext.data.session.ChangesVisitor(this);this.visitData(a);return a.result},getChangesForParent:function(){var a=new Ext.data.session.ChildChangesVisitor(this);this.visitData(a);return a.result},getRecord:function(d,h,b){var e=this,a=e.peekRecord(d,h),g,c,f;if(!a){g=d.$isClass?d:e.getSchema().getEntity(d);c=e.getParent();if(c){f=c.peekRecord(g,h)}if(f&&!f.isLoading()){a=f.copy(undefined,e);a.$source=f}else{a=g.createWithId(h,null,e);if(b!==false){a.load(Ext.isObject(b)?b:undefined)}}}return a},getSaveBatch:function(a){var b=new Ext.data.session.BatchVisitor();this.visitData(b);return b.getBatch(a)},onInvalidAssociationEntity:function(a,b){Ext.Error.raise("Unable to read association entity: "+this.getModelIdentifier(a,b))},onInvalidEntityCreate:function(a,b){Ext.Error.raise("Cannot create, record already not exists: "+this.getModelIdentifier(a,b))},onInvalidEntityDrop:function(a,b){Ext.Error.raise("Cannot drop, record does not exist: "+this.getModelIdentifier(a,b))},onInvalidEntityRead:function(a,b){Ext.Error.raise("Cannot read, record already not exists: "+this.getModelIdentifier(a,b))},onInvalidEntityUpdate:function(a,c,b){if(b){Ext.Error.raise("Cannot update, record dropped: "+this.getModelIdentifier(a,c))}else{Ext.Error.raise("Cannot update, record does not exist: "+this.getModelIdentifier(a,c))}},peekRecord:function(e,h,a){this.checkModelType(e);var g=e.$isClass?e:this.getSchema().getEntity(e),c=g.entityName,f=this.data[c],b,d;f=f&&f[h];b=f&&f.record;if(!b&&a){d=this.getParent();b=d&&d.peekRecord(e,h,a)}return b||null},save:function(){if(!this.getParent()){Ext.Error.raise("Cannot commit session, no parent exists")}var a=new Ext.data.session.ChildChangesVisitor(this);this.visitData(a);this.getParent().update(a.result)},spawn:function(){return new this.self({schema:this.getSchema(),parent:this})},update:function(j){var l=this,e=l.getSchema(),a=l.crudOperations,k=a.length,m=l.crudKeys,n,f,p,h,d,q,c,o,g,b;for(n in j){f=e.getEntity(n);if(!f){Ext.Error.raise("Invalid entity type: "+n)}p=j[n];for(h=0;h<k;++h){d=a[h];q=p[d.type];if(q){l[d.entityMethod](f,q)}}}for(n in j){f=e.getEntity(n);c=f.associations;p=j[n];for(o in p){if(m[o]){continue}g=c[o];if(!g){Ext.Error.raise("Invalid association key for "+n+', "'+o+'"')}b=p[g.role];g.processUpdate(l,b)}}},privates:{add:function(b){var f=this,h=b.id,c=f.matrices,e=f.getEntry(b.self,h),d,a,g;if(e.record){Ext.Error.raise("Duplicate id "+b.id+" for "+b.entityName)}e.record=b;f.registerReferences(b);d=b.associations;for(a in d){g=d[a];association=g.association;matrix=c[association.name];if(association.isManyToMany&&matrix){g.checkMembership(f,b,matrix)}}},applySchema:function(a){return Ext.data.schema.Schema.get(a)},checkModelType:function(a){if(a.$isClass){a=a.entityName}if(!a){Ext.Error.raise("Unable to use anonymous models in a Session")}else{if(!this.getSchema().getEntity(a)){Ext.Error.raise("Unknown entity type "+a)}}},createEntities:function(d,b){var a=b.length,c,e,f,g;for(c=0;c<a;++c){e=b[c];g=d.getIdFromData(e);f=this.peekRecord(d,g);if(!f){f=this.createRecord(d,e)}else{this.onInvalidEntityCreate(d,g)}f.phantom=true}},dropEntities:function(d,c){var a=c.length,b,e,f;for(b=0;b<a;++b){f=c[b];e=this.peekRecord(d,f);if(e){e.drop()}else{this.onInvalidEntityDrop(d,f)}}},getEntityList:function(d,c){var a=c.length,b,g,f,e;for(b=0;b<a;++b){g=c[b];f=this.peekRecord(d,g);if(f){c[b]=f}else{e=true;c[b]=null;this.onInvalidAssociationEntity(d,g)}}if(e){c=Ext.Array.clean(c)}return c},getEntry:function(b,f){var d=b.$isClass?b:this.getSchema().getEntity(b),a=d.entityName,e=this.data,c;c=e[a]||(e[a]={});c=c[f]||(c[f]={});return c},getIdentifier:function(e){var a=this.identifierCache,c=e.identifier,d=c.id||e.entityName,b=a[d];if(!b){if(c.clone){b=c.clone({cache:a})}else{b=c}a[d]=b}return b},getMatrix:function(a){var c=a.isManyToMany?a.name:a,b=this.matrices;return b[c]||(b[c]=new Ext.data.matrix.Matrix(this,a))},getMatrixSlice:function(d,c){var a=this.getMatrix(d.association),b=a[d.side];return b.get(c)},getModelIdentifier:function(a,b){return b+"@"+a.entityName},onIdChanged:function(e,m,h){var r=this,j=e.entityName,n=e.id,t=r.data[j],b=t[m],q=e.associations,c=b.refs,a=r._setNoRefs,f,d,p,k,s,l,o,g;if(t[h]){Ext.Error.raise("Cannot change "+j+" id from "+m+" to "+h+" id already exists")}delete t[m];t[h]=b;for(l in q){s=q[l];if(s.isMany){g=s.getAssociatedItem(e);if(g){p=g.matrix;if(p){p.changeId(h)}}}}if(c){for(l in c){o=c[l];s=q[l];f=s.association;if(f.isManyToMany){}else{d=f.field.name;for(k in o){o[k].set(d,n,a)}}}}r.registerReferences(e,m)},processManyBlock:function(f,h,c,d){var e=this,g,a,b;if(c){for(g in c){a=e.peekRecord(f,g);if(a){records=e.getEntityList(h.cls,c[g]);b=h.getAssociatedItem(a);e[d](h,b,a,records)}else{e.onInvalidAssociationEntity(f,g)}}}},processManyCreate:function(d,c,a,b){if(c){c.add(b)}else{a[d.getterName](null,null,b)}},processManyDrop:function(d,c,a,b){if(c){c.remove(b)}},processManyRead:function(d,c,a,b){if(c){c.setRecords(b)}else{a[d.getterName](null,null,b)}},readEntities:function(d,b){var a=b.length,c,e,f,g;for(c=0;c<a;++c){e=b[c];g=d.getIdFromData(e);f=this.peekRecord(d,g);if(!f){f=this.createRecord(d,e)}else{this.onInvalidEntityRead(d,g)}f.phantom=false}},recordCreator:function(c,d){var b=this,e=d.getIdFromData(c),a=b.peekRecord(d,e,true);if(!a){a=new d(c,b)}else{a=b.getRecord(d,e)}return a},registerReferences:function(h,c){var l=h.entityName,b=h.id,a=h.data,g=c||c===0,m,f,o,j,d,n,k,e;j=(n=h.references).length;for(f=0;f<j;++f){d=n[f];o=a[d.name];if(o||o===0){d=d.reference;l=d.type;e=d.inverse.role;m=this.getEntry(d.cls,o);k=m.refs||(m.refs={});k=k[e]||(k[e]={});k[b]=h;if(g){delete k[c]}}}},updateEntities:function(e,b){var a=b.length,d,f,g,h,c;if(Ext.isArray(b)){for(d=0;d<a;++d){f=b[d];h=e.getIdFromData(f);g=this.peekRecord(e,h);if(g){g.set(f)}else{this.onInvalidEntityUpdate(e,h)}}}else{for(h in b){f=b[h];g=this.peekRecord(e,h);if(g&&!g.dropped){c=g.set(f)}else{this.onInvalidEntityUpdate(e,h,!!g)}}}},updateReference:function(f,h,c,a){var d=h.reference,j=d.type,e=d.inverse.role,b=f.id,k,g;if(a||a===0){g=this.getEntry(j,a).refs[e];delete g[b]}if(c||c===0){k=this.getEntry(j,c);g=k.refs||(k.refs={});g=g[e]||(g[e]={});g[b]=f}},visitData:function(g){var j=this,e=j.data,n=j.matrices,m,h,c,p,k,d,b,f,l,o,a;for(b in e){m=e[b];for(c in m){f=m[c].record;if(f){if(f.phantom||f.dirty||f.dropped){if(g.onDirtyRecord){g.onDirtyRecord(f)}}else{if(g.onCleanRecord){g.onCleanRecord(f)}}}}}if(g.onMatrixChange){for(b in n){k=n[b].left;o=k.slices;h=k.role.association;for(c in o){l=o[c];d=l.members;for(p in d){a=(f=d[p])[2];if(a){g.onMatrixChange(h,f[0],f[1],a)}}}}}return g},_setNoRefs:{refs:false}}});Ext.define("Ext.data.AbstractStore",{mixins:[Ext.mixin.Observable,Ext.mixin.Factoryable],factoryConfig:{defaultType:"store",type:"store"},$configPrefixed:false,$configStrict:false,config:{autoFilter:true,autoSort:true,filters:undefined,autoDestroy:undefined,storeId:null,statefulFilters:false,sorters:undefined,remoteSort:false,remoteFilter:false,groupField:undefined,groupDir:"ASC",grouper:null,pageSize:25},currentPage:1,loading:false,isDestroyed:false,isStore:true,updating:0,constructor:function(b){var c=this,a;c.isInitializing=true;c.mixins.observable.constructor.call(c,b);c.isInitializing=false;a=c.getStoreId();if(!a&&(b&&b.id)){c.setStoreId(a=b.id)}if(a){Ext.data.StoreManager.register(c)}},getId:function(){return this.getObservableId()},getCount:function(){return this.getData().getCount()},rangeCached:function(b,a){return this.getData().getCount()>=Math.max(b,a)},find:function(f,e,g,h,a,d){var c=!h,b=c&&d;return this.getData().findIndex(f,e,g,c,b,!a)},findRecord:function(){var b=this,a=b.find.apply(b,arguments);return a!==-1?b.getAt(a):null},findExact:function(b,a,c){return this.getData().findIndexBy(function(d){return d.isEqual(d.get(b),a)},this,c)},findBy:function(b,a,c){return this.getData().findIndexBy(b,a,c)},getAt:function(a){return this.getData().getAt(a)||null},getRange:function(d,b,c){var a=this.getData().getRange(d,Ext.isNumber(b)?b+1:b);if(c&&c.callback){c.callback.call(c.scope||this,a,d,b,c)}return a},applyFilters:function(b,a){if(!a){a=this.createFiltersCollection();a.setRootProperty("data")}a.add(b);return a},applySorters:function(b,a){if(!a){a=this.createSortersCollection();a.setRootProperty("data")}a.add(b);return a},updateAutoFilter:function(b){var a=this.getData();if(a.setAutoFilter){a.setAutoFilter(b)}},updateAutoSort:function(a){var b=this.getData();if(b.setAutoSort){b.setAutoSort(a)}},filter:function(a,b){if(Ext.isString(a)){a={property:a,value:b}}this.getFilters().add(a)},removeFilter:function(a){var c=this,b=c.getFilters();if(a instanceof Ext.util.Filter){b.remove(a)}else{b.removeByKey(a)}},updateRemoteSort:function(a){var b=this.getSorters();if(a){b.on("endupdate",this.onSorterEndUpdate,this)}else{b.un("endupdate",this.onSorterEndUpdate,this)}},updateRemoteFilter:function(b){var a=this.getFilters();if(b){a.on("endupdate",this.onFilterEndUpdate,this)}else{a.un("endupdate",this.onFilterEndUpdate,this)}},addFilter:function(a){this.getFilters().add(a)},filterBy:function(b,a){this.getFilters().add({filterFn:b,scope:a||this})},clearFilter:function(c){var b=this,a=b.getFilters(false);if(!a||a.getCount()===0){return}b.suppressNextFilter=!!c;a.removeAll();b.suppressNextFilter=false},isFiltered:function(){return this.getFilters().getCount()>0},isSorted:function(){return this.getSorters().getCount()>0||this.isGrouped()},addFieldTransform:function(e){if(e.getTransform()){return}var d=e.getProperty(),c=this.getModel(),a,b;if(c){a=c.getField(d);b=a?a.getSortType():null}if(b&&b!==Ext.identityFn){e.setTransform(b)}},beginUpdate:function(){if(!this.updating++){this.fireEvent("beginupdate")}},endUpdate:function(){if(this.updating&&!--this.updating){this.fireEvent("endupdate");this.onEndUpdate()}},getState:function(){var f=this,g=[],e=f.getFilters(),b=f.getGrouper(),h,d,c,a;f.getSorters().each(function(j){g[g.length]=j.getState();d=true});if(f.statefulFilters&&f.saveStatefulFilters){d=true;h=[];e.each(function(j){h[h.length]=j.getState()})}if(b){d=true}if(d){a={};if(g.length){a.sorters=g}if(h){a.filters=h}if(b){a.grouper=b.getState()}}return a},applyState:function(f){var d=this,g=d.getSorters(),c=d.getFilters(),b=f.sorters,a=f.filters,e=f.grouper;if(b){g.replaceAll(b)}if(a){d.saveStatefulFilters=true;c.replaceAll(a)}if(e){this.setGrouper(e)}},hasPendingLoad:Ext.emptyFn,isLoading:Ext.emptyFn,destroy:function(){var a=this;if(a.isDestroyed){return}a.isDestroyed=true;a.clearListeners();if(a.getStoreId()){Ext.data.StoreManager.unregister(a)}a.onDestroy()},sort:function(c,b,d){var a=this;if(arguments.length===0){if(a.getRemoteSort()){a.attemptLoad()}else{a.forceLocalSort()}}else{a.getSorters().addSort(c,b,d)}},onSorterEndUpdate:function(){var a=this,b=a.getSorters().getRange();if(b.length){if(a.getRemoteSort()){a.attemptLoad({callback:function(){a.fireEvent("sort",a,b)}})}else{a.fireEvent("datachanged",a);a.fireEvent("refresh",a);a.fireEvent("sort",a,b)}}else{a.fireEvent("sort",a,b)}},onFilterEndUpdate:function(){var b=this,a=b.suppressNextFilter;if(b.getAutoFilter()){if(b.getRemoteFilter()){b.currentPage=1;if(!a){b.attemptLoad()}}else{if(!a){b.fireEvent("datachanged",b);b.fireEvent("refresh",b)}}}if(b.trackStateChanges){b.saveStatefulFilters=true}b.fireEvent("filterchange",b,b.getFilters().getRange())},updateGroupField:function(b){var a=this.getData();if(b){a.setGrouper({property:b,direction:this.getGroupDir()})}else{a.setGrouper(null)}},getGrouper:function(){return this.getData().getGrouper()},group:function(a,d,b){var c=this,e=a||c.getSorters().getCount()>0;if(a&&typeof a==="string"){a={property:a,direction:d||c.getGroupDir()}}c.getData().setGrouper(a);if(c.isLoadBlocked()){return}if(e){if(c.getRemoteSort()){c.attemptLoad({callback:function(){c.fireEvent("groupchange",c,c.getGrouper())}})}else{c.fireEvent("datachanged",c);c.fireEvent("refresh",c);c.fireEvent("groupchange",c,c.getGrouper())}}else{c.fireEvent("groupchange",c,c.getGrouper())}},clearGrouping:function(){this.group(null)},getGroupField:function(){var a=this.getGrouper(),b="";if(a){b=a.getProperty()}return b},isGrouped:function(){return !!this.getGrouper()},applyGrouper:function(a){this.group(a);return this.getData().getGrouper()},getGroups:function(){return this.getData().getGroups()},onEndUpdate:Ext.emptyFn,deprecated:{5:{methods:{destroyStore:function(){this.destroy()}}}}});Ext.define("Ext.data.LocalStore",{extend:Ext.Mixin,mixinConfig:{id:"localstore"},constructDataCollection:function(){var a=new Ext.util.Collection({rootProperty:"data",extraKeys:{byInternalId:{property:"internalId",rootProperty:""}}}),b;b=a.getSorters();b.setSorterConfigure(this.addFieldTransform,this);return a},createFiltersCollection:function(){return this.getData().getFilters()},createSortersCollection:function(){return this.getData().getSorters()},onCollectionSort:function(){this.onSorterEndUpdate()},onCollectionFilter:function(){this.onFilterEndUpdate()},notifySorterChange:function(){this.getData().onSorterChange()},forceLocalSort:function(){this.getData().onSortChange()},contains:function(a){return this.indexOf(a)>-1},each:function(e,d){var f=this.data.items,a=f.length,b,c;for(c=0;c<a;++c){b=f[c];if(e.call(d||b,b,c,a)===false){break}}},collect:function(b,a,c){var d=this,e=d.getData();if(c===true&&e.filtered){e=e.getSource()}return e.collect(b,"data",a)},getById:function(b){var a=this.getData();if(a.filtered){a=a.getSource()}return a.get(b)||null},getByInternalId:function(a){var b=this.getData();if(b.filtered){b=b.getSource()}return b.byInternalId.get(a)||null},indexOf:function(a){return this.getData().indexOf(a)},indexOfId:function(a){return this.indexOf(this.getById(a))},queryBy:function(b,a){var c=this.getData();return(c.getSource()||c).createFiltered(b,a)},query:function(e,d,f,a,b){var c=this.getData();return(c.getSource()||c).createFiltered(e,d,f,a,b)},first:function(a){return this.getData().first(a)||null},last:function(a){return this.getData().last(a)||null},sum:function(c,a){var b=this.getData();return(a&&this.isGrouped())?b.sumByGroup(c):b.sum(c)},count:function(a){var b=this.getData();return(a&&this.isGrouped())?b.countByGroup():b.count()},min:function(c,a){var b=this.getData();return(a&&this.isGrouped())?b.minByGroup(c):b.min(c)},max:function(c,a){var b=this.getData();return(a&&this.isGrouped())?b.maxByGroup(c):b.max(c)},average:function(c,a){var b=this.getData();return(a&&this.isGrouped())?b.averageByGroup(c):b.average(c)},aggregate:function(g,k,e,h){var f=this,a,d,b,j,c;if(e&&f.isGrouped()){a=f.getGroups().items;d=a.length;b={};for(c=0;c<d;++c){j=a[c];b[j.getGroupKey()]=f.getAggregate(g,k||f,j.items,h)}return b}else{return f.getAggregate(g,k,f.getData().items,h)}},getAggregate:function(f,e,c,g){var b=[],a=c.length,d;for(d=0;d<a;++d){b[d]=c[d].get(g)}return f.call(e||this,c,b)},addObserver:function(a){var b=this.observers;if(!b){this.observers=b=new Ext.util.Collection()}b.add(a)},removeObserver:function(a){var b=this.observers;if(b){b.remove(a)}},callObservers:function(g,d){var h=this.observers,a,c,e,b,f;if(h){c=h.items;if(d){d.unshift(this)}else{d=[this]}for(e=0,a=c.length;e<a;++e){f=c[e];b="onSource"+g;if(f[b]){f[b].apply(f,d)}}}}});Ext.define("Ext.data.ResultSet",{isResultSet:true,$configPrefixed:false,config:{loaded:true,count:null,total:null,success:false,records:null,message:null,readRoot:false},constructor:function(a){this.initConfig(a)},applyCount:function(a){if(!a&&a!==0){return this.getRecords().length}return a},updateRecords:function(a){this.setCount(a.length)}});Ext.define("Ext.data.reader.Reader",{alternateClassName:["Ext.data.Reader","Ext.data.DataReader"],mixins:[Ext.mixin.Observable,Ext.mixin.Factoryable],alias:"reader.base",factoryConfig:{defaultType:null},config:{totalProperty:"total",successProperty:"success",rootProperty:"",messageProperty:"",typeProperty:"",implicitIncludes:true,readRecordsOnFailure:true,model:null,proxy:null,transform:null},isReader:true,constructor:function(a){if(a&&a.hasOwnProperty("root")){a=Ext.apply({},a);a.rootProperty=a.root;delete a.root;Ext.log.error('Ext.data.reader.Reader: Using the deprecated "root" configuration. Use "rootProperty" instead.')}var b=this;b.duringInit=true;b.mixins.observable.constructor.call(b,a);delete b.duringInit;b.buildExtractors()},applyModel:function(a){return Ext.data.schema.Schema.lookupEntity(a)},applyTransform:function(a){if(a){if(Ext.isFunction(a)){a={fn:a}}return a.fn.bind(a.scope||this)}return a},forceBuildExtractors:function(){if(!this.duringInit){this.buildExtractors(true)}},updateTotalProperty:function(){this.forceBuildExtractors()},updateMessageProperty:function(){this.forceBuildExtractors()},updateSuccessProperty:function(){this.forceBuildExtractors()},read:function(b,d){var c,a;if(b){if(b.responseText){a=this.getResponseData(b);if(a&&a.__$isError){return new Ext.data.ResultSet({total:0,count:0,records:[],success:false,message:a.msg})}else{c=this.readRecords(a,d)}}else{c=this.readRecords(b,d)}}return c||this.nullResultSet},createReadError:function(a){return{__$isError:true,msg:a}},readRecords:function(e,c){var f=this,k,d,b,h,g,j,l,a;a=this.getTransform();if(a){e=a(e)}f.buildExtractors();f.rawData=e;e=f.getData(e);k=true;d=0;b=[];if(f.getSuccessProperty()){j=f.getSuccess(e);if(j===false||j==="false"){k=false}}if(f.getMessageProperty()){l=f.getMessage(e)}if(f.getReadRecordsOnFailure()||k){h=Ext.isArray(e)?e:f.getRoot(e);if(h){g=h.length}if(f.getTotalProperty()){j=parseInt(f.getTotal(e),10);if(!isNaN(j)){g=j}}if(h){b=f.extractData(h,c);d=b.length}}return new Ext.data.ResultSet({total:g||d,count:d,records:b,success:k,message:l,readRoot:!!h})},extractData:function(o,f){var m=this,g=f&&f.model?Ext.data.schema.Schema.lookupEntity(f.model):m.getModel(),d=g.schema,p=d.hasAssociations(g)&&m.getImplicitIncludes(),n=m.getFieldExtractorInfo(g.fieldExtractors),a=o.length,c=new Array(a),k=m.getTypeProperty(),l,b,e,j,h;if(!a&&Ext.isObject(o)){o=[o];a=1}for(h=0;h<a;h++){j=o[h];if(!j.isModel){b=j;if(k&&(e=m.getChildType(d,b,k))){l=e.getProxy().getReader();j=l.extractRecord(b,f,e,d.hasAssociations(e)&&l.getImplicitIncludes(),l.getFieldExtractorInfo(e.fieldExtractors))}else{j=m.extractRecord(b,f,g,p,n)}}if(j.onLoad){j.onLoad()}c[h]=j}return c},getChildType:function(b,c,d){var a;switch(typeof d){case"string":return b.getEntity(c[d]);case"object":a=d.namespace;return b.getEntity((a?a+".":"")+c[d.name]);case"function":return b.getEntity(d(c))}},extractRecordData:function(c,d){var b=d&&d.model?Ext.data.schema.Schema.lookupEntity(d.model):this.getModel(),a=this.getFieldExtractorInfo(b.fieldExtractors);return this.extractRecord(c,d,b,false,a)},extractRecord:function(a,b,c,j,g){var f=this,e=(b&&b.recordCreator)||f.defaultRecordCreator,h,d;h=f.extractModelData(a,g);d=e.call(f,h,c||f.getModel(),b);if(j&&d.isModel){f.readAssociated(d,a,b)}return d},getFieldExtractorInfo:function(c){var a=this.$className,b=c[a];if(b===undefined){c[a]=b=this.buildFieldExtractors()}return b},buildFieldExtractors:function(){var g=this.getFields(),h=g.length,e=[],k=[],d=null,b=0,j,a,f,c;for(f=0;f<h;++f){j=g[f];c=this.createFieldAccessor(j);if(c){a=j.name;e.push("data['"+a+"'] = extractors["+b+"](raw);");k.push(c);++b}}if(e.length){d={extractors:k,fn:new Function("raw","data","extractors",e.join(""))}}return d},defaultRecordCreator:function(b,c){var a=new c(b);a.phantom=false;return a},getModelData:function(a){return{}},extractModelData:function(b,a){var d=this.getModelData(b),c;if(a){c=a.fn;c(b,d,a.extractors)}return d},readAssociated:function(a,e,d){var c=a.associations,b,f;for(b in c){if(c.hasOwnProperty(b)){f=c[b];if(f.cls){f.read(a,e,this,d)}}}},getFields:function(){return this.getModel().fields},getData:Ext.identityFn,getRoot:Ext.identityFn,getResponseData:function(a){Ext.Error.raise("getResponseData must be implemented in the Ext.data.reader.Reader subclass")},onMetaChange:function(g){var f=this,b=g.fields||f.getFields(),c,e,a,d;f.metaData=g;if(g.root){f.setRootProperty(g.root)}if(g.totalProperty){f.setTotalProperty(g.totalProperty)}if(g.successProperty){f.setSuccessProperty(g.successProperty)}if(g.messageProperty){f.setMessageProperty(g.messageProperty)}a=g.clientIdProperty;e=Ext.define(null,{extend:"Ext.data.Model",fields:b,clientIdProperty:a});f.setModel(e);d=f.getProxy();if(d){d.setModel(e)}f.buildExtractors(true)},buildExtractors:function(d){var b=this,c=b.getTotalProperty(),a=b.getSuccessProperty(),e=b.getMessageProperty();if(d||!b.hasExtractors){if(c){b.getTotal=b.createAccessor(c)}if(a){b.getSuccess=b.createAccessor(a)}if(e){b.getMessage=b.createAccessor(e)}b.hasExtractors=true;return true}},createAccessor:Ext.emptyFn,createFieldAccessor:Ext.emptyFn,destroy:function(){var a=this;delete a.model;delete a.getTotal;delete a.getSuccess;delete a.getMessage}},function(){var a=this.prototype;Ext.apply(a,{nullResultSet:new Ext.data.ResultSet({total:0,count:0,records:[],success:true,message:""})})});Ext.define("Ext.data.writer.Writer",{mixins:[Ext.mixin.Factoryable],alias:"writer.base",factoryConfig:{defaultType:null},alternateClassName:["Ext.data.DataWriter","Ext.data.Writer"],config:{clientIdProperty:null,allDataOptions:{persist:true},partialDataOptions:{changes:true,critical:true},writeAllFields:false,dateFormat:null,nameProperty:"name",writeRecordId:true,transform:null},isWriter:true,constructor:function(a){this.initConfig(a)},applyTransform:function(a){if(a){if(Ext.isFunction(a)){a={fn:a}}return a.fn.bind(a.scope||this)}return a},write:function(e){var c=e.getOperation(),b=c.getRecords()||[],a=b.length,f=[],d;for(d=0;d<a;d++){f.push(this.getRecordData(b[d],c))}return this.writeRecords(e,f)},writeRecords:Ext.emptyFn,getRecordData:function(j,g){var m=this,e=m.getNameProperty(),a=e!=="name",c=j.self.idField,q=c.name,p=j.id,d=m.getWriteAllFields(),l;if(c.serialize){p=c.serialize(p)}if(!d&&g&&g.isDestroyOperation){l={};l[e?c[e]:q]=p}else{var b=m.getDateFormat(),f=j.phantom,r=(f||d)?m.getAllDataOptions():m.getPartialDataOptions(),o=f&&m.getClientIdProperty(),k=j.getFieldsMap(),h,n;r.serialize=false;h=j.getData(r);l=a?{}:h;if(o){l[o]=p;delete h[q]}else{if(!m.getWriteRecordId()){delete h[q]}}for(q in h){p=h[q];if(!(n=k[q])){if(a){l[q]=p}}else{if(n.isDateField&&b&&Ext.isDate(p)){p=Ext.Date.format(p,b)}else{if(n.serialize){p=n.serialize(p,j)}}if(a){q=n[e]||q}l[q]=p}}}return l}});Ext.define("Ext.data.proxy.Proxy",{mixins:[Ext.mixin.Factoryable,Ext.mixin.Observable],$configPrefixed:false,alias:"proxy.proxy",alternateClassName:["Ext.data.DataProxy","Ext.data.Proxy"],config:{batchOrder:"create,update,destroy",batchActions:true,model:undefined,reader:{type:"json"},writer:{type:"json"}},isProxy:true,isSynchronous:false,constructor:function(a){this.mixins.observable.constructor.call(this,a)},applyModel:function(a){return Ext.data.schema.Schema.lookupEntity(a)},updateModel:function(b){if(b){var a=this.getReader();if(a&&!a.getModel()){a.setModel(b)}}},applyReader:function(a){return Ext.Factory.reader(a)},updateReader:function(a){if(a){var c=this,b=c.getModel();if(!b){b=a.getModel();if(b){c.setModel(b)}}else{a.setModel(b)}if(a.onMetaChange){a.onMetaChange=Ext.Function.createSequence(a.onMetaChange,c.onMetaChange,c)}}},applyWriter:function(a){return Ext.Factory.writer(a)},abort:Ext.emptyFn,onMetaChange:function(a){this.fireEvent("metachange",this,a)},create:Ext.emptyFn,read:Ext.emptyFn,update:Ext.emptyFn,erase:Ext.emptyFn,batch:function(o,l){var k=this,j=k.getBatchActions(),g,c,f,d,e,m,b,n,h;if(o.operations===undefined){o={operations:o,listeners:l}}if(o.batch){if(Ext.isDefined(o.batch.runOperation)){g=Ext.applyIf(o.batch,{proxy:k,listeners:{}})}}else{o.batch={proxy:k,listeners:o.listeners||{}}}if(!g){g=new Ext.data.Batch(o.batch)}g.on("complete",Ext.bind(k.onBatchComplete,k,[o],0));f=k.getBatchOrder().split(",");d=f.length;for(m=0;m<d;m++){e=f[m];c=o.operations[e];if(c){if(j){g.add(k.createOperation(e,{records:c,params:o.params}))}else{n=c.length;for(b=0;b<n;b++){h=c[b];g.add(k.createOperation(e,{records:[h],params:o.params}))}}}}g.start();return g},onBatchComplete:function(a,b){var c=a.scope||this;if(b.hasException()){if(Ext.isFunction(a.failure)){Ext.callback(a.failure,c,[b,a])}}else{if(Ext.isFunction(a.success)){Ext.callback(a.success,c,[b,a])}}if(Ext.isFunction(a.callback)){Ext.callback(a.callback,c,[b,a])}},createOperation:function(c,b){var a=Ext.createByAlias("data.operation."+c,b);a.setProxy(this);return a},clone:function(){return new this.self(this.getInitialConfig())}});Ext.define("Ext.data.proxy.Client",{extend:Ext.data.proxy.Proxy,alternateClassName:"Ext.data.ClientProxy",isSynchronous:true,clear:function(){Ext.Error.raise("The Ext.data.proxy.Client subclass that you are using has not defined a 'clear' function. See src/data/ClientProxy.js for details.")}});Ext.define("Ext.data.proxy.Memory",{extend:Ext.data.proxy.Client,alias:"proxy.memory",alternateClassName:"Ext.data.MemoryProxy",isMemoryProxy:true,config:{enablePaging:false,data:null},finishOperation:function(b){var c=0,d=b.getRecords(),a=d.length;for(c;c<a;c++){d[c].commit()}b.setSuccessful(true)},create:function(a){this.finishOperation(a)},update:function(a){this.finishOperation(a)},erase:function(a){this.finishOperation(a)},read:function(f){var h=this,j=h.getReader().read(h.getData()),d=j.getRecords(),g=f.getSorters(),a=f.getGrouper(),c=f.getFilters(),b=f.getStart(),e=f.getLimit();if(f.process(j,null,null,false)!==false){if(c&&c.length){j.setRecords(d=Ext.Array.filter(d,Ext.util.Filter.createFilterFn(c)));j.setTotal(d.length)}if(a){g=g?g.concat(a):g}if(g&&g.length){j.setRecords(d=Ext.Array.sort(d,Ext.util.Sortable.createComparator(g)))}if(h.getEnablePaging()&&b!==undefined&&e!==undefined){if(b>=j.getTotal()){j.setConfig({success:false,records:[],total:0})}else{j.setRecords(Ext.Array.slice(d,b,b+e))}}f.setCompleted()}},clear:Ext.emptyFn});Ext.define("Ext.data.operation.Operation",{alternateClassName:"Ext.data.Operation",isOperation:true,config:{synchronous:false,params:undefined,callback:undefined,scope:undefined,resultSet:null,response:null,request:null,records:null,id:undefined,proxy:null,batch:null,recordCreator:null,internalCallback:null,internalScope:null},order:0,foreignKeyDirection:1,started:false,running:false,complete:false,success:undefined,exception:false,error:undefined,constructor:function(a){var b=a&&a.scope;this.initConfig(a);if(a){a.scope=b}if(b){this.setScope(b);this.initialConfig.scope=b}},getAction:function(){return this.action},execute:function(){var a=this;delete a.error;delete a.success;a.complete=a.exception=false;a.setStarted();return a.request=a.doExecute()},doExecute:Ext.emptyFn,abort:function(){var b=this,a=b.request;if(b.running&&a){b.getProxy().abort(a);b.request=null}},process:function(b,d,a,e){var c=this;e=e!==false;c.setResponse(a);c.setResultSet(b);if(b.getSuccess()){c.doProcess(b,d,a);c.setSuccessful(e)}else{if(e){c.setException(b.getMessage())}}},_commitSetOptions:{convert:true,commit:true},doProcess:function(m,f,e){var k=this,d=k._commitSetOptions,a=k.getRecords(),c=a.length,n=a[0].clientIdProperty,o=m.getRecords(),j=o?o.length:0,l,h,b,g;if(j&&n){l=Ext.Array.toValueMap(a,"id");for(g=0;g<j;++g){h=o[g];b=l[h[n]];if(b){delete l[b.id];delete h[n];b.set(h,d)}else{Ext.log.warn("Ignoring server record: "+Ext.encode(h))}}for(g in l){l[g].commit()}}else{for(g=0;g<c;++g){b=a[g];if(j===0||!(h=o[g])){b.commit()}else{b.set(h,d)}}}},setStarted:function(){this.started=this.running=true},setCompleted:function(){this.complete=true;this.running=false;this.triggerCallbacks()},setSuccessful:function(a){this.success=true;if(a){this.setCompleted()}},setException:function(a){var b=this;b.exception=true;b.success=b.running=false;b.error=a;b.setCompleted()},triggerCallbacks:function(){var a=this,b=a.getInternalCallback();if(b){b.call(a.getInternalScope()||a,a);a.setInternalCallback(null);a.setInternalScope(null)}if(b=a.getCallback()){b.call(a.getScope()||a,a.getRecords(),a,a.wasSuccessful());a.setCallback(null);a.setScope(null)}},hasException:function(){return this.exception},getError:function(){return this.error},getRecords:function(){var a;return this._records||((a=this.getResultSet())?a.getRecords():null)},isStarted:function(){return this.started},isRunning:function(){return this.running},isComplete:function(){return this.complete},wasSuccessful:function(){return this.isComplete()&&this.success===true},allowWrite:function(){return true}});Ext.define("Ext.data.operation.Create",{extend:Ext.data.operation.Operation,alias:"data.operation.create",action:"create",isCreateOperation:true,order:10,config:{recordCreator:Ext.identityFn},doExecute:function(){return this.getProxy().create(this)}});Ext.define("Ext.data.operation.Destroy",{extend:Ext.data.operation.Operation,alias:"data.operation.destroy",action:"destroy",isDestroyOperation:true,order:30,foreignKeyDirection:-1,doProcess:function(){var c=this.getRecords(),a=c.length,b;for(b=0;b<a;++b){c[b].setErased()}},doExecute:function(){return this.getProxy().erase(this)},getRecordData:function(a,c){var e={},d=a.idField,b=this.getNameProperty()||"name";e[d[b]]=a.id;return e}});Ext.define("Ext.data.operation.Read",{extend:Ext.data.operation.Operation,alias:"data.operation.read",action:"read",isReadOperation:true,config:{filters:undefined,sorters:undefined,grouper:undefined,start:undefined,limit:undefined,page:undefined,addRecords:false},doExecute:function(){return this.getProxy().read(this)},doProcess:Ext.emptyFn,allowWrite:function(){return false}});Ext.define("Ext.data.operation.Update",{extend:Ext.data.operation.Operation,alias:"data.operation.update",action:"update",isUpdateOperation:true,order:20,config:{recordCreator:Ext.identityFn},doExecute:function(){return this.getProxy().update(this)}});Ext.define("Ext.data.ProxyStore",{extend:Ext.data.AbstractStore,config:{model:undefined,fields:null,proxy:undefined,autoLoad:undefined,autoSync:false,batchUpdateMode:"operation",sortOnLoad:true,trackRemoved:true,session:undefined},onClassExtended:function(b,d,a){var c=d.model,e;if(typeof c==="string"){e=a.onBeforeCreated;a.onBeforeCreated=function(){var g=this,f=arguments;Ext.require(c,function(){e.apply(g,f)})}}},implicitModel:false,blockLoadCounter:0,autoSyncSuspended:0,constructor:function(b){var d=this;var c=d.model;d.removed=[];d.blockLoad();d.callParent(arguments);d.unblockLoad();if(!d.getModel()&&d.useModelWarning!==false&&d.getStoreId()!=="ext-empty-store"){var a=[Ext.getClassName(d)||"Store"," created with no model."];if(typeof c==="string"){a.push(" The name '",c,"'"," does not correspond to a valid model.")}Ext.log.warn(a.join(""))}},updateAutoLoad:function(b){var c=this,a;c.getData();if(b){a=c.loadTask||(c.loadTask=new Ext.util.DelayedTask());a.delay(1,c.attemptLoad,c,Ext.isObject(b)?[b]:undefined)}},getTotalCount:function(){return this.totalCount||0},applyFields:function(a){var d=this,b,c;if(a){d.implicitModel=true;d.setModel(b=Ext.define(null,{extend:"Ext.data.Model",fields:a,proxy:(c=d.getProxy())}));if(c&&!c.getModel()){c.setModel(b)}}},applyModel:function(a){if(a){a=Ext.data.schema.Schema.lookupEntity(a)}else{this.getFields();return this.getModel()}return a},applyProxy:function(b){var c=this,a=c.getModel();if(b){if(b.isProxy){b.setModel(a)}else{if(Ext.isString(b)){b={type:b,model:a}}else{if(!b.model){b=Ext.apply({model:a},b)}}b=Ext.createByAlias("proxy."+b.type,b)}}else{if(a){b=a.getProxy()}}if(!b){b=Ext.createByAlias("proxy.memory")}if(!c.disableMetaChangeEvent){b.on("metachange",c.onMetaChange,c)}return b},updateTrackRemoved:function(a){this.removed=a?[]:null},onMetaChange:function(a,b){this.fireEvent("metachange",this,b)},create:function(f,c){var e=this,a=new e.model(f),d=e.getProxy(),b;c=Ext.apply({},c);if(!c.records){c.records=[a]}c.internalScope=e;c.internalCallback=e.onProxyWrite;b=d.createOperation("create",c);return b.execute()},read:function(){return this.load.apply(this,arguments)},update:function(b){var d=this,c=d.getProxy(),a;b=Ext.apply({},b);if(!b.records){b.records=d.getUpdatedRecords()}b.internalScope=d;b.internalCallback=d.onProxyWrite;a=c.createOperation("update",b);return a.execute()},onProxyWrite:function(b){var c=this,d=b.wasSuccessful(),a=b.getRecords();switch(b.getAction()){case"create":c.onCreateRecords(a,b,d);break;case"update":c.onUpdateRecords(a,b,d);break;case"destroy":c.onDestroyRecords(a,b,d);break}if(d){c.fireEvent("write",c,b);c.fireEvent("datachanged",c);c.fireEvent("refresh",c)}},onCreateRecords:Ext.emptyFn,onUpdateRecords:Ext.emptyFn,onDestroyRecords:function(b,a,c){if(c){this.removed.length=0}},erase:function(b){var d=this,c=d.getProxy(),a;b=Ext.apply({},b);if(!b.records){b.records=d.getRemovedRecords()}b.internalScope=d;b.internalCallback=d.onProxyWrite;a=c.createOperation("destroy",b);return a.execute()},onBatchOperationComplete:function(b,a){return this.onProxyWrite(a)},onBatchComplete:function(c,a){var f=this,b=c.operations,e=b.length,d;if(f.batchUpdateMode!="operation"){f.suspendEvents();for(d=0;d<e;d++){f.onProxyWrite(b[d])}f.resumeEvents()}f.isSyncing=false;f.fireEvent("datachanged",f);f.fireEvent("refresh",f)},onBatchException:function(b,a){},filterNew:function(a){return a.phantom===true&&a.isValid()},getNewRecords:function(){return[]},getUpdatedRecords:function(){return[]},getModifiedRecords:function(){return[].concat(this.getNewRecords(),this.getUpdatedRecords())},filterUpdated:function(a){return a.dirty===true&&a.phantom!==true&&a.isValid()},getRemovedRecords:function(){return this.removed},sync:function(c){var e=this,b={},f=e.getNewRecords(),d=e.getUpdatedRecords(),a=e.getRemovedRecords(),g=false;if(e.isSyncing){Ext.Error.warn("Sync called while a sync operation is in progress. Consider configuring autoSync as false.")}e.needsSync=false;if(f.length>0){b.create=f;g=true}if(d.length>0){b.update=d;g=true}if(a.length>0){b.destroy=a;g=true}if(g&&e.fireEvent("beforesync",b)!==false){e.isSyncing=true;c=c||{};e.proxy.batch(Ext.apply(c,{operations:b,listeners:e.getBatchListeners()}))}return e},getBatchListeners:function(){var b=this,a={scope:b,exception:b.onBatchException,complete:b.onBatchComplete};if(b.batchUpdateMode=="operation"){a.operationcomplete=b.onBatchOperationComplete}return a},save:function(){return this.sync.apply(this,arguments)},blockLoad:function(a){if(a!==undefined){this.blockLoadCounter=a}else{++this.blockLoadCounter}},unblockLoad:function(b){var c=this,a=c.blockLoadCounter;if(b){c.blockLoadCounter=0}else{if(a){--c.blockLoadCounter}}return a},isLoadBlocked:function(){return !!this.blockLoadCounter},attemptLoad:function(a){if(!this.isLoadBlocked()){this.load(a)}},load:function(b){if(this.isLoadBlocked()){return}var f=this,c=f.getProxy(),e=f.loadTask,a={internalScope:f,internalCallback:f.onProxyLoad},d,h,g;if(f.getRemoteFilter()){d=f.getFilters();if(d.getCount()){a.filters=d.getRange()}}if(f.getRemoteSort()){h=f.getSorters();if(h.getCount()){a.sorters=h.getRange()}}Ext.apply(a,b);a.scope=a.scope||f;if(!a.recordCreator){g=f.getSession();if(g){a.recordCreator=g.recordCreator}}f.lastOptions=a;a=c.createOperation("read",a);if(f.fireEvent("beforeload",f,a)!==false){f.loading=true;if(e){e.cancel();f.loadTask=null}a.execute()}return f},reload:function(a){var b=Ext.apply({},a,this.lastOptions);return this.load(b)},onEndUpdate:function(){var a=this;if(a.needsSync&&a.autoSync&&!a.autoSyncSuspended){a.sync()}},afterReject:function(a){var b=this;if(b.contains(a)){b.onUpdate(a,Ext.data.Model.REJECT,null);b.fireEvent("update",b,a,Ext.data.Model.REJECT,null)}},afterCommit:function(a,c){var b=this;if(!c){c=null}if(b.contains(a)){b.onUpdate(a,Ext.data.Model.COMMIT,c);b.fireEvent("update",b,a,Ext.data.Model.COMMIT,c)}},afterErase:function(a){this.onErase(a)},onErase:Ext.emptyFn,onUpdate:Ext.emptyFn,onDestroy:function(){var a=this;a.blockLoad();a.clearData();a.setProxy(null);a.setModel(null);a.setSession(null)},hasPendingLoad:function(){return !!this.loadTask||this.isLoading()},isLoading:function(){return !!this.loading},isLoaded:function(){return this.loadCount>0},suspendAutoSync:function(){++this.autoSyncSuspended},resumeAutoSync:function(b){var a=this;if(!a.autoSyncSuspended){Ext.log.warn("Mismatched call to resumeAutoSync - auto synchronization is currently not suspended.")}if(a.autoSyncSuspended&&!--a.autoSyncSuspended){if(b){a.sync()}}},removeAll:Ext.emptyFn,clearData:Ext.emptyFn});Ext.define("Ext.data.Error",{isError:true,$configPrefixed:false,config:{field:null,message:""},constructor:function(a){this.initConfig(a);this.msg=this.message}});Ext.define("Ext.data.ErrorCollection",{extend:Ext.util.MixedCollection,alternateClassName:"Ext.data.Errors",init:function(h){var m=this,k=h.fields,d=h.validators,g=h.data,o,n,q,f,e,p,l,c,b,a;for(f=0,l=k.length;f<l;++f){n=k[f];a=n.name;b=g[a];if(n.validate&&!n.validate.$nullFn){o=m.length;c=n.validate(b,null,m);if(o===m.length&&c!==true){m.add(a,c)}}if(d){q=d[a];if(q){for(e=0,p=q.length;e<p;++e){c=q[e].validate(b,h);if(c!==true){m.add(a,c)}}}}}return m},add:function(b,d){var c=this,a=Ext.data.field.Field.defaultInvalidMessage,f=b,e;if(Ext.isString(b)){f=new Ext.data.Error({field:b,message:d||a})}else{if(!(f.isError)){f=new Ext.data.Error({field:f.field||f.name,message:f.error||f.message||f.msg||a})}b=f.field}e=c.get(b);if(e){if(Ext.isArray(e)){e.push(f);return e}c.removeAtKey(b);f=[e,f];f.field=b;f=[f]}return c.callParent([f])},getKey:function(a){return a.field},isValid:function(){return this.length===0},getByField:function(b){var a=this.get(b);if(a&&!Ext.isArray(a)){a=[a]}return a||[]}});Ext.define("Ext.data.SortTypes",{singleton:true,none:Ext.identityFn,stripTagsRE:/<\/?[^>]+>/gi,asText:function(a){return String(a).replace(this.stripTagsRE,"")},asUCText:function(a){return String(a).toUpperCase().replace(this.stripTagsRE,"")},asUCString:function(a){return String(a).toUpperCase()},asDate:function(a){if(!a){return 0}if(Ext.isDate(a)){return a.getTime()}return Date.parse(String(a))},asFloat:function(a){var b=parseFloat(String(a).replace(/,/g,""));return isNaN(b)?0:b},asInt:function(a){var b=parseInt(String(a).replace(/,/g,""),10);return isNaN(b)?0:b}});Ext.define("Ext.data.validator.Validator",{mixins:[Ext.mixin.Factoryable],alias:"data.validator.base",isValidator:true,type:"base",statics:{all:{},register:function(b,a){var c=this.all;c[b.toUpperCase()]=c[b.toLowerCase()]=c[b]=a.prototype}},onClassExtended:function(a,b){if(b.type){Ext.data.validator.Validator.register(b.type,a)}},constructor:function(a){if(typeof a==="function"){this.fnOnly=true;this.validate=a}else{this.initConfig(a)}},validate:function(){return true},clone:function(){var a=this;if(a.fnOnly){return new Ext.data.validator.Validator(a.validate)}return new a.self(a.getCurrentConfig())}},function(){this.register(this.prototype.type,this)});Ext.define("Ext.data.field.Field",{mixins:[Ext.mixin.Factoryable],alternateClassName:"Ext.data.Field",alias:"data.field.auto",aliasPrefix:"data.field.",type:"auto",factoryConfig:{defaultProperty:"name"},isDataField:true,isField:true,allowBlank:true,allowNull:false,critical:false,defaultInvalidMessage:"This field is invalid",defaultValue:undefined,definedBy:null,depends:null,dependents:null,mapping:null,name:null,ordinal:undefined,persist:null,reference:null,sortDir:"ASC",unique:false,rank:null,stripRe:/[\$,%]/g,calculated:false,evil:false,identifier:false,onClassExtended:function(j,e){var f=this,h=f.prototype,g=h.aliasPrefix.length,b=e.validators,a=e.alias,d=e.sortType,c;if(a){if(Ext.isString(a)){f.register(a.substring(g),j)}else{for(c=a.length;c--;){f.register(a[c].substring(g),j)}}}if(d&&Ext.isString(d)){j.prototype.sortType=Ext.data.SortTypes[d]}if(b){delete e.validators;e.validate=f.compileValidators(b)}},statics:{all:{},compileValidators:function(a){if(!(a instanceof Array)){a=[a]}var c=a.length,b;for(b=0;b<c;++b){a[b]=Ext.Factory.dataValidator(a[b])}return function(h,j,k){var g=this,e="",d,f;for(b=-1;b<c;++b){if(b<0){d=g.callParent([h,j,k])}else{f=a[b];d=f.validate(h)}if(d!==true){d=d||g.defaultInvalidMessage;if(k){k.add(g.name,d);e=e||d}else{if(j){if(e){e+=j}e+=d}else{e=d;break}}}}return d||true}},register:function(b,a){var c=this.all;c[b.toUpperCase()]=c[b]=a.prototype}},argumentNamesRe:/^function\s+\(\s*([^,\)\s]+)/,calculateRe:/[^\.a-z0-9_]([a-z_][a-z_0-9]*)\.([a-z_][a-z_0-9]*)/gi,constructor:function(d){var k=this,m=k.calculateRe,f,n,l,g,c,a,h,b,j,e;if(d){if(Ext.isString(d)){k.name=d}else{Ext.apply(k,d)}}if(!k.allowNull){k.allowNull=!!k.reference}f=k.calculate;c=k.depends;if(f){k.convert=k.doCalculate;if(!c){if(!(c=f.$depends)){a={};j=f.toString();f.$depends=c=[];h=k.argumentNamesRe.exec(j);b=h?h[1]:"data";while((h=m.exec(j))){if(b===h[1]&&!a[e=h[2]]){a[e]=1;c.push(e)}}}k.depends=c}}l=k.defaultValue;if(k.convert){if(l!==undefined){k.defaultValue=l=k.convert(l)}k.calculated=n=k.convert.length>1;k.evil=n&&!c}if(k.persist===null){k.persist=!n}g=k.sortType;if(!k.sortType){k.sortType=Ext.data.SortTypes.none}else{if(Ext.isString(g)){k.sortType=Ext.data.SortTypes[g]}}if(k.validators){Ext.override(k,{validate:Ext.data.field.Field.compileValidators(k.validators)})}if(c&&typeof c==="string"){k.depends=[c]}k.cloneDefaultValue=l!==undefined&&(Ext.isDate(l)||Ext.isArray(l)||Ext.isObject(l))},collate:function(c,b){var d=this,a=c,e=b;if(d.sortType){a=d.sortType(a);e=d.sortType(e)}return(a<e)?-1:((a>e)?1:0)},compare:function(a,b){return(a===b)?0:((a<b)?-1:1)},isEqual:function(a,b){return !this.compare(a,b)},convert:null,serialize:null,validate:Ext.returnTrue,doCalculate:function(a,b){return b?this.calculate(b.data):a},getName:function(){return this.name},getAllowBlank:function(){return this.allowBlank},getAllowNull:function(){return this.allowNull},getConvert:function(){return this.convert},getDefaultValue:function(){return this.defaultValue},getDepends:function(){return this.depends},getMapping:function(){return this.mapping},hasMapping:function(){var a=this.mapping;return !!(a||a===0)},getPersist:function(){return this.persist},getSortDir:function(){return this.sortDir},getSortType:function(){return this.sortType},getType:function(){return"auto"}},function(){this.register(this.prototype.type,this)});Ext.define("Ext.data.field.Boolean",{extend:Ext.data.field.Field,alias:["data.field.bool","data.field.boolean"],isBooleanField:true,trueRe:/^\s*(?:true|yes|on|1)\s*$/i,convert:function(a){if(typeof a==="boolean"){return a}if(this.allowNull&&(a===undefined||a===null||a==="")){return null}return this.trueRe.test(String(a))},getType:function(){return"bool"}});Ext.define("Ext.data.field.Date",{extend:Ext.data.field.Field,alias:"data.field.date",sortType:"asDate",isDateField:true,dateFormat:null,dateReadFormat:null,dateWriteFormat:null,compare:function(b,e){var d=b instanceof Date,c=e instanceof Date,a;if(c&&d){a=b.getTime()-e.getTime();if(a===0){a=0}else{a=a<0?-1:1}}else{if(d===c){a=0}else{a=d?1:-1}}return a},convert:function(c){if(!c){return null}if(c instanceof Date){return c}var a=this.dateReadFormat||this.dateFormat,b;if(a){return Ext.Date.parse(c,a)}b=Date.parse(c);return b?new Date(b):null},serialize:function(b){var a=null,c;if(Ext.isDate(b)){c=this.getDateWriteFormat();a=c?Ext.Date.format(b,c):b}return a},getDateFormat:function(){return this.dateFormat},getDateReadFormat:function(){return this.dateReadFormat},getDateWriteFormat:function(){var a=this;if(a.hasOwnProperty("dateWriteFormat")){return a.dateWriteFormat}if(a.hasOwnProperty("dateFormat")){return a.dateFormat}return a.dateWriteFormat||a.dateFormat||"timestamp"},getType:function(){return"date"}});Ext.define("Ext.data.field.Integer",{extend:Ext.data.field.Field,alias:["data.field.int","data.field.integer"],isNumeric:true,isIntegerField:true,convert:function(b){if(typeof b=="number"){return parseInt(b)}var d=b===undefined||b===null||b==="",a=this.allowNull,c;if(d){c=a?null:0}else{c=parseInt(String(b).replace(this.stripRe,""),10);if(a&&isNaN(c)){c=null}}return c},getType:function(){return"int"}});Ext.define("Ext.data.field.Number",{extend:Ext.data.field.Field,alias:["data.field.float","data.field.number"],isNumeric:true,isNumberField:true,convert:function(b){if(typeof b==="number"){return b}var d=b===undefined||b===null||b==="",a=this.allowNull,c;if(d){c=a?null:0}else{c=parseFloat(String(b).replace(this.stripRe,""));if(a&&isNaN(c)){c=null}}return c},getType:function(){return"float"}});Ext.define("Ext.data.field.String",{extend:Ext.data.field.Field,alias:"data.field.string",sortType:"asUCString",isStringField:true,convert:function(b){var a=this.allowNull?null:"";return(b===undefined||b===null)?a:String(b)},getType:function(){return"string"}});Ext.define("Ext.data.identifier.Generator",{"abstract":true,mixins:[Ext.mixin.Factoryable],alias:"data.identifier.default",factoryConfig:{defaultType:"sequential"},isGenerator:true,config:{id:null},constructor:function(b){var c=this,a,d;c.initConfig(b);d=c.getId();if(d){a=(b&&b.cache)||Ext.data.identifier.Generator.all;a[d]=c}},privates:{clone:function(b){var a=this.getInitialConfig();a=b?Ext.apply({},b,a):a;return new this.self(a)},statics:{all:{}}}},function(){var c=this,a=Ext.Factory,b=a.dataIdentifier;a.dataIdentifier=function(d){var f=Ext.isString(d)?d:(d&&d.id),e=f&&((d&&d.cache)||c.all)[f];return e||b(d)}});Ext.define("Ext.data.identifier.Sequential",{extend:Ext.data.identifier.Generator,alias:"data.identifier.sequential",config:{increment:1,prefix:null,seed:1},generate:function(){var b=this,a=b._seed,c=b._prefix;b._seed+=b._increment;return(c!==null)?c+a:a}});Ext.define("Ext.data.Model",{alternateClassName:"Ext.data.Record",isEntity:true,isModel:true,validIdRe:null,observableType:"record",constructor:function(e,l){var m=this,p=m.self,k=p.identifier,c=Ext.data.Model,n=c.identifier,o=m.idField.name,j,a,b,h,g,d,f;m.data=e||(e={});m.session=l||null;m.internalId=h=n.generate();if(l&&!l.isSession){Ext.Error.raise('Bad Model constructor argument 2 - "session" is not a Session')}if((j=e) instanceof Array){m.data=e={};f=m.getFields();g=Math.min(f.length,j.length);for(d=0;d<g;++d){e[f[d].name]=j[d]}}if(!(b=p.initializeFn)){p.initializeFn=b=c.makeInitializeFn(p)}if(!b.$nullFn){p.initializeFn(m)}if(!(m.id=a=e[o])&&a!==0){if(l){k=l.getIdentifier(p);a=k.generate()}else{if(n===k){a=h}else{a=k.generate()}}e[o]=m.id=a;m.phantom=true}if(l){l.add(m)}if(m.init&&Ext.isFunction(m.init)){m.init()}},editing:false,dirty:false,session:null,dropped:false,erased:false,clientIdProperty:null,evented:false,phantom:false,idProperty:"id",identifier:null,previousValues:undefined,proxy:undefined,schema:"default",versionProperty:null,generation:1,validationSeparator:null,convertOnSet:true,beginEdit:function(){var c=this,b=c.modified,a=c.previousValues;if(!c.editing){c.editing=true;c.editMemento={dirty:c.dirty,data:Ext.apply({},c.data),generation:c.generation,modified:b&&Ext.apply({},b),previousValues:a&&Ext.apply({},a)}}},cancelEdit:function(){var b=this,a=b.editMemento;if(a){b.editing=false;Ext.apply(b,a);b.editMemento=null}},endEdit:function(b,d){var c=this,a=c.editMemento;if(a){c.editing=false;c.editMemento=null;c.previousValues=a.previousValues;if(!b){if(!d){d=c.getModifiedFieldNames(a.data)}if(c.dirty||(d&&d.length)){c.callJoined("afterEdit",[d])}}}},getField:function(a){return this.self.getField(a)},getFields:function(){return this.self.getFields()},getFieldsMap:function(){return this.fieldsMap},getIdProperty:function(){return this.idProperty},getId:function(){return this.id},getObservableId:function(){return this.internalId},setId:function(a){this.set(this.idProperty,a)},getPrevious:function(b){var a=this.previousValues;return a&&a[b]},isModified:function(b){var a=this.modified;return !!(a&&a.hasOwnProperty(b))},getModified:function(b){var a;if(this.isModified(b)){a=this.modified[b]}return a},get:function(a){return this.data[a]},_singleProp:{},_rejectOptions:{convert:false,commit:true,silent:true},set:function(f,u,g){var G=this,d=G.self,H=G.data,n=G.modified,v=G.previousValues,a=G.session,F=Ext.isString(f),b=(F?g:u),q=b?b.convert!==false:G.convertOnSet,j=G.fieldsMap,D=b&&b.silent,r=b&&b.commit,p=!(b&&b.refs===false)&&a,o=!(b&&b.dirty===false&&!r),A=null,s,c,C,J,I,x,h,m,w,B,y=0,E,t,l,k,z,e;if(F){e=G._singleProp;e[f]=u}else{e=f}if(!(l=d.rankedFields)){l=d.rankFields()}E=l.length;do{for(I in e){z=e[I];s=H[I];h=G;c=j[I];if(c){if(q&&c.convert){z=c.convert(z,G)}h=c;k=c.reference}else{k=null}if(h.isEqual(s,z)){continue}H[I]=z;(A||(A=[])).push(I);(v||(G.previousValues=v={}))[I]=s;if(k&&k.cls){if(p){a.updateReference(G,c,z,s)}k.onValueChange(G,a,z,s)}B=(w=c&&c.dependents)&&w.length;while(B-->0){(m=w[B]).dirty=true;y=y?Math.min(y,m.rank):m.rank}if(!c||c.persist){if(n&&n.hasOwnProperty(I)){if(!o||h.isEqual(n[I],z)){delete n[I];G.dirty=-1}}else{if(o){if(!n){G.modified=n={}}G.dirty=true;n[I]=s}}}if(I===G.idField.name){C=true;x=s;t=z}}if(!y){break}c=l[y-1];c.dirty=false;if(F){delete e[f]}else{e=G._singleProp;F=true}f=c.name;e[f]=H[f];q=true;for(;y<E;++y){if(l[y].dirty){break}}if(y<E){++y}else{y=0}}while(1);if(G.dirty<0){G.dirty=false;for(J in n){if(n.hasOwnProperty(J)){G.dirty=true;break}}}if(F){delete e[f]}++G.generation;if(C){G.id=t;G.callJoined("onIdChanged",[x,t])}if(r){G.commit(D,A)}else{if(!D&&!G.editing&&A){G.callJoined("afterEdit",[A])}}return A},reject:function(a){var c=this,b=c.modified;if(b){c.set(b,c._rejectOptions)}c.clearState();if(!a){c.callJoined("afterReject")}},commit:function(b,d){var c=this,a;c.clearState();c.phantom=false;if(c.dropped){c.erased=a=true}if(!b){if(a){c.callJoined("afterErase")}else{c.callJoined("afterCommit",[d])}}},clearState:function(){var a=this;a.dirty=a.editing=false;a.editMemento=a.modified=null},drop:function(a){this.dropped=true;this.callJoined("afterDrop")},join:function(b){var a=this,c=a.joined;if(!c){c=a.joined=[b]}else{if(!c.length){c[0]=b}else{Ext.Array.include(c,b)}}if(b.isStore){a.store=a.store||b}},unjoin:function(e){var d=this,f=d.joined,a=f.length,b=d.store,c;if(f.length===1&&f[0]===e){f.length=0}else{if(a){Ext.Array.remove(f,e)}}if(b===e){b=null;for(c=0,a=f.length;c<a;++c){e=f[c];if(e.isStore){b=e;break}}d.store=b}},clone:function(d){var c=this,b=c.modified,a=c.copy(c.id,d);if(b){a.modified=Ext.apply({},b)}a.dirty=c.dirty;a.dropped=c.dropped;a.phantom=c.phantom;return a},copy:function(c,f){var d=this,e=Ext.apply({},d.data),b=d.idProperty,a=d.self;if(c||c===0){e[b]=c}else{if(c===null){delete e[b]}}return new a(e,f)},getProxy:function(){return this.self.getProxy()},getValidation:function(b){var c=this,a=c.validation;if(!a){c.validation=a=new Ext.data.Validation();a.attach(c)}if(b===true||(b!==false&&a.syncGeneration!==c.generation)){a.refresh(b)}return a},validate:function(){return new Ext.data.ErrorCollection().init(this)},isValid:function(){var a=this.getValidation();return !a.dirty},erase:function(a){this.drop();return this.save(a)},setErased:function(){this.erased=true;this.callJoined("afterErase")},getChanges:function(){return this.getData(this._getChangesOptions)},getCriticalFields:function(){var a=this.self,b=a.criticalFields;if(!b){a.rankFields();b=a.criticalFields}return b},getAssociatedData:function(l){var j=this,b=j.associations,f,k,h,c,a,g,e,d;l=l||{};j.$gathering=1;for(d in b){e=b[d];k=e.getAssociatedItem(j);if(!k||k.$gathering){continue}if(k.isStore){k.$gathering=1;h=k.getData().items;a=h.length;c=[];for(f=0;f<a;++f){g=h[f];g.$gathering=1;c.push(g.getData(!g.$gathering));delete g.$gathering}delete k.$gathering}else{c=k.getData(true)}l[d]=c}delete j.$gathering;return l},getData:function(s){var k=this,j={},a=(s===true)?k._getAssociatedOptions:(s||j),e=k.data,l=a.associated,p=a.changes,o=p&&a.critical,h=p?k.modified:e,g=k.fieldsMap,f=a.persist,r=a.serialize,c,m,d,b,q;if(h){for(b in h){q=e[b];m=g[b];if(m){if(f&&!m.persist){continue}if(r&&m.serialize){q=m.serialize(q,k)}}j[b]=q}}if(o){c=k.self.criticalFields||k.getCriticalFields();for(d=c.length;d-->0;){b=(m=c[d]).name;if(!(b in j)){q=e[b];if(r&&m.serialize){q=m.serialize(q,k)}j[b]=q}}}if(l){k.getAssociatedData(j)}return j},getTransientFields:function(){var a=this.self,b=a.transientFields;if(!b){a.rankFields();b=a.transientFields}return b},isLoading:function(){return !!this.loadOperation},abort:function(){var a=this.loadOperation;if(a){a.abort()}},load:function(b){b=Ext.apply({},b);var f=this,e=b.scope||f,c=f.getProxy(),h=b.callback,a=f.loadOperation,g=f.getId(),d;if(a){d=a.extraCalls;if(!d){d=a.extraCalls=[]}d.push(b);return a}if(f.phantom){Ext.Error.raise("Cannot load phantom model")}b.id=g;b.recordCreator=function(l,j,k){var m=f.session;k.recordCreator=m?m.recordCreator:null;f.set(l,f._commitOptions);if(f.getId()!==g){Ext.Error.raise("Invalid record id returned for "+g+"@"+f.entityName)}return f};b.internalCallback=function(l){var p=l.wasSuccessful()&&l.getRecords().length>0,q=f.loadOperation,n=q.extraCalls,k=[f,l],o=[f,l,p],m,j;f.loadOperation=null;if(p){Ext.callback(b.success,e,k)}else{Ext.callback(b.failure,e,k)}Ext.callback(h,e,o);if(n){for(m=0,j=n.length;m<j;++m){b=n[m];if(p){Ext.callback(b.success,e,k)}else{Ext.callback(b.failure,e,k)}Ext.callback(b.callback,e,o)}}f.callJoined("afterLoad")};delete b.callback;f.loadOperation=a=c.createOperation("read",b);a.execute();return a},save:function(j){j=Ext.apply({},j);var f=this,d=f.phantom,a=f.dropped,c=a?"destroy":(d?"create":"update"),h=j.scope||f,g=j.callback,e=f.getProxy(),b;j.records=[f];j.internalCallback=function(k){var l=[f,k],m=k.wasSuccessful();if(m){Ext.callback(j.success,h,l)}else{Ext.callback(j.failure,h,l)}l.push(m);Ext.callback(g,h,l)};delete j.callback;b=e.createOperation(c,j);if(a&&d){b.setResultSet(Ext.data.reader.Reader.prototype.nullResultSet);f.setErased();b.setSuccessful(true)}else{b.execute()}return b},inheritableStatics:{addFields:function(a){this.replaceFields(a)},replaceFields:function(m,j){var n=this,e=n.prototype,h=Ext.data.field.Field,f=n.fields,l=n.fieldsMap,c=n.fieldOrdinals,o,d,b,g,a,k;if(j===true){f.length=0;n.fieldsMap=l={};n.fieldOrdinals=c={}}else{if(j){for(d=j.length;d-->0;){a=j[d];if(a in c){delete c[a];delete l[a]}}for(d=0,g=f.length;d<g;++d){a=(o=f[d]).name;if(a in c){c[a]=d}else{f.splice(d,1);--d;--g}}}}for(d=0,g=m?m.length:0;d<g;d++){a=(o=m[d]).name;if(!(a in c)){c[a]=k=f.length;f.push(o=h.create(o));l[a]=o;o.ordinal=k;o.definedBy=o.owner=this}}n.idField=e.idField=b=l[e.idProperty];b.allowNull=b.critical=b.identifier=true;b.defaultValue=null;n.initializeFn=n.rankedFields=n.transientFields=n.criticalFields=null},removeFields:function(a){this.replaceFields(null,a)},getIdFromData:function(c){var b=this,a=b.idField;id=a.calculated?(new b(c)).id:c[a.name];return id},createWithId:function(f,b,c){var e=b,a=this;if(f||f===0){e={};if(b){Ext.apply(e,b)}e[a.idField.name]=f}return new a(e,c)},getFields:function(){return this.fields},getFieldsMap:function(){return this.fieldsMap},getField:function(a){return this.fieldsMap[a]||null},getProxy:function(){var b=this,a=b.proxy,c;if(!a){a=b.proxyConfig;if(!a||!a.isProxy){c=b.schema.constructProxy(b);a=a?Ext.merge(c,a):c}a=b.setProxy(a)}return a},setProxy:function(b){var c=this,a;if(b){if(!b.isProxy){b=Ext.Factory.proxy(b)}else{a=b.getModel();if(a&&a!==c){b=b.clone()}}b.setModel(c)}return(c.prototype.proxy=c.proxy=b)},load:function(d,a,b){var c=new this({id:d},b);c.load(a);return c}},deprecated:{5:{methods:{hasId:null,markDirty:null,setDirty:null,eachStore:function(f,d){var e=this,b=e.stores,a=b.length,c;for(c=0;c<a;++c){f.call(d,b[c])}},join:function(c){var b=this,a=b.stores,d=b.joined;if(!d){d=b.joined=[c]}else{d.push(c)}if(c.isStore){b.store=b.store||c;if(!a){a=b.stores=[]}a.push(c)}},unjoin:function(c){var b=this,a=b.stores,d=b.joined;if(d.length===1){d.length=0}else{Ext.Array.remove(d,c)}if(c.isStore){Ext.Array.remove(a,c);b.store=a[0]||null}}},properties:{persistenceProperty:null},inheritableStatics:{methods:{setFields:null}}}},privates:{_commitOptions:{commit:true},_getChangesOptions:{changes:true},_getAssociatedOptions:{associated:true},copyFrom:function(h){var g=this,e=g.fields,l=e.length,b=[],j,c=0,f,d,m=g.idProperty,a,k;if(h){f=g.data;d=h.data;for(;c<l;c++){j=e[c];a=j.name;if(a!=m){k=d[a];if(k!==undefined&&!g.isEqual(f[a],k)){f[a]=k;b.push(a)}}}if(g.phantom&&!h.phantom){g.beginEdit();g.setId(h.getId());g.endEdit(true);g.commit(true)}}return b},callJoined:function(d,c){var f=this,h=f.joined,e=f.session,a,b,g,j;if(!h&&!e){return}if(c){c.unshift(f)}else{c=[f]}if(e&&(g=e[d])){g.apply(e,c)}if(h){for(a=0,b=h.length;a<b;++a){j=h[a];if(j&&(g=j[d])){g.apply(j,c)}}}},setSession:function(a){if(a){if(this.session){Ext.Error.raise("This model already belongs to a session.")}if(!this.id){Ext.Error.raise("The model must have an id to participate in a session.")}}this.session=a;if(a){a.add(this)}},getModifiedFieldNames:function(a){var d=this,e=d.data,b=[],f=a||d.editMemento.data,c;for(c in e){if(e.hasOwnProperty(c)){if(!d.isEqual(e[c],f[c],c)){b.push(c)}}}return b},isEqual:function(a,d,c){var b;if(c){b=c.isField?c:this.fieldsMap[c];if(b){return b.compare(a,d)===0}}if(a instanceof Date&&d instanceof Date){return a.getTime()===d.getTime()}return a===d},statics:{EDIT:"edit",REJECT:"reject",COMMIT:"commit",rankFields:function(){var j=this,h=j.prototype,d=j.fields,b=d.length,f=[],a=[],e=[],k,g,c;j.rankedFields=h.rankedFields=f;j.criticalFields=h.criticalFields=a;j.transientFields=h.transientFields=e;for(c=0;c<b;++c){g=d[c];if(g.critical){a.push(g)}if(!g.persist){e.push(g)}if(g.evil){(k||(k=[])).push(g)}else{if(!g.depends){f.push(g);g.rank=f.length}}}for(c=0;c<b;++c){if(!(g=d[c]).rank&&!g.evil){j.topoAdd(g)}}if(k){for(c=0,b=k.length;c<b;++c){f.push(g=k[c]);g.rank=f.length}}j.topoStack=null;return f},topoAdd:function(h){var b=this,g=h.depends,a=g?g.length:0,e=b.rankedFields,c,f;var d=b.topoStack||(b.topoStack=[]);d.push(h.name);if(h.rank===0){Ext.Error.raise(b.$className+" has circular field dependencies: "+d.join(" --> "))}if(d.length&&h.evil){Ext.Error.raise(b.$className+": Field "+d[d.length-1]+" cannot depend on depends-less field "+h.name)}h.rank=0;for(c=0;c<a;++c){f=b.fieldsMap[g[c]];if(!f){Ext.Error.raise(b.$className+": Field "+h.name+" depends on undefined field "+g[c])}(f.dependents||(f.dependents=[])).push(h);if(!f.rank){b.topoAdd(f)}}e.push(h);h.rank=e.length;d.pop()},initFields:function(t,b,o){var k=Ext.data.field.Field,e=t.fields,p=[],l={},g={},a=[],s=o.fields,m=t.versionProperty||o.versionProperty,n=t.idProperty||o.idProperty,h,c,r,f,u,q,j;b.fields=o.fields=p;b.fieldOrdinals=o.fieldOrdinals=l;b.fieldsMap=o.fieldsMap=g;b.references=o.references=a;if(s){for(r=0,f=s.length;r<f;++r){p[r]=c=Ext.Object.chain(s[r]);c.dependents=null;c.owner=b;l[u=c.name]=r;g[u]=c}}if(e){var d;if(s){d=Ext.Array.toMap(s,"name")}delete t.fields;for(r=0,f=e.length;r<f;++r){c=e[r];j=c.reference;if(j&&typeof j!=="string"){j=Ext.merge({},j)}c.$reference=j;c=k.create(e[r]);u=c.name;if(s&&u in d){Ext.log.warn('Redefining field "'+u+'" in '+b.$className)}q=l[u];if(q===undefined){l[u]=q=p.length}g[u]=c;p[q]=c;c.definedBy=c.owner=b;c.ordinal=q;if(u===m){c.critical=true}}}if(!(h=g[n])){h=new k(n);q=p.length;p[q]=h;l[n]=q;g[n]=h;h.definedBy=b;h.ordinal=q}h.allowNull=h.critical=h.identifier=true;h.defaultValue=null;b.idField=o.idField=h},initAssociations:function(c,f,k){var b=f.associations,d=f.belongsTo,h=f.hasMany,l=f.hasOne,j=f.manyToMany,e,a,g;if(f.belongsTo){Ext.log.warn('Use of "belongsTo" is obsolete'+(k.$className?" in "+k.$className:""));delete f.belongsTo}delete f.manyToMany;if(j){c.addMatrices(k,j)}delete f.associations;delete f.belongsTo;delete f.hasMany;delete f.hasOne;if(b){b=Ext.isArray(b)?b:[b];for(e=0,a=b.length;e<a;++e){g=b[e];switch(g.type){case"belongsTo":c.addLegacyBelongsTo(k,g);break;case"hasMany":c.addLegacyHasMany(k,g);break;case"hasOne":c.addLegacyHasOne(k,g);break;default:Ext.Error.raise('Invalid association type: "'+g.type+'"')}}}if(d){d=Ext.isArray(d)?d:[d];for(e=0,a=d.length;e<a;++e){c.addLegacyBelongsTo(k,d[e])}}if(h){h=Ext.isArray(h)?h:[h];for(e=0,a=h.length;e<a;++e){c.addLegacyHasMany(k,h[e])}}if(l){l=Ext.isArray(l)?l:[l];for(e=0,a=l.length;e<a;++e){c.addLegacyHasOne(k,l[e])}}c.afterLegacyAssociations(k)},initIdentifier:function(f,a,e){var b=f.identifier||f.idgen,d=e.identifier||a.schema._defaultIdentifier,c;if(f.idgen){Ext.log.warn("Ext.data.Model: idgen has been deprecated. Please use identifier instead.")}if(b){delete f.identifier;delete f.idgen;b=Ext.Factory.dataIdentifier(b)}else{if(d){if(d.clone&&!d.getId()){b=d.clone()}else{if(d.isGenerator){b=d}else{b=Ext.Factory.dataIdentifier(d)}}}}a.identifier=e.identifier=b;if(!b){c=a.entityName;if(!c){c=Ext.id(null,"extModel")}a.identifier=Ext.Factory.dataIdentifier({type:"sequential",prefix:c+"-"})}},findValidator:function(c,d,b){var f=b.type||b,h=c[d],a,e,g;if(h){for(e=0,a=h.length;e<a;++e){g=h[e];if(g.type===f){return g}}}return null},initValidators:function(j,r,l){var f=Ext.data.validator.Validator,p=l.validators,g,o,c,m,h,e,d,b,k,a,q,n;if(p){g={};for(o in p){if(p.hasOwnProperty(o)){k=p[o];c=[];for(h=0,e=k.length;h<e;++h){c[h]=k[h].clone()}g[o]=c}}}m=j.validators||j.validations;if(j.validations){delete j.validations;Ext.log.warn((r.$className||"Ext.data.Model")+": validations has been deprecated. Please use validators instead.")}if(m){delete j.validators;g=g||{};if(Ext.isArray(m)){c={};for(h=0,e=m.length;h<e;++h){q=m[h];a=q.field;if(!c[a]){c[a]=[]}q=q.fn||q;c[a].push(q)}m=c}for(a in m){if(m.hasOwnProperty(a)){q=m[a];if(!Ext.isArray(q)){q=[q]}for(h=0,e=q.length;h<e;++h){b=q[h];n=typeof b;if(n==="function"){b=new f(b)}else{if(p){d=this.findValidator(g,a,b)}if(n==="string"){if(!d){b=f.create({type:b})}else{b=null}}else{if(!d){b=f.create(b)}else{d.setConfig(b);b=null}}}if(b){k=g[a];if(!k){k=g[a]=[]}k.push(b)}}}}}r.validators=l.validators=g},makeInitializeFn:function(q){var a=["var "],h=["\nreturn function (e) {\n    var data = e.data, v;\n"],e=[],n=0,k,j,l,p,d,m,g,f,o,c,b;if(!(g=q.rankedFields)){g=q.rankFields()}for(c=0,b=g.length;c<b;++c){m=g[c];e[c]=f="f"+c;l=m.convert;if(c){a.push(",  \n    ")}a.push(f," = $fields["+c+"]");a.push("  /*  ",m.name,"  */");if((o=(m.defaultValue!==undefined))||l){p='data["'+m.name+'"]';++n;k=j="";if(m.cloneDefaultValue){k="Ext.clone(";j=")"}h.push("\n");if(l&&o){h.push("    v = ",p,";\n    if (v !== undefined) {\n        v = ",f,".convert(v, e);\n    }\n    if (v === undefined) {\n        v = ",k,f,".defaultValue",j,";\n    }\n    ",p," = v;")}else{if(l){h.push("    v = ",f,".convert(",p,",e);\n    if (v !== undefined) {\n        ",p," = v;\n    }\n")}else{if(o){h.push("    if (",p," === undefined) {\n        ",p," = ",k,f,".defaultValue",j,";\n    }\n")}}}}}if(!n){return Ext.emptyFn}a.push(";\n");a.push.apply(a,h);a.push("}");a=a.join("");d=new Function("$fields",a);return d(g)}}}},function(){var d=this,c=d.prototype,b=Ext.data.schema.Schema,a;d.proxyConfig=c.proxy;delete c.proxy;d.schema=c.schema=b.get(c.schema);c.idField=new Ext.data.field.Field(c.idProperty);d.identifier=new Ext.data.identifier.Sequential();d.onExtended(function(e,k){var j=e.prototype,m=k.schema,l=j.superclass.self,h,g,f;e.idProperty=j.idProperty;if(m){delete k.schema;h=b.get(m)}else{if(!(h=j.schema)){h=a||(a=b.get("default"))}}e.rankFields=d.rankFields;e.topoAdd=d.topoAdd;j.schema=e.schema=h;if(!(g=k.entityName)){j.entityName=g=h.getEntityName(e);if(!g){if(k.associations){Ext.Error.raise('Anonymous entities cannot specify "associations"')}if(k.belongsTo){Ext.Error.raise('Anonymous entities cannot specify "belongsTo"')}if(k.hasMany){Ext.Error.raise('Anonymous entities cannot specify "hasMany"')}if(k.hasOne){Ext.Error.raise('Anonymous entities cannot specify "hasOne"')}if(k.matrices){Ext.Error.raise('Anonymous entities cannot specify "manyToMany"')}}}e.entityName=g;e.fieldExtractors={};d.initIdentifier(k,e,j);d.initFields(k,e,j);e.fields.items=e.fields;if(g){h.addEntity(e);d.initAssociations(h,k,e)}d.initValidators(k,e,j);f=k.proxy;if(f){delete k.proxy}else{f=l.proxyConfig||l.proxy}e.proxyConfig=f})});Ext.define("Ext.data.proxy.Server",{extend:Ext.data.proxy.Proxy,alias:"proxy.server",alternateClassName:"Ext.data.ServerProxy",isRemote:true,config:{url:"",pageParam:"page",startParam:"start",limitParam:"limit",groupParam:"group",groupDirectionParam:"groupDir",sortParam:"sort",filterParam:"filter",directionParam:"dir",idParam:"id",simpleSortMode:false,simpleGroupMode:false,noCache:true,cacheString:"_dc",timeout:30000,api:{create:undefined,read:undefined,update:undefined,destroy:undefined},extraParams:{}},create:function(){return this.doRequest.apply(this,arguments)},read:function(){return this.doRequest.apply(this,arguments)},update:function(){return this.doRequest.apply(this,arguments)},erase:function(){return this.doRequest.apply(this,arguments)},setExtraParam:function(a,b){this.getExtraParams()[a]=b},buildRequest:function(a){var f=this,b=Ext.apply({},a.getParams()),g=Ext.applyIf(b,f.getExtraParams()||{}),e,d,c;Ext.applyIf(g,f.getParams(a));d=a.getId();c=f.getIdParam();if(d!==undefined&&g[c]===undefined){g[c]=d}e=new Ext.data.Request({params:g,action:a.getAction(),records:a.getRecords(),operation:a,proxy:f});e.setUrl(f.buildUrl(e));a.setRequest(e);return e},processResponse:function(h,c,g,b){var f=this,d,a,e;if(h===true){a=f.getReader();e=a.read(f.extractResponseData(b),{recordCreator:c.getRecordCreator()});c.process(e,g,b);d=!c.wasSuccessful()}else{f.setException(c,b);d=true}if(d){f.fireEvent("exception",f,b,c)}f.afterRequest(g,h)},setException:function(b,a){b.setException({status:a.status,statusText:a.statusText,response:a})},extractResponseData:Ext.identityFn,applyEncoding:function(a){return Ext.encode(a)},encodeSorters:function(e,c){var a=[],d=e.length,b;for(b=0;b<d;b++){a[b]=e[b].serialize()}return this.applyEncoding(c?a[0]:a)},encodeFilters:function(d){var a=[],c=d.length,b,e;for(b=0;b<c;b++){a[b]=d[b].serialize()}return this.applyEncoding(a)},getParams:function(p){if(!p.isReadOperation){return{}}var v=this,u={},s=p.getGrouper(),a=p.getSorters(),n=p.getFilters(),h=p.getPage(),g=p.getStart(),t=p.getLimit(),l=v.getSimpleSortMode(),d=v.getSimpleGroupMode(),r=v.getPageParam(),e=v.getStartParam(),b=v.getLimitParam(),c=v.getGroupParam(),m=v.getGroupDirectionParam(),f=v.getSortParam(),q=v.getFilterParam(),o=v.getDirectionParam(),k,j;if(r&&h){u[r]=h}if(e&&(g||g===0)){u[e]=g}if(b&&t){u[b]=t}k=c&&s;if(k){if(d){u[c]=s.getProperty();u[m]=s.getDirection()}else{u[c]=v.encodeSorters([s],true)}}if(f&&a&&a.length>0){if(l){j=0;if(a.length>1&&k){j=1}u[f]=a[j].getProperty();u[o]=a[j].getDirection()}else{u[f]=v.encodeSorters(a)}}if(q&&n&&n.length>0){u[q]=v.encodeFilters(n)}return u},buildUrl:function(c){var b=this,a=b.getUrl(c);if(!a){Ext.Error.raise("You are using a ServerProxy but have not supplied it with a url.")}if(b.getNoCache()){a=Ext.urlAppend(a,Ext.String.format("{0}={1}",b.getCacheString(),Ext.Date.now()))}return a},getUrl:function(b){var a;if(b){a=b.getUrl()||this.getApi()[b.getAction()]}return a?a:this.callParent()},doRequest:function(a){Ext.Error.raise("The doRequest function has not been implemented on your Ext.data.proxy.Server subclass. See src/data/ServerProxy.js for details")},afterRequest:Ext.emptyFn,onDestroy:function(){Ext.destroy(this.getReader(),this.getWriter())}});Ext.define("Ext.data.proxy.Ajax",{extend:Ext.data.proxy.Server,alias:"proxy.ajax",alternateClassName:["Ext.data.HttpProxy","Ext.data.AjaxProxy"],defaultActionMethods:{create:"POST",read:"GET",update:"POST",destroy:"POST"},config:{binary:false,headers:undefined,paramsAsJson:false,withCredentials:false,useDefaultXhrHeader:true,username:null,password:null,actionMethods:{create:"POST",read:"GET",update:"POST",destroy:"POST"}},doRequest:function(a){var d=this,e=d.getWriter(),c=d.buildRequest(a),g=d.getMethod(c),b,f;if(e&&a.allowWrite()){c=e.write(c)}c.setConfig({binary:d.getBinary(),headers:d.getHeaders(),timeout:d.getTimeout(),scope:d,callback:d.createRequestCallback(c,a),method:g,useDefaultXhrHeader:d.getUseDefaultXhrHeader(),disableCaching:false});if(g.toUpperCase()!=="GET"&&d.getParamsAsJson()){f=c.getParams();if(f){b=c.getJsonData();if(b){b=Ext.Object.merge({},b,f)}else{b=f}c.setJsonData(b);c.setParams(undefined)}}if(d.getWithCredentials()){c.setWithCredentials(true);c.setUsername(d.getUsername());c.setPassword(d.getPassword())}return d.sendRequest(c)},sendRequest:function(a){a.setRawRequest(Ext.Ajax.request(a.getCurrentConfig()));this.lastRequest=a;return a},abort:function(a){a=a||this.lastRequest;if(a){Ext.Ajax.abort(a.getRawRequest())}},getMethod:function(a){var c=this.getActionMethods(),b=a.getAction(),d;if(c){d=c[b]}return d||this.defaultActionMethods[b]},createRequestCallback:function(c,a){var b=this;return function(e,f,d){if(c===b.lastRequest){b.lastRequest=null}b.processResponse(f,a,c,d)}}});Ext.define("Ext.data.reader.Json",{extend:Ext.data.reader.Reader,alternateClassName:"Ext.data.JsonReader",alias:"reader.json",config:{record:null,metaProperty:"metaData",useSimpleAccessors:false,preserveRawData:false},updateRootProperty:function(){this.forceBuildExtractors()},updateMetaProperty:function(){this.forceBuildExtractors()},readRecords:function(c,b){var a=this,d;if(a.getMeta){d=a.getMeta(c);if(d){a.onMetaChange(d)}}else{if(c.metaData){a.onMetaChange(c.metaData)}}return a.callParent(arguments)},getResponseData:function(a){try{return Ext.decode(a.responseText)}catch(b){Ext.Logger.warn("Unable to parse the JSON returned by the server");return this.createReadError(b.message)}},buildExtractors:function(){var c=this,b=c.getMetaProperty(),a=c.getRootProperty();if(c.callParent(arguments)){if(a){c.getRoot=c.createAccessor(a)}else{c.getRoot=Ext.identityFn}if(b){c.getMeta=c.createAccessor(b)}}},extractData:function(a,e){var f=this.getRecord(),d=[],c,b;if(f){c=a.length;if(!c&&Ext.isObject(a)){c=1;a=[a]}for(b=0;b<c;b++){d[b]=a[b][f]}}else{d=a}return this.callParent([d,e])},getModelData:function(a){return this.getPreserveRawData()?Ext.apply({},a):a},createAccessor:(function(){var a=/[\[\.]/,b=/^\[(?:\'|\")?([^\'\"]*)(?:\'|\")?\]$/;return function(l){var j=this,c=j.getUseSimpleAccessors(),d=0,m,f,h,g,k,e;if(!(l||l===0)){return}if(typeof l==="function"){return l}if(!c){d=String(l).search(a)}if(c===true||d<=0){if(d===0){l=l.replace(b,"$1")}m=function(n){return n[l]}}else{f=l.split(".");h=f.length;k="raw."+f[0];e=[k];for(g=1;g<h;g++){k+="."+f[g];e.push(k)}m=e.join(" && ");m=Ext.functionFactory("raw","return "+m)}return m}}()),createFieldAccessor:function(e){var b=this,a=e.mapping,c=a||a===0,d=c?a:e.name;if(c){if(typeof d==="function"){return function(f){return e.mapping(f,b)}}else{return b.createAccessor(d)}}}});Ext.define("Ext.data.writer.Json",{extend:Ext.data.writer.Writer,alternateClassName:"Ext.data.JsonWriter",alias:"writer.json",config:{rootProperty:undefined,encode:false,allowSingle:true,expandData:false},constructor:function(a){if(a&&a.hasOwnProperty("root")){a=Ext.apply({},a);a.rootProperty=a.root;delete a.root;Ext.log.warn('Ext.data.writer.Json: Using the deprecated "root" configuration. Use "rootProperty" instead.')}this.callParent([a])},getExpandedData:function(d){var b=d.length,e=0,h,a,f,c,g,k=function(j,l){var m={};m[j]=l;return m};for(;e<b;e++){h=d[e];for(a in h){if(h.hasOwnProperty(a)){f=a.split(".");c=f.length-1;if(c>0){g=h[a];for(;c>0;c--){g=k(f[c],g)}h[f[0]]=h[f[0]]||{};Ext.Object.merge(h[f[0]],g);delete h[a]}}}}return d},writeRecords:function(e,f){var d=this,a=d.getRootProperty(),c,g,b;if(d.getExpandData()){f=d.getExpandedData(f)}if(d.getAllowSingle()&&f.length===1){f=f[0];g=true}b=this.getTransform();if(b){f=b(f,e);e.setJsonData(f)}if(d.getEncode()){if(a){e.setParam(a,Ext.encode(f))}else{Ext.Error.raise("Must specify a root when using encode")}}else{if(g||(f&&f.length)){c=e.getJsonData()||{};if(a){c[a]=f}else{c=f}e.setJsonData(c)}}return e}});Ext.define("Ext.util.Group",{extend:Ext.util.Collection,config:{groupKey:null}});Ext.define("Ext.util.SorterCollection",{extend:Ext.util.Collection,isSorterCollection:true,$sortable:null,sortFn:null,config:{sorterOptionsFn:null,sorterOptionsScope:null},constructor:function(a){var b=this;b.sortFn=Ext.util.Sorter.createComparator(b);b.callParent([a]);b.setDecoder(b.decodeSorter)},addSort:function(j,h,c){var g=this,d,e,b,l,a,k,f;if(!j){g.beginUpdate();g.endUpdate()}else{l=g.getOptions();if(j instanceof Array){f=j;c=h;h=null}else{if(Ext.isString(j)){if(!(k=g.get(j))){f=[{property:j,direction:h||l.getDefaultSortDirection()}]}else{f=[k]}}else{if(Ext.isFunction(j)){f=[{sorterFn:j,direction:h||l.getDefaultSortDirection()}]}else{if(!Ext.isObject(j)){Ext.Error.raise("Invalid sort descriptor: "+j)}f=[j];c=h;h=null}}}if(c&&!g._sortModes[c]){Ext.Error.raise('Sort mode should be "multi", "append", "prepend" or "replace", not "'+c+'"')}c=g._sortModes[c||"replace"];a=g.getAt(0);d=g.length;e=c.append?d:0;g.beginUpdate();g.splice(e,c.replace?d:0,f);if(c.multi){d=g.length;b=l.getMultiSortLimit();if(d>b){g.removeAt(b,d)}}if(k&&h){k.setDirection(h)}else{if(e===0&&a&&a===g.getAt(0)){a.toggle()}}g.endUpdate()}},getSortFn:function(){return this.sortFn},getByProperty:function(e){var b=this.items,a=b.length,c,d;for(c=0;c<a;++c){d=b[c];if(d.getProperty()===e){return d}}return null},_sortModes:{append:{append:1},multi:{multi:1},prepend:{prepend:1},replace:{replace:1}},decodeSorter:function(h,a){var f=this,j=f.getOptions(),g=j.getRootProperty(),b=f.getSorterOptionsFn(),c,e,d;if(h.isSorter){if(!h.getRoot()){h.setRoot(g)}}else{e={direction:j.getDefaultSortDirection(),root:g};d=typeof h;if(d==="string"){c=f.get(h);if(c){return c}e.property=h}else{if(d==="function"){e.sorterFn=h}else{if(!Ext.isObject(h)){Ext.Error.raise("Invalid sorter specified: "+h)}e=Ext.apply(e,h);if(e.fn){e.sorterFn=e.fn;delete e.fn}}}h=Ext.create(a||"Ext.util.Sorter",e)}if(b){b.call(f.getSorterOptionsScope()||f,h)}return h},setSorterConfigure:function(b,a){this.setSorterOptionsFn(b);this.setSorterOptionsScope(a)},decodeRemoveItems:function(g,d){var j=this,e=(d===undefined)?g:g[d];if(!e||!e.$cloned){if(g.length>d+1||!Ext.isIterable(e)){e=Ext.Array.slice(g,d)}var k=j.items,f=e.length,c=[],b,l,a,m,h;for(b=0;b<f;b++){m=e[b];if(m&&m.isFilter){c.push(m)}else{h=typeof m;if(h==="string"){m=j.get(m);if(m){c.push(m)}}else{if(h==="function"){for(a=k.length;a-->0;){l=k[a];if(l.getSorterFn()===m){c.push(l)}}}else{Ext.Error.raise("Invalid sorter specification: "+m)}}}}e=c;e.$cloned=true}return e},getOptions:function(){return this.$sortable||this}});Ext.define("Ext.util.FilterCollection",{extend:Ext.util.Collection,isFilterCollection:true,$filterable:null,filterFn:null,constructor:function(a){var b=this;b.filterFn=Ext.util.Filter.createFilterFn(b);b.callParent([a]);b.setDecoder(b.decodeFilter)},filterData:function(a){return this.filtered?Ext.Array.filter(a,this.filterFn):a},getFilterFn:function(){return this.filterFn},isItemFiltered:function(a){return !this.filterFn(a)},decodeFilter:function(c){var b=this.getOptions(),a=b.getRootProperty(),d;if(c.isFilter){if(!c.getRoot()){c.setRoot(a)}}else{d={root:a};if(Ext.isFunction(c)){d.filterFn=c}else{if(!Ext.isObject(c)){Ext.Error.raise("Invalid filter specified: "+c)}d=Ext.apply(d,c);if(d.fn){d.filterFn=d.fn;delete d.fn}if(Ext.util.Filter.isInvalid(d)){return false}}c=new Ext.util.Filter(d)}return c},decodeRemoveItems:function(o,j){var q=this,k=(j===undefined)?o:o[j];if(!k.$cloned){if(o.length>j+1||!Ext.isIterable(k)){k=Ext.Array.slice(o,j)}var e=q.items,m=k.length,g=[],b,f,c,l,a,r,h,d,p;for(f=0;f<m;f++){b=k[f];if(b&&b.isFilter){g.push(b)}else{p=typeof b;c=p==="function";l=b.property!==undefined&&b.value!==undefined;a=p==="string";if(!c&&!l&&!a){Ext.Error.raise("Invalid filter specification: "+b)}for(d=e.length;d-->0;){r=e[d];h=false;if(a){h=r.getProperty()===b}else{if(c){h=r.getFilterFn()===b}else{if(l){h=r.getProperty()===b.property&&r.getValue()===b.value}}}if(h){g.push(r)}}}}k=g;k.$cloned=true}return k},getOptions:function(){return this.$filterable||this}});Ext.define("Ext.util.GroupCollection",{extend:Ext.util.Collection,isGroupCollection:true,config:{itemRoot:null},observerPriority:-100,onCollectionAdd:function(b,a){this.addItemsToGroups(b,a.items)},onCollectionBeforeItemChange:function(d,a){var c=this,b=a.item,e=d.getKey(b);c.onCollectionAdd=c.onCollectionRemove=c.onCollectionUpdateKey=null;c.syncItemGrouping(d,b,e,a.oldKey)},onCollectionBeginUpdate:function(){this.beginUpdate()},onCollectionEndUpdate:function(){this.endUpdate()},onCollectionItemChange:function(b,a){delete this.onCollectionAdd;delete this.onCollectionRemove;delete this.onCollectionUpdateKey},onCollectionRefresh:function(a){this.removeAll();this.addItemsToGroups(a,a.items)},onCollectionRemove:function(a,b){var g=this,f=g.groupItems(a,b.items,false),h,j,e,c,d;for(e=0,c=f.length;e<c;++e){j=(h=f[e]).group;if(j){j.remove(h.items);if(!j.length){(d||(d=[])).push(j)}}}if(d){g.remove(d)}},onCollectionSort:function(e){var d=this,g=e.getSorters(),a=d.items,c=d.length,b,f;for(b=0;b<c;++b){f=a[b];if(f.getSorters()!==g){f.setSorters(g)}}},onCollectionUpdateKey:function(b,a){this.syncItemGrouping(b,a.item,a.newKey,a.oldKey)},addItemsToGroups:function(f,b){var e=this,a=e.groupItems(f,b,true),d,c,g;for(c=0,g=a.length;c<g;++c){d=a[c];d.group.add(d.items)}},groupItems:function(b,k,d){var l=this,a={},j=[],c=b.getGrouper(),o=l.itemGroupKeys,m,p,r,h,q,e,f,g;for(h=0,f=k.length;h<f;++h){r=c.getGroupString(q=k[h]);e=b.getKey(q);if(d){(o||(l.itemGroupKeys=o={}))[e]=r}else{if(o){delete o[e]}}if(!(m=a[r])){if(!(p=l.getByKey(r))&&d){(g||(g=[])).push(p=l.createGroup(b,r))}j.push(a[r]=m={group:p,items:[]})}m.items.push(q)}if(g){l.add(g)}return j},syncItemGrouping:function(a,m,d,g){var k=this,h=k.itemGroupKeys||(k.itemGroupKeys={}),b=a.getGrouper(),n=b.getGroupString(m),e=0,j,l,c,f;if(g){f=h[g];delete h[g]}else{f=h[d]}h[d]=n;if(!(l=k.get(n))){l=k.createGroup(a,n);j=[l]}if(l.get(d)!==m){l.add(m)}else{l.itemChanged(m)}if(n!==f&&(f===0||f)){c=k.get(f);if(c){c.remove(m);if(!c.length){e=[c]}}}if(j){k.splice(0,e,j)}else{if(e){k.splice(0,e)}}},createGroup:function(b,a){var c=new Ext.util.Group({groupKey:a,rootProperty:this.getItemRoot(),sorters:b.getSorters()});return c},getKey:function(a){return a.getGroupKey()},getGroupByRecord:function(b){var c=this.items,a=c.length,e,d;for(d=0;d<a;d++){e=c[d];if(e.indexOf(b)){return e}}return null}});Ext.define("Ext.data.Store",{extend:Ext.data.ProxyStore,alias:"store.store",mixins:[Ext.data.LocalStore],config:{data:0,clearRemovedOnLoad:true,clearOnPageLoad:true,associatedEntity:null,role:null},addRecordsOptions:{addRecords:true},loadCount:0,complete:false,constructor:function(a){var b=this,c;if(a){if(a.buffered){if(this.self!==Ext.data.Store){Ext.Error.raise("buffered config not supported on derived Store classes. Please derive from Ext.data.BufferedStore.")}return new Ext.data.BufferedStore(a)}if(a.remoteGroup){Ext.log.warn("Ext.data.Store: remoteGroup has been removed. Use remoteSort instead.")}}b.callParent(arguments);c=b.inlineData;if(c){delete b.inlineData;b.loadInlineData(c)}b.getData().addObserver(this)},onCollectionBeginUpdate:function(){this.beginUpdate()},onCollectionEndUpdate:function(){this.endUpdate()},applyData:function(c,a){var b=this;b.getFields();b.getModel();if(!a){a=b.constructDataCollection()}if(c){if(b.isInitializing){b.inlineData=c}else{b.loadData(c)}}return a},loadInlineData:function(d){var c=this,b=c.getProxy(),a;if(b&&b.isMemoryProxy){b.setData(d);a=c.unblockLoad(true);c.suspendEvents();c.read();c.resumeEvents();c.blockLoad(a)}else{c.removeAll(true);c.suspendEvents();c.fireEvent("clear",c);c.loadData(d);c.resumeEvents()}},updateRemoteFilter:function(c){var b=this.getData(),a=this.getFilters();if(c){b.setFilters(null)}else{b.setFilters(a)}this.callParent(arguments)},updateRemoteSort:function(b){var a=this.getData(),c=this.getSorters();if(b){a.setSorters(null)}else{a.setSorters(c)}this.callParent(arguments)},insert:function(c,b){var e=this,a,d;if(b){if(!Ext.isIterable(b)){b=[b]}else{b=Ext.Array.clone(b)}a=b.length}if(!a){return[]}for(d=0;d<a;++d){b[d]=e.createModel(b[d])}e.getData().insert(c,b);return b},onCollectionAdd:function(e,a){var h=this,b=a.items,g=b.length,j=!a.next,c,k,d,f=h.getRemovedRecords();if(h.ignoreCollectionAdd){return}for(c=0;c<g;++c){d=b[c];d.join(h);if(f&&f.length){Ext.Array.remove(f,d)}k=k||d.phantom||d.dirty}h.fireEvent("add",h,b,a.at);if(j){h.fireEvent("datachanged",h)}h.needsSync=h.needsSync||k},onCollectionItemChange:function(e,d){var c=this,a=d.item,b=d.modified;if(c.contains(a)){c.onUpdate(a,"edit",b);c.fireEvent("update",c,a,"edit",b)}},afterEdit:function(a,b){this.needsSync=this.needsSync||a.dirty;this.getData().itemChanged(a,b)},afterDrop:function(a){this.getData().remove(a)},onCollectionFilterAdd:function(d,b){var a=b.length,c;for(c=0;c<a;++c){b[c].join(this)}},add:function(a){return this.insert(this.getCount(),arguments.length===1?a:arguments)},addSorted:function(a){var c=this,e=c.getRemoteSort(),d=c.getData(),b;if(e){d.setSorters(c.getSorters())}b=d.findInsertionIndex(a);if(e){d.setSorters(null)}return c.insert(b,a)},createModel:function(a){if(!a.isModel){var b=this.getModel();a=new b(a,this.getSession())}return a},remove:function(b,j,g){var h=this,c=h.getData(),f,d,a,e;if(b){if(b.isModel){if(h.indexOf(b)>-1){a=[b];f=1}else{f=0}}else{a=[];for(d=0,f=b.length;d<f;++d){e=b[d];if(e&&e.isEntity){if(!c.contains(e)){continue}}else{if(!(e=c.getAt(e))){continue}}a.push(e)}f=a.length}}if(!f){return[]}h.removeIsMove=j===true;h.removeIsSilent=g;c.remove(a);h.removeIsSilent=false;return a},onCollectionRemove:function(f,a){var l=this,g=l.removed,b=a.items,h=a.at,j=b.length,o=l.removeIsMove,k=l.removeIsSilent,n=!a.next,c,d,m,e;if(l.ignoreCollectionRemove){return}for(c=0;c<j;++c){d=b[c];d.unjoin(l);e=!d.phantom;if(g&&!o&&e){d.removedFrom=h+c;g.push(d)}m=m||e}if(!k){l.fireEvent("remove",l,b,h,o);if(n){l.fireEvent("datachanged",l)}}l.needsSync=l.needsSync||(m&&!o)},onFilterEndUpdate:function(){this.callParent(arguments);this.callObservers("Filter")},removeAt:function(a,b){var c=this.getData();a=Math.max(a,0);if(a<c.length){if(arguments.length===1){b=1}else{if(!b){return}}c.removeAt(a,b)}},removeAll:function(b){var c=this,d=c.getData(),e=c.hasListeners.clear,a;if(d.length){c.removeIsSilent=true;c.callObservers("BeforeRemoveAll");if(e){a=d.getRange()}d.removeAll();if(!b){c.fireEvent("clear",c,a);c.fireEvent("datachanged",c)}c.callObservers("AfterRemoveAll",[!!b])}},setRecords:function(a){var b=this.getCount();++this.loadCount;if(b){this.getData().splice(0,b,a)}else{this.add(a)}},splice:function(a,c,b){return this.getData().splice(a,c,b)},load:function(b){var c=this,a=c.getPageSize();if(typeof b==="function"){b={callback:b}}else{b=Ext.apply({},b)}if(c.getRemoteSort()&&!b.grouper&&c.getGrouper()){b.grouper=c.getGrouper()}if(a||"start" in b||"limit" in b||"page" in b){b.page=b.page||c.currentPage;b.start=(b.start!==undefined)?b.start:(b.page-1)*a;b.limit=b.limit||a}b.addRecords=b.addRecords||false;return c.callParent([b])},onProxyLoad:function(b){var e=this,d=b.getResultSet(),a=b.getRecords(),g=b.wasSuccessful(),f,c;if(e.isDestroyed){return}if(d){e.totalCount=d.getTotal()}e.loading=false;if(g){f=e.getSession();c=e.getAssociatedEntity();if(f&&c&&!c.phantom){a=e.getRole().validateAssociationRecords(f,c,a)}e.loadRecords(a,b.getAddRecords()?{addRecords:true}:undefined)}if(e.hasListeners.load){e.fireEvent("load",e,a,g,b)}},getNewRecords:function(){return this.getData().createFiltered(this.filterNew).getRange()},getUpdatedRecords:function(){return this.getData().createFiltered(this.filterUpdated).getRange()},loadData:function(e,a){var d=e.length,c=[],b;for(b=0;b<d;b++){c.push(this.createModel(e[b]))}this.loadRecords(c,a?this.addRecordsOptions:undefined)},loadRawData:function(e,b){var d=this,f=d.getSession(),a=d.getProxy().getReader().read(e,f?{recordCreator:f.recordCreator}:undefined),c=a.getRecords(),g=a.getSuccess();if(g){d.totalCount=a.getTotal();d.loadRecords(c,b?d.addRecordsOptions:undefined)}return g},loadRecords:function(c,j){var g=this,b=c.length,e=g.getData(),a,h,f,d;if(j){a=j.addRecords}f=g.getRemoteSort()||!g.getSortOnLoad();if(f){h=e.getAutoSort();e.setAutoSort(false)}if(!a){g.clearData(true)}g.ignoreCollectionAdd=true;g.callObservers("BeforeLoad");e.add(c);g.ignoreCollectionAdd=false;for(d=0;d<b;d++){c[d].join(g)}if(f){e.setAutoSort(h)}++g.loadCount;g.complete=true;g.fireEvent("datachanged",g);g.fireEvent("refresh",g);g.callObservers("AfterLoad")},loadPage:function(d,a){var c=this,b=c.getPageSize();c.currentPage=d;a=Ext.apply({page:d,start:(d-1)*b,limit:b,addRecords:!c.getClearOnPageLoad()},a);c.read(a)},nextPage:function(a){this.loadPage(this.currentPage+1,a)},previousPage:function(a){this.loadPage(this.currentPage-1,a)},clearData:function(g){var d=this,e=d.getData(),f=d.removed,b,c,a;if(e){b=e.items;for(c=0,a=b.length;c<a;++c){b[c].unjoin(d)}d.ignoreCollectionRemove=true;d.callObservers("BeforeClear");e.removeAll();d.ignoreCollectionRemove=false;d.callObservers("AfterClear")}if(f&&(g!==true||d.getClearRemovedOnLoad())){f.length=0}},onIdChanged:function(c,b,a){this.getData().updateKey(c,b)},commitChanges:function(){var c=this,d=c.getModifiedRecords(),a=d.length,e=c.removed,b=0;for(;b<a;b++){d[b].commit()}if(e){e.length=0}},filterNewOnly:function(a){return a.phantom===true},getRejectRecords:function(){var a=this.getData().createFiltered(this.filterNew).getRange();return Ext.Array.push(a,this.getUpdatedRecords())},rejectChanges:function(){var c=this,d=c.getRejectRecords(),a=d.length,b=0,e;for(;b<a;b++){e=d[b];e.reject();if(e.phantom){c.remove(e)}}d=c.removed;if(d){a=d.length;for(b=a-1;b>=0;b--){e=d[b];c.insert(e.removedFrom||0,e);e.reject()}d.length=0}},onDestroy:function(){var b=this,a=b.loadTask;b.callParent();b.observers=null;if(a){a.cancel();b.loadTask=null}b.getData().destroy();b.setData(null)}});Ext.define("Ext.data.reader.Array",{extend:Ext.data.reader.Json,alternateClassName:"Ext.data.ArrayReader",alias:"reader.array",config:{totalProperty:undefined,successProperty:undefined},createFieldAccessor:function(d){var b=d.mapping,c=d.hasMapping()?b:d.ordinal,a;d.mapping=c;a=this.callParent(arguments);d.mapping=b;return a},getModelData:function(a){return{}}});Ext.define("Ext.data.ArrayStore",{extend:Ext.data.Store,alias:"store.array",alternateClassName:["Ext.data.SimpleStore"],config:{proxy:{type:"memory",reader:"array"}},loadData:function(e,a){if(this.expandData){var d=[],b=0,c=e.length;for(;b<c;b++){d[d.length]=[e[b]]}e=d}this.callParent([e,a])}});Ext.define("Ext.data.PageMap",{extend:Ext.util.LruCache,config:{pageSize:0,rootProperty:""},clear:function(a){var b=this;b.pageMapGeneration=(b.pageMapGeneration||0)+1;b.callParent(arguments)},forEach:function(k,m){var g=this,d=Ext.Object.getKeys(g.map),a=d.length,h=g.getPageSize(),c,b,l,f,e;for(c=0;c<a;c++){d[c]=Number(d[c])}Ext.Array.sort(d);m=m||g;for(c=0;c<a;c++){l=d[c];f=g.getPage(l);e=f.length;for(b=0;b<e;b++){if(k.call(m,f[b],(l-1)*h+b)===false){return}}}},findBy:function(c,b){var d=this,a=null;b=b||d;d.forEach(function(f,e){if(c.call(b,f,e)){a=f;return false}});return a},findIndexBy:function(c,b){var d=this,a=-1;b=b||d;d.forEach(function(f,e){if(c.call(b,f)){a=e;return false}});return a},find:function(g,f,h,d,c,b){if(Ext.isEmpty(f,false)){return null}var e=Ext.String.createRegex(f,d,c,b),a=this.getRootProperty();return this.findBy(function(j){return j&&e.test((a?j[a]:j)[g])},null,h)},findIndex:function(g,f,h,d,c,b){if(Ext.isEmpty(f,false)){return null}var e=Ext.String.createRegex(f,d,c,b),a=this.getRootProperty();return this.findIndexBy(function(j){return j&&e.test((a?j[a]:j)[g])},null,h)},getPageFromRecordIndex:function(a){return Math.floor(a/this.getPageSize())+1},addAll:function(a){if(this.getCount()){Ext.Error.raise("Cannot addAll to a non-empty PageMap")}this.addPage(1,a)},addPage:function(b,c){var e=this,a=e.getPageSize(),g=b+Math.floor((c.length-1)/a),d,f;for(d=0;b<=g;b++,d+=a){f=Ext.Array.slice(c,d,d+a);e.add(b,f);e.fireEvent("pageadded",b,f)}},getCount:function(){var a=this.callParent();if(a){a=(a-1)*this.getPageSize()+this.last.value.length}return a},indexOf:function(a){return a?a.index:-1},insert:function(){Ext.Error.raise("insert operation not suppported into buffered Store")},remove:function(){Ext.Error.raise("remove operation not suppported from buffered Store")},removeAt:function(){Ext.Error.raise("removeAt operation not suppported from buffered Store")},removeAtKey:function(b){var a=this.getPage(b);if(a&&a.value){a.value.length=0}return this.callParent(arguments)},getPage:function(a){return this.get(a)},hasRange:function(d,b){var a=this.getPageFromRecordIndex(d),c=this.getPageFromRecordIndex(b);for(;a<=c;a++){if(!this.hasPage(a)){return false}}return true},hasPage:function(a){return !!this.get(a)},getAt:function(a){return this.getRange(a,a+1)[0]},getRange:function(a,b){b--;if(!this.hasRange(a,b)){Ext.Error.raise("PageMap asked for range which it does not have")}var h=this,j=h.getPageSize(),m=h.getPageFromRecordIndex(a),e=h.getPageFromRecordIndex(b),c=(m-1)*j,o=(e*j)-1,k=m,p=[],n,g,l,d=0,f;for(;k<=e;k++){if(k===m){n=a-c;l=true}else{n=0;l=false}if(k===e){g=j-(o-b);l=true}if(l){Ext.Array.push(p,Ext.Array.slice(h.getPage(k),n,g))}else{Ext.Array.push(p,h.getPage(k))}}for(f=p.length;d<f;d++){p[d].index=a++}return p}});Ext.define("Ext.data.BufferedStore",{extend:Ext.data.ProxyStore,alias:"store.buffered",isBufferedStore:true,buffered:true,config:{data:0,pageSize:25,remoteSort:true,remoteFilter:true,sortOnLoad:false,purgePageCount:5,trailingBufferZone:25,leadingBufferZone:200,defaultViewSize:100,viewSize:0},applyData:function(b){var a=this.data||(this.data=this.createDataCollection());if(b&&b!==true){Ext.Error.raise("Cannot load a buffered store with local data - the store is a map of remote data")}return a},createFiltersCollection:function(){return new Ext.util.FilterCollection()},createSortersCollection:function(){return new Ext.util.SorterCollection()},updateRemoteFilter:function(a){if(a===false){Ext.Error.raise("Buffered stores are always remotely filtered.")}this.callParent(arguments)},updateRemoteSort:function(a){if(a===false){Ext.Error.raise("Buffered stores are always remotely sorted.")}this.callParent(arguments)},updateGroupField:function(a){if(this.isInitializing){this.blockLoad()}this.group(a);if(this.isInitializing){this.unblockLoad()}},getGrouper:function(){return this.grouper},isGrouped:function(){return !!this.grouper},createDataCollection:function(){var b=this,a=new Ext.data.PageMap({store:b,rootProperty:"data",pageSize:b.getPageSize(),maxSize:b.getPurgePageCount(),listeners:{clear:b.onPageMapClear,scope:b}});b.pageRequests={};return a},updateGroupsOnUpdate:function(b,d){var c=this,a=c.getGroupField();if(d&&Ext.Array.contains(d,a)){Ext.Error.raise("Cannot move records between groups in a buffered store record - the store is a map of remote data")}c.callParent(arguments)},add:function(a){Ext.Error.raise("add method may not be called on a buffered store - the store is a map of remote data");this.callParent(arguments)},removeAll:function(a){var b=this,c=b.getData();if(c){if(a){b.suspendEvent("clear")}c.clear();if(a){b.resumeEvent("clear")}}},load:function(a){var b=this;a=a||{};b.getData().clear();a.page=1;a.start=0;a.limit=b.getViewSize()||b.getDefaultViewSize();a.loadCallback=a.callback;delete a.callback;return b.loadToPrefetch(a)},reload:function(l){var g=this,h,b,f,k,e,a,j,c,d=g.getData();if(!l){l={}}delete g.totalCount;d.clear(true);a=function(){if(g.rangeCached(h,b)){g.loading=false;d.un("pageadded",a);c=d.getRange(h,b+1);g.fireEvent("load",g,c,true)}};j=Math.ceil((g.getLeadingBufferZone()+g.getTrailingBufferZone())/2);if(!g.lastRequestStart){h=l.start||0;b=h+(l.count||g.getPageSize())-1}else{h=g.lastRequestStart;b=g.lastRequestEnd}f=g.getPageFromRecordIndex(Math.max(h-j,0));k=g.getPageFromRecordIndex(b+j);if(g.fireEvent("beforeload",g,l)!==false){g.loading=true;d.on("pageadded",a);for(e=f;e<=k;e++){g.prefetchPage(e,l)}}},filter:function(){if(this.remoteSort){this.getData().clear();this.callParent(arguments)}else{Ext.Error.raise("Local filtering may not be used on a buffered store - the store is a map of remote data")}this.callParent(arguments)},clearFilter:function(){this.getData().clear();this.callParent(arguments)},filterBy:function(b,a){Ext.Error.raise("Local filtering may not be used on a buffered store - the store is a map of remote data")},loadData:function(b,a){Ext.Error.raise("LoadData may not be used on a buffered store - the store is a map of remote data")},loadPage:function(c,a){var b=this;a=a||{};a.page=b.currentPage=c;a.start=(c-1)*b.getPageSize();a.limit=b.getViewSize()||b.getDefaultViewSize();a.loadCallback=a.callback;delete a.callback;return b.loadToPrefetch(a)},clearData:function(c){var a=this,b=a.getData();if(b){b.clear()}if(c!==true||a.clearRemovedOnLoad){a.removed.length=0}},doSort:function(){if(this.remoteSort){this.callParent(arguments)}else{Ext.Error.raise("Local sorting may not be used on a buffered store - the store is a map of remote data")}},getRange:function(c,f,k){var j=this,d=j.totalCount-1,e=j.lastRequestStart,l=[],g=j.getData(),b,h,a;k=Ext.apply({prefetchStart:c,prefetchEnd:f},k);f=(f>=j.totalCount)?d:f;h=c===0?0:c-1;a=f===d?f:f+1;j.lastRequestStart=c;j.lastRequestEnd=f;if(j.rangeCached(h,a)){j.onRangeAvailable(k);l=g.getRange(c,f+1)}else{j.fireEvent("cachemiss",j,c,f);b=function(n,m){if(j.rangeCached(h,a)){j.fireEvent("cachefilled",j,c,f);g.un("pageadded",b);j.onRangeAvailable(k)}};g.on("pageadded",b);j.prefetchRange(c,f)}j.primeCache(c,f,c<e?-1:1);return l},getById:function(b){var a=this.data.findBy(function(c){return c.getId()===b});if(!a){Ext.Error.raise("getById called for ID that is not present in local cache")}return a},getByInternalId:function(b){var a;a=this.data.findBy(function(c){return c.internalId===b});return a},indexOf:function(a){return this.getData().indexOf(a)},indexOfId:function(a){return this.indexOf(this.getById(a))},group:function(b,d){var c=this,a;if(b&&typeof b==="string"){a=c.grouper;if(!a){c.grouper=new Ext.util.Grouper({property:b,direction:d||"ASC",root:"data"})}else{if(d===undefined){a.toggle()}else{a.setDirection(d)}}}else{c.grouper=b?c.getSorters().decodeSorter(b,"Ext.util.Grouper"):null}if(c.isLoadBlocked()){return}c.getData().clear();c.loadPage(1,{callback:function(){c.fireEvent("groupchange",c,c.getGrouper())}})},getPageFromRecordIndex:function(a){return Math.floor(a/this.getPageSize())+1},loadToPrefetch:function(p){var l=this,c=p,g=l.getPurgePageCount(),h,b,n,m=p.start,a=p.start+p.limit-1,j=Math.min(a,p.start+(l.getViewSize()||p.limit)-1),k=l.getPageFromRecordIndex(Math.max(m-l.getTrailingBufferZone(),0)),o=l.getPageFromRecordIndex(a+l.getLeadingBufferZone()),f=l.getData(),d=function(){if(l.rangeCached(m,j)){l.loading=false;b=f.getRange(m,j+1);f.un("pageadded",d);if(l.hasListeners.guaranteedrange){l.guaranteeRange(m,j,p.callback,p.scope)}if(p.loadCallback){p.loadCallback.call(p.scope||l,b,e,true)}if(p.callback){p.callback.call(p.scope||l,b,m,a,p)}l.fireEvent("datachanged",l);l.fireEvent("refresh",l);l.fireEvent("load",l,b,true)}},e;if(isNaN(l.pageSize)||!l.pageSize){Ext.Error.raise("Buffered store configured without a pageSize",l)}if(g){f.setMaxSize(g=Math.max(g,o-k+1))}if(l.fireEvent("beforeload",l,p)!==false){delete l.totalCount;l.loading=true;if(p.callback){c=Ext.apply({},p);delete c.callback}l.on("prefetch",function(r,q,t,s){if(t){e=s;if((n=l.getTotalCount())){f.on("pageadded",d);j=Math.min(j,n-1);o=l.getPageFromRecordIndex(Math.min(j+l.getLeadingBufferZone(),n-1));for(h=k+1;h<=o;++h){l.prefetchPage(h,c)}}else{l.fireEvent("datachanged",l);l.fireEvent("refresh",l);l.fireEvent("load",l,q,true)}}else{l.fireEvent("load",l,q,false)}},null,{single:true});l.prefetchPage(k,c)}},prefetch:function(c){var e=this,a=e.getPageSize(),f=e.getData(),d,b;if(a){if(e.lastPageSize&&a!=e.lastPageSize){Ext.Error.raise("pageSize cannot be dynamically altered")}if(!f.pageSize){f.pageSize=a}}else{e.pageSize=f.pageSize=a=c.limit}e.lastPageSize=a;if(!c.page){c.page=e.getPageFromRecordIndex(c.start);c.start=(c.page-1)*a;c.limit=Math.ceil(c.limit/a)*a}if(!e.pageRequests[c.page]){d=e.proxy;c=Ext.apply({action:"read",filters:e.getFilters().items,sorters:e.getSorters().items,grouper:e.getGrouper(),internalCallback:e.onProxyPrefetch,internalScope:e},c);b=d.createOperation("read",c);b.pageMapGeneration=f.pageMapGeneration;if(e.fireEvent("beforeprefetch",e,b)!==false){e.pageRequests[c.page]=b.execute();if(d.isSynchronous){delete e.pageRequests[c.page]}}}return e},onPageMapClear:function(){var d=this,c=d.wasLoading,a=d.pageRequests,f=d.getData(),b,e;f.clearListeners();f.on("clear",d.onPageMapClear,d);d.loading=true;d.totalCount=0;for(e in a){if(a.hasOwnProperty(e)){b=a[e];delete a[e];delete b.callback}}d.fireEvent("clear",d);d.loading=c},prefetchPage:function(e,b){var d=this,a=d.getPageSize(),f=(e-1)*a,c=d.totalCount;if(c!==undefined&&d.getCount()===c){return}d.prefetch(Ext.applyIf({page:e,start:f,limit:a},b))},onProxyPrefetch:function(c){var e=this,d=c.getResultSet(),b=c.getRecords(),g=c.wasSuccessful(),f=c.getPage(),a=e.totalCount;if(c.pageMapGeneration===e.getData().pageMapGeneration){if(d){e.totalCount=d.getTotal();if(e.totalCount!==a){e.fireEvent("totalcountchange",e.totalCount)}}if(f!==undefined){delete e.pageRequests[f]}e.loading=false;e.fireEvent("prefetch",e,b,g,c);if(g){e.cachePage(b,c.getPage())}Ext.callback(c.getCallback(),c.getScope()||e,[b,c,g])}},cachePage:function(b,e){var d=this,a=b.length,c;if(!Ext.isDefined(d.totalCount)){d.totalCount=b.length;d.fireEvent("totalcountchange",d.totalCount)}for(c=0;c<a;c++){b[c].join(d)}d.getData().addPage(e,b)},rangeCached:function(b,a){return this.getData().hasRange(b,a)},pageCached:function(a){return this.getData().hasPage(a)},pagePending:function(a){return !!this.pageRequests[a]},rangeSatisfied:function(b,a){return this.rangeCached(b,a)},onRangeAvailable:function(d){var e=this,b=e.getTotalCount(),f=d.prefetchStart,a=(d.prefetchEnd>b-1)?b-1:d.prefetchEnd,c;a=Math.max(0,a);if(f>a){Ext.log({level:"warn",msg:"Start ("+f+") was greater than end ("+a+") for the range of records requested ("+f+"-"+d.prefetchEnd+")"+(this.storeId?' from store "'+this.storeId+'"':"")})}c=e.getData().getRange(f,a+1);if(d.fireEvent!==false){e.fireEvent("guaranteedrange",c,f,a,d)}if(d.callback){d.callback.call(d.scope||e,c,f,a,d)}},guaranteeRange:function(e,a,d,c,b){b=Ext.apply({callback:d,scope:c},b);this.getRange(e,a+1,b)},prefetchRange:function(g,b){var e=this,d=e.getPurgePageCount(),c,a,f;if(!e.rangeCached(g,b)){c=e.getPageFromRecordIndex(g);a=e.getPageFromRecordIndex(b);e.getData().setMaxSize(d?(a-c+1)+d:0);for(f=c;f<=a;f++){if(!e.pageCached(f)){e.prefetchPage(f)}}}},primeCache:function(h,c,g){var f=this,e=f.getLeadingBufferZone(),d=f.getTrailingBufferZone(),b=f.getPageSize(),a=f.totalCount;if(g===-1){h=Math.max(h-e,0);c=Math.min(c+d,a-1)}else{if(g===1){h=Math.max(Math.min(h-d,a-b),0);c=Math.min(c+e,a-1)}else{h=Math.min(Math.max(Math.floor(h-((e+d)/2)),0),a-f.pageSize);c=Math.min(Math.max(Math.ceil(c+((e+d)/2)),0),a-1)}}f.prefetchRange(h,c)},sort:function(){this.getData().clear();this.loadPage(1)}});Ext.define("Ext.data.Request",{config:{action:undefined,params:undefined,method:"GET",url:null,operation:null,proxy:null,disableCaching:false,headers:{},callbackKey:null,rawRequest:null,jsonData:undefined,xmlData:undefined,withCredentials:false,username:null,password:null,binary:false,callback:null,scope:null,timeout:30000,records:null,directFn:null,args:null,useDefaultXhrHeader:null},constructor:function(a){this.initConfig(a)},getParam:function(a){var c=this.getParams(),b;if(c){return c[a]}return b},setParam:function(a,b){var c=this.getParams()||{};c[a]=b;this.setParams(c)}});Ext.define("Ext.data.StoreManager",{extend:Ext.util.MixedCollection,alternateClassName:["Ext.StoreMgr","Ext.data.StoreMgr","Ext.StoreManager"],singleton:true,register:function(){for(var a=0,b;(b=arguments[a]);a++){this.add(b)}},unregister:function(){for(var a=0,b;(b=arguments[a]);a++){this.remove(this.lookup(b))}},lookup:function(c){if(Ext.isArray(c)){var b=["field1"],e=!Ext.isArray(c[0]),f=c,d,a;if(e){f=[];for(d=0,a=c.length;d<a;++d){f.push([c[d]])}}else{for(d=2,a=c[0].length;d<=a;++d){b.push("field"+d)}}return new Ext.data.ArrayStore({data:f,fields:b,autoDestroy:true,autoCreated:true,expanded:e})}if(Ext.isString(c)){return this.get(c)}else{return Ext.Factory.store(c)}},getKey:function(a){return a.storeId}},function(){Ext.regStore=function(d,c){var b;if(Ext.isObject(d)){c=d}else{if(Ext.data.StoreManager.containsKey(d)){return Ext.data.StoreManager.lookup(d)}c.storeId=d}if(c instanceof Ext.data.Store){b=c}else{b=new Ext.data.Store(c)}Ext.data.StoreManager.register(b);return b};Ext.getStore=function(b){return Ext.data.StoreManager.lookup(b)};var a=Ext.regStore("ext-empty-store",{proxy:"memory",useModelWarning:false});a.isEmptyStore=true;a.add=a.remove=a.insert=function(){Ext.Error.raise("Cannot modify ext-empty-store")}});Ext.define("Ext.mixin.Queryable",{mixinId:"queryable",isQueryable:true,query:function(a){a=a||"*";return Ext.ComponentQuery.query(a,this.getQueryRoot())},queryBy:function(f,e){var c=[],b=this.getQueryRoot().getRefItems(true),d=0,a=b.length,g;for(;d<a;++d){g=b[d];if(f.call(e||g,g)!==false){c.push(g)}}return c},queryById:function(a){return this.down(Ext.makeIdSelector(a))},child:function(a){var b=this.getQueryRoot().getRefItems();if(a&&a.isComponent){return this.matchById(b,a.getItemId())}if(a){b=Ext.ComponentQuery.query(a,b)}if(b.length){return b[0]}return null},down:function(a){if(a&&a.isComponent){return this.matchById(this.getRefItems(true),a.getItemId())}a=a||"";return this.query(a)[0]||null},visitPreOrder:function(a,d,c,b){Ext.ComponentQuery._visit(true,a,this.getQueryRoot(),d,c,b)},visitPostOrder:function(a,d,c,b){Ext.ComponentQuery._visit(false,a,this.getQueryRoot(),d,c,b)},getRefItems:function(){return[]},getQueryRoot:function(){return this},privates:{matchById:function(b,e){var a=b.length,c,d;for(c=0;c<a;++c){d=b[c];if(d.getItemId()===e){return d}}return null}}});Ext.define("Ext.data.Validation",{extend:Ext.data.Model,isValidation:true,syncGeneration:0,attach:function(a){this.record=a;delete this.data.id},getValidation:function(){return null},isValid:function(){var a=this;if(a.syncGeneration!==a.record.generation){a.refresh()}return a.dirty},refresh:function(b){var u=this,v=u.data,d=u.record,k=d.fields,o=d.generation,m=d.validators,t=d.data,e,h=d.validationSeparator,c=null,g,l,a,s,p,n,r,q,f,x,w;if(b||u.syncGeneration!==o){u.syncGeneration=o;for(p=0,q=k.length;p<q;++p){a=k[p];w=a.name;x=t[w];e=a.defaultInvalidMessage;l=0;if(!(w in v)){v[w]=g=true}else{g=v[w]}if(a.validate!==Ext.emptyFn){f=a.validate(x,h);if(f!==true){l=f||e}}if((h||!l)&&m){s=m[w];if(s){for(n=0,r=s.length;n<r;++n){f=s[n].validate(x,u);if(f!==true){if(l){l+=h;l+=f||e}else{l=f||e;if(!h){break}}}}}}if(!l){l=true}if(l!==g){(c||(c={}))[w]=l}}if(c){u.set(c)}}}});Ext.define("Ext.data.identifier.Negative",{extend:Ext.data.identifier.Sequential,alias:"data.identifier.negative",config:{increment:-1,seed:-1}});Ext.define("Ext.dom.CompositeElement",{alternateClassName:"Ext.CompositeElement",extend:Ext.dom.CompositeElementLite,isLite:false,getElement:function(a){return a},transformElement:function(a){return Ext.get(a)}});Ext.define("Ext.fx.easing.Abstract",{config:{startTime:0,startValue:0},isEasing:true,isEnded:false,constructor:function(a){this.initConfig(a);return this},applyStartTime:function(a){if(!a){a=Ext.Date.now()}return a},updateStartTime:function(a){this.reset()},reset:function(){this.isEnded=false},getValue:Ext.emptyFn});Ext.define("Ext.fx.easing.Bounce",{extend:Ext.fx.easing.Abstract,config:{springTension:0.3,acceleration:30,startVelocity:0},getValue:function(){var b=Ext.Date.now()-this.getStartTime(),c=(b/this.getAcceleration()),a=c*Math.pow(Math.E,-this.getSpringTension()*c);return this.getStartValue()+(this.getStartVelocity()*a)}});Ext.define("Ext.fx.easing.Momentum",{extend:Ext.fx.easing.Abstract,config:{acceleration:30,friction:0,startVelocity:0},alpha:0,updateFriction:function(b){var a=Math.log(1-(b/10));this.theta=a;this.alpha=a/this.getAcceleration()},updateStartVelocity:function(a){this.velocity=a*this.getAcceleration()},updateAcceleration:function(a){this.velocity=this.getStartVelocity()*a;this.alpha=this.theta/a},getValue:function(){return this.getStartValue()-this.velocity*(1-this.getFrictionFactor())/this.theta},getFrictionFactor:function(){var a=Ext.Date.now()-this.getStartTime();return Math.exp(a*this.alpha)},getVelocity:function(){return this.getFrictionFactor()*this.velocity}});Ext.define("Ext.fx.easing.BoundMomentum",{extend:Ext.fx.easing.Abstract,config:{momentum:null,bounce:null,minMomentumValue:0,maxMomentumValue:0,minVelocity:0.01,startVelocity:0},applyMomentum:function(a,b){return Ext.factory(a,Ext.fx.easing.Momentum,b)},applyBounce:function(a,b){return Ext.factory(a,Ext.fx.easing.Bounce,b)},updateStartTime:function(a){this.getMomentum().setStartTime(a);this.callParent(arguments)},updateStartVelocity:function(a){this.getMomentum().setStartVelocity(a)},updateStartValue:function(a){this.getMomentum().setStartValue(a)},reset:function(){this.lastValue=null;this.isBouncingBack=false;this.isOutOfBound=false;return this.callParent(arguments)},getValue:function(){var a=this.getMomentum(),k=this.getBounce(),e=a.getStartVelocity(),f=e>0?1:-1,g=this.getMinMomentumValue(),d=this.getMaxMomentumValue(),c=(f==1)?d:g,h=this.lastValue,j,b;if(e===0){return this.getStartValue()}if(!this.isOutOfBound){j=a.getValue();b=a.getVelocity();if(Math.abs(b)<this.getMinVelocity()){this.isEnded=true}if(j>=g&&j<=d){return j}this.isOutOfBound=true;k.setStartTime(Ext.Date.now()).setStartVelocity(b).setStartValue(c)}j=k.getValue();if(!this.isEnded){if(!this.isBouncingBack){if(h!==null){if((f==1&&j<h)||(f==-1&&j>h)){this.isBouncingBack=true}}}else{if(Math.round(j)==c){this.isEnded=true}}}this.lastValue=j;return j}});Ext.define("Ext.fx.easing.Linear",{extend:Ext.fx.easing.Abstract,alias:"easing.linear",config:{duration:0,endValue:0},updateStartValue:function(a){this.distance=this.getEndValue()-a},updateEndValue:function(a){this.distance=a-this.getStartValue()},getValue:function(){var a=Ext.Date.now()-this.getStartTime(),b=this.getDuration();if(a>b){this.isEnded=true;return this.getEndValue()}else{return this.getStartValue()+((a/b)*this.distance)}}});Ext.define("Ext.fx.easing.EaseOut",{extend:Ext.fx.easing.Linear,alias:"easing.ease-out",config:{exponent:4,duration:1500},getValue:function(){var f=Ext.Date.now()-this.getStartTime(),d=this.getDuration(),b=this.getStartValue(),h=this.getEndValue(),a=this.distance,c=f/d,g=1-c,e=1-Math.pow(g,this.getExponent()),j=b+(e*a);if(f>=d){this.isEnded=true;return h}return j}});Ext.define("Ext.perf.Accumulator",function(){var c=null,g=Ext.global.chrome,d,b=function(){b=Ext.now;var l,m;if(Ext.isChrome&&g&&g.Interval){l=new g.Interval();l.start();b=function(){return l.microseconds()/1000}}else{if(window.ActiveXObject){try{m=new ActiveXObject("SenchaToolbox.Toolbox");Ext.senchaToolbox=m;b=function(){return m.milliseconds}}catch(n){}}}Ext.perf.getTimestamp=Ext.perf.Accumulator.getTimestamp=b;return b()};function h(m,l){m.sum+=l;m.min=Math.min(m.min,l);m.max=Math.max(m.max,l)}function e(o){var m=o?o:(b()-this.time),n=this,l=n.accum;++l.count;if(!--l.depth){h(l.total,m)}h(l.pure,m-n.childTime);c=n.parent;if(c){++c.accum.childCount;c.childTime+=m}}function a(){return{min:Number.MAX_VALUE,max:0,sum:0}}function j(m,l){return function(){var o=m.enter(),n=l.apply(this,arguments);o.leave();return n}}function k(l){return Math.round(l*100)/100}function f(n,m,l,p){var o={avg:0,min:p.min,max:p.max,sum:0};if(n){l=l||0;o.sum=p.sum-m*l;o.avg=o.sum/n}return o}return{constructor:function(l){var m=this;m.count=m.childCount=m.depth=m.maxDepth=0;m.pure=a();m.total=a();m.name=l},statics:{getTimestamp:b},format:function(l){if(!d){d=new Ext.XTemplate(["{name} - {count} call(s)",'<tpl if="count">','<tpl if="childCount">'," ({childCount} children)","</tpl>",'<tpl if="depth - 1">'," ({depth} deep)","</tpl>",'<tpl for="times">',", {type}: {[this.time(values.sum)]} msec (","avg={[this.time(values.sum / parent.count)]}",")","</tpl>","</tpl>"].join(""),{time:function(n){return Math.round(n*100)/100}})}var m=this.getData(l);m.name=this.name;m.pure.type="Pure";m.total.type="Total";m.times=[m.pure,m.total];return d.apply(m)},getData:function(l){var m=this;return{count:m.count,childCount:m.childCount,depth:m.maxDepth,pure:f(m.count,m.childCount,l,m.pure),total:f(m.count,m.childCount,l,m.total)}},enter:function(){var l=this,m={accum:l,leave:e,childTime:0,parent:c};++l.depth;if(l.maxDepth<l.depth){l.maxDepth=l.depth}c=m;m.time=b();return m},monitor:function(n,m,l){var o=this.enter();if(l){n.apply(m,l)}else{n.call(m)}o.leave()},report:function(){Ext.log(this.format())},tap:function(t,v){var u=this,o=typeof v=="string"?[v]:v,s,w,q,p,n,m,l,r;r=function(){if(typeof t=="string"){s=Ext.global;p=t.split(".");for(q=0,n=p.length;q<n;++q){s=s[p[q]]}}else{s=t}for(q=0,n=o.length;q<n;++q){m=o[q];w=m.charAt(0)=="!";if(w){m=m.substring(1)}else{w=!(m in s.prototype)}l=w?s:s.prototype;l[m]=j(u,l[m])}};Ext.ClassManager.onCreated(r,u,t);return u}}},function(){Ext.perf.getTimestamp=this.getTimestamp});Ext.define("Ext.perf.Monitor",{singleton:true,alternateClassName:"Ext.Perf",constructor:function(){this.accumulators=[];this.accumulatorsByName={}},calibrate:function(){var b=new Ext.perf.Accumulator("$"),f=b.total,c=Ext.perf.Accumulator.getTimestamp,e=0,g,a,d;d=c();do{g=b.enter();g.leave();++e}while(f.sum<100);a=c();return(a-d)/e},get:function(b){var c=this,a=c.accumulatorsByName[b];if(!a){c.accumulatorsByName[b]=a=new Ext.perf.Accumulator(b);c.accumulators.push(a)}return a},enter:function(a){return this.get(a).enter()},monitor:function(a,c,b){this.get(a).monitor(c,b)},report:function(){var c=this,b=c.accumulators,a=c.calibrate();b.sort(function(e,d){return(e.name<d.name)?-1:((d.name<e.name)?1:0)});c.updateGC();Ext.log("Calibration: "+Math.round(a*100)/100+" msec/sample");Ext.each(b,function(d){Ext.log(d.format(a))})},getData:function(c){var b={},a=this.accumulators;Ext.each(a,function(d){if(c||d.count){b[d.name]=d.getData()}});return b},reset:function(){Ext.each(this.accumulators,function(a){var b=a;b.count=b.childCount=b.depth=b.maxDepth=0;b.pure={min:Number.MAX_VALUE,max:0,sum:0};b.total={min:Number.MAX_VALUE,max:0,sum:0}})},updateGC:function(){var a=this.accumulatorsByName.GC,b=Ext.senchaToolbox,c;if(a){a.count=b.garbageCollectionCounter||0;if(a.count){c=a.pure;a.total.sum=c.sum=b.garbageCollectionMilliseconds;c.min=c.max=c.sum/a.count;c=a.total;c.min=c.max=c.sum/a.count}}},watchGC:function(){Ext.perf.getTimestamp();var a=Ext.senchaToolbox;if(a){this.get("GC");a.watchGarbageCollector(false)}},setup:function(c){if(!c){c={render:{"Ext.Component":"render"},layout:{"Ext.layout.Context":"run"}}}this.currentConfig=c;var d,f,b,e,a;for(d in c){if(c.hasOwnProperty(d)){f=c[d];b=Ext.Perf.get(d);for(e in f){if(f.hasOwnProperty(e)){a=f[e];b.tap(e,a)}}}}this.watchGC()}});Ext.define("Ext.util.translatable.Abstract",{extend:Ext.Evented,config:{useWrapper:null,easing:null,easingX:null,easingY:null},x:0,y:0,activeEasingX:null,activeEasingY:null,isAnimating:false,isTranslatable:true,constructor:function(a){this.mixins.observable.constructor.call(this,a);this.position={x:0,y:0}},factoryEasing:function(a){return Ext.factory(a,Ext.fx.easing.Linear,null,"easing")},applyEasing:function(a){if(!this.getEasingX()){this.setEasingX(this.factoryEasing(a))}if(!this.getEasingY()){this.setEasingY(this.factoryEasing(a))}},applyEasingX:function(a){return this.factoryEasing(a)},applyEasingY:function(a){return this.factoryEasing(a)},doTranslate:Ext.emptyFn,translate:function(a,c,b){if(b){return this.translateAnimated(a,c,b)}if(this.isAnimating){this.stopAnimation()}if(!isNaN(a)&&typeof a=="number"){this.x=a}if(!isNaN(c)&&typeof c=="number"){this.y=c}this.doTranslate(a,c)},translateAxis:function(b,d,c){var a,e;if(b=="x"){a=d}else{e=d}return this.translate(a,e,c)},getPosition:function(){var b=this,a=b.position;a.x=-b.x;a.y=-b.y;return a},animate:function(b,a){this.activeEasingX=b;this.activeEasingY=a;this.isAnimating=true;this.lastX=null;this.lastY=null;Ext.AnimationQueue.start(this.doAnimationFrame,this);this.fireEvent("animationstart",this,this.x,this.y);return this},translateAnimated:function(b,h,f){var e=this;if(!Ext.isObject(f)){f={}}if(e.isAnimating){e.stopAnimation()}e.callback=f.callback;e.callbackScope=f.scope;var d=Ext.Date.now(),g=f.easing,c=(typeof b=="number")?(f.easingX||g||e.getEasingX()||true):null,a=(typeof h=="number")?(f.easingY||g||e.getEasingY()||true):null;if(c){c=e.factoryEasing(c);c.setStartTime(d);c.setStartValue(e.x);c.setEndValue(b);if("duration" in f){c.setDuration(f.duration)}}if(a){a=e.factoryEasing(a);a.setStartTime(d);a.setStartValue(e.y);a.setEndValue(h);if("duration" in f){a.setDuration(f.duration)}}return e.animate(c,a)},doAnimationFrame:function(){var e=this,c=e.activeEasingX,b=e.activeEasingY,d=Date.now(),a,f;if(!e.isAnimating){return}e.lastRun=d;if(c===null&&b===null){e.stopAnimation();return}if(c!==null){e.x=a=Math.round(c.getValue());if(c.isEnded){e.activeEasingX=null;e.fireEvent("axisanimationend",e,"x",a)}}else{a=e.x}if(b!==null){e.y=f=Math.round(b.getValue());if(b.isEnded){e.activeEasingY=null;e.fireEvent("axisanimationend",e,"y",f)}}else{f=e.y}if(e.lastX!==a||e.lastY!==f){e.doTranslate(a,f);e.lastX=a;e.lastY=f}e.fireEvent("animationframe",e,a,f)},stopAnimation:function(){var a=this;if(!a.isAnimating){return}a.activeEasingX=null;a.activeEasingY=null;a.isAnimating=false;Ext.AnimationQueue.stop(a.doAnimationFrame,a);a.fireEvent("animationend",a,a.x,a.y);if(a.callback){a.callback.call(a.callbackScope);a.callback=null}},refresh:function(){this.translate(this.x,this.y)},destroy:function(){if(this.isAnimating){this.stopAnimation()}this.callParent(arguments)}});Ext.define("Ext.util.translatable.Dom",{extend:Ext.util.translatable.Abstract,config:{element:null},applyElement:function(a){if(!a){return}return Ext.get(a)},updateElement:function(){this.refresh()}});Ext.define("Ext.util.translatable.CssTransform",{extend:Ext.util.translatable.Dom,doTranslate:function(a,c){var b=this.getElement();if(!this.isDestroyed&&!b.isDestroyed){b.translate(a,c)}},destroy:function(){var a=this.getElement();if(a&&!a.isDestroyed){a.dom.style.webkitTransform=null}this.callSuper()}});Ext.define("Ext.util.translatable.ScrollPosition",{extend:Ext.util.translatable.Dom,type:"scrollposition",config:{useWrapper:true},getWrapper:function(){var c=this.wrapper,b=this.getElement(),a;if(!c){a=b.getParent();if(!a){return null}if(a.hasCls(Ext.baseCSSPrefix+"translatable-hboxfix")){a=a.getParent()}if(this.getUseWrapper()){c=b.wrap()}else{c=a}b.addCls("x-translatable");c.addCls("x-translatable-container");this.wrapper=c;c.on("painted",function(){if(!this.isAnimating){this.refresh()}},this);this.refresh()}return c},doTranslate:function(a,d){var c=this.getWrapper(),b;if(c){b=c.dom;if(typeof a=="number"){b.scrollLeft=500000-a}if(typeof d=="number"){b.scrollTop=500000-d}}},destroy:function(){var a=this.getElement(),b=this.wrapper;if(b){if(!a.isDestroyed){if(this.getUseWrapper()){b.doReplaceWith(a)}a.removeCls("x-translatable")}if(!b.isDestroyed){b.removeCls("x-translatable-container");b.un("painted","refresh",this)}delete this.wrapper;delete this._element}this.callSuper()}});Ext.define("Ext.util.translatable.ScrollParent",{extend:Ext.util.translatable.Dom,applyElement:function(a){var b=Ext.get(a);this.parent=b.parent();return b},doTranslate:function(a,c){var b=this.parent;b.setScrollLeft(Math.round(-a));b.setScrollTop(Math.round(-c))},getPosition:function(){var c=this,a=c.position,b=c.parent;a.x=b.getScrollLeft();a.y=b.getScrollTop();return a}});Ext.define("Ext.util.translatable.CssPosition",{extend:Ext.util.translatable.Dom,doTranslate:function(a,c){var b=this.getElement().dom.style;if(typeof a=="number"){b.left=a+"px"}if(typeof c=="number"){b.top=c+"px"}},destroy:function(){var a=this.getElement().dom.style;a.left=null;a.top=null;this.callParent(arguments)}});Ext.define("Ext.util.Translatable",{constructor:function(a){var b=Ext.util.translatable;switch(Ext.browser.getPreferredTranslationMethod(a)){case"scrollposition":return new b.ScrollPosition(a);case"scrollparent":return new b.ScrollParent(a);case"csstransform":return new b.CssTransform(a);case"cssposition":return new b.CssPosition(a)}}});Ext.define("Ext.scroll.Scroller",{extend:Ext.Evented,config:{element:null,direction:"auto",fps:"auto",disabled:null,directionLock:false,momentumEasing:{momentum:{acceleration:30,friction:0.5},bounce:{acceleration:30,springTension:0.3},minVelocity:1},bounceEasing:{duration:400},outOfBoundRestrictFactor:0.5,startMomentumResetTime:300,maxAbsoluteVelocity:6,containerSize:"auto",size:"auto",autoRefresh:true,initialOffset:{x:0,y:0},slotSnapSize:{x:0,y:0},slotSnapOffset:{x:0,y:0},slotSnapEasing:{duration:150},translatable:{translationMethod:"auto",useWrapper:false},mouseEnabled:false,snapToBoundary:true},statics:{instances:{}},cls:Ext.baseCSSPrefix+"scroll-scroller",containerCls:Ext.baseCSSPrefix+"scroll-container",dragStartTime:0,dragEndTime:0,isDragging:false,isAnimating:false,isMouseEvent:{mousedown:1,mousemove:1,mouseup:1},constructor:function(a){var c=this,b=a&&a.element,d="onEvent";c.listenerMap={touchstart:"onTouchStart",touchend:"onTouchEnd",dragstart:"onDragStart",drag:"onDrag",dragend:"onDragEnd"};c.listeners={touchstart:d,touchend:d,dragstart:d,drag:d,dragend:d,scope:c};c.minPosition={x:0,y:0};c.startPosition={x:0,y:0};c.velocity={x:0,y:0};c.isAxisEnabledFlags={x:false,y:false};c.flickStartPosition={x:0,y:0};c.flickStartTime={x:0,y:0};c.lastDragPosition={x:0,y:0};c.dragDirection={x:0,y:0};c.initialConfig=a;if(b){c.setElement(b)}c.self.instances[c.id]=c;return this},initialize:function(){var a=this;if(!a.initialized){a.mixins.observable.constructor.call(a,a.initialConfig);a.initialized=true}},applyElement:function(a){if(!a){return}return Ext.get(a)},updateElement:function(c){var e=this;e.initialize();if(!e.FixedHBoxStretching){c.addCls(e.cls)}if(!e.getDisabled()){e.attachListeners()}var d=function(){e.refreshMaxPosition()},f=Ext.Function.createSequence,b=e.updateContainerSize,a=e.updateSize;e.updateContainerSize=b?f(b,d):d;e.updateSize=a?f(a,d):d;e.on({maxpositionchange:"snapToBoundary",minpositionchange:"snapToBoundary",scope:e});return e},applyTranslatable:function(b,a){return Ext.factory(b,Ext.util.Translatable,a)},updateTranslatable:function(a){a.setConfig({element:this.getElement(),listeners:{animationframe:"onAnimationFrame",animationend:"onAnimationEnd",scope:this}})},updateFps:function(a){if(a!=="auto"){this.getTranslatable().setFps(a)}},attachListeners:function(){this.getContainer().on(this.listeners)},detachListeners:function(){this.getContainer().un(this.listeners)},updateDisabled:function(a){if(a){this.detachListeners()}else{this.attachListeners()}},updateInitialOffset:function(a){if(typeof a=="number"){a={x:a,y:a}}this.getTranslatable().translate(-a.x,-a.y)},applyDirection:function(a){var e=this.getMinPosition(),d=this.getMaxPosition(),c,b;this.givenDirection=a;if(a==="auto"){c=d.x>e.x;b=d.y>e.y;if(c&&b){a="both"}else{if(c){a="horizontal"}else{a="vertical"}}}return a},updateDirection:function(f,e){var b=this.isAxisEnabledFlags,d=this.cls+"-vertical",a=this.cls+"-horizontal",c=this.getElement();if(e==="both"||e==="horizontal"){c.removeCls(a)}if(e==="both"||e==="vertical"){c.removeCls(d)}b.x=b.y=false;if(f==="both"||f==="horizontal"){b.x=true;c.addCls(a)}if(f==="both"||f==="vertical"){b.y=true;c.addCls(d)}},isAxisEnabled:function(a){this.getDirection();return this.isAxisEnabledFlags[a]},applyMomentumEasing:function(b){var a=Ext.fx.easing.BoundMomentum;return{x:Ext.factory(b,a),y:Ext.factory(b,a)}},applyBounceEasing:function(b){var a=Ext.fx.easing.EaseOut;return{x:Ext.factory(b,a),y:Ext.factory(b,a)}},updateBounceEasing:function(a){this.getTranslatable().setEasingX(a.x).setEasingY(a.y)},applySlotSnapEasing:function(b){var a=Ext.fx.easing.EaseOut;return{x:Ext.factory(b,a),y:Ext.factory(b,a)}},getPosition:function(){return this.getTranslatable().getPosition()},getMinPosition:function(){var a=this.minPosition;if(!a){this.minPosition=a={x:0,y:0};this.fireEvent("minpositionchange",this,a)}return a},getMaxPosition:function(){var c=this.maxPosition,a,b;if(!c){a=this.getSize();b=this.getContainerSize();this.maxPosition=c={x:Math.max(0,a.x-b.x),y:Math.max(0,a.y-b.y)};this.fireEvent("maxpositionchange",this,c)}return c},refreshMaxPosition:function(){this.maxPosition=null;this.getMaxPosition()},applyContainerSize:function(b){var c=this.getContainer().dom,a,d;if(!c){return}this.givenContainerSize=b;if(b==="auto"){a=c.clientWidth;d=c.clientHeight}else{a=b.x;d=b.y}return{x:a,y:d}},applySize:function(b){var d=this.getElement().dom,c=this.getContainer().dom,a,e;if(!d){return}this.givenSize=b;if(b==="auto"){a=Math.max(d.offsetWidth,c.clientWidth);e=Math.max(d.offsetHeight,c.clientHeight)}else{if(typeof b=="number"){a=b;e=b}else{a=b.x;e=b.y}}return{x:a,y:e}},updateAutoRefresh:function(a){this.getElement().toggleListener(a,"resize","onElementResize",this);this.getContainer().toggleListener(a,"resize","onContainerResize",this)},applySlotSnapSize:function(a){if(typeof a=="number"){return{x:a,y:a}}return a},applySlotSnapOffset:function(a){if(typeof a=="number"){return{x:a,y:a}}return a},getContainer:function(){var a=this.container,b;if(!a){b=this.getElement().getParent();this.container=a=this.FixedHBoxStretching?b.getParent():b;if(!a){Ext.Logger.error("Making an element scrollable that doesn't have any container")}a.addCls(this.containerCls)}return a},refresh:function(){this.stopAnimation();this.getTranslatable().refresh();this.setSize(this.givenSize);this.setContainerSize(this.givenContainerSize);this.setDirection(this.givenDirection);this.fireEvent("refresh",this);return this},onElementResize:function(a,b){this.setSize({x:b.width,y:b.height});this.refresh()},onContainerResize:function(a,b){this.setContainerSize({x:b.width,y:b.height});this.refresh()},scrollTo:function(h,g,b){var f=this,a;if(f.isDestroyed){return f}if(typeof h!="number"&&arguments.length===1){Ext.Logger.deprecate("Calling scrollTo() with an object argument is deprecated, please pass x and y arguments instead",f);g=h.y;h=h.x}var j=f.getTranslatable(),c=f.getPosition(),k=false,e,d;if(f.isAxisEnabled("x")){if(isNaN(h)||typeof h!="number"){h=c.x}else{if(c.x!==h){k=true}}e=this.convertX(-h)}if(f.isAxisEnabled("y")){if(isNaN(g)||typeof g!="number"){g=c.y}else{if(c.y!==g){k=true}}d=-g}if(k){if(b!==undefined&&b!==false){a=function(){f.fireEvent("scroll",f,h,g)};if(b===true){b={callback:a}}else{if(b.callback){b.callback=Ext.Function.createSequence(b.callback,a)}else{b.callback=a}}j.translateAnimated(e,d,b)}else{j.translate(e,d);f.fireEvent("scroll",f,h,g)}}return this},scrollToTop:function(b){var a=this.getInitialOffset();return this.scrollTo(a.x,a.y,b)},scrollToEnd:function(c){var b=this.getSize(),a=this.getContainerSize();return this.scrollTo(b.x-a.x,b.y-a.y,c)},scrollBy:function(b,d,c){var a=this.getPosition();b=(typeof b=="number")?b+a.x:null;d=(typeof d=="number")?d+a.y:null;return this.scrollTo(b,d,c)},onEvent:function(b){var a=this,c=b.browserEvent;if(!Ext.supports.Touch||a.getMouseEnabled()||(!a.isMouseEvent[c.type]&&c.pointerType!=="mouse")){a[a.listenerMap[b.type]](b)}},onTouchStart:function(){this.isTouching=this.self.isTouching=true;this.stopAnimation()},onTouchEnd:function(){var a=this.getPosition();this.isTouching=this.self.isTouching=false;if(!this.isDragging&&this.snapToSlot()){this.fireEvent("scrollstart",this,a.x,a.y)}},onDragStart:function(m){var p=this.getDirection(),g=m.absDeltaX,f=m.absDeltaY,k=this.getDirectionLock(),j=this.startPosition,d=this.flickStartPosition,l=this.flickStartTime,h=this.lastDragPosition,c=this.getPosition(),b=this.dragDirection,o=c.x,n=c.y,a=Ext.Date.now();this.isDragging=true;if(k&&p!=="both"){if((p==="horizontal"&&g>f)||(p==="vertical"&&f>g)){m.stopPropagation()}else{this.isDragging=false;return}}h.x=o;h.y=n;d.x=o;d.y=n;j.x=o;j.y=n;l.x=a;l.y=a;b.x=0;b.y=0;this.dragStartTime=a;this.isDragging=true;this.fireEvent("scrollstart",this,o,n)},onAxisDrag:function(j,r){if(!this.isAxisEnabled(j)){return}var h=this.flickStartPosition,m=this.flickStartTime,k=this.lastDragPosition,e=this.dragDirection,g=this.getPosition()[j],l=this.getMinPosition()[j],p=this.getMaxPosition()[j],d=this.startPosition[j],q=k[j],o=d-r,c=e[j],n=this.getOutOfBoundRestrictFactor(),f=this.getStartMomentumResetTime(),b=Ext.Date.now(),a;if(o<l){o*=n}else{if(o>p){a=o-p;o=p+a*n}}if(o>q){e[j]=1}else{if(o<q){e[j]=-1}}if((c!==0&&(e[j]!==c))||(b-m[j])>f){h[j]=g;m[j]=b}k[j]=o},onDrag:function(b){if(!this.isDragging){return}var a=this.lastDragPosition;this.onAxisDrag("x",this.convertX(b.deltaX));this.onAxisDrag("y",b.deltaY);this.scrollTo(a.x,a.y)},onDragEnd:function(c){var b,a;if(!this.isDragging){return}this.dragEndTime=Ext.Date.now();this.onDrag(c);this.isDragging=false;b=this.getAnimationEasing("x",c);a=this.getAnimationEasing("y",c);if(b||a){this.getTranslatable().animate(b,a)}else{this.onScrollEnd()}},getAnimationEasing:function(h,l){if(!this.isAxisEnabled(h)){return null}var g=this.getPosition()[h],d=this.getMinPosition()[h],k=this.getMaxPosition()[h],b=this.getMaxAbsoluteVelocity(),f=null,c=this.dragEndTime,j=l.flick.velocity[h],n=h==="x",a,m;if(g<d){f=d}else{if(g>k){f=k}}if(n){g=this.convertX(g);f=this.convertX(f)}if(f!==null){m=this.getBounceEasing()[h];m.setConfig({startTime:c,startValue:-g,endValue:-f});return m}if(j===0){return null}if(j<-b){j=-b}else{if(j>b){j=b}}if(Ext.browser.is.IE){j*=2}m=this.getMomentumEasing()[h];a={startTime:c,startValue:-g,startVelocity:j*1.5,minMomentumValue:-k,maxMomentumValue:0};if(n){this.convertEasingConfig(a)}m.setConfig(a);return m},onAnimationFrame:function(c,b,d){var a=this.getPosition();this.fireEvent("scroll",this,this.convertX(a.x),a.y)},onAnimationEnd:function(){this.snapToBoundary();this.onScrollEnd()},stopAnimation:function(){this.getTranslatable().stopAnimation()},onScrollEnd:function(){var a=this.getPosition();if(this.isTouching||!this.snapToSlot()){this.fireEvent("scrollend",this,a.x,a.y)}},snapToSlot:function(){var b=this.getSnapPosition("x"),a=this.getSnapPosition("y"),c=this.getSlotSnapEasing();if(b!==null||a!==null){this.scrollTo(b,a,{easingX:c.x,easingY:c.y});return true}return false},getSnapPosition:function(c){var g=this.getSlotSnapSize()[c],d=null,a,f,e,b;if(g!==0&&this.isAxisEnabled(c)){a=this.getPosition()[c];f=this.getSlotSnapOffset()[c];e=this.getMaxPosition()[c];b=Math.floor((a-f)%g);if(b!==0){if(a!==e){if(Math.abs(b)>g/2){d=Math.min(e,a+((b>0)?g-b:b-g))}else{d=a-b}}else{d=a-b}}}return d},snapToBoundary:function(){if(!this.getSnapToBoundary()){return}var g=this.getPosition(),c=this.getMinPosition(),f=this.getMaxPosition(),e=c.x,d=c.y,b=f.x,a=f.y,j=Math.round(g.x),h=Math.round(g.y);if(j<e){j=e}else{if(j>b){j=b}}if(h<d){h=d}else{if(h>a){h=a}}this.scrollTo(j,h)},destroy:function(){var c=this.getElement(),b=this.sizeMonitors,a;if(b){b.element.destroy();b.container.destroy()}if(c&&!c.isDestroyed){c.removeCls(this.cls);a=this.getContainer();if(a&&!a.isDestroyed){a.removeCls(this.containerCls)}}Ext.destroy(this.getTranslatable());delete this.self.instances[this.id];this.callParent(arguments)},convertX:function(a){return a},convertEasingConfig:function(a){return a}},function(){this.override({constructor:function(b){var d,e,a,g,c,f;if(!b){b={}}if(typeof b=="string"){b={direction:b}}if(arguments.length==2){Ext.Logger.deprecate("Passing element as the first argument is deprecated, pass it as the 'element' property of the config object instead");d=b;b=arguments[1];if(!b){b={}}b.element=d}if(b.hasOwnProperty("acceleration")){e=b.acceleration;delete b.acceleration;Ext.Logger.deprecate("'acceleration' config is deprecated, set momentumEasing.momentum.acceleration and momentumEasing.bounce.acceleration configs instead");Ext.merge(b,{momentumEasing:{momentum:{acceleration:e},bounce:{acceleration:e}}})}if(b.hasOwnProperty("snap")){b.slotSnapOffset=b.snap;Ext.Logger.deprecate("'snap' config is deprecated, please use the 'slotSnapOffset' config instead")}if(b.hasOwnProperty("friction")){g=b.friction;delete b.friction;Ext.Logger.deprecate("'friction' config is deprecated, set momentumEasing.momentum.friction config instead");Ext.merge(b,{momentumEasing:{momentum:{friction:g}}})}if(b.hasOwnProperty("springTension")){c=b.springTension;delete b.springTension;Ext.Logger.deprecate("'springTension' config is deprecated, set momentumEasing.momentum.springTension config instead");Ext.merge(b,{momentumEasing:{momentum:{springTension:c}}})}if(b.hasOwnProperty("minVelocityForAnimation")){f=b.minVelocityForAnimation;delete b.minVelocityForAnimation;Ext.Logger.deprecate("'minVelocityForAnimation' config is deprecated, set momentumEasing.minVelocity config instead");Ext.merge(b,{momentumEasing:{minVelocity:f}})}this.callOverridden(arguments)},scrollToAnimated:function(a,c,b){Ext.Logger.deprecate("scrollToAnimated() is deprecated, please use `scrollTo()` and pass 'animation' as the third argument instead");return this.scrollTo.apply(this,arguments)},scrollBy:function(a,c,b){if(Ext.isObject(a)){Ext.Logger.deprecate("calling `scrollBy()` with an object of `x` and `y` properties is no longer supported. Please pass `x` and `y` values as two separate arguments instead");c=a.y;a=a.x}return this.callOverridden([a,c,b])},setOffset:function(a){return this.scrollToAnimated(-a.x,-a.y)}})});Ext.define("Ext.util.TaskManager",{extend:Ext.util.TaskRunner,alternateClassName:["Ext.TaskManager"],singleton:true});Ext.define("Ext.util.TextMetrics",{statics:{shared:null,measure:function(a,d,e){var b=this,c=b.shared;if(!c){c=b.shared=new b(a,e)}c.bind(a);c.setFixedWidth(e||"auto");return c.getSize(d)},destroy:function(){var a=this;Ext.destroy(a.shared);a.shared=null}},constructor:function(a,d){var c=this,b=Ext.getBody().createChild({"data-sticky":true,role:"presentation",cls:Ext.baseCSSPrefix+"textmetrics"});c.measure=b;if(a){c.bind(a)}b.position("absolute");b.setLocalXY(-1000,-1000);b.hide();if(d){b.setWidth(d)}},getSize:function(c){var b=this.measure,a;b.setHtml(c);a=b.getSize();b.setHtml("");return a},bind:function(a){var b=this;b.el=Ext.get(a);b.measure.setStyle(b.el.getStyle(["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing","word-break"]))},setFixedWidth:function(a){this.measure.setWidth(a)},getWidth:function(a){this.measure.dom.style.width="auto";return this.getSize(a).width},getHeight:function(a){return this.getSize(a).height},destroy:function(){var a=this;a.measure.destroy();delete a.el;delete a.measure}},function(){Ext.Element.override({getTextWidth:function(c,b,a){return Ext.Number.constrain(Ext.util.TextMetrics.measure(this.dom,Ext.valueFrom(c,this.dom.innerHTML,true)).width,b||0,a||1000000)}})});Ext.define("Ext.util.ProtoElement",function(){var b=Ext.String.splitWords,a=Ext.Array.toMap;return{isProtoEl:true,clsProp:"cls",styleProp:"style",removedProp:"removed",styleIsText:false,constructor:function(d){var f=this,c,e;if(d){Ext.apply(f,d);c=f.cls;e=f.style;delete f.cls}f.classList=c?b(c):[];f.classMap=c?a(f.classList):{};if(e){if(typeof e==="string"){f.style=Ext.Element.parseStyles(e)}else{if(Ext.isFunction(e)){f.styleFn=e;delete f.style}else{f.style=Ext.apply({},e)}}}},flush:function(){this.flushClassList=[];this.removedClasses={};delete this.style;delete this.unselectableAttr},addCls:function(m){if(!m){return this}var k=this,l=(typeof m==="string")?b(m):m,e=l.length,h=k.classList,d=k.classMap,f=k.flushClassList,g=0,j;for(;g<e;++g){j=l[g];if(!d[j]){d[j]=true;h.push(j);if(f){f.push(j);delete k.removedClasses[j]}}}return k},hasCls:function(c){return c in this.classMap},removeCls:function(n){var m=this,k=m.classList,f=(m.classList=[]),h=a(b(n)),e=k.length,d=m.classMap,j=m.removedClasses,g,l;for(g=0;g<e;++g){l=k[g];if(h[l]){if(j){if(d[l]){j[l]=true;Ext.Array.remove(m.flushClassList,l)}}delete d[l]}else{f.push(l)}}return m},setStyle:function(f,e){var d=this,c=d.style||(d.style={});if(typeof f=="string"){if(arguments.length===1){d.setStyle(Ext.Element.parseStyles(f))}else{c[f]=e}}else{Ext.apply(c,f)}return d},unselectable:function(){this.addCls(Ext.dom.Element.unselectableCls);if(Ext.isOpera){this.unselectableAttr=true}},writeTo:function(g){var e=this,f=e.flushClassList||e.classList,d=e.removedClasses,c;if(e.styleFn){c=Ext.apply({},e.styleFn());Ext.apply(c,e.style)}else{c=e.style}g[e.clsProp]=f.join(" ");if(c){g[e.styleProp]=e.styleIsText?Ext.DomHelper.generateStyles(c,null,true):c}if(d){d=Ext.Object.getKeys(d);if(d.length){g[e.removedProp]=d.join(" ")}}if(e.unselectableAttr){g.unselectable="on"}return g}}});Ext.define("Ext.util.ElementContainer",{mixinId:"elementCt",config:{childEls:{$value:{},cached:true,lazy:true,merge:function(f,a,e,d){var c=a?Ext.Object.chain(a):{},b,g;if(f instanceof Array){for(b=f.length;b--;){g=f[b];if(!d||!(g in c)){if(typeof g==="string"){c[g]={name:g,itemId:g}}else{c[g.name]=g}}}}else{if(f){if(f.constructor===Object){for(b in f){if(!d||!(b in c)){g=f[b];if(g===true){c[b]={itemId:b}}else{if(typeof g==="string"){c[b]={itemId:g}}else{c[b]=g;if(!("itemId" in g)){g.itemId=b}}}c[b].name=b}}}else{if(!d||!(f in c)){c[f]={name:f,itemId:f}}}}}return c}}},destroy:function(){var c=this,b=c.getChildEls(),d,a;for(a in b){d=c[a];if(d){if(d.destroy){d.destroy()}c[a]=null}}},privates:{afterClassMixedIn:function(c){var b=c.prototype,a=b.childEls;if(a){delete b.childEls;c.getConfigurator().add({childEls:a})}},attachChildEls:function(d,c){var h=this,j=h.getChildEls(),g=c||h,o=g.id+"-",n=!g.frame,p,a,m,f,e,l,b;for(p in j){m=j[p];if(n&&m.frame){continue}e=m.select;if(e){l=d.select(e,true)}else{if(!(e=m.selectNode)){if(!(b=m.id)){b=o+m.itemId;l=Ext.cache[b]}else{l=Ext.cache[b]||d.getById(b)}}else{l=d.selectNode(e,false)}}if(l){if(l.isElement){l.component=g}else{if(l.isComposite&&!l.isLite){a=l.elements;for(f=a.length;f--;){a[f].component=g}}}}h[p]=l||null}}}});Ext.define("Ext.util.Renderable",{mixinId:"renderable",frameCls:Ext.baseCSSPrefix+"frame",frameIdRegex:/[\-]frame\d+[TMB][LCR]$/,frameElNames:["TL","TC","TR","ML","MC","MR","BL","BC","BR","Table"],frameTpl:["{%this.renderDockedItems(out,values,0);%}",'<tpl if="top">','<tpl if="left"><div id="{fgid}TL" data-ref="frameTL" class="{frameCls}-tl {baseCls}-tl {baseCls}-{ui}-tl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tl</tpl>{frameElCls}" role="presentation"></tpl>','<tpl if="right"><div id="{fgid}TR" data-ref="frameTR" class="{frameCls}-tr {baseCls}-tr {baseCls}-{ui}-tr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tr</tpl>{frameElCls}" role="presentation"></tpl>','<div id="{fgid}TC" data-ref="frameTC" class="{frameCls}-tc {baseCls}-tc {baseCls}-{ui}-tc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tc</tpl>{frameElCls}" role="presentation"></div>','<tpl if="right"></div></tpl>','<tpl if="left"></div></tpl>',"</tpl>",'<tpl if="left"><div id="{fgid}ML" data-ref="frameML" class="{frameCls}-ml {baseCls}-ml {baseCls}-{ui}-ml<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-ml</tpl>{frameElCls}" role="presentation"></tpl>','<tpl if="right"><div id="{fgid}MR" data-ref="frameMR" class="{frameCls}-mr {baseCls}-mr {baseCls}-{ui}-mr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mr</tpl>{frameElCls}" role="presentation"></tpl>','<div id="{fgid}Body" data-ref="frameBody" class="{frameCls}-mc {baseCls}-mc {baseCls}-{ui}-mc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mc</tpl>{frameElCls}" role="presentation">',"{%this.applyRenderTpl(out, values)%}","</div>",'<tpl if="right"></div></tpl>','<tpl if="left"></div></tpl>','<tpl if="bottom">','<tpl if="left"><div id="{fgid}BL" data-ref="frameBL" class="{frameCls}-bl {baseCls}-bl {baseCls}-{ui}-bl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bl</tpl>{frameElCls}" role="presentation"></tpl>','<tpl if="right"><div id="{fgid}BR" data-ref="frameBR" class="{frameCls}-br {baseCls}-br {baseCls}-{ui}-br<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-br</tpl>{frameElCls}" role="presentation"></tpl>','<div id="{fgid}BC" data-ref="frameBC" class="{frameCls}-bc {baseCls}-bc {baseCls}-{ui}-bc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bc</tpl>{frameElCls}" role="presentation"></div>','<tpl if="right"></div></tpl>','<tpl if="left"></div></tpl>',"</tpl>","{%this.renderDockedItems(out,values,1);%}"],frameTableTpl:["{%this.renderDockedItems(out,values,0);%}",'<table id="{fgid}Table" data-ref="frameTable" class="{frameCls} ',Ext.baseCSSPrefix+'table-plain" cellpadding="0" role="presentation">','<tpl if="top">','<tr role="presentation">','<tpl if="left"><td id="{fgid}TL" data-ref="frameTL" class="{frameCls}-tl {baseCls}-tl {baseCls}-{ui}-tl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tl</tpl>{frameElCls}" role="presentation"></td></tpl>','<td id="{fgid}TC" data-ref="frameTC" class="{frameCls}-tc {baseCls}-tc {baseCls}-{ui}-tc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tc</tpl>{frameElCls}" role="presentation"></td>','<tpl if="right"><td id="{fgid}TR" data-ref="frameTR" class="{frameCls}-tr {baseCls}-tr {baseCls}-{ui}-tr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-tr</tpl>{frameElCls}" role="presentation"></td></tpl>',"</tr>","</tpl>",'<tr role="presentation">','<tpl if="left"><td id="{fgid}ML" data-ref="frameML" class="{frameCls}-ml {baseCls}-ml {baseCls}-{ui}-ml<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-ml</tpl>{frameElCls}" role="presentation"></td></tpl>','<td id="{fgid}Body" data-ref="frameBody" class="{frameCls}-mc {baseCls}-mc {baseCls}-{ui}-mc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mc</tpl>{frameElCls}" style="{mcStyle}" role="presentation">',"{%this.applyRenderTpl(out, values)%}","</td>",'<tpl if="right"><td id="{fgid}MR" data-ref="frameMR" class="{frameCls}-mr {baseCls}-mr {baseCls}-{ui}-mr<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-mr</tpl>{frameElCls}" role="presentation"></td></tpl>',"</tr>",'<tpl if="bottom">','<tr role="presentation">','<tpl if="left"><td id="{fgid}BL" data-ref="frameBL" class="{frameCls}-bl {baseCls}-bl {baseCls}-{ui}-bl<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bl</tpl>{frameElCls}" role="presentation"></td></tpl>','<td id="{fgid}BC" data-ref="frameBC" class="{frameCls}-bc {baseCls}-bc {baseCls}-{ui}-bc<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-bc</tpl>{frameElCls}" role="presentation"></td>','<tpl if="right"><td id="{fgid}BR" data-ref="frameBR" class="{frameCls}-br {baseCls}-br {baseCls}-{ui}-br<tpl for="uiCls"> {parent.baseCls}-{parent.ui}-{.}-br</tpl>{frameElCls}" role="presentation"></td></tpl>',"</tr>","</tpl>","</table>","{%this.renderDockedItems(out,values,1);%}"],_renderState:0,statics:{makeRenderSetter:function(a,c){var b=a.name;return function(e){var d=this,g=(d.renderConfigs||(d.renderConfigs={})),f=g[c];if(d._renderState>=c){(a.setter||a.getSetter()).call(d,e)}else{if(!f){g[c]=f={}}if(!(b in f)){f[b]=d[b]}d[b]=e}return d}},processRenderConfig:function(a,l,c){var g=this.prototype,e=this.getConfigurator(),m=Ext.util.Renderable,k=m.makeRenderSetter,d=a[l],h,j,b,f;for(b in d){j=Ext.Config.get(b);if(!g[f=j.names.set]){h=(j.renderSetter||(j.renderSetter={}));g[f]=h[c]||(h[c]=k(j,c))}}delete a[l];e.add(d)}},onClassMixedIn:function(c){var a=c.override,e=this.processRenderConfig,d=function(f){if(f.beforeRenderConfig){this.processRenderConfig(f,"beforeRenderConfig",1)}if(f.renderConfig){this.processRenderConfig(f,"renderConfig",3)}a.call(this,f)},b=function(g,f){g.override=d;g.processRenderConfig=e;if(f.beforeRenderConfig){g.processRenderConfig(f,"beforeRenderConfig",1)}if(f.renderConfig){g.processRenderConfig(f,"renderConfig",3)}};b(c,c.prototype);c.onExtended(b)},afterRender:function(){var c=this,e={},h=c.protoEl,g=c.el,b,f,d,a;c.finishRenderChildren();c._renderState=4;if(c.contentEl){f=Ext.baseCSSPrefix;d=f+"hidden-";a=Ext.get(c.contentEl);a.component=c;a.removeCls([f+"hidden",d+"display",d+"offsets"]);c.getContentTarget().appendChild(a.dom)}h.writeTo(e);b=e.removed;if(b){g.removeCls(b)}b=e.cls;if(b.length){g.addCls(b)}b=e.style;if(e.style){g.setStyle(b)}c.protoEl=null;if(!c.ownerCt){c.updateLayout()}if(!(c.x&&c.y)&&(c.pageX||c.pageY)){c.setPagePosition(c.pageX,c.pageY)}if(c.disableOnRender){c.onDisable()}else{if(c.enableOnRender){c.onEnable()}}if(Ext.enableAria){c.ariaApplyAfterRenderAttributes()}},afterFirstLayout:function(c,k){var e=this,j=e.x,g=e.y,d,b,h,l,f=e.defaultAlign,a=e.alignOffset;if(!e.ownerLayout){d=j!==undefined;b=g!==undefined}if(e.floating&&(!d||!b)){if(e.floatParent){h=e.floatParent.getTargetEl().getViewRegion();l=e.el.getAlignToXY(e.alignTarget||e.floatParent.getTargetEl(),f,a);h.x=l[0]-h.x;h.y=l[1]-h.y}else{l=e.el.getAlignToXY(e.alignTarget||e.container,f,a);h=e.container.translateXY(l[0],l[1])}j=d?j:h.x;g=b?g:h.y;d=b=true}if(d||b){e.setPosition(j,g)}e.onBoxReady(c,k)},beforeRender:function(){var c=this,d=c.floating,b=c.getComponentLayout(),a;c._renderState=1;c.initBindable();if(c.renderConfigs){c.flushRenderConfigs()}if(c.reference){c.publishState()}if(d){c.addCls(Ext.baseCSSPrefix+"layer");a=d.cls;if(a){c.addCls(a)}}c.frame=c.frame||c.alwaysFramed;if(!b.initialized){b.initLayout()}c.initOverflow();c.setUI(c.ui);if(c.disabled){c.disable(true)}},doApplyRenderTpl:function(c,a){var d=a.$comp,b;if(!d.rendered){b=d.initRenderTpl();b.applyOut(a.renderData,c)}},getElConfig:function(){var d=this,f=d.autoEl,c=d.getFrameInfo(),a={tag:"div",tpl:c?d.initFramingTpl(c.table):d.initRenderTpl()},e=d.protoEl,b;d.initStyles(e);e.writeTo(a);e.flush();if(Ext.isString(f)){a.tag=f}else{Ext.apply(a,f)}if(Ext.enableAria&&d.ariaRenderAttributesToElement){Ext.apply(a,d.ariaGetRenderAttributes())}a.id=d.id;if(a.tpl){if(c){a.tplData=b=d.getFrameRenderData();b.renderData=d.initRenderData()}else{a.tplData=d.initRenderData()}}return a},getInsertPosition:function(a){if(a!==undefined){if(Ext.isNumber(a)){a=this.container.dom.childNodes[a]}else{a=Ext.getDom(a)}}return a},getRenderTree:function(){var b=this,a=null;if(!b.hasListeners.beforerender||b.fireEvent("beforerender",b)!==false){b._renderState=1;b.beforeRender();b.rendering=true;b._renderState=2;a=b.getElConfig();if(b.el){a.id=b.$pid=Ext.id(null,b.el.identifiablePrefix)}}return a},initRenderData:function(){var a=this;return Ext.apply({$comp:a,id:a.id,ui:a.ui,uiCls:a.uiCls,baseCls:a.baseCls,componentCls:a.componentCls,frame:a.frame,renderScroller:a.touchScroll,scrollerCls:a.scrollerCls,role:a.ariaRole,childElCls:""},a.renderData)},onRender:function(d,e){var f=this,h=f.x,g=f.y,c=null,b=f.el,a,j;f.applyRenderSelectors();f.rendering=null;f.rendered=true;f._renderState=3;if(f.renderConfigs){f.flushRenderConfigs()}if(h!=null){c={x:h}}if(g!=null){(c=c||{}).y=g}if(!f.getFrameInfo()){a=f.width;j=f.height;if(typeof a==="number"){c=c||{};c.width=a}if(typeof j==="number"){c=c||{};c.height=j}}if(f.touchScroll===1){f.getOverflowEl().disableTouchScroll()}f.lastBox=b.lastBox=c},render:function(c,b){var e=this,d=e.el,h=e.ownerLayout,g,a,f;if(d&&!d.isElement){e.el=d=e.wrapPrimaryEl(d)}Ext.suspendLayouts();c=e.initContainer(c);f=e.getInsertPosition(b);if(!d){a=e.getRenderTree();if(h&&h.transformItemRenderTree){a=h.transformItemRenderTree(a)}if(a){if(f){d=Ext.DomHelper.insertBefore(f,a)}else{d=Ext.DomHelper.append(c,a)}e.wrapPrimaryEl(d);e.cacheRefEls(d)}}else{if(!e.hasListeners.beforerender||e.fireEvent("beforerender",e)!==false){e.beforeRender();e.needsRenderTpl=e.rendering=true;e._renderState=2;e.initStyles(d);if(e.allowDomMove!==false){if(f){c.dom.insertBefore(d.dom,f)}else{c.dom.appendChild(d.dom)}}}else{g=true}}if(d&&!g){e.finishRender(b)}Ext.resumeLayouts(!e.hidden&&!c.isDetachedBody)},ensureAttachedToBody:function(c){var b=this,a;while(b.ownerCt){b=b.ownerCt}if(b.container.isDetachedBody){b.container=a=Ext.getBody();a.appendChild(b.el.dom);if(c){b.updateLayout()}if(typeof b.x=="number"||typeof b.y=="number"){b.setPosition(b.x,b.y)}}},privates:{applyRenderSelectors:function(){var d=this,b=d.renderSelectors,c=d.el,e,a;d.attachChildEls(c);if(b){for(a in b){e=b[a];if(e){d[a]=c.selectNode(e,false)}}}},cacheRefEls:function(e){e=e||this.el;var c=Ext.cache,g=Ext.dom.Element,h=e.isElement?e.dom:e,b=h.querySelectorAll("[data-ref]"),a=b.length,f,d;for(d=0;d<a;d++){f=b[d];if(!c[f.id]){new g(f)}}},doAutoRender:function(){var a=this;if(!a.rendered){if(a.floating){a.render(a.renderTo||document.body)}else{a.render(Ext.isBoolean(a.autoRender)?Ext.getBody():a.autoRender)}}},doRenderContent:function(a,d){var b=d.$comp,c=b.data;if(b.html){Ext.DomHelper.generateMarkup(b.html,a);delete b.html}if(b.tpl){if(!b.tpl.isTemplate){b.tpl=new Ext.XTemplate(b.tpl)}if(c){b.data=c=c.isEntity?c.getData(true):c;b.tpl.applyOut(c,a)}}},doRenderFramingDockedItems:function(a,c,d){var b=c.$comp;if(!b.rendered&&b.doRenderDockedItems){c.renderData.$skipDockedItems=true;b.doRenderDockedItems.call(this,a,c,d)}},flushRenderConfigs:function(){var d=this,g=d.renderConfigs,f=d._renderState,h,c,b,a,e;if(g){for(c=0;c<=f;++c){h=g[c];if(h){g[c]=null;for(b in h){e=h[b];(a||(a={}))[b]=d[b];d[b]=e}}}if(a){d.setConfig(a)}}},finishRender:function(g){var k=this,a=Ext.cache,j,f,b,h,e,d,c;if(!k.el||k.$pid){if(k.container){c=a[k.id];d=c?c.dom:k.container.getById(k.id,true)}else{b=k.$pid||k.id;c=a[b];d=c?c.dom:Ext.getDom(b)}if(!k.el){k.wrapPrimaryEl(d)}else{delete k.$pid;if(!k.el.dom){k.wrapPrimaryEl(k.el)}d.parentNode.insertBefore(k.el.dom,d);j=d;d=k.el.dom;f=d.firstChild;while(j.firstChild){d.insertBefore(j.firstChild,f)}k.el.addCls(j.className);Ext.removeNode(j)}}else{if(k.needsRenderTpl){h=k.initRenderTpl();if(h){e=k.initRenderData();h.insertFirst(k.getTargetEl(),e)}k.cacheRefEls()}}k.el.component=k;if(!k.container){k.container=Ext.get(k.el.dom.parentNode)}if(k.ctCls){k.container.addCls(k.ctCls)}k.onRender(k.container,g);if(!k.overflowInited){k.initOverflow()}k.el.setVisibilityMode(Ext.Element[k.hideMode.toUpperCase()]);if(k.overCls){k.el.hover(k.addOverCls,k.removeOverCls,k)}if(k.hasListeners.render){k.fireEvent("render",k)}k.afterRender();if(k.hasListeners.afterrender){k.fireEvent("afterrender",k)}k.initEvents();if(k.hidden){k.el.hide()}},finishRenderChildren:function(){var a=this.getComponentLayout();a.finishRender()},getFrameRenderData:function(){var c=this,b=c.frameSize,a="";if(c._syncFrameHeight&&c.height){a="height:"+(c.height-b.height)+"px"}return{$comp:c,fgid:c.id+"-frame",ui:c.ui,uiCls:c.uiCls,frameCls:c.frameCls,baseCls:c.baseCls,top:!!b.top,left:!!b.left,right:!!b.right,bottom:!!b.bottom,mcStyle:a,frameElCls:""}},getFrameInfo:function(){if(Ext.supports.CSS3BorderRadius||!this.frame){return false}var v=this,n=v.frameInfoCache,e=v.getFramingInfoCls()+"-frameInfo",w=n[e],o=Math.max,m,r,l,x,f,j,b,c,k,g,q,s,h,a,d,u,p,t;if(w==null){m=Ext.fly(v.getStyleProxy(e),"frame-style-el");r=m.getStyle("font-family");if(r){r=r.split("-");d=parseInt(r[1],10);u=parseInt(r[2],10);p=parseInt(r[3],10);t=parseInt(r[4],10);b=parseInt(r[5],10);c=parseInt(r[6],10);k=parseInt(r[7],10);g=parseInt(r[8],10);q=parseInt(r[9],10);s=parseInt(r[10],10);h=parseInt(r[11],10);a=parseInt(r[12],10);l=o(b,o(d,u));x=o(c,o(u,p));f=o(k,o(t,p));j=o(g,o(d,t));w={table:r[0].charAt(0)==="t",vertical:r[0].charAt(1)==="v",top:l,right:x,bottom:f,left:j,width:j+x,height:l+f,maxWidth:o(l,x,f,j),border:{top:b,right:c,bottom:k,left:g,width:g+c,height:b+k},padding:{top:q,right:s,bottom:h,left:a,width:a+s,height:q+h},radius:{tl:d,tr:u,br:p,bl:t}}}else{w=false}if(v.frame===true&&!w){Ext.log.error("You have set frame: true explicity on this component ("+v.getXType()+") and it does not have any framing defined in the CSS template. In this case IE cannot figure out what sizes to use and thus framing on this component will be disabled.")}n[e]=w}v.frame=!!w;v.frameSize=w;return w},getFramingInfoCls:function(){return this.baseCls+"-"+this.ui},getStyleProxy:function(b){var a=this.styleProxyEl||(Ext.Component.prototype.styleProxyEl=Ext.getBody().createChild({"data-sticky":true,role:"presentation",style:{position:"absolute",top:"-10000px"}},null,true));a.className=b;return a},getFrameTpl:function(a){return this.getTpl(a?"frameTableTpl":"frameTpl")},initContainer:function(a){var b=this;if(!a&&b.el){a=b.el.dom.parentNode;b.allowDomMove=false}b.container=a.dom?a:Ext.get(a);return b.container},initOverflow:function(){var c=this,a=c.getOverflowStyle(),e=c.scrollFlags,d=c.getOverflowEl(),b=c.touchScroll=(e.y||e.x)&&Ext.supports.touchScroll;if(!d){return}c.overflowInited=true;if(b===2){d.setStyle("overflow","hidden")}else{d.setStyle(a)}},doRenderPadding:function(a,c){var b=c.$comp;if(b.touchScroll){a.push("padding:",b.unitizeBox(b.padding))}},initFramingTpl:function(b){var a=this.getFrameTpl(b);if(a&&!a.applyRenderTpl){this.setupFramingTpl(a)}return a},initRenderTpl:function(){var a=this.getTpl("renderTpl");if(a&&!a.renderContent){this.setupRenderTpl(a)}return a},setupFramingTpl:function(a){a.applyRenderTpl=this.doApplyRenderTpl;a.renderDockedItems=this.doRenderFramingDockedItems},setupRenderTpl:function(a){a.renderBody=a.renderContent=this.doRenderContent;a.renderPadding=this.doRenderPadding},updateFrame:function(){if(Ext.supports.CSS3BorderRadius||!this.frame){return}var m=this,g=m.el.dom,l=m.frameTable,c=m.frameBody,o=c.dom,k=m.getFrameInfo(),p,f,b,e,j,q,r,d,h,a,n;b=document.createElement("div");q=m.getFrameRenderData();d=m.getFrameTpl(k.table);d.insertFirst(b,q);n=b.querySelectorAll("[data-ref]");a=b.querySelector('[data-ref="frameBody"]');for(j=o;j.parentNode!==g;){j=j.parentNode}while(b.firstChild){g.insertBefore(b.firstChild,j)}a.parentNode.replaceChild(o,a);o.className=a.className;c.setSize();p=m.getChildEls();if(l){l.destroy();m.frameTable=null}for(f in p){if(p[f].frame){e=m[f];if(e&&e!==c){e.destroy();m[f]=null}}}for(h=n.length;h--;){f=(r=n[h]).getAttribute("data-ref");if(f!=="frameBody"){m[f]=new Ext.dom.Element(r)}}},frameInfoCache:{}}});Ext.define("Ext.state.Provider",{mixins:{observable:Ext.util.Observable},prefix:"ext-",constructor:function(a){var b=this;Ext.apply(b,a);b.state={};b.mixins.observable.constructor.call(b)},get:function(b,a){return typeof this.state[b]=="undefined"?a:this.state[b]},clear:function(a){var b=this;delete b.state[a];b.fireEvent("statechange",b,a,null)},set:function(a,c){var b=this;b.state[a]=c;b.fireEvent("statechange",b,a,c)},decodeValue:function(f){var c=this,k=/^(a|n|d|b|s|o|e)\:(.*)$/,b=k.exec(unescape(f)),g,d,a,j,e,h;if(!b||!b[1]){return}d=b[1];f=b[2];switch(d){case"e":return null;case"n":return parseFloat(f);case"d":return new Date(Date.parse(f));case"b":return(f=="1");case"a":g=[];if(f!=""){j=f.split("^");e=j.length;for(h=0;h<e;h++){f=j[h];g.push(c.decodeValue(f))}}return g;case"o":g={};if(f!=""){j=f.split("^");e=j.length;for(h=0;h<e;h++){f=j[h];a=f.split("=");g[a[0]]=c.decodeValue(a[1])}}return g;default:return f}},encodeValue:function(e){var f="",d=0,b,a,c;if(e==null){return"e:1"}else{if(typeof e=="number"){b="n:"+e}else{if(typeof e=="boolean"){b="b:"+(e?"1":"0")}else{if(Ext.isDate(e)){b="d:"+e.toUTCString()}else{if(Ext.isArray(e)){for(a=e.length;d<a;d++){f+=this.encodeValue(e[d]);if(d!=a-1){f+="^"}}b="a:"+f}else{if(typeof e=="object"){for(c in e){if(typeof e[c]!="function"&&e[c]!==undefined){f+=c+"="+this.encodeValue(e[c])+"^"}}b="o:"+f.substring(0,f.length-1)}else{b="s:"+e}}}}}}return escape(b)}});Ext.define("Ext.state.Manager",{singleton:true,constructor:function(){this.provider=new Ext.state.Provider()},setProvider:function(a){this.provider=a},get:function(b,a){return this.provider.get(b,a)},set:function(a,b){this.provider.set(a,b)},clear:function(a){this.provider.clear(a)},getProvider:function(){return this.provider}});Ext.define("Ext.state.Stateful",{mixinId:"state",stateful:false,saveDelay:100,constructor:function(){var a=this;if(!a.stateEvents){a.stateEvents=[]}if(a.stateful!==false){a.addStateEvents(a.stateEvents);a.initState()}},addStateEvents:function(d){var f=this,c,e,b,a;if(f.stateful&&f.getStateId()){a=(typeof d==="string")?arguments:d;b=f.stateEventsByName||(f.stateEventsByName={});for(c=a.length;c--;){e=a[c];if(e&&!b[e]){b[e]=1;f.on(e,f.onStateChange,f)}}}},onStateChange:function(){var c=this,a=c.saveDelay,d,b;if(!c.stateful){return}if(a){if(!c.stateTask){d=Ext.state.Stateful;b=d.runner||(d.runner=new Ext.util.TaskRunner());c.stateTask=b.newTask({run:c.saveState,scope:c,interval:a,repeat:1})}c.stateTask.start()}else{c.saveState()}},saveState:function(){var h=this,b=h.stateful&&h.getStateId(),g=h.hasListeners,c,e,d,f,a,j;if(b){a=h.getState()||{};c=h.getPlugins()||[];for(d=0,f=c.length;d<f;d++){e=c[d];if(e&&e.getState){j=e.getState(a);if(j&&!a[e.ptype]){a[e.ptype]=j}}}if(!g.beforestatesave||h.fireEvent("beforestatesave",h,a)!==false){Ext.state.Manager.set(b,a);if(g.statesave){h.fireEvent("statesave",h,a)}}}},getState:function(){return null},applyState:function(a){if(a){Ext.apply(this,a)}},getStateId:function(){var a=this;return a.stateId||(a.autoGenId?null:a.id)},initState:function(){var j=this,b=j.stateful&&j.getStateId(),h=j.hasListeners,a,k,e,g,d,f,c;if(b){k=Ext.state.Manager.get(b);if(k){a=Ext.apply({},k);if(!h.beforestaterestore||j.fireEvent("beforestaterestore",j,k)!==false){d=j.getPlugins()||[];for(e=0,g=d.length;e<g;e++){f=d[e];if(f){c=f.ptype;if(f.applyState){f.applyState(a[c],k)}delete a[c]}}j.applyState(a);if(h.staterestore){j.fireEvent("staterestore",j,k)}}}}},savePropToState:function(f,e,d){var b=this,c=b[f],a=b.initialConfig;if(b.hasOwnProperty(f)){if(!a||a[f]!==c){if(e){e[d||f]=c}return true}}return false},savePropsToState:function(e,c){var b=this,a,d;if(typeof e==="string"){b.savePropToState(e,c)}else{for(a=0,d=e.length;a<d;++a){b.savePropToState(e[a],c)}}return c},destroy:function(){var b=this,a=b.stateTask;if(a){a.destroy();b.stateTask=null}b.clearListeners()}});Ext.define("Ext.util.Floating",{mixinId:"floating",focusOnToFront:true,shadow:"sides",constrain:false,constructor:function(b){var a=this;a.el=new Ext.dom.Layer(Ext.apply({preventSync:true,hideMode:a.hideMode,shadow:(typeof a.shadow!="undefined")?a.shadow:"sides",shadowOffset:a.shadowOffset,constrain:false,fixed:a.fixed,shim:(a.shim===false)?false:undefined},a.floating),b);if(a.modal&&!(Ext.enableFocusManager)){a.mon(a.el,{keydown:a.onKeyDown,scope:a})}a.mon(a.el,{mousedown:a.onMouseDown,scope:a,capture:true});a.floating=true;a.registerWithOwnerCt();a.initHierarchyEvents()},initHierarchyEvents:function(){var b=this,a=this.syncHidden;if(!b.hasHierarchyEventListeners){b.mon(Ext.GlobalEvents,{hide:a,collapse:a,show:a,expand:a,added:a,scope:b});b.hasHierarchyEventListeners=true}},registerWithOwnerCt:function(){var c=this,b=c.ownerCt,a=c.zIndexParent;if(a){a.unregisterFloatingItem(c)}a=c.zIndexParent=c.up("[floating]");c.setFloatParent(b||a);delete c.ownerCt;if(a){a.registerFloatingItem(c)}else{Ext.WindowManager.register(c)}},onKeyDown:function(d){var c=this,a,g,f,b;if(d.getKey()===d.TAB){a=d.shiftKey;g=c.query(":focusable");if(g.length){f=g[0];b=g[g.length-1];if(!a&&b.hasFocus){d.stopEvent();f.focus()}else{if(a&&f.hasFocus){d.stopEvent();b.focus()}}}}},onMouseDown:function(f){var b=this,a=b.focusTask,c=false,d,g;if(b.floating&&(!a||!a.id)){d=f.target;g=b.el.dom;while(d&&d!==g){if(Ext.fly(d).isFocusable()){c=true;break}d=d.parentNode}b.toFront(c)}},setFloatParent:function(b){var a=this;a.floatParent=b;if((a.constrain||a.constrainHeader)&&!a.constrainTo){a.constrainTo=b?b.getTargetEl():a.container}},syncShadow:function(){if(this.floating){this.el.sync(true)}},onBeforeFloatLayout:function(){this.el.preventSync=true},onAfterFloatLayout:function(){delete this.el.preventSync;this.syncShadow()},syncHidden:function(){var c=this,d=c.hidden||!c.rendered,a=c.hierarchicallyHidden=c.isHierarchicallyHidden(),b=c.pendingShow;if(d!==a){if(a){c.hide();c.pendingShow=true}else{if(b){delete c.pendingShow;if(b.length){c.show.apply(c,b)}else{c.show()}}}}},setZIndex:function(a){var b=this;b.el.setZIndex(a);a+=10;if(b.floatingDescendants){a=Math.floor(b.floatingDescendants.setBase(a)/100)*100+10000}return a},doConstrain:function(a){var b=this,c=b.calculateConstrainedPosition(a,null,true);if(c){b.setPosition(c)}},toFront:function(c){var b=this,a=b.zIndexParent,d=b.preventFocusOnActivate;if(a&&b.bringParentToFront!==false){a.toFront(true)}if(!Ext.isDefined(c)){c=!b.focusOnToFront}if(c){b.preventFocusOnActivate=true}if(b.zIndexManager.bringToFront(b,c)){if(!c){b.focus(false,true)}if(b.hasListeners.tofront){b.fireEvent("tofront",b,b.el.getZIndex())}}b.preventFocusOnActivate=d;return b},setActive:function(b,c){var a=this;if(b){if(a.el.shadow&&!a.maximized){a.el.enableShadow(true)}if(!a.preventFocusOnActivate){a.focus(false,true)}a.fireEvent("activate",a)}else{if(a.isWindow&&(c&&c.isWindow)&&a.hideShadowOnDeactivate){a.el.disableShadow()}a.fireEvent("deactivate",a)}},toBack:function(){this.zIndexManager.sendToBack(this);return this},center:function(){var a=this,b;if(a.isVisible()){b=a.getAlignToXY(a.container,"c-c");a.setPagePosition(b)}else{a.needsCenter=true}return a},onFloatShow:function(){if(this.needsCenter){this.center()}delete this.needsCenter;if(this.toFrontOnShow){this.toFront()}},fitContainer:function(c){var f=this,e=f.floatParent,b=e?e.getTargetEl():f.container,a=b.getViewSize(),d=e||(b.dom!==document.body)?[0,0]:b.getXY();a.x=d[0];a.y=d[1];f.setBox(a,c)}});Ext.define("Ext.Component",{alternateClassName:"Ext.AbstractComponent",xtype:["component","box"],mixins:[Ext.mixin.Inheritable,Ext.util.Positionable,Ext.util.Observable,Ext.mixin.Bindable,Ext.util.Animate,Ext.util.ElementContainer,Ext.util.Renderable,Ext.state.Stateful,Ext.util.Floating],statics:{AUTO_ID:1000,pendingLayouts:null,layoutSuspendCount:0,DIRECTION_TOP:"top",DIRECTION_RIGHT:"right",DIRECTION_BOTTOM:"bottom",DIRECTION_LEFT:"left",VERTICAL_DIRECTION_Re:/^(?:top|bottom)$/,INVALID_ID_CHARS_Re:/[\.,\s]/g,componentIdAttribute:"componentId",cancelLayout:function(a,c){var b=this.runningLayoutContext||this.pendingLayouts;if(b){b.cancelComponent(a,false,c)}},flushLayouts:function(){var b=this,a=b.pendingLayouts;if(a&&a.invalidQueue.length){b.pendingLayouts=null;b.runningLayoutContext=a;Ext.override(a,{runComplete:function(){b.runningLayoutContext=null;var c=this.callParent();if(Ext.GlobalEvents.hasListeners.afterlayout){Ext.GlobalEvents.fireEvent("afterlayout")}return c}});a.run()}},resumeLayouts:function(a){if(this.layoutSuspendCount&&!--this.layoutSuspendCount){if(a){this.flushLayouts()}if(Ext.GlobalEvents.hasListeners.resumelayouts){Ext.GlobalEvents.fireEvent("resumelayouts")}}},suspendLayouts:function(){++this.layoutSuspendCount},updateLayout:function(b,e){var c=this,a=c.runningLayoutContext,d;if(a){a.queueInvalidate(b)}else{d=c.pendingLayouts||(c.pendingLayouts=new Ext.layout.Context());d.queueInvalidate(b);if(!e&&!c.layoutSuspendCount&&!b.isLayoutSuspended()){c.flushLayouts()}}}},$configPrefixed:false,$configStrict:false,config:{data:null},defaultBindProperty:"html",alignTarget:null,autoRender:false,autoShow:false,baseCls:Ext.baseCSSPrefix+"component",childEls:{frameTable:{frame:true},frameTL:{frame:"tl"},frameTC:{frame:"tc"},frameTR:{frame:"tr"},frameML:{frame:"ml"},frameBody:{frame:"mc"},frameMR:{frame:"mr"},frameBL:{frame:"bl"},frameBC:{frame:"bc"},frameBR:{frame:"br"}},componentLayout:"autocomponent",defaultAlign:"c-c",disabled:false,disabledRe:/^(?:button|input|select|textarea|optgroup|option|fieldset)$/i,nonMaskableRe:(function(){var a=["input","select","textarea","optgroup","option","table"];if(Ext.isIE9m&&!(Ext.isIE9&&!Ext.isIEQuirks)){a.push("p")}return new RegExp("^(?:"+a.join("|")+")$","i")}()),disabledCls:Ext.baseCSSPrefix+"item-disabled",draggable:false,floating:false,hidden:false,hideMode:"display",maskElement:null,renderTpl:['<tpl if="renderScroller">','<div class="{scrollerCls}" style="{%this.renderPadding(out, values)%}">',"</tpl>","{%this.renderContent(out,values)%}",'<tpl if="renderScroller"></div></tpl>'],resizeHandles:"all",shrinkWrap:2,toFrontOnShow:true,synthetic:false,tplWriteMode:"overwrite",ui:"default",uiCls:[],weight:null,allowDomMove:true,autoGenId:false,borderBoxCls:Ext.baseCSSPrefix+"border-box",componentLayoutCounter:0,contentPaddingProperty:"padding",deferLayouts:false,frameSize:null,horizontalPosProp:"left",isComponent:true,_isLayoutRoot:false,layoutSuspendCount:0,liquidLayout:false,maskOnDisable:true,offsetsCls:Ext.baseCSSPrefix+"hidden-offsets",rendered:false,rootCls:Ext.baseCSSPrefix+"body",scrollerCls:Ext.baseCSSPrefix+"touch-scroller",scrollerSelector:"."+Ext.baseCSSPrefix+"touch-scroller",validIdRe:Ext.validIdRe,constructor:function(d){var f=this,e,a,c,b;d=d||{};if(d.initialConfig){if(d.isAction){f.baseAction=d}d=d.initialConfig}else{if(d.tagName||d.dom||Ext.isString(d)){d={applyTo:d,id:d.id||d}}}f.initialConfig=d;f.getId();f.protoEl=new Ext.util.ProtoElement();f.initConfig(d);c=f.xhooks;if(c){delete f.xhooks;Ext.override(f,c)}f.mixins.elementCt.constructor.call(f);if(!f.validIdRe.test(f.id)){Ext.Error.raise('Invalid component "id": "'+f.id+'"')}if(!f.validIdRe.test(f.itemId)){Ext.Error.raise('Invalid component "itemId": "'+f.itemId+'"')}f.setupProtoEl();if(f.cls){f.initialCls=f.cls;f.protoEl.addCls(f.cls)}if(f.style){f.initialStyle=f.style;f.protoEl.setStyle(f.style)}f.renderData=f.renderData||{};f.initComponent();if(!f.preventRegister){Ext.ComponentManager.register(f)}f.mixins.state.constructor.call(f);f.addStateEvents("resize");b=f.getController();if(b){b.init(f)}if(f.plugins){for(e=0,a=f.plugins.length;e<a;e++){f.plugins[e]=f.initPlugin(f.plugins[e])}}f.loader=f.getLoader();if(f.renderTo){f.render(f.renderTo)}if(f.autoShow&&!f.initOwnerCt){f.show()}if(Ext.isDefined(f.disabledClass)){if(Ext.isDefined(Ext.global.console)){Ext.global.console.warn("Ext.Component: disabledClass has been deprecated. Please use disabledCls.")}f.disabledCls=f.disabledClass;delete f.disabledClass}if(f.baseAction){f.baseAction.addComponent(f)}},beforeInitConfig:function(){this.mixins.observable.constructor.call(this)},addCls:function(a){var c=this,b=c.rendered?c.el:c.protoEl;b.addCls.apply(b,arguments);return c},addClsWithUI:function(c,h){var g=this,f=[],e=0,d=g.uiCls=Ext.Array.clone(g.uiCls),b=g.activeUI,a,j;if(typeof c==="string"){c=(c.indexOf(" ")<0)?[c]:Ext.String.splitWords(c)}a=c.length;for(;e<a;e++){j=c[e];if(j&&!g.hasUICls(j)){d.push(j);if(b){f=f.concat(g.addUIClsToElement(j))}}}if(h!==true&&b){g.addCls(f)}return f},afterComponentLayout:function(c,a,b,e){var d=this;if(++d.componentLayoutCounter===1){d.afterFirstLayout(c,a)}if(c!==b||a!==e){d.onResize(c,a,b,e)}if(this.floating){this.onAfterFloatLayout()}},addListener:function(b,f,e,a){var g=this,d,c;if(Ext.isString(b)&&(Ext.isObject(f)||a&&a.element)){if(a.element){d=f;f={};f[b]=d;b=a.element;if(e){f.scope=e}for(c in a){if(a.hasOwnProperty(c)){if(g.eventOptionsRe.test(c)){f[c]=a[c]}}}}if(g[b]&&g[b].on){g.mon(g[b],f)}else{g.afterRenderEvents=g.afterRenderEvents||{};if(!g.afterRenderEvents[b]){g.afterRenderEvents[b]=[]}g.afterRenderEvents[b].push(f)}return}return g.mixins.observable.addListener.apply(g,arguments)},addPlugin:function(b){var a=this;b=a.constructPlugin(b);if(a.plugins){a.plugins.push(b)}else{a.plugins=[b]}if(a.pluginsInitialized){a.initPlugin(b)}return b},addPropertyToState:function(e,d,c){var b=this,a=arguments.length;if(a===3||b.hasOwnProperty(d)){if(a<3){c=b[d]}if(c!==b.initialConfig[d]){(e||(e={}))[d]=c}}return e},addUIClsToElement:function(h){var e=this,b=e.baseCls+"-"+e.ui+"-"+h,a=[Ext.baseCSSPrefix+h,e.baseCls+"-"+h,b],d,g,c,f;if(e.rendered&&e.frame&&!Ext.supports.CSS3BorderRadius){b+="-";d=e.getChildEls();for(g in d){f=d[g].frame;if(f&&f!==true){c=e[g];if(c){c.addCls(b+f)}}}}return a},removeUIClsFromElement:function(h){var e=this,b=e.baseCls+"-"+e.ui+"-"+h,a=[Ext.baseCSSPrefix+h,e.baseCls+"-"+h,b],d,g,c,f;if(e.rendered&&e.frame&&!Ext.supports.CSS3BorderRadius){b+="-";d=e.getChildEls();for(g in d){f=d[g].frame;if(f&&f!==true){c=e[g];if(c){c.removeCls(b+f)}}}}return a},adjustPosition:function(a,d){var b=this,c;if(b.isContainedFloater()){c=b.floatParent.getTargetEl().getViewRegion();a+=c.left;d+=c.top}return{x:a,y:d}},afterHide:function(a,b){var c=this;c.hiddenByLayout=null;if(this.ownerLayout){this.updateLayout({isRoot:false})}Ext.callback(a,b||c);c.fireEvent("hide",c);c.fireHierarchyEvent("hide")},afterSetPosition:function(a,c){var b=this;b.onPosition(a,c);if(b.hasListeners.move){b.fireEvent("move",b,a,c)}},afterShow:function(g,b,e){var f=this,h=f.el,a,c,d;g=f.getAnimateTarget(g);if(!f.ghost){g=null}if(g){c={x:h.getX(),y:h.getY(),width:h.dom.offsetWidth,height:h.dom.offsetHeight};a={x:g.getX(),y:g.getY(),width:g.dom.offsetWidth,height:g.dom.offsetHeight};h.addCls(f.offsetsCls);d=f.ghost();d.el.stopAnimation();d.setX(-10000);f.ghostBox=c;d.el.animate({from:a,to:c,listeners:{afteranimate:function(){delete d.componentLayout.lastComponentSize;f.unghost();delete f.ghostBox;h.removeCls(f.offsetsCls);f.onShowComplete(b,e)}}})}else{f.onShowComplete(b,e)}f.fireHierarchyEvent("show")},animate:function(c){var t=this,f,l,k,a,d,b,s,p,m,e,q,n,g,o,r,j;c=c||{};d=c.to||{};if(Ext.fx.Manager.hasFxBlock(t.id)){return t}f=Ext.isDefined(d.width);if(f){a=Ext.Number.constrain(d.width,t.minWidth,t.maxWidth)}l=Ext.isDefined(d.height);if(l){k=Ext.Number.constrain(d.height,t.minHeight,t.maxHeight)}if(!c.dynamic&&(f||l)){p=(c.from?c.from.width:undefined)||t.getWidth();m=p;e=(c.from?c.from.height:undefined)||t.getHeight();q=e;n=false;if(l&&k>e){q=k;n=true}if(f&&a>p){m=a;n=true}if(l||f){j=t.el.getStyle("overflow");if(j!=="hidden"){t.el.setStyle("overflow","hidden")}}if(n){b=!Ext.isNumber(t.width);s=!Ext.isNumber(t.height);t.setSize(m,q);t.el.setSize(p,e);if(b){delete t.width}if(s){delete t.height}}if(f){d.width=a}if(l){d.height=k}}g=t.constrain;o=t.constrainHeader;if(g||o){t.constrain=t.constrainHeader=false;r=c.callback;c.callback=function(){t.constrain=g;t.constrainHeader=o;if(r){r.call(c.scope||t,arguments)}if(j!=="hidden"){t.el.setStyle("overflow",j)}}}return t.mixins.animate.animate.apply(t,arguments)},beforeBlur:Ext.emptyFn,beforeComponentLayout:function(){return true},beforeDestroy:Ext.emptyFn,beforeFocus:Ext.emptyFn,beforeLayout:function(){if(this.floating){this.onBeforeFloatLayout()}},beforeSetPosition:function(j,g,b){var f=this,h=null,d,c,a,e;if(j){if(Ext.isNumber(d=j[0])){b=g;g=j[1];j=d}else{if((d=j.x)!==undefined){b=g;g=j.y;j=d}}}if(f.constrain||f.constrainHeader){h=f.calculateConstrainedPosition(null,[j,g],true);if(h){j=h[0];g=h[1]}}c=(j!==undefined);a=(g!==undefined);if(c||a){f.x=j;f.y=g;e=f.adjustPosition(j,g);h={x:e.x,y:e.y,anim:b,hasX:c,hasY:a}}return h},beforeShow:Ext.emptyFn,bubble:function(c,b,a){var d=this;while(d){if(c.apply(b||d,a||[d])===false){break}d=d.getBubbleTarget()}return this},cancelFocus:function(){var a=this.focusTask;if(a){a.cancel()}},cloneConfig:function(c){c=c||{};var d=c.id||Ext.id(),a=Ext.applyIf(c,this.initialConfig),b;a.id=d;b=Ext.getClass(this);return new b(a)},destroy:function(){var e=this,c=e.renderSelectors,b=e.getConfig("viewModel",true),f=e.getConfig("session",true),a,d;if(!e.isDestroyed){if(!e.hasListeners.beforedestroy||e.fireEvent("beforedestroy",e)!==false){e.destroying=true;e.removeBindings();e.beforeDestroy();if(b&&b.isViewModel){b.destroy();e.viewModel=null}if(f&&f.isSession){f.destroy();e.session=null}if(e.floating){delete e.floatParent;if(e.zIndexManager){e.zIndexManager.unregister(e)}}else{if(e.ownerCt&&e.ownerCt.remove){e.ownerCt.remove(e,false)}}e.stopAnimation();e.onDestroy();Ext.destroy(e.plugins);e.componentLayout=null;if(e.hasListeners.destroy){e.fireEvent("destroy",e)}if(!e.preventRegister){Ext.ComponentManager.unregister(e)}e.mixins.state.destroy.call(e);e.clearListeners();if(e.rendered){if(!e.preserveElOnDestroy){e.el.destroy()}e.mixins.elementCt.destroy.call(e);if(c){for(a in c){if(c.hasOwnProperty(a)){d=e[a];if(d){delete e[a];d.destroy()}}}}delete e.data;delete e.el;delete e.frameBody;delete e.rendered}e.destroying=false;e.isDestroyed=true}}},disable:function(a){var b=this;b.enableOnRender=false;b.addCls(b.disabledCls);if(b.rendered){b.onDisable()}else{b.disableOnRender=true}b.disabled=true;if(a!==true){delete b.resetDisable;b.fireEvent("disable",b)}return b},enable:function(a){var b=this;b.disableOnRender=false;b.removeCls(b.disabledCls);if(b.rendered){b.onEnable()}else{b.enableOnRender=true}b.disabled=false;delete b.resetDisable;if(a!==true){b.fireEvent("enable",b)}return b},findParentBy:function(a){var b;for(b=this.getRefOwner();b&&!a(b,this);b=b.getRefOwner()){}return b||null},findParentByType:function(a){return Ext.isFunction(a)?this.findParentBy(function(b){return b.constructor===a}):this.up(a)},findPlugin:function(d){var b,a=this.plugins,c=a&&a.length;for(b=0;b<c;b++){if(a[b].ptype===d){return a[b]}}},focus:function(f,c,h,d){var e=this,a,g,b;if(e.isDestroyed){return}if(c){e.getFocusTask().delay(Ext.isNumber(c)?c:10,e.focus,e,[f,false,h,d]);return e}if(e.focusTask){e.focusTask.cancel()}if(e.rendered&&!e.isDestroyed&&e.isVisible(true)&&(a=e.getFocusEl())){if(a.isComponent){return a.focus(f,c)}if((g=a.dom)){if(a.needsTabIndex()){g.tabIndex=-1}if(e.floating){b=e.container.dom.scrollTop}a.focus();if(f){if(Ext.isArray(f)){if(e.selectText){e.selectText.apply(e,f)}}else{g.select()}}Ext.callback(h,d)}if(e.floating){if(e!==e.zIndexManager.getActive()){e.toFront(true)}if(b!==undefined){e.container.dom.scrollTop=b}}}return e},getAnimateTarget:function(a){a=a||this.animateTarget;if(a){a=a.isComponent?a.getEl():Ext.get(a)}return a||null},getBubbleTarget:function(){return this.getRefOwner()},getComponentLayout:function(){var a=this;if(!a.componentLayout||!a.componentLayout.isLayout){a.setComponentLayout(Ext.layout.Layout.create(a.componentLayout,"autocomponent"))}return a.componentLayout},getEl:function(){return this.el},getHeight:function(){return this.el.getHeight()},initInheritedState:function(a){var c=this,b=c.componentLayout;if(c.hidden){a.hidden=true}if(c.collapseImmune){a.collapseImmune=true}if(c.modelValidation!==undefined){a.modelValidation=c.modelValidation}c.mixins.bindable.initInheritedState.call(c,a);if(b&&b.initInheritedState){b.initInheritedState(a)}},getId:function(){var a=this,b;if(!(a.id||(a.id=a.initialConfig.id))){b=a.getXType();if(b){b=b.replace(Ext.Component.INVALID_ID_CHARS_Re,"-")}else{b=Ext.name.toLowerCase()+"-comp"}a.id=b+"-"+a.getAutoId()}return a.id},getItemId:function(){return this.itemId||this.id},getLoader:function(){var b=this,a=b.loader;if(a){if(!a.isLoader){b.loader=new Ext.ComponentLoader(Ext.apply({target:b},a))}else{a.setTarget(b)}return b.loader}return null},getMaskTarget:function(){return this.maskElement?this[this.maskElement]:null},getPlugin:function(b){var c,a=this.plugins,d=a&&a.length;for(c=0;c<d;c++){if(a[c].pluginId===b){return a[c]}}},getPosition:function(a){var b=this,d,c=b.isContainedFloater(),e;if((a===true)&&!c){return[b.getLocalX(),b.getLocalY()]}d=b.getXY();if((a===true)&&c){e=b.floatParent.getTargetEl().getViewRegion();d[0]-=e.left;d[1]-=e.top}return d},getScrollX:function(){var a=this,b=a.scrollManager;return b?b.getPosition().x:a.getScrollLeft()},getScrollY:function(){var a=this,b=a.scrollManager;return b?b.getPosition().y:a.getOverflowEl().getScrollTop()},getSize:function(a){return this.el.getSize(a)},getSizeModel:function(k){var o=this,a=Ext.layout.SizeModel,d=o.componentLayout.ownerContext,b=o.width,q=o.height,r,c,g,f,h,p,m,n,l,j,e=o.floating||o.floated;if(d){j=d.widthModel;h=d.heightModel}if(!j||!h){g=((r=typeof b)=="number");f=((c=typeof q)=="number");l=e||!(p=o.ownerLayout);if(l){m=Ext.layout.Layout.prototype.autoSizePolicy;n=e?3:o.shrinkWrap;if(g){j=a.configured}if(f){h=a.configured}}else{m=p.getItemSizePolicy(o,k);n=p.isItemShrinkWrap(o)}if(d){d.ownerSizePolicy=m}n=(n===true)?3:(n||0);if(l&&n){if(b&&r=="string"){n&=2}if(q&&c=="string"){n&=1}}if(n!==3){if(!k){k=o.ownerCt&&o.ownerCt.getSizeModel()}if(k){n|=(k.width.shrinkWrap?1:0)|(k.height.shrinkWrap?2:0)}}if(!j){if(!m.setsWidth){if(g){j=a.configured}else{j=(n&1)?a.shrinkWrap:a.natural}}else{if(m.readsWidth){if(g){j=a.calculatedFromConfigured}else{j=(n&1)?a.calculatedFromShrinkWrap:a.calculatedFromNatural}}else{j=a.calculated}}}if(!h){if(!m.setsHeight){if(f){h=a.configured}else{h=(n&2)?a.shrinkWrap:a.natural}}else{if(m.readsHeight){if(f){h=a.calculatedFromConfigured}else{h=(n&2)?a.calculatedFromShrinkWrap:a.calculatedFromNatural}}else{h=a.calculated}}}}return j.pairsByHeightOrdinal[h.ordinal]},getState:function(){var b=this,c=null,a=b.getSizeModel();if(a.width.configured){c=b.addPropertyToState(c,"width")}if(a.height.configured){c=b.addPropertyToState(c,"height")}return c},getWidth:function(){return this.el.getWidth()},getXType:function(){return this.self.xtype},getXTypes:function(){var c=this.self,d,b,a;if(!c.xtypes){d=[];b=this;while(b){a=b.xtypes;if(a!==undefined){d.unshift.apply(d,a)}b=b.superclass}c.xtypeChain=d;c.xtypes=d.join("/")}return c.xtypes},hasCls:function(a){var c=this,b=c.rendered?c.el:c.protoEl;return b.hasCls.apply(b,arguments)},hasUICls:function(a){var b=this,c=b.uiCls||[];return Ext.Array.contains(c,a)},hide:function(e,b,c){var d=this,a;if(d.pendingShow){delete d.pendingShow}if(!(d.rendered&&!d.isVisible())){a=(d.fireEvent("beforehide",d)!==false);if(d.hierarchicallyHidden||a){d.hidden=true;d.getInherited().hidden=true;if(d.rendered){d.onHide.apply(d,arguments)}}}return d},initComponent:function(){var c=this,b=c.width,a=c.height;if(c.plugins&&!c.plugins.processed){c.plugins=c.constructPlugins()}if(b!=null||a!=null){c.setSize(b,a)}if(c.listeners){c.on(c.listeners);c.listeners=null}},initEvents:function(){var e=this,g=e.afterRenderEvents,b,d,f,c,a;if(g){for(f in g){d=e[f];if(d&&d.on){b=g[f];for(c=0,a=b.length;c<a;++c){e.mon(d,b[c])}}}}e.addFocusListener()},is:function(a){return Ext.ComponentQuery.is(this,a)},isDescendantOf:function(a){return !!this.findParentBy(function(b){return b===a})},isDisabled:function(){return this.disabled},isDraggable:function(){return !!this.draggable},isDroppable:function(){return !!this.droppable},isFloating:function(){return this.floating},isFocusable:function(){var b=this,a;if((b.focusable!==false)&&(a=b.getFocusEl())&&b.rendered&&!b.destroying&&!b.isDestroyed&&!b.disabled&&b.isVisible(true)){return a.isFocusable(true)}},isHidden:function(){return this.hidden},isHierarchicallyHidden:function(){var d=this,c=false,a,b;for(;(a=d.ownerCt||d.floatParent);d=a){b=a.getInherited();if(b.hidden){c=true;break}if(d.getInherited().collapseImmune){if(a.collapsed&&!d.collapseImmune){c=true;break}}else{c=!!b.collapsed;break}}return c},isLayoutRoot:function(){var a=this,b=a.ownerLayout;if(!b||a._isLayoutRoot||a.floating){return true}return b.isItemLayoutRoot(a)},isLayoutSuspended:function(){var a=this,b;while(a){if(a.layoutSuspendCount||a.suspendLayout){return true}b=a.ownerLayout;if(!b){break}a=b.owner}return false},isVisible:function(a){var b=this,c;if(b.hidden||!b.rendered||b.isDestroyed){c=true}else{if(a){c=b.isHierarchicallyHidden()}}return !c},isXType:function(b,a){return a?(Ext.Array.indexOf(this.xtypes,b)!==-1):!!this.xtypesMap[b]},mask:function(e,c,a){var b=this.lastBox,d=this.getMaskTarget()||this.el;if(b){a=b.height}d.mask(e,c,a)},nextNode:function(d,h){var b=this,c=b.ownerCt,j,e,g,f,a;if(h&&b.is(d)){return b}if(c){for(e=c.items.items,f=Ext.Array.indexOf(e,b)+1,g=e.length;f<g;f++){a=e[f];if(a.is(d)){return a}if(a.down){j=a.down(d);if(j){return j}}}return c.nextNode(d)}return null},nextSibling:function(b){var f=this.ownerCt,d,e,a,g;if(f){d=f.items;a=d.indexOf(this)+1;if(a){if(b){for(e=d.getCount();a<e;a++){if((g=d.getAt(a)).is(b)){return g}}}else{if(a<d.getCount()){return d.getAt(a)}}}}return null},onAdded:function(b,e,a){var d=this,c=d.inheritedState;d.ownerCt=b;if(c&&a){d.invalidateInheritedState()}if(d.reference){d.fixReference()}if(d.hasListeners&&d.hasListeners.added){d.fireEvent("added",d,b,e)}if(Ext.GlobalEvents.hasListeners.added){d.fireHierarchyEvent("added")}},onRemoved:function(b){var a=this,c;if(Ext.GlobalEvents.hasListeners.removed){a.fireHierarchyEvent("removed")}if(a.hasListeners.removed){a.fireEvent("removed",a,a.ownerCt)}if(a.reference){c=a.lookupReferenceHolder();if(c){c.clearReference(a)}}if(!b){a.removeBindings()}if(a.inheritedState&&!b){a.invalidateInheritedState()}a.ownerCt=a.ownerLayout=null},onBoxReady:function(b,a){var c=this;if(c.resizable){c.initResizable(c.resizable)}if(c.draggable){c.initDraggable()}if(c.touchScroll){c.initScrollManager()}if(c.hasListeners.boxready){c.fireEvent("boxready",c,b,a)}},onBlur:function(d){var c=this,b=c.focusCls,a=c.getFocusEl();if(c.destroying){return}c.beforeBlur(d);if(b&&a){a.removeCls(c.removeClsWithUI(b,true))}if(c.validateOnBlur){c.validate()}c.hasFocus=false;c.fireEvent("blur",c,d);c.postBlur(d)},onFocus:function(d){var c=this,b=c.focusCls,a=c.getFocusEl();if(!c.disabled){c.beforeFocus(d);if(b&&a){a.addCls(c.addClsWithUI(b,true))}if(!c.hasFocus){c.hasFocus=true;c.fireEvent("focus",c,d)}}},onDestroy:function(){var e=this,c=e.controller,a,d;if(e.bind){e.removeBindings()}if(c){c.destroy()}e.controller=null;if(e.rendered){Ext.destroy(e.dd,e.resizer,e.proxy,e.proxyWrap,e.resizerComponent)}delete e.focusTask;Ext.destroy(e.componentLayout,e.loadMask,e.floatingDescendants)},onDisable:function(){var c=this,b=c.focusCls,a=c.getFocusEl(),d,e;if(b&&a){a.removeCls(c.removeClsWithUI(b,true))}if(c.maskOnDisable){d=c.el.dom;e=d.nodeName;if(c.disabledRe.test(e)){d.disabled=true}if(!c.nonMaskableRe.test(e)){c.mask()}}},onEnable:function(){var a=this,b,c;if(a.maskOnDisable){b=a.el.dom;c=b.nodeName;if(a.disabledRe.test(c)){b.disabled=false}if(!a.nonMaskableRe.test(c)){a.unmask()}}},onHide:function(h,a,e){var f=this,c,d,b,g=Ext.Element.getActiveElement();if(g===f.el||f.el.contains(g)){Ext.fly(g).blur()}h=f.getAnimateTarget(h);if(!f.ghost){h=null}if(h){b={x:h.getX(),y:h.getY(),width:h.dom.offsetWidth,height:h.dom.offsetHeight};c=f.ghost();c.el.stopAnimation();d=f.getSize();c.el.animate({to:b,listeners:{afteranimate:function(){delete c.componentLayout.lastComponentSize;c.el.hide();c.setHiddenState(true);c.el.setSize(d);f.afterHide(a,e)}}})}f.el.hide();if(!h){f.afterHide(a,e)}},onPosition:Ext.emptyFn,onResize:function(c,a,b,e){var d=this;if(d.floating&&d.constrain){d.doConstrain()}if(b){d.refreshScroll()}if(d.hasListeners.resize){d.fireEvent("resize",d,c,a,b,e)}},onShow:function(){var a=this;a.el.show();a.updateLayout({isRoot:false});if(a.floating){if(a.maximized){a.fitContainer()}else{if(a.constrain){a.doConstrain()}}}},onShowComplete:function(a,b){var c=this;if(c.floating){c.onFloatShow()}Ext.callback(a,b||c);c.fireEvent("show",c);delete c.hiddenByLayout},onShowVeto:Ext.emptyFn,postBlur:Ext.emptyFn,previousNode:function(b,d){var h=this,g=h.ownerCt,a,f,e,c;if(d&&h.is(b)){return h}if(g){for(f=g.items.items,e=Ext.Array.indexOf(f,h)-1;e>-1;e--){c=f[e];if(c.query){a=c.query(b);a=a[a.length-1];if(a){return a}}if(c.is(b)){return c}}return g.previousNode(b,true)}return null},previousSibling:function(b){var e=this.ownerCt,d,a,f;if(e){d=e.items;a=d.indexOf(this);if(a!=-1){if(b){for(--a;a>=0;a--){if((f=d.getAt(a)).is(b)){return f}}}else{if(a){return d.getAt(--a)}}}}return null},registerFloatingItem:function(b){var a=this;if(!a.floatingDescendants){a.floatingDescendants=new Ext.ZIndexManager(a)}a.floatingDescendants.register(b)},removeCls:function(a){var c=this,b=c.rendered?c.el:c.protoEl;b.removeCls.apply(b,arguments);return c},removeClsWithUI:function(d,k){var j=this,h=[],f=0,a=Ext.Array,g=a.remove,e=j.uiCls=a.clone(j.uiCls),c=j.activeUI,b,l;if(typeof d==="string"){d=(d.indexOf(" ")<0)?[d]:Ext.String.splitWords(d)}b=d.length;for(f=0;f<b;f++){l=d[f];if(l&&j.hasUICls(l)){g(e,l);if(c){h=h.concat(j.removeUIClsFromElement(l))}}}if(k!==true&&c){j.removeCls(h)}return h},resumeLayouts:function(b){var a=this;if(!a.rendered){return}if(!a.layoutSuspendCount){Ext.log.warn("Mismatched call to resumeLayouts - layouts are currently not suspended.")}if(a.layoutSuspendCount&&!--a.layoutSuspendCount){a.suspendLayout=false;if(b&&!a.isLayoutSuspended()){a.updateLayout(b)}}},scrollBy:function(b,a,c){var d=this,e=d.scrollManager;if(e){e.scrollBy(b,a,c)}else{d.doScrollBy(b,a,c)}},scrollTo:function(a,e,b){var c=this,d=c.scrollManager;if(d){d.scrollTo(a,e,b)}else{c.doScrollTo(a,e,b)}},setAutoScroll:function(a){var b=this;b.autoScroll=!!a;if(b.rendered){b.getOverflowEl().setStyle(b.getOverflowStyle())}b.updateLayout();return b},setBorder:function(b,d){var c=this,a=!!d;if(c.rendered||a){if(!a){d=c.el}if(!b){b=0}else{if(b===true){b="1px"}else{b=this.unitizeBox(b)}}d.setStyle("border-width",b);if(!a){c.updateLayout()}}c.border=b},setDock:function(c){var b=this,a=b.ownerCt;if(c!==b.dock){if(a&&a.moveDocked){a.moveDocked(b,c)}else{b.dock=c}}return b},setDisabled:function(a){return this[a?"disable":"enable"]()},setFlex:function(a){this.flex=a},setHeight:function(a){return this.setSize(undefined,a)},setLoading:function(c,d){var b=this,a={target:b};if(b.rendered){if(c!==false){if(Ext.isString(c)){a.msg=c}else{Ext.apply(a,c)}if(!b.loadMask||!b.loadMask.isLoadMask){if(d&&a.useTargetEl==null){a.useTargetEl=true}b.loadMask=new Ext.LoadMask(a)}else{Ext.apply(b.loadMask,a)}if(b.loadMask.isVisible()){b.loadMask.afterShow()}else{b.loadMask.show()}}else{if(b.loadMask&&b.loadMask.isLoadMask){b.loadMask.hide()}}}return b.loadMask},setMargin:function(c,b){var a=this;if(a.rendered){if(!c&&c!==0){c=""}else{if(c===true){c=5}c=this.unitizeBox(c)}a.getTargetEl().setStyle("margin",c);if(!b){a.updateLayout()}}else{a.margin=c}},setOverflowXY:function(b,a){var d=this,e=arguments.length,c=d.ownerCt;if(e){d.overflowX=b||"";if(e>1){d.overflowY=a||""}}if(d.rendered){d.getOverflowEl().setStyle(d.getOverflowStyle())}(c||d).updateLayout();return d},setPagePosition:function(a,f,b){var c=this,d,e;if(Ext.isArray(a)){f=a[1];a=a[0]}c.pageX=a;c.pageY=f;if(c.floating){if(c.isContainedFloater()){e=c.floatParent.getTargetEl().getViewRegion();if(Ext.isNumber(a)&&Ext.isNumber(e.left)){a-=e.left}if(Ext.isNumber(f)&&Ext.isNumber(e.top)){f-=e.top}}else{d=c.el.translateXY(a,f);a=d.x;f=d.y}c.setPosition(a,f,b)}else{d=c.el.translateXY(a,f);c.setPosition(d.x,d.y,b)}return c},setPosition:function(a,e,b){var c=this,d=c.beforeSetPosition.apply(c,arguments);if(d&&c.rendered){a=d.x;e=d.y;if(b){if(a!==c.getLocalX()||e!==c.getLocalY()){c.stopAnimation();c.animate(Ext.apply({duration:1000,listeners:{afteranimate:Ext.Function.bind(c.afterSetPosition,c,[a,e])},to:{left:a,top:e}},b))}}else{c.setLocalXY(a,e);c.afterSetPosition(a,e)}}return c},setScrollX:function(a){var b=this,c=b.scrollManager;if(c){c.scrollTo(a,c.getPosition().y)}else{b.setScrollLeft(a)}},setScrollY:function(c){var a=this,b=a.scrollManager;if(b){b.scrollTo(b.getPosition().x,c)}else{a.getOverflowEl().setScrollTop(c)}},setSize:function(b,a){var c=this;if(b&&typeof b=="object"){a=b.height;b=b.width}if(typeof b=="number"){c.width=Ext.Number.constrain(b,c.minWidth,c.maxWidth)}else{if(b===null){delete c.width}}if(typeof a=="number"){c.height=Ext.Number.constrain(a,c.minHeight,c.maxHeight)}else{if(a===null){delete c.height}}if(c.rendered&&c.isVisible()){if(c.liquidLayout){c.el.setSize(c.width,c.height)}c.updateLayout({isRoot:false})}return c},setStyle:function(b){var a=this.el||this.protoEl;a.setStyle(b)},setUI:function(c){var b=this,e=b.uiCls,d=b.activeUI,a;if(c===d){return}if(d){a=b.removeClsWithUI(e,true);if(a.length){b.removeCls(a)}b.removeUIFromElement()}else{b.uiCls=[]}b.ui=c;b.activeUI=c;b.addUIToElement();a=b.addClsWithUI(e,true);if(a.length){b.addCls(a)}if(b.rendered){b.updateLayout()}},setVisible:function(a){return this[a?"show":"hide"]()},setHidden:function(a){return this.setVisible(!a)},setWidth:function(a){return this.setSize(a)},show:function(d,a,b){var c=this,e=c.rendered;if(c.hierarchicallyHidden||(c.floating&&!e&&c.isHierarchicallyHidden())){if(!e){c.initHierarchyEvents()}if(arguments.length>1){arguments[0]=null;c.pendingShow=arguments}else{c.pendingShow=true}}else{if(e&&c.isVisible()){if(c.floating){c.onFloatShow()}}else{if(c.fireEvent("beforeshow",c)!==false){c.hidden=false;delete this.getInherited().hidden;Ext.suspendLayouts();if(!e&&(c.autoRender||c.floating)){c.doAutoRender();e=c.rendered}if(e){c.beforeShow();Ext.resumeLayouts();c.onShow.apply(c,arguments);c.afterShow.apply(c,arguments)}else{Ext.resumeLayouts(true)}}else{c.onShowVeto()}}}return c},showAt:function(a,d,b){var c=this;if(!c.rendered&&(c.autoRender||c.floating)){c.x=a;c.y=d;return c.show()}if(c.floating){c.setPosition(a,d,b)}else{c.setPagePosition(a,d,b)}c.show()},showBy:function(b,d,c){var a=this;if(!a.floating){Ext.log.warn("Using showBy on a non-floating component")}if(a.floating&&b){a.alignTarget=b;if(d){a.defaultAlign=d}if(c){a.alignOffset=c}a.show();if(!a.hidden){a.alignTo(b,d||a.defaultAlign,c||a.alignOffset)}}return a},suspendLayouts:function(){var a=this;if(!a.rendered){return}if(++a.layoutSuspendCount===1){a.suspendLayout=true}},unitizeBox:function(a){return Ext.Element.unitizeBox(a)},unmask:function(){(this.getMaskTarget()||this.el).unmask()},unregisterFloatingItem:function(b){var a=this;if(a.floatingDescendants){a.floatingDescendants.unregister(b)}},up:function(d,e){var c=this.getRefOwner(),b=typeof e==="string",g=typeof e==="number",a=e&&e.isComponent,f=0;if(d){for(;c;c=c.getRefOwner()){f++;if(d.isComponent){if(c===d){return c}}else{if(Ext.ComponentQuery.is(c,d)){return c}}if(b&&c.is(e)){return}if(g&&f===e){return}if(a&&c===e){return}}}return c},update:function(b,e,h){var g=this,j=(g.tpl&&!Ext.isString(b)),f=g.scrollManager,d,a,c;if(j){g.data=(b&&b.isEntity)?b.getData(true):b}else{g.html=Ext.isObject(b)?Ext.DomHelper.markup(b):b}if(g.rendered){d=g.getSizeModel();a=d.width.shrinkWrap||d.height.shrinkWrap;if(g.isContainer){c=g.layout.getRenderTarget();a=a||g.items.items.length>0}else{c=g.touchScroll?g.getScrollerEl():g.getTargetEl()}if(j){g.tpl[g.tplWriteMode](c,g.data||{})}else{c.setHtml(g.html,e,h)}if(a){g.updateLayout()}if(f){f.refresh()}}},setHtml:function(a){this.update(a)},applyData:function(a){this.update(a)},updateBox:function(a){this.setSize(a.width,a.height);this.setPagePosition(a.x,a.y);return this},_asLayoutRoot:{isRoot:true},updateLayout:function(c){var d=this,e,b=d.lastBox,a=c&&c.isRoot;if(b){b.invalid=true}if(!d.rendered||d.layoutSuspendCount||d.suspendLayout){return}if(d.hidden){Ext.Component.cancelLayout(d)}else{if(typeof a!="boolean"){a=d.isLayoutRoot()}}if(a||!d.ownerLayout||!d.ownerLayout.onContentChange(d)){if(!d.isLayoutSuspended()){e=(c&&c.hasOwnProperty("defer"))?c.defer:d.deferLayouts;Ext.Component.updateLayout(d,e)}}},getAnchorToXY:function(d,a,c,b){return d.getAnchorXY(a,c,b)},getBorderPadding:function(){return this.el.getBorderPadding()},getLocalX:function(){return this.el.getLocalX()},getLocalXY:function(){return this.el.getLocalXY()},getLocalY:function(){return this.el.getLocalY()},getX:function(){return this.el.getX()},getXY:function(){return this.el.getXY()},getY:function(){return this.el.getY()},setLocalX:function(a){this.el.setLocalX(a)},setLocalXY:function(a,b){this.el.setLocalXY(a,b)},setLocalY:function(a){this.el.setLocalY(a)},setX:function(a,b){this.el.setX(a,b)},setXY:function(b,a){this.el.setXY(b,a)},setY:function(b,a){this.el.setY(b,a)},privates:{statics:{findComponentByElement:function(c){var a=document.body,d=c,b;while(d&&d.nodeType===1&&d!==a){b=Ext.getCmp(d.id);if(b){return b}d=d.parentNode}return null},getComponentByElement:function(a){var c=Ext.Component.componentIdAttribute,b;a=Ext.fly(a);if(!a){return null}b=a.getAttribute(c);if(b){return Ext.getCmp(b)}else{return Ext.Component.findComponentByElement(a.dom)}},getActiveComponent:function(){var a=Ext.dom.Element.getActiveElement();return Ext.Component.getComponentByElement(a)}},addFocusListener:function(){var c=this,b=c.getFocusEl(),a;if(b){if(b.isComponent){return b.addFocusListener()}a=b.needsTabIndex();if(!c.focusListenerAdded&&(!a||Ext.enableFocusManager)){if(a){b.dom.tabIndex=-1}b.on({focus:c.onFocus,blur:c.onBlur,scope:c});b.dom.setAttribute(Ext.Component.componentIdAttribute,c.id);c.focusListenerAdded=true}}},addOverCls:function(){var a=this;if(!a.disabled){a.el.addCls(a.overCls)}},addUIToElement:function(){var d=this,a=d.baseCls+"-"+d.ui,c,f,b,e;d.addCls(a);if(d.rendered&&d.frame&&!Ext.supports.CSS3BorderRadius){a+="-";c=d.getChildEls();for(f in c){e=c[f].frame;if(e&&e!==true){b=d[f];if(b){b.addCls(a+e)}}}}},blur:function(){var b=this,a;if(b.rendered&&(a=b.getFocusEl())){b.blurring=true;a.blur();delete b.blurring}return b},constructPlugin:function(b){var a=this;if(typeof b==="string"){b=Ext.PluginManager.create({},b,a)}else{b=Ext.PluginManager.create(b,null,a)}return b},constructPlugins:function(){var e=this,c=e.plugins,b,d,a;if(c){b=[];b.processed=true;if(!Ext.isArray(c)){c=[c]}for(d=0,a=c.length;d<a;d++){b[d]=e.constructPlugin(c[d])}}e.pluginsInitialized=true;return b},doScrollBy:function(b,a,c){var d=this.getOverflowEl();if(d){d.scrollBy(b,a,c)}},doScrollTo:function(a,d,b){var c=this.getOverflowEl();c.scrollTo("left",a,b);c.scrollTo("top",d,b)},fireHierarchyEvent:function(b){var a=Ext.GlobalEvents;if(a.hasListeners[b]){a.fireEvent(b,this)}},getActionEl:function(){return this.el},getAutoId:function(){this.autoGenId=true;return ++Ext.Component.AUTO_ID},getContentTarget:function(){return this.el},getDragEl:function(){return this.el},getFocusEl:Ext.privateFn,getFocusTask:function(){if(!this.focusTask){Ext.Component.prototype.focusTask=new Ext.util.DelayedTask()}return this.focusTask},getOverflowEl:function(){return this.getTargetEl()},getOverflowStyle:function(){var e=this,b=null,f=e.autoScroll,d,c,a;if(typeof f==="boolean"){b={overflow:a=(f?"auto":"")};e.scrollFlags={overflowX:a,overflowY:a,x:f,y:f,both:f}}else{d=e.overflowX;c=e.overflowY;if(d!==undefined||c!==undefined){if(d&&d===true){d="auto"}if(c&&c===true){c="auto"}b={overflowX:d=d||"",overflowY:c=c||""};e.scrollFlags={overflowX:d,overflowY:c,x:d=(d==="auto"||d==="scroll"),y:c=(c==="auto"||c==="scroll"),both:d&&c}}else{e.scrollFlags={overflowX:"",overflowY:"",x:false,y:false,both:false}}}return b},getPlugins:function(){var b=this,a=b.plugins;return(a&&a.processed)?a:b.constructPlugins()},getProxy:function(){var a=this,b;if(!a.proxy){b=Ext.getBody();a.proxy=a.el.createProxy(Ext.baseCSSPrefix+"proxy-el",b,true)}return a.proxy},getScrollLeft:function(){return this.getOverflowEl().getScrollLeft()},getScrollerEl:function(){var a=this;return a.scrollerEl||(a.scrollerEl=a.componentLayout.getScrollerEl()||a.getOverflowEl().child(a.scrollerSelector))},getTargetEl:function(){return this.frameBody||this.el},getTdCls:function(){return Ext.baseCSSPrefix+this.getTdType()+"-"+this.ui+"-cell"},getTdType:function(){return this.xtype},getTpl:function(a){return Ext.XTemplate.getTpl(this,a)},initCls:function(){var b=this,a=[b.baseCls,b.getComponentLayout().targetCls];if(Ext.isDefined(b.cmpCls)){if(Ext.isDefined(Ext.global.console)){Ext.global.console.warn("Ext.Component: cmpCls has been deprecated. Please use componentCls.")}b.componentCls=b.cmpCls;delete b.cmpCls}if(b.componentCls){a.push(b.componentCls)}else{b.componentCls=b.baseCls}return a},initDraggable:function(){var c=this,a=(c.resizer&&c.resizer.el!==c.el)?c.resizerComponent=new Ext.Component({ariaRole:"presentation",el:c.resizer.el,rendered:true,container:c.container}):c,b=Ext.applyIf({el:a.getDragEl(),constrainTo:(c.constrain||c.draggable.constrain)?(c.constrainTo||(c.floatParent?c.floatParent.getTargetEl():c.container)):undefined},c.draggable);if(c.constrain||c.constrainDelegate){b.constrain=c.constrain;b.constrainDelegate=c.constrainDelegate}c.dd=new Ext.util.ComponentDragger(a,b)},initPadding:function(c){var a=this,b=a.padding;if(b!=null){if(a.touchScroll||(a.layout&&a.layout.managePadding&&a.contentPaddingProperty==="padding")){c.setStyle("padding",0)}else{c.setStyle("padding",this.unitizeBox((b===true)?5:b))}}},initPlugin:function(a){a.init(this);return a},initResizable:function(a){var b=this;a=Ext.apply({target:b,dynamic:false,constrainTo:b.constrainTo||(b.floatParent?b.floatParent.getTargetEl():null),handles:b.resizeHandles},a);a.target=b;b.resizer=new Ext.resizer.Resizer(a)},initScrollManager:function(){var b=this,c=b.scrollFlags,a=b.getScrollerEl();if(a&&!b.scrollManager){return b.scrollManager=new Ext.scroll.Manager({owner:b,el:a,direction:c.both?"auto":c.y?"vertical":"horizontal"})}},initStyles:function(k){var f=this,d=f.margin,e=f.border,l=f.cls,a=f.style,h=f.x,g=f.y,c=f.liquidLayout,b,j;f.initPadding(k);if(d!=null){k.setStyle("margin",this.unitizeBox((d===true)?5:d))}if(e!=null){f.setBorder(e,k)}if(l&&l!=f.initialCls){k.addCls(l);f.cls=f.initialCls=null}if(a&&a!=f.initialStyle){k.setStyle(a);f.style=f.initialStyle=null}if(h!=null){k.setStyle(f.horizontalPosProp,(typeof h=="number")?(h+"px"):h)}if(g!=null){k.setStyle("top",(typeof g=="number")?(g+"px"):g)}if(!f.ownerCt||f.floating){if(Ext.scopeCss){k.addCls(f.rootCls)}k.addCls(f.borderBoxCls)}if(c||!f.getFrameInfo()){b=f.width;j=f.height;if(b!=null){if(typeof b==="number"){k.setStyle("width",b+"px")}else{k.setStyle("width",b)}}if(j!=null){if(typeof j==="number"){k.setStyle("height",j+"px")}else{k.setStyle("height",j)}}}if(c){if(f.minWidth){k.setStyle("min-width",f.minWidth+"px")}if(f.minHeight){k.setStyle("min-height",f.minHeight+"px")}if(f.maxWidth){k.setStyle("max-width",f.maxWidth+"px")}if(f.maxHeight){k.setStyle("max-height",f.maxHeight+"px")}}},isContainedFloater:function(){return(this.floating&&this.floatParent)},isDescendant:function(a){if(a.isContainer){for(var b=this.ownerCt;b;b=b.ownerCt){if(b===a){return true}}}return false},makeFloating:function(a){this.mixins.floating.constructor.call(this,a)},owns:function(b){var a=false;Ext.ComponentQuery.visitPreOrder("",this,function(d){if(d.el&&d.el.contains(b)){a=true;return false}});return a},parseBox:function(a){return Ext.Element.parseBox(a)},refreshScroll:function(){var a=this.scrollManager;if(a){a.refresh()}},removeManagedListenerItem:function(b,a,h,d,f,e){var g=this,c=a.options?a.options.element:null;if(c){c=g[c];if(c&&c.un){if(b||(a.item===h&&a.ename===d&&(!f||a.fn===f)&&(!e||a.scope===e))){c.un(a.ename,a.fn,a.scope);if(!b){Ext.Array.remove(g.managedListeners,a)}}}}else{return g.mixins.observable.removeManagedListenerItem.apply(g,arguments)}},removeOverCls:function(){this.el.removeCls(this.overCls)},removePlugin:function(a){Ext.Array.remove(this.plugins,a);a.destroy()},removeUIFromElement:function(){var d=this,a=d.baseCls+"-"+d.ui,c,f,b,e;d.removeCls(a);if(d.rendered&&d.frame&&!Ext.supports.CSS3BorderRadius){a+="-";c=d.getChildEls();for(f in c){e=c[f].frame;if(e&&e!==true){b=d[f];if(b){b.removeCls(a+e)}}}}},setComponentLayout:function(b){var a=this.componentLayout;if(a&&a.isLayout&&a!=b){a.setOwner(null)}this.componentLayout=b;b.setOwner(this)},setHiddenState:function(b){var a=this.getInherited();this.hidden=b;if(b){a.hidden=true}else{delete a.hidden}},setupProtoEl:function(){var a=this.initCls();this.protoEl.addCls(a)},setScrollLeft:function(a){this.getOverflowEl().setScrollLeft(a)},wrapPrimaryEl:function(a){if(this.floating){this.makeFloating(a)}else{this.el=Ext.get(a)}}},deprecated:{5:{methods:{addClass:"addCls",doComponentLayout:function(){this.updateLayout();return this},removeClass:"removeCls",forceComponentLayout:"updateLayout",setDocked:"setDock"}}}},function(a){a.createAlias({on:"addListener",prev:"previousSibling",next:"nextSibling"});Ext.resumeLayouts=function(b){a.resumeLayouts(b)};Ext.suspendLayouts=function(){a.suspendLayouts()};Ext.batchLayouts=function(c,b){a.suspendLayouts();c.call(b);a.resumeLayouts(true)};Ext.setGlyphFontFamily=function(b){Ext._glyphFontFamily=b};a.hierarchyEventSource=a.prototype.hierarchyEventSource=Ext.GlobalEvents});Ext.define("Ext.ElementLoader",{mixins:{observable:Ext.util.Observable},statics:{Renderer:{Html:function(a,b,c){a.getTarget().setHtml(b.responseText,c.scripts===true);return true}}},url:null,params:null,baseParams:null,autoLoad:false,target:null,loadMask:false,ajaxOptions:null,scripts:false,isLoader:true,constructor:function(b){var c=this,a;b=b||{};Ext.apply(c,b);c.setTarget(c.target);c.mixins.observable.constructor.call(c);if(c.autoLoad){a=c.autoLoad;if(a===true){a={}}c.load(a)}},setTarget:function(b){var a=this;b=Ext.get(b);if(a.target&&a.target!=b){a.abort()}a.target=b},getTarget:function(){return this.target||null},abort:function(){var a=this.active;if(a!==undefined){Ext.Ajax.abort(a.request);if(a.mask){this.removeMask()}delete this.active}},removeMask:function(){this.target.unmask()},addMask:function(a){this.target.mask(a===true?null:a)},load:function(c){if(!this.target){Ext.Error.raise("A valid target is required when loading content")}c=Ext.apply({},c);var e=this,a=Ext.isDefined(c.loadMask)?c.loadMask:e.loadMask,f=Ext.apply({},c.params),b=Ext.apply({},c.ajaxOptions),h=c.callback||e.callback,d=c.scope||e.scope||e,g=c.rendererScope||e.rendererScope||e;Ext.applyIf(b,e.ajaxOptions);Ext.applyIf(c,b);Ext.applyIf(f,e.params);Ext.apply(f,e.baseParams);Ext.applyIf(c,{url:e.url});if(!c.url){Ext.Error.raise("You must specify the URL from which content should be loaded")}Ext.apply(c,{scope:e,params:f,callback:e.onComplete});if(e.fireEvent("beforeload",e,c)===false){return}if(a){e.addMask(a)}e.active={options:c,mask:a,scope:d,rendererScope:g,callback:h,success:c.success||e.success,failure:c.failure||e.failure,renderer:c.renderer||e.renderer,scripts:Ext.isDefined(c.scripts)?c.scripts:e.scripts};e.active.request=Ext.Ajax.request(c);e.setOptions(e.active,c)},setOptions:Ext.emptyFn,onComplete:function(b,f,a){var d=this,e=d.active,g,c;if(e){c=e.scope;g=e.rendererScope;if(f){f=d.getRenderer(e.renderer).call(g,d,a,e)!==false}if(f){Ext.callback(e.success,c,[d,a,b]);d.fireEvent("load",d,a,b)}else{Ext.callback(e.failure,c,[d,a,b]);d.fireEvent("exception",d,a,b)}Ext.callback(e.callback,c,[d,f,a,b]);if(e.mask){d.removeMask()}}delete d.active},getRenderer:function(a){if(Ext.isFunction(a)){return a}return this.statics().Renderer.Html},startAutoRefresh:function(a,b){var c=this;c.stopAutoRefresh();c.autoRefresh=setInterval(function(){c.load(b)},a)},stopAutoRefresh:function(){clearInterval(this.autoRefresh);delete this.autoRefresh},isAutoRefreshing:function(){return Ext.isDefined(this.autoRefresh)},destroy:function(){var a=this;a.stopAutoRefresh();delete a.target;a.abort();a.clearListeners()}});Ext.define("Ext.ComponentLoader",{extend:Ext.ElementLoader,statics:{Renderer:{Data:function(a,b,d){var f=true;try{a.getTarget().update(Ext.decode(b.responseText))}catch(c){f=false}return f},Component:function(a,c,g){var h=true,f=a.getTarget(),b=[];if(!f.isContainer){Ext.Error.raise({target:f,msg:"Components can only be loaded into a container"})}try{b=Ext.decode(c.responseText)}catch(d){h=false}if(h){f.suspendLayouts();if(g.removeAll){f.removeAll()}f.add(b);f.resumeLayouts(true)}return h}}},target:null,loadMask:false,renderer:"html",setTarget:function(b){var a=this;if(Ext.isString(b)){b=Ext.getCmp(b)}if(a.target&&a.target!=b){a.abort()}a.target=b},removeMask:function(){this.target.setLoading(false)},addMask:function(a){this.target.setLoading(a)},setOptions:function(b,a){b.removeAll=Ext.isDefined(a.removeAll)?a.removeAll:this.removeAll},getRenderer:function(b){if(Ext.isFunction(b)){return b}var a=this.statics().Renderer;switch(b){case"component":return a.Component;case"data":return a.Data;default:return Ext.ElementLoader.Renderer.Html}}});Ext.define("Ext.layout.SizeModel",{constructor:function(c){var e=this,d=e.self,a=d.sizeModelsArray,b;Ext.apply(e,c);e[b=e.name]=true;e.fixed=!(e.auto=e.natural||e.shrinkWrap);a[e.ordinal=a.length]=d[b]=d.sizeModels[b]=e},statics:{sizeModelsArray:[],sizeModels:{}},calculated:false,configured:false,constrainedMax:false,constrainedMin:false,natural:false,shrinkWrap:false,calculatedFromConfigured:false,calculatedFromNatural:false,calculatedFromShrinkWrap:false,names:null},function(){var e=this,a=e.sizeModelsArray,c,b,g,f,d;new e({name:"calculated"});new e({name:"configured",names:{width:"width",height:"height"}});new e({name:"natural"});new e({name:"shrinkWrap"});new e({name:"calculatedFromConfigured",configured:true,names:{width:"width",height:"height"}});new e({name:"calculatedFromNatural",natural:true});new e({name:"calculatedFromShrinkWrap",shrinkWrap:true});new e({name:"constrainedMax",configured:true,constrained:true,names:{width:"maxWidth",height:"maxHeight"}});new e({name:"constrainedMin",configured:true,constrained:true,names:{width:"minWidth",height:"minHeight"}});new e({name:"constrainedDock",configured:true,constrained:true,constrainedByMin:true,names:{width:"dockConstrainedWidth",height:"dockConstrainedHeight"}});for(c=0,g=a.length;c<g;++c){d=a[c];d.pairsByHeightOrdinal=f=[];for(b=0;b<g;++b){f.push({width:d,height:a[b]})}}});Ext.define("Ext.layout.Layout",{mixins:[Ext.mixin.Factoryable],factoryConfig:{type:"layout"},isLayout:true,initialized:false,running:false,needsItemSize:true,setsItemSize:true,autoSizePolicy:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},$configPrefixed:false,$configStrict:false,constructor:function(a){var b=this;b.id=Ext.id(null,b.type+"-");b.initConfig(a);delete b.type;b.layoutCount=0},beginLayout:Ext.emptyFn,beginLayoutCycle:function(c){var b=this,a=b.context,d;if(b.lastWidthModel!=c.widthModel){if(b.lastWidthModel){d=true}b.lastWidthModel=c.widthModel}if(b.lastHeightModel!=c.heightModel){if(b.lastWidthModel){d=true}b.lastHeightModel=c.heightModel}if(d){(a=c.context).clearTriggers(b,false);a.clearTriggers(b,true);b.triggerCount=0}},finishedLayout:function(a){this.lastWidthModel=a.widthModel;this.lastHeightModel=a.heightModel;this.ownerContext=null},redoLayout:Ext.emptyFn,undoLayout:Ext.emptyFn,getAnimatePolicy:function(){return this.animatePolicy},getItemSizePolicy:function(a){return this.autoSizePolicy},getScrollerEl:Ext.emptyFn,isItemBoxParent:function(a){return false},isItemLayoutRoot:function(d){var c=d.getSizeModel(),b=c.width,a=c.height;if(!d.componentLayout.lastComponentSize&&(b.calculated||a.calculated)){return false}return !b.shrinkWrap&&!a.shrinkWrap},isItemShrinkWrap:function(a){return a.shrinkWrap},isRunning:function(){return !!this.ownerContext},getItemsRenderTree:function(d,b){var g=d.length,e,f,c,a;if(g){a=[];for(e=0;e<g;++e){f=d[e];if(!f.rendered){if(b&&(b[f.id]!==undefined)){c=b[f.id]}else{this.configureItem(f);c=f.getRenderTree();if(b){b[f.id]=c}}if(c){a.push(c)}}}}return a},finishRender:Ext.emptyFn,finishRenderItems:function(e,a){var d=a.length,b,c;for(b=0;b<d;b++){c=a[b];if(c.rendering){c.finishRender(b)}}},renderChildren:function(){var b=this,a=b.getLayoutItems(),c=b.getRenderTarget();b.renderItems(a,c)},renderItems:function(a,f){var e=this,d=a.length,b=0,c;if(d){Ext.suspendLayouts();for(;b<d;b++){c=a[b];if(c&&!c.rendered){e.renderItem(c,f,b)}else{if(!e.isValidParent(c,f,b)){e.moveItem(c,f,b)}else{e.configureItem(c)}}}Ext.resumeLayouts(true)}},isValidParent:function(d,e,a){var c=(e&&e.dom)||e,b=this.getItemLayoutEl(d);if(b&&c){if(typeof a=="number"){a=this.getPositionOffset(a);return b===c.childNodes[a]}return b.parentNode===c}return false},getItemLayoutEl:function(c){var d=c.el?c.el.dom:Ext.getDom(c),a=d.parentNode,b;if(a){b=a.className;if(b&&b.indexOf(Ext.baseCSSPrefix+"resizable-wrap")!==-1){d=d.parentNode}}return d},getPositionOffset:function(a){return a},configureItem:function(a){a.ownerLayout=this},renderItem:function(c,d,a){var b=this;if(!c.rendered){b.configureItem(c);c.render(d,a)}},moveItem:function(b,c,a){c=c.dom||c;if(typeof a=="number"){a=c.childNodes[a]}c.insertBefore(b.el.dom,a||null);b.container=Ext.get(c);this.configureItem(b)},onContentChange:function(){this.owner.updateLayout();return true},initLayout:function(){this.initialized=true},setOwner:function(a){this.owner=a},getLayoutItems:function(){return[]},onAdd:function(a){a.ownerLayout=this},onRemove:Ext.emptyFn,onDestroy:Ext.emptyFn,afterRemove:function(e){var d=this,c=e.el,b=d.owner,a;if(e.rendered){a=[].concat(d.itemCls||[]);if(b.itemCls){a=Ext.Array.push(a,b.itemCls)}if(a.length){c.removeCls(a)}}delete e.ownerLayout},destroy:function(){var a=this,b;if(a.targetCls){b=a.getTarget();if(b){b.removeCls(a.targetCls)}}a.onDestroy()},sortWeightedItems:function(a,d){for(var b=0,c=a.length;b<c;++b){a[b].$i=b}Ext.Array.sort(a,function(f,e){var g=e.weight-f.weight;if(!g){g=f.$i-e.$i;if(f[d]){g=-g}}return g});for(b=0;b<c;++b){delete a[b].$i}}},function(){var a=this;a.prototype.sizeModels=a.sizeModels=Ext.layout.SizeModel.sizeModels});Ext.define("Ext.layout.container.Container",{extend:Ext.layout.Layout,alias:"layout.container",alternateClassName:"Ext.layout.ContainerLayout",mixins:[Ext.util.ElementContainer],type:"container",beginCollapse:Ext.emptyFn,beginExpand:Ext.emptyFn,animatePolicy:null,activeItemCount:0,renderTpl:["{%this.renderBody(out,values)%}"],usesContainerHeight:true,usesContainerWidth:true,usesHeight:true,usesWidth:true,constructor:function(){this.callParent(arguments);this.mixins.elementCt.constructor.call(this)},destroy:function(){this.callParent();this.mixins.elementCt.destroy.call(this)},beginLayout:function(a){this.callParent(arguments);a.targetContext=a.paddingContext=a.getEl("getTarget",this);this.cacheChildItems(a)},beginLayoutCycle:function(c,a){var b=this;b.callParent(arguments);if(a){if(b.usesContainerHeight){++c.consumersContainerHeight}if(b.usesContainerWidth){++c.consumersContainerWidth}}},cacheChildItems:function(f){var e=this,c,g,a,d,b;if(e.needsItemSize||e.setsItemSize){c=f.context;g=f.childItems=[];a=f.visibleItems=e.getVisibleItems();d=a.length;for(b=0;b<d;++b){g.push(c.getCmp(a[b]))}}},cacheElements:function(){var a=this.owner;this.attachChildEls(a.el,a)},calculate:function(c){var b=c.props,a=c.el;if(c.widthModel.shrinkWrap&&isNaN(b.width)){c.setContentWidth(a.getWidth())}if(c.heightModel.shrinkWrap&&isNaN(b.height)){c.setContentHeight(a.getHeight())}},configureItem:function(d){var c=this,e=c.itemCls,b=c.owner.itemCls,a,f;d.ownerLayout=c;if(e){if(typeof e==="string"){f=[e]}else{f=e;a=!!f}}if(b){if(a){f=Ext.Array.clone(f)}f=Ext.Array.push(f||[],b)}if(f){d.addCls(f)}},doRenderBody:function(a,b){this.renderItems(a,b);this.renderContent(a,b)},doRenderContainer:function(b,e){var c=e.$comp.layout,a=c.getRenderTpl(),d=c.getRenderData();a.applyOut(d,b)},doRenderItems:function(b,d){var c=d.$layout,a=c.getRenderTree();if(a){Ext.DomHelper.generateMarkup(a,b)}},finishRender:function(){var b=this,c,a;b.callParent();b.cacheElements();c=b.getRenderTarget();a=b.getLayoutItems();if(b.targetCls&&!b.getTarget().hasCls(b.targetCls)){Ext.log.warn("targetCls is missing. This may mean that getTargetEl() is being overridden but not applyTargetCls(). "+b.owner.id)}b.finishRenderItems(c,a)},notifyOwner:function(){this.owner.afterLayout(this)},getContainerSize:function(b,f){var c=b.targetContext,e=c.getFrameInfo(),j=b.paddingContext.getPaddingInfo(),h=0,k=0,d,g,a,l;if(!b.widthModel.shrinkWrap){++k;a=f?c.getDomProp("width"):c.getProp("width");d=(typeof a=="number");if(d){++h;a-=e.width+j.width;if(a<0){a=0}}}if(!b.heightModel.shrinkWrap){++k;l=f?c.getDomProp("height"):c.getProp("height");g=(typeof l=="number");if(g){++h;l-=e.height+j.height;if(l<0){l=0}}}return{width:a,height:l,needed:k,got:h,gotAll:h==k,gotWidth:d,gotHeight:g}},getPositionOffset:function(a){if(!this.createsInnerCt){var b=this.owner.itemNodeOffset;if(b){a+=b}}return a},getLayoutItems:function(){var a=this.owner,b=a&&a.items;return(b&&b.items)||[]},getRenderData:function(){var a=this.owner;return{$comp:a,$layout:this,ownerId:a.id}},getRenderedItems:function(){var e=this,g=e.getRenderTarget(),a=e.getLayoutItems(),d=a.length,f=[],b,c;for(b=0;b<d;b++){c=a[b];if(c.rendered&&e.isValidParent(c,g,b)){f.push(c)}}return f},getRenderTarget:function(){return this.owner.getTargetEl()},getElementTarget:function(){return this.getRenderTarget()},getRenderTpl:function(){var a=this,b=Ext.XTemplate.getTpl(this,"renderTpl");if(!b.renderContent){a.owner.setupRenderTpl(b)}return b},getRenderTree:function(){var a,c=this.owner.items,d,b={};do{d=c.generation;a=this.getItemsRenderTree(this.getLayoutItems(),b)}while(c.generation!==d);return a},renderChildren:function(){var b=this,c=b.owner.items,e=b.getRenderTarget(),d,a;do{d=c.generation;a=b.getLayoutItems();b.renderItems(a,e)}while(c.generation!==d)},getScrollbarsNeeded:function(c,h,b,g){var a=Ext.getScrollbarSize(),e=typeof c=="number",j=typeof h=="number",f=0,d=0;if(!a.width){return 0}if(j&&h<g){d=2;c-=a.width}if(e&&c<b){f=1;if(!d&&j){h-=a.height;if(h<g){d=2}}}return d+f},getTarget:function(){return this.owner.getTargetEl()},getVisibleItems:function(){var f=this.getRenderTarget(),b=this.getLayoutItems(),e=b.length,a=[],c,d;for(c=0;c<e;c++){d=b[c];if(d.rendered&&this.isValidParent(d,f,c)&&d.hidden!==true&&!d.floated){a.push(d)}}return a},getMoveAfterIndex:function(c){var a=this.owner,b=a.items;return b.indexOf(c)+1},moveItemBefore:function(d,e){var a=this.owner,b=d.ownerCt,c=a.items,f;if(d===e){return}if(b){b.remove(d,false)}if(e){f=c.indexOf(e)}else{f=c.length}a.insert(f,d)},setupRenderTpl:function(b){var a=this;b.renderBody=a.doRenderBody;b.renderContainer=a.doRenderContainer;b.renderItems=a.doRenderItems},getContentTarget:function(){return this.owner.getDefaultContentTarget()},onAdd:function(a){if(!a.liquidLayout){++this.activeItemCount}this.callParent([a])},onRemove:function(a){if(!a.liquidLayout){--this.activeItemCount}this.callParent([a])}});Ext.define("Ext.layout.container.Auto",{alias:["layout.auto","layout.autocontainer"],extend:Ext.layout.container.Container,type:"autocontainer",childEls:["outerCt","innerCt"],reserveScrollbar:false,managePadding:true,manageOverflow:false,needsItemSize:false,setsItemSize:false,lastOverflowAdjust:{width:0,height:0},outerCtCls:Ext.baseCSSPrefix+"autocontainer-outerCt",innerCtCls:Ext.baseCSSPrefix+"autocontainer-innerCt",renderTpl:['<div id="{ownerId}-outerCt" data-ref="outerCt" class="{outerCtCls}" role="presentation">','<div id="{ownerId}-innerCt" data-ref="innerCt" style="{%this.renderPadding(out, values)%}" ','class="{innerCtCls}" role="presentation">',"{%this.renderBody(out,values)%}","</div>","</div>"],beginLayout:function(a){this.callParent(arguments);this.initContextItems(a)},beforeLayoutCycle:function(d){var b=this.owner,c=b.inheritedState,a=b.inheritedStateInner;if(!c||c.invalid){c=b.getInherited();a=b.inheritedStateInner}if(d.widthModel.shrinkWrap){a.inShrinkWrapTable=true}else{delete a.inShrinkWrapTable}},beginLayoutCycle:function(d){var j=this,b=j.outerCt,g=j.lastOuterCtWidth||"",f=j.lastOuterCtHeight||"",k=j.lastOuterCtTableLayout||"",a=d.state,l,e,m,c,h;j.callParent(arguments);e=m=c="";if(!d.widthModel.shrinkWrap){e="100%";h=j.owner.inheritedStateInner;l=j.getOverflowXStyle(d);c=(h.inShrinkWrapTable||l==="auto"||l==="scroll")?"":"fixed"}if(!d.heightModel.shrinkWrap&&!Ext.supports.PercentageHeightOverflowBug){m="100%"}if((e!==g)||j.hasOuterCtPxWidth){b.setStyle("width",e);j.lastOuterCtWidth=e;j.hasOuterCtPxWidth=false}if(c!==k){b.setStyle("table-layout",c);j.lastOuterCtTableLayout=c}if((m!==f)||j.hasOuterCtPxHeight){b.setStyle("height",m);j.lastOuterCtHeight=m;j.hasOuterCtPxHeight=false}if(j.hasInnerCtPxHeight){j.innerCt.setStyle("height","");j.hasInnerCtPxHeight=false}a.overflowAdjust=a.overflowAdjust||j.lastOverflowAdjust},calculate:function(c){var a=this,b=c.state,e=a.getContainerSize(c,true),d=b.calculatedItems||(b.calculatedItems=a.calculateItems?a.calculateItems(c,e):true);a.setCtSizeIfNeeded(c,e);if(d&&c.hasDomProp("containerChildrenSizeDone")){a.calculateContentSize(c);if(e.gotAll){if(a.manageOverflow&&!c.state.secondPass&&!a.reserveScrollbar){a.calculateOverflow(c,e)}return}}a.done=false},calculateContentSize:function(f){var e=this,a=((f.widthModel.shrinkWrap?1:0)|(f.heightModel.shrinkWrap?2:0)),c=(a&1)||undefined,g=(a&2)||undefined,d=0,b=f.props;if(c){if(isNaN(b.contentWidth)){++d}else{c=undefined}}if(g){if(isNaN(b.contentHeight)){++d}else{g=undefined}}if(d){if(c&&!f.setContentWidth(e.measureContentWidth(f))){e.done=false}if(g&&!f.setContentHeight(e.measureContentHeight(f))){e.done=false}}},calculateOverflow:function(c){var g=this,b,j,a,f,e,d,h;e=(g.getOverflowXStyle(c)==="auto");d=(g.getOverflowYStyle(c)==="auto");if(e||d){a=Ext.getScrollbarSize();h=c.overflowContext.el.dom;f=0;if(h.scrollWidth>h.clientWidth){f|=1}if(h.scrollHeight>h.clientHeight){f|=2}b=(d&&(f&2))?a.width:0;j=(e&&(f&1))?a.height:0;if(b!==g.lastOverflowAdjust.width||j!==g.lastOverflowAdjust.height){g.done=false;c.invalidate({state:{overflowAdjust:{width:b,height:j},overflowState:f,secondPass:true}})}}},completeLayout:function(a){this.lastOverflowAdjust=a.state.overflowAdjust},doRenderBody:function(c,e){var d=e.$layout,a=Ext.XTemplate,f=d.beforeBodyTpl,b=d.afterBodyTpl;if(f){a.getTpl(d,"beforeBodyTpl").applyOut(e,c)}this.renderItems(c,e);this.renderContent(c,e);if(b){a.getTpl(d,"afterBodyTpl").applyOut(e,c)}},doRenderPadding:function(b,d){var c=d.$layout,a=d.$layout.owner,e=a[a.contentPaddingProperty];if(c.managePadding&&e){b.push("padding:",a.unitizeBox(e))}},finishedLayout:function(b){var a=this.innerCt;this.callParent(arguments);if(Ext.isIE8){a.repaint()}if(Ext.isOpera){a.setStyle("position","relative");a.dom.scrollWidth;a.setStyle("position","")}},getContainerSize:function(b,c){var a=this.callParent(arguments),d=b.state.overflowAdjust;if(d){a.width-=d.width;a.height-=d.height}return a},getRenderData:function(){var a=this,b=a.callParent();b.innerCtCls=a.innerCtCls;b.outerCtCls=a.outerCtCls;return b},getRenderTarget:function(){return this.innerCt},getElementTarget:function(){return this.innerCt},getOverflowXStyle:function(a){return a.overflowXStyle||(a.overflowXStyle=this.owner.scrollFlags.overflowX||a.overflowContext.getStyle("overflow-x"))},getOverflowYStyle:function(a){return a.overflowYStyle||(a.overflowYStyle=this.owner.scrollFlags.overflowY||a.overflowContext.getStyle("overflow-y"))},initContextItems:function(c){var b=this,d=c.target,a=b.owner.customOverflowEl;c.outerCtContext=c.getEl("outerCt",b);c.innerCtContext=c.getEl("innerCt",b);if(a){c.overflowContext=c.getEl(a)}else{c.overflowContext=c.targetContext}if(d[d.contentPaddingProperty]!==undefined){c.paddingContext=c.innerCtContext}},initLayout:function(){var c=this,b=Ext.getScrollbarSize().width,a=c.owner;c.callParent();if(b&&c.manageOverflow&&!c.hasOwnProperty("lastOverflowAdjust")){if(a.autoScroll||c.reserveScrollbar){c.lastOverflowAdjust={width:b,height:0}}}},measureContentHeight:function(b){var a=this.outerCt.getHeight(),c=b.target;if(this.managePadding&&(c[c.contentPaddingProperty]===undefined)){a+=b.targetContext.getPaddingInfo().height}return a},measureContentWidth:function(d){var f,c,b,a,e;if(this.chromeCellMeasureBug){f=this.innerCt.dom;c=f.style;b=c.display;if(b=="table-cell"){c.display="";f.offsetWidth;c.display=b}}a=this.outerCt.getWidth();e=d.target;if(this.managePadding&&(e[e.contentPaddingProperty]===undefined)){a+=d.targetContext.getPaddingInfo().width}return a},setCtSizeIfNeeded:function(d,b){var e=this,l=b.height,g=d.paddingContext.getPaddingInfo(),j=e.getTarget(),k=e.getOverflowXStyle(d),c=(k==="auto"||k==="scroll"),a=Ext.getScrollbarSize(),f,h;if(l&&!d.heightModel.shrinkWrap){if(Ext.supports.PercentageHeightOverflowBug){f=true}if(Ext.isIE8){h=true}if((f||h)&&c&&(j.dom.scrollWidth>j.dom.clientWidth)){l=Math.max(l-a.height,0)}if(f){d.outerCtContext.setProp("height",l+g.height);e.hasOuterCtPxHeight=true}if(h){d.innerCtContext.setProp("height",l);e.hasInnerCtPxHeight=true}}},setupRenderTpl:function(a){this.callParent(arguments);a.renderPadding=this.doRenderPadding},getContentTarget:function(){return this.innerCt},getScrollerEl:function(){return this.outerCt}},function(){this.prototype.chromeCellMeasureBug=Ext.isChrome&&Ext.chromeVersion>=26});Ext.define("Ext.ZIndexManager",{alternateClassName:"Ext.WindowGroup",statics:{zBase:9000},constructor:function(a){var b=this;b.map={};b.zIndexStack=[];b.front=null;if(a){if(a.isContainer){a.on("resize",b._onContainerResize,b);b.zseed=Ext.Number.from(b.rendered?a.getEl().getStyle("zIndex"):undefined,b.getNextZSeed());b.targetEl=a.getTargetEl();b.container=a}else{Ext.on("resize",b._onContainerResize,b);b.zseed=b.getNextZSeed();b.targetEl=Ext.get(a)}}else{b.zseed=b.getNextZSeed();Ext.onReady(function(){Ext.on("resize",b._onContainerResize,b);b.targetEl=Ext.getBody()})}},getNextZSeed:function(){return(Ext.ZIndexManager.zBase+=10000)},setBase:function(b){this.zseed=b;var a=this.assignZIndices();this._activateLast();return a},assignZIndices:function(){var c=this.zIndexStack,b=c.length,e=0,g=this.zseed,d,f;for(;e<b;e++){d=c[e];if(d&&!d.hidden){g=d.setZIndex(g);if(d.modal){f=d}}}if(f){this._showModalMask(f)}return g},_setActiveChild:function(b,a){var c=this.front,d=b.preventFocusOnActivate;if(b!==c){if(c&&!c.destroying){c.setActive(false,b)}this.front=b;if(b&&b!=a){b.preventFocusOnActivate=b.preventFocusOnActivate||a&&(a.preventFocusOnActivate||!a.focusOnToFront);b.setActive(true);if(b.modal){this._showModalMask(b)}b.preventFocusOnActivate=d}}},onComponentHide:function(a){this._activateLast()},_activateLast:function(){var d=this,a=d.zIndexStack,c=a.length-1,b;for(;c>=0&&a[c].hidden;--c){}if((b=a[c])){d._setActiveChild(b,d.front);if(b.modal){return}}else{if(d.front&&!d.front.destroying){d.front.setActive(false)}d.front=null}for(;c>=0;--c){b=a[c];if(b.isVisible()&&b.modal){d._showModalMask(b);return}}d._hideModalMask()},_showModalMask:function(b){var d=this,g=b.el.getStyle("zIndex")-4,c=b.floatParent?b.floatParent.getTargetEl():b.container,a=d.mask,f=d.maskShim,e;if(!a){a=d.mask=Ext.getBody().createChild({"data-sticky":true,role:"presentation",cls:Ext.baseCSSPrefix+"mask",style:"height:0;width:0"});a.setVisibilityMode(Ext.Element.DISPLAY);a.on("click",d._onMaskClick,d)}a.maskTarget=c;e=d.getMaskBox();if(f){f.setStyle("zIndex",g);f.show();f.setBox(e)}a.setStyle("zIndex",g);a.show();a.setBox(e)},_hideModalMask:function(){var b=this.mask,a=this.maskShim;if(b&&b.isVisible()){b.maskTarget=undefined;b.hide();if(a){a.hide()}}},_onMaskClick:function(){if(this.front){this.front.focus()}},getMaskBox:function(){var a=this.mask.maskTarget;if(a.dom===document.body){return{height:Math.max(document.body.scrollHeight,Ext.dom.Element.getDocumentHeight()),width:Math.max(document.body.scrollWidth,document.documentElement.clientWidth),x:0,y:0}}else{return a.getBox()}},_onContainerResize:function(){var c=this,b=c.mask,a=c.maskShim,d;if(b&&b.isVisible()){b.hide();if(a){a.hide()}d=c.getMaskBox();if(a){a.setSize(d);a.show()}b.setSize(d);b.show()}},register:function(b){var c=this,a=b.afterHide;if(b.zIndexManager){b.zIndexManager.unregister(b)}b.zIndexManager=c;c.map[b.id]=b;c.zIndexStack.push(b);b.afterHide=function(){a.apply(b,arguments);c.onComponentHide(b)}},unregister:function(a){var b=this,c=b.map;delete a.zIndexManager;if(c&&c[a.id]){delete c[a.id];delete a.afterHide;Ext.Array.remove(b.zIndexStack,a);b._activateLast()}},get:function(a){return a.isComponent?a:this.map[a]},bringToFront:function(b,d){var c=this,a=false,e=c.zIndexStack;b=c.get(b);if(b!==c.front){Ext.Array.remove(e,b);if(b.preventBringToFront){e.unshift(b)}else{e.push(b)}c.assignZIndices();if(!d){c._activateLast()}a=true;c.front=b;if(b.modal){c._showModalMask(b)}}return a},sendToBack:function(a){var b=this;a=b.get(a);Ext.Array.remove(b.zIndexStack,a);b.zIndexStack.unshift(a);b.assignZIndices();this._activateLast();return a},hideAll:function(){var b=this.map,a,c;for(c in b){if(b.hasOwnProperty(c)){a=b[c];if(a.isComponent&&a.isVisible()){a.hide()}}}},hide:function(){var d=0,b=this.zIndexStack,a=b.length,c;this.tempHidden=[];for(;d<a;d++){c=b[d];if(c.isVisible()){this.tempHidden.push(c);c.el.hide();c.hidden=true}}},show:function(){var c=0,d=this.tempHidden,a=d?d.length:0,b;for(;c<a;c++){b=d[c];b.el.show();b.hidden=false;b.setPosition(b.x,b.y)}delete this.tempHidden},getActive:function(){return this.front},getBy:function(f,e){var g=[],d=0,b=this.zIndexStack,a=b.length,c;for(;d<a;d++){c=b[d];if(f.call(e||c,c)!==false){g.push(c)}}return g},each:function(c,b){var d=this.map,e,a;for(e in d){if(d.hasOwnProperty(e)){a=d[e];if(a.isComponent&&c.call(b||a,a)===false){return}}}},eachBottomUp:function(f,e){var b=this.zIndexStack,d=0,a=b.length,c;for(;d<a;d++){c=b[d];if(c.isComponent&&f.call(e||c,c)===false){return}}},eachTopDown:function(e,d){var a=this.zIndexStack,c=a.length,b;for(;c-->0;){b=a[c];if(b.isComponent&&e.call(d||b,b)===false){return}}},destroy:function(){var b=this,c=b.map,a,d;for(d in c){if(c.hasOwnProperty(d)){a=c[d];if(a.isComponent){a.destroy()}}}Ext.destroy(b.mask);Ext.destroy(b.maskShim);delete b.zIndexStack;delete b.map;delete b.container;delete b.targetEl}},function(){Ext.WindowManager=Ext.WindowMgr=new this()});Ext.define("Ext.container.Container",{extend:Ext.Component,xtype:"container",alternateClassName:["Ext.Container","Ext.AbstractContainer"],mixins:[Ext.mixin.Queryable],renderTpl:"{%this.renderContainer(out,values)%}",isContainer:true,autoDestroy:true,defaultType:"panel",detachOnRemove:true,layout:"auto",suspendLayout:false,ariaRole:"presentation",baseCls:Ext.baseCSSPrefix+"container",layoutCounter:0,add:function(){var k=this,g=Ext.Array.slice(arguments),e=(typeof g[0]=="number")?g.shift():-1,c=k.getLayout(),d=false,m,h,b,a,n,l,f,j;if(g.length==1&&Ext.isArray(g[0])){h=g[0];m=true}else{h=g}if(k.rendered){Ext.suspendLayouts()}f=h=k.prepareItems(h,true);a=h.length;if(!m&&a==1){f=h[0]}for(b=0;b<a;b++){n=h[b];if(!n){Ext.Error.raise("Cannot add null item to Container with itemId/id: "+k.getItemId())}if(n.isDestroyed){Ext.Error.raise("Cannot add destroyed item '"+n.getId()+"' to Container '"+k.getId()+"'")}l=(e<0)?k.items.length:(e+b);j=!!n.instancedCmp;delete n.instancedCmp;if(n.floating){k.floatingItems.add(n);n.onAdded(k,l,j);delete n.initOwnerCt;if(k.hasListeners.add){k.fireEvent("add",k,n,l)}}else{if((!k.hasListeners.beforeadd||k.fireEvent("beforeadd",k,n,l)!==false)&&k.onBeforeAdd(n)!==false){k.items.insert(l,n);n.onAdded(k,l,j);delete n.initOwnerCt;k.onAdd(n,l);c.onAdd(n,l);d=true;if(k.hasListeners.add){k.fireEvent("add",k,n,l)}}}}if(d){k.updateLayout()}if(k.rendered){Ext.resumeLayouts(true)}return f},onAdded:function(b,c,a){this.callParent(arguments);if(a){Ext.ComponentManager.markReferencesDirty()}},onRemoved:function(a){var b;if(!a){b=this.lookupReferenceHolder();if(b){Ext.ComponentManager.markReferencesDirty();b.clearReferences()}}this.callParent(arguments)},afterComponentLayout:function(){var b=this.floatingItems.items,a=b.length,d,c;this.callParent(arguments);for(d=0;d<a;d++){c=b[d];if(!c.rendered&&c.autoShow){c.show()}}},afterLayout:function(b){var a=this,c=a.scrollManager;++a.layoutCounter;if(c&&a.layoutCounter>1){c.refresh()}if(a.hasListeners.afterlayout){a.fireEvent("afterlayout",a,b)}},onDestroy:function(){this.callParent();this.refs=null},beforeDestroy:function(){var b=this,a=b.items,d=b.floatingItems,e;if(a){while((e=a.first())){b.doRemove(e,true)}}if(d){while((e=d.first())){b.doRemove(e,true)}}Ext.destroy(b.layout);b.callParent()},beforeRender:function(){var b=this,a=b.getLayout(),c;b.callParent();if(!a.initialized){a.initLayout()}c=a.targetCls;if(c){b.applyTargetCls(c)}},cascade:function(k,l,a){var j=this,e=j.items?j.items.items:[],f=e.length,d=0,h,g=a?a.concat(j):[j],b=g.length-1;if(k.apply(l||j,g)!==false){for(;d<f;d++){h=e[d];if(h.cascade){h.cascade(k,l,a)}else{g[b]=h;k.apply(l||h,g)}}}return this},contains:function(c,b){var a=false;if(b){this.cascade(function(d){if(d.contains&&d.contains(c)){a=true;return false}});return a}else{return this.items.contains(c)||this.floatingItems.contains(c)}},disable:function(){this.callParent(arguments);var d=this.getChildItemsToDisable(),c=d.length,b,a;for(a=0;a<c;a++){b=d[a];if(b.resetDisable!==false&&!b.disabled){b.disable();b.resetDisable=true}}return this},doLayout:function(){this.updateLayout();return this},enable:function(){this.callParent(arguments);var d=this.getChildItemsToDisable(),c=d.length,b,a;for(a=0;a<c;a++){b=d[a];if(b.resetDisable){b.enable()}}return this},getChildByElement:function(e,a){var g,c,b=0,d=this.getRefItems(),f=d.length;e=Ext.getDom(e);for(;b<f;b++){g=d[b];c=g.getEl();if(c&&((c.dom===e)||c.contains(e))){return(a&&g.getChildByElement)?g.getChildByElement(e,a):g}}return null},getComponent:function(a){if(Ext.isObject(a)){a=a.getItemId()}var b=this.items.get(a);if(!b&&typeof a!="number"){b=this.floatingItems.get(a)}return b},getLayout:function(){var b=this,a=b.layout;if(!a||!a.isLayout){b.setLayout(a)}return b.layout},getRefItems:function(c){var g=this,d=g.items.items,b=d.length,e=0,f,a=[];for(;e<b;e++){f=d[e];a[a.length]=f;if(c&&f.getRefItems){a.push.apply(a,f.getRefItems(true))}}d=g.floatingItems.items;b=d.length;for(e=0;e<b;e++){f=d[e];a[a.length]=f;if(c&&f.getRefItems){a.push.apply(a,f.getRefItems(true))}}return a},initComponent:function(){var a=this;a.callParent();a.getLayout();a.constructing=true;a.initItems();delete a.constructing},getReferences:function(){var a=Ext.ComponentManager;if(a.referencesDirty){a.fixReferences()}return this.refs||null},lookupReference:function(b){var a=this.getReferences();return(a&&a[b])||null},initItems:function(){var b=this,a=b.items;if(!a||!a.isMixedCollection){b.items=new Ext.util.AbstractMixedCollection(false,b.getComponentId);b.floatingItems=new Ext.util.MixedCollection(false,b.getComponentId);if(a){if(!Ext.isArray(a)){a=[a]}b.add(a)}}},initInheritedState:function(h,c){var g=this,d=g.controller,e=g.layout,f=g.session,j=g.viewModel,b=g.reference,a=g.referenceHolder;g.callParent([h,c]);if(g.collapsed){h.collapsed=true}if(d){h.referenceHolder=d;a=true}else{if(a){h.referenceHolder=g}}if(a){h.referencePath=""}else{if(b&&g.isParentReference){h.referencePath=g.referenceKey+"."}}if(f){h.session=f}if(j){h.viewModelPath=""}else{if(b&&g.isParentReference){h.viewModelPath=g.viewModelKey+"."}}if(e&&e.initInheritedState){e.initInheritedState(h,c)}},insert:function(c,b){var a;if(b&&b.isComponent){a=this.items.indexOf(b);if(a!==-1){return this.move(a,c)}}return this.add(c,b)},isAncestor:function(a){while(a){if(a.ownerCt===this){return true}a=a.ownerCt}},lookupComponent:function(a){if(!a.isComponent){if(typeof a==="string"){a=Ext.ComponentManager.get(a)}else{a=Ext.ComponentManager.create(a,this.defaultType)}}return a},move:function(b,e){var d=this,a=d.items,c;if(b.isComponent){b=a.indexOf(b)}c=a.getAt(b);if(b!==e){c=a.removeAt(b);if(c===false){return false}a.insert(e,c);d.onMove(c,b,e);if(d.hasListeners.move){d.fireEvent("move",d,c,b,e)}d.updateLayout()}return c},moveBefore:function(a,b){this.layout.moveItemBefore(a,b)},moveAfter:function(e,g){var d=this,a=d.items,c=d.layout,b=g?c.getMoveAfterIndex(g):0,f=a.getAt(b);c.moveItemBefore(e,f)},nextChild:function(h,c){var f=this,d=f.items,g=d.indexOf(h),e=0,b=d.length,a;if(g!==-1){if(c){for(;e<b;e++){a=d.getAt(g+e);if(!a||Ext.ComponentQuery.is(a,c)){break}}}else{a=d.getAt(g+1)}if(!a&&f.ownerCt){a=f.ownerCt.nextChild(f,c)}}return a},onAdd:Ext.emptyFn,onBeforeAdd:function(b){var a=b.ownerCt;if(a&&a!==this){a.remove(b,false)}},onMove:Ext.emptyFn,onRemove:Ext.emptyFn,onPosition:function(){this.callParent(arguments);this.repositionFloatingItems()},onResize:function(){this.callParent(arguments);this.repositionFloatingItems()},prevChild:function(h,c){var f=this,d=f.items,g=d.indexOf(h),e=0,b=d.length,a;if(g!==-1){if(c){for(;e<b;e++){a=d.getAt(g-e);if(!a||Ext.ComponentQuery.is(a,c)){break}}}else{a=d.getAt(g-1)}if(!a&&f.ownerCt){a=f.ownerCt.nextChild(f,c)}}return a},remove:function(b,a){var d=this,e=d.getComponent(b);if(Ext.isDefined(Ext.global.console)&&!e){Ext.global.console.warn("Attempted to remove a component that does not exist. Ext.container.Container: remove takes an argument of the component to remove. cmp.remove() is incorrect usage.")}if(e&&(!d.hasListeners.beforeremove||d.fireEvent("beforeremove",d,e)!==false)){d.doRemove(e,a);if(d.hasListeners.remove){d.fireEvent("remove",d,e)}if(!d.destroying&&!e.floating){d.updateLayout()}}return e},removeAll:function(c){var g=this,e=g.items.items.slice().concat(g.floatingItems.items),b=[],d=0,a=e.length,f;Ext.suspendLayouts();g.removingAll=true;for(;d<a;d++){f=e[d];g.remove(f,c);if(f.ownerCt!==g){b.push(f)}}g.removingAll=false;Ext.resumeLayouts(!!a);return b},setLayout:function(e){var d=this,b=d.layout,f=b&&b.isLayout,a,c;if(typeof e==="string"){e={type:e}}c=e.type;if(f&&(!c||(c===b.type))){delete e.type;b.setConfig(e)}else{if(f){b.setOwner(null)}a=d.self.prototype.layout;if(typeof a==="string"){e.type=c||a}else{Ext.merge(Ext.merge({},a),e)}e=this.layout=Ext.Factory.layout(e);e.setOwner(this)}if(d.rendered){d.updateLayout()}},setActiveItem:function(a){return this.getLayout().setActiveItem(a)},privates:{applyDefaults:function(a){var b=this.defaults;if(b){if(Ext.isFunction(b)){b=b.call(this,a)}if(Ext.isString(a)){a=Ext.ComponentManager.get(a)}Ext.applyIf(a,b)}return a},applyReference:function(b){var a;if(b&&b.charAt(a=b.length-1)===">"){this.isParentReference=true;b=b.substring(0,a)}if(b&&!this.validIdRe.test(b)){Ext.Error.raise('Invalid reference "'+b+'" for '+this.getId()+" - not a valid identifier")}return b},applyTargetCls:function(a){this.addCls(a)},attachReference:function(b){var d=this,c,a;if(d.destroying||d.isDestroyed){return}a=d.refs||(d.refs={});c=b.referenceKey;if(a[c]&&a[c]!==b){Ext.log.warn('Duplicate reference: "'+c+'" on '+d.id)}a[c]=b},clearReference:function(b){var a=this.refs,c=b.referenceKey;if(a&&c){b.viewModelKey=b.referenceKey=a[c]=null}},clearReferences:function(){this.refs=null},detachComponent:function(a){Ext.getDetachedBody().appendChild(a.getEl())},doRemove:function(c,b){b=b===true||(b!==false&&this.autoDestroy);var f=this,e=f.layout,a=e&&f.rendered,d=c.destroying||b,g=c.floating;if(g){f.floatingItems.remove(c)}else{f.items.remove(c)}if(a&&!g){if(e.running){Ext.Component.cancelLayout(c,d)}e.onRemove(c,d)}c.onRemoved(d);f.onRemove(c,d);if(b){c.destroy()}else{if(a&&!g){e.afterRemove(c)}if(f.detachOnRemove&&c.rendered){f.detachComponent(c)}}},finishRenderChildren:function(){this.callParent();var a=this.getLayout();if(a){a.finishRender()}},getChildItemsToDisable:function(){return this.query("[isFormField],button")},getComponentId:function(a){return a.getItemId&&a.getItemId()},getContentTarget:function(){return this.getLayout().getContentTarget()},getDefaultContentTarget:function(){return this.el},getFocusEl:function(){return this.getTargetEl()},getScrollerEl:function(){return this.layout.getScrollerEl()||this.callParent()},prepareItems:function(b,d){if(Ext.isArray(b)){b=b.slice()}else{b=[b]}var f=this,c=0,a=b.length,e;for(;c<a;c++){e=b[c];if(e==null){Ext.Array.erase(b,c,1);--c;--a}else{if(d){e=this.applyDefaults(e)}e.initOwnerCt=f;if(e.isComponent){e.instancedCmp=true}b[c]=f.lookupComponent(e);delete e.initOwnerCt}}return b},repositionFloatingItems:function(){var b=this.floatingItems.items,a=b.length,d,c;for(d=0;d<a;d++){c=b[d];if(c.el&&!c.hidden){c.setPosition(c.x,c.y)}}},_noMargin:{"margin-top":"","margin-right":"","margin-bottom":"","margin-left":""},resetItemMargins:function(){var a=this.items.items,c=a.length,b=this._noMargin,d;while(c--){d=a[c];d.margin$=null;d.el.setStyle(b)}},setupRenderTpl:function(a){this.callParent(arguments);this.getLayout().setupRenderTpl(a)}}});Ext.define("Ext.util.KeyMap",{alternateClassName:"Ext.KeyMap",eventName:"keydown",constructor:function(a){var b=this;if((arguments.length!==1)||(typeof a==="string")||a.dom||a.tagName||a===document||a.isComponent){b.legacyConstructor.apply(b,arguments);return}Ext.apply(b,a);b.bindings=[];if(!b.target.isComponent){b.target=Ext.get(b.target)}if(b.binding){b.addBinding(b.binding)}else{if(a.key){b.addBinding(a)}}b.enable()},legacyConstructor:function(b,d,a){var c=this;Ext.apply(c,{target:Ext.get(b),eventName:a||c.eventName,bindings:[]});if(d){c.addBinding(d)}c.enable()},addBinding:function(e){var c=this,d=e.key,b,a;if(c.processing){c.bindings=bindings.slice(0)}if(Ext.isArray(e)){for(b=0,a=e.length;b<a;b++){c.addBinding(e[b])}return}c.bindings.push(Ext.apply({keyCode:c.processKeys(d)},e))},removeBinding:function(f){var e=this,g=e.bindings,a=g.length,b,d,c;if(e.processing){e.bindings=g.slice(0)}c=e.processKeys(f.key);for(b=0;b<a;++b){d=g[b];if((d.fn||d.handler)===(f.fn||f.handler)&&d.scope===f.scope){if(f.alt===d.alt&&f.crtl===d.crtl&&f.shift===d.shift){if(Ext.Array.equals(d.keyCode,c)){Ext.Array.erase(e.bindings,b,1);return}}}}},processKeys:function(f){var g=false,d,e,b,a,c;if(Ext.isString(f)){e=[];b=f.toUpperCase();for(c=0,a=b.length;c<a;++c){e.push(b.charCodeAt(c))}f=e;g=true}if(!Ext.isArray(f)){f=[f]}if(!g){for(c=0,a=f.length;c<a;++c){d=f[c];if(Ext.isString(d)){f[c]=d.toUpperCase().charCodeAt(0)}}}return f},handleTargetEvent:(function(){var a=/input|textarea/i;return function(f){var e=this,h,c,b,g,d;if(e.enabled){h=e.bindings;c=0;b=h.length;f=e.processEvent.apply(e||e.processEventScope,arguments);if(e.ignoreInputFields){g=f.target;d=g.contentEditable;if(a.test(g.tagName)||(d===""||d==="true")){return}}if(!f.getKey){return f}e.processing=true;for(;c<b;++c){e.processBinding(h[c],f)}e.processing=false}}}()),processEvent:Ext.identityFn,processBinding:function(e,a){if(this.checkModifiers(e,a)){var f=a.getKey(),h=e.fn||e.handler,j=e.scope||this,g=e.keyCode,b=e.defaultEventAction,c,d;for(c=0,d=g.length;c<d;++c){if(f===g[c]){if(h.call(j,f,a)!==true&&b){a[b]()}break}}}},checkModifiers:function(g,e){var d=["shift","ctrl","alt"],c=0,a=d.length,f,b;for(;c<a;++c){b=d[c];f=g[b];if(!(f===undefined||(f===e[b+"Key"]))){return false}}return true},on:function(b,d,c){var g,a,e,f;if(Ext.isObject(b)&&!Ext.isArray(b)){g=b.key;a=b.shift;e=b.ctrl;f=b.alt}else{g=b}this.addBinding({key:g,shift:a,ctrl:e,alt:f,fn:d,scope:c})},un:function(b,d,c){var g,a,e,f;if(Ext.isObject(b)&&!Ext.isArray(b)){g=b.key;a=b.shift;e=b.ctrl;f=b.alt}else{g=b}this.removeBinding({key:g,shift:a,ctrl:e,alt:f,fn:d,scope:c})},isEnabled:function(){return this.enabled},enable:function(){var a=this;if(!a.enabled){a.target.on(a.eventName,a.handleTargetEvent,a);a.enabled=true}},disable:function(){var a=this;if(a.enabled){a.target.removeListener(a.eventName,a.handleTargetEvent,a);a.enabled=false}},setDisabled:function(a){if(a){this.disable()}else{this.enable()}},destroy:function(c){var a=this,b=a.target;a.bindings=[];a.disable();if(c){b.destroy()}delete a.target}});Ext.define("Ext.util.KeyNav",{alternateClassName:"Ext.KeyNav",statics:{keyOptions:{left:37,right:39,up:38,down:40,space:32,pageUp:33,pageDown:34,del:46,backspace:8,home:36,end:35,enter:13,esc:27,tab:9}},constructor:function(a){var b=this;if(arguments.length===2){b.legacyConstructor.apply(b,arguments);return}b.setConfig(a)},legacyConstructor:function(b,a){this.setConfig(Ext.apply({target:b},a))},setConfig:function(b){var e=this,c={target:b.target,ignoreInputFields:b.ignoreInputFields,eventName:e.getKeyEvent("forceKeyDown" in b?b.forceKeyDown:e.forceKeyDown,b.eventName)},f,a,h,d,g;if(e.map){e.map.destroy()}if(b.processEvent){c.processEvent=b.processEvent;c.processEventScope=b.processEventScope||e}if(b.keyMap){f=e.map=b.keyMap}else{f=e.map=new Ext.util.KeyMap(c);e.destroyKeyMap=true}a=Ext.util.KeyNav.keyOptions;h=b.scope||e;for(d in b){g=b[d];if(g&&(d.length===1||(d=a[d])||(!isNaN(d=parseInt(d,10))))){if(typeof g==="function"){g={handler:g,defaultEventAction:(b.defaultEventAction!==undefined)?b.defaultEventAction:e.defaultEventAction}}f.addBinding({key:d,ctrl:g.ctrl,shift:g.shift,alt:g.alt,handler:Ext.Function.bind(e.handleEvent,g.scope||h,g.handler||g.fn,true),defaultEventAction:(g.defaultEventAction!==undefined)?g.defaultEventAction:e.defaultEventAction})}}f.disable();if(!b.disabled){f.enable()}},handleEvent:function(c,b,a){return a.call(this,b)},disabled:false,defaultEventAction:"stopEvent",forceKeyDown:false,eventName:"keypress",destroy:function(a){if(this.destroyKeyMap){this.map.destroy(a)}delete this.map},enable:function(){if(this.map){this.map.enable();this.disabled=false}},disable:function(){if(this.map){this.map.disable()}this.disabled=true},setDisabled:function(a){this.map.setDisabled(a);this.disabled=a},getKeyEvent:function(b,a){if(b||(Ext.supports.SpecialKeyDownRepeat&&!a)){return"keydown"}else{return a||this.eventName}}});Ext.define("Ext.util.StoreHolder",{mixinId:"storeholder",bindStore:function(b,c,a){a=a||"store";var d=this,e=d[a];if(!c&&e){d.onUnbindStore(e,c,a);if(b!==e){if(a==="store"&&e.autoDestroy){e.destroy()}else{d.unbindStoreListeners(e)}}}if(b){d[a]=b=Ext.data.StoreManager.lookup(b);d.bindStoreListeners(b);d.onBindStore(b,c,a)}else{d[a]=null}return d},getStore:function(){return this.store},setStore:function(a){this.bindStore(a)},unbindStoreListeners:function(a){var b=this.storeListeners;if(b){a.un(b)}},bindStoreListeners:function(a){var c=this,b=Ext.apply({},c.getStoreListeners(a));if(!b.scope){b.scope=c}c.storeListeners=b;a.on(b)},getStoreListeners:Ext.emptyFn,onUnbindStore:Ext.emptyFn,onBindStore:Ext.emptyFn});Ext.define("Ext.LoadMask",{extend:Ext.Component,alias:"widget.loadmask",mixins:[Ext.util.StoreHolder],isLoadMask:true,msg:"Loading...",msgCls:Ext.baseCSSPrefix+"mask-loading",maskCls:Ext.baseCSSPrefix+"mask",cls:Ext.baseCSSPrefix+"mask-msg",useMsg:true,useTargetEl:false,ariaRole:"presentation",childEls:["msgEl","msgTextEl"],renderTpl:['<div id="{id}-msgEl" data-ref="msgEl" role="{role}"','<tpl if="ariaAttr"> {ariaAttr}</tpl>',' class="{[values.$comp.msgCls]} ',Ext.baseCSSPrefix,'mask-msg-inner {childElCls}">','<div id="{id}-msgTextEl" data-ref="msgTextEl" class="',Ext.baseCSSPrefix,"mask-msg-text",'{childElCls}">{msg}</div>',"</div>"],constructor:function(b){var c=this,a;if(arguments.length===2){if(Ext.isDefined(Ext.global.console)){Ext.global.console.warn("Ext.LoadMask: LoadMask now uses a standard 1 arg constructor: use the target config")}a=c.target=b;b=arguments[1]}else{a=b.target}c.callParent([b]);if(a.isComponent){c.ownerCt=a;c.hidden=true;c.renderTo=c.getMaskTarget();c.external=c.renderTo===Ext.getBody();c.bindComponent(a)}else{if(Ext.isDefined(Ext.global.console)){Ext.global.console.warn("Ext.LoadMask: LoadMask for elements has been deprecated, use Ext.dom.Element.mask & Ext.dom.Element.unmask")}a=Ext.get(a);c.isElement=true;c.renderTo=c.target}c.render(c.renderTo);if(c.store){c.bindStore(c.store,true)}},getRenderTree:function(){return[{cls:this.maskCls,style:"display:none"},this.callParent()]},onRender:function(){this.callParent(arguments);this.maskEl=this.el.prev()},initRenderData:function(){var a=this.callParent(arguments);a.msg=this.msg||"";return a},bindComponent:function(a){var c=this,b={scope:this,resize:c.sizeMask};if(c.external){b.added=c.onComponentAdded;b.removed=c.onComponentRemoved;if(a.floating){b.move=c.sizeMask;c.activeOwner=a}else{if(a.ownerCt){c.onComponentAdded(a.ownerCt)}}}c.mon(a,b);if(c.external){c.mon(Ext.GlobalEvents,{show:c.onContainerShow,hide:c.onContainerHide,expand:c.onContainerExpand,collapse:c.onContainerCollapse,scope:c})}},onComponentAdded:function(a){var b=this;delete b.activeOwner;b.floatParent=a;if(!a.floating){a=a.up("[floating]")}if(a){b.activeOwner=a;b.mon(a,"move",b.sizeMask,b);b.mon(a,"tofront",b.onOwnerToFront,b)}else{b.preventBringToFront=true}a=b.floatParent.ownerCt;if(b.rendered&&b.isVisible()&&a){b.floatOwner=a;b.mon(a,"afterlayout",b.sizeMask,b,{single:true})}},onComponentRemoved:function(a){var c=this,d=c.activeOwner,b=c.floatOwner;if(d){c.mun(d,"move",c.sizeMask,c);c.mun(d,"tofront",c.onOwnerToFront,c)}if(b){c.mun(b,"afterlayout",c.sizeMask,c)}delete c.activeOwner;delete c.floatOwner},afterRender:function(){this.callParent(arguments);this.el.skipGarbageCollection=true;this.maskEl.skipGarbageCollection=true},onOwnerToFront:function(a,b){this.maskEl.setStyle("zIndex",b+1);this.el.setStyle("zIndex",b+2)},onContainerShow:function(a){this.onComponentShow()},onContainerHide:function(a){this.onComponentHide()},onContainerExpand:function(a){this.onComponentShow()},onContainerCollapse:function(a){this.onComponentHide()},onComponentHide:function(){var a=this;if(a.rendered&&a.isVisible()){a.hide();a.showNext=true}},onComponentShow:function(){if(this.showNext){this.show()}delete this.showNext},sizeMask:function(){var b=this,c=b.target,a=b.external?b.getOwner().el:b.getMaskTarget();if(b.rendered&&b.isVisible()){if(b.external){if(!b.isElement&&c.floating){b.onOwnerToFront(c,c.el.getZIndex())}b.maskEl.setSize(a.getSize()).alignTo(a,"tl-tl")}b.el.center(b.maskEl)}},bindStore:function(a,b){var c=this;c.mixins.storeholder.bindStore.apply(c,arguments);a=c.store;if(a&&a.isLoading()){c.onBeforeLoad()}},getStoreListeners:function(b){var d=this.onLoad,c=this.onBeforeLoad,a={cachemiss:c,cachefilled:d};if(!b.proxy.isSynchronous){a.beforeload=c;a.load=d}return a},onDisable:function(){this.callParent(arguments);if(this.loading){this.onLoad()}},getOwner:function(){return this.ownerCt||this.floatParent},getMaskTarget:function(){var a=this.getOwner();if(this.isElement){return this.target}return this.useTargetEl?a.getTargetEl():(a.getMaskTarget()||Ext.getBody())},onBeforeLoad:function(){var c=this,a=c.getOwner(),b;if(!c.disabled){c.loading=true;if(a.componentLayoutCounter){c.maybeShow()}else{b=a.afterComponentLayout;a.afterComponentLayout=function(){a.afterComponentLayout=b;b.apply(a,arguments);c.maybeShow()}}}},maybeShow:function(){var b=this,a=b.getOwner();if(!a.isVisible(true)){b.showNext=true}else{if(b.loading&&a.rendered){b.show()}}},hide:function(){if(this.isElement){this.ownerCt.unmask();this.fireEvent("hide",this);return}delete this.showNext;this.maskEl.setDisplayed(false);return this.callParent(arguments)},show:function(){if(this.isElement){this.ownerCt.mask(this.useMsg?this.msg:"",this.msgCls);this.fireEvent("show",this);return}this.maskEl.setDisplayed(true);return this.callParent(arguments)},afterShow:function(){var a=this;a.loading=true;a.callParent(arguments);if(a.hasOwnProperty("maskCls")){a.maskEl.dom.className=a.maskCls}if(a.useMsg){a.msgTextEl.setHtml(a.msg)}else{a.el.hide()}a.sizeMask()},onLoad:function(){this.loading=false;this.hide()},onDestroy:function(){var a=this;if(a.isElement){a.ownerCt.unmask()}Ext.destroy(a.maskEl);a.callParent()}});Ext.define("Ext.layout.component.Component",{extend:Ext.layout.Layout,type:"component",isComponentLayout:true,nullBox:{},usesContentHeight:true,usesContentWidth:true,usesHeight:true,usesWidth:true,widthCache:{},heightCache:{},beginLayoutCycle:function(c,p){var k=this,b=k.owner,e=c.ownerCtContext,f=c.heightModel,g=c.widthModel,h=b.el.dom===document.body,d=b.lastBox||k.nullBox,n=b.el.lastBox||k.nullBox,a=!h,m,o,l,j;k.callParent(arguments);if(p){if(k.usesContentWidth){++c.consumersContentWidth}if(k.usesContentHeight){++c.consumersContentHeight}if(k.usesWidth){++c.consumersWidth}if(k.usesHeight){++c.consumersHeight}if(e&&!e.hasRawContent){m=b.ownerLayout;if(m){if(m.usesWidth){++c.consumersWidth}if(m.usesHeight){++c.consumersHeight}}}}if(g.configured){l=g.names.width;if(!h){a=k.setWidthInDom||(p?b[l]!==n.width:g.constrained)}c.setWidth(b[l],a)}else{if(c.isTopLevel){if(g.calculated){o=d.width;c.setWidth(o,o!=n.width)}o=d.x;c.setProp("x",o,o!=n.x)}}if(f.configured){j=f.names.height;if(!h){a=p?b[j]!==n.height:f.constrained}c.setHeight(b[j],a)}else{if(c.isTopLevel){if(f.calculated){o=d.height;c.setHeight(o,o!=n.height)}o=d.y;c.setProp("y",o,o!=n.y)}}},finishedLayout:function(b){var g=this,j=b.children,a=g.owner,e,c,h,d,f;if(j){e=j.length;for(c=0;c<e;c++){h=j[c];h.el.lastBox=h.props}}b.previousSize=g.lastComponentSize;g.lastComponentSize=a.el.lastBox=f=b.props;d=a.lastBox||(a.lastBox={});d.x=f.x;d.y=f.y;d.width=f.width;d.height=f.height;d.invalid=false;g.callParent(arguments)},notifyOwner:function(d){var c=this,a=c.lastComponentSize,e=d.previousSize,b=[a.width,a.height];if(e){b.push(e.width,e.height)}c.owner.afterComponentLayout.apply(c.owner,b)},getTarget:function(){return this.owner.el},getRenderTarget:function(){return this.owner.el},cacheTargetInfo:function(b){var a=this,d=a.targetInfo,c;if(!d){c=b.getEl("getTarget",a);a.targetInfo=d={padding:c.getPaddingInfo(),border:c.getBorderInfo()}}return d},measureAutoDimensions:function(m,h){var u=this,a=u.owner,r=a.layout,d=m.heightModel,g=m.widthModel,c=m.boxParent,o=m.isBoxParent,v=m.target,b=m.props,j,w={gotWidth:false,gotHeight:false,isContainer:(j=!m.hasRawContent)},t=h||3,q,e,k=0,f=0,l,p,s,x,n;if(g.shrinkWrap&&m.consumersContentWidth){++k;q=!(t&1);if(j){if(q){w.contentWidth=0;w.gotWidth=true;++f}else{if((w.contentWidth=m.getProp("contentWidth"))!==undefined){w.gotWidth=true;++f}}}else{p=b.contentWidth;if(typeof p=="number"){w.contentWidth=p;w.gotWidth=true;++f}else{if(q){l=true}else{if(!m.hasDomProp("containerChildrenSizeDone")){l=false}else{if(o||!c||c.widthModel.shrinkWrap){l=true}else{l=c.hasDomProp("width")}}}if(l){if(q){s=0}else{if(r&&r.measureContentWidth){s=r.measureContentWidth(m)}else{if(v.cacheWidth){x=v.xtype+"-"+v.ui;n=u.widthCache;s=n[x]||(n[x]=u.measureContentWidth(m))}else{s=u.measureContentWidth(m)}}}if(!isNaN(w.contentWidth=s)){m.setContentWidth(s,true);w.gotWidth=true;++f}}}}}else{if(g.natural&&m.consumersWidth){++k;p=b.width;if(typeof p=="number"){w.width=p;w.gotWidth=true;++f}else{if(o||!c){l=true}else{l=c.hasDomProp("width")}if(l){if(!isNaN(w.width=u.measureOwnerWidth(m))){m.setWidth(w.width,false);w.gotWidth=true;++f}}}}}if(d.shrinkWrap&&m.consumersContentHeight){++k;e=!(t&2);if(j){if(e){w.contentHeight=0;w.gotHeight=true;++f}else{if((w.contentHeight=m.getProp("contentHeight"))!==undefined){w.gotHeight=true;++f}}}else{p=b.contentHeight;if(typeof p=="number"){w.contentHeight=p;w.gotHeight=true;++f}else{if(e){l=true}else{if(!m.hasDomProp("containerChildrenSizeDone")){l=false}else{if(a.noWrap){l=true}else{if(!g.shrinkWrap){l=(m.bodyContext||m).hasDomProp("width")}else{if(o||!c||c.widthModel.shrinkWrap){l=true}else{l=c.hasDomProp("width")}}}}}if(l){if(e){s=0}else{if(r&&r.measureContentHeight){s=r.measureContentHeight(m)}else{if(v.cacheHeight){x=v.xtype+"-"+v.ui;n=u.heightCache;s=n[x]||(n[x]=u.measureContentHeight(m))}else{s=u.measureContentHeight(m)}}}if(!isNaN(w.contentHeight=s)){m.setContentHeight(s,true);w.gotHeight=true;++f}}}}}else{if(d.natural&&m.consumersHeight){++k;p=b.height;if(typeof p=="number"){w.height=p;w.gotHeight=true;++f}else{if(o||!c){l=true}else{l=c.hasDomProp("width")}if(l){if(!isNaN(w.height=u.measureOwnerHeight(m))){m.setHeight(w.height,false);w.gotHeight=true;++f}}}}}if(c){m.onBoxMeasured()}w.gotAll=f==k;return w},measureContentWidth:function(a){return a.el.getWidth()-a.getFrameInfo().width},measureContentHeight:function(a){return a.el.getHeight()-a.getFrameInfo().height},measureOwnerHeight:function(a){return a.el.getHeight()},measureOwnerWidth:function(a){return a.el.getWidth()}});Ext.define("Ext.layout.component.Auto",{alias:"layout.autocomponent",extend:Ext.layout.component.Component,type:"autocomponent",setHeightInDom:false,setWidthInDom:false,waitForOuterHeightInDom:false,waitForOuterWidthInDom:false,beginLayoutCycle:function(d,a){var c=this,f=c.lastWidthModel,e=c.lastHeightModel,b=c.owner.el;c.callParent(arguments);if(f&&f.fixed&&d.widthModel.shrinkWrap){b.setWidth(null)}if(e&&e.fixed&&d.heightModel.shrinkWrap){b.setHeight(null)}},calculate:function(g){var f=this,e=f.measureAutoDimensions(g),b=g.heightModel,c=g.widthModel,d,a;if(e.gotWidth){if(c.shrinkWrap){f.publishOwnerWidth(g,e.contentWidth)}else{if(f.publishInnerWidth){f.publishInnerWidth(g,e.width)}}}else{if(!c.auto&&f.publishInnerWidth){d=f.waitForOuterWidthInDom?g.getDomProp("width"):g.getProp("width");if(d===undefined){f.done=false}else{f.publishInnerWidth(g,d)}}}if(e.gotHeight){if(b.shrinkWrap){f.publishOwnerHeight(g,e.contentHeight)}else{if(f.publishInnerHeight){f.publishInnerHeight(g,e.height)}}}else{if(!b.auto&&f.publishInnerHeight){a=f.waitForOuterHeightInDom?g.getDomProp("height"):g.getProp("height");if(a===undefined){f.done=false}else{f.publishInnerHeight(g,a)}}}if(!e.gotAll){f.done=false}},calculateOwnerHeightFromContentHeight:function(b,a){return a+b.getFrameInfo().height},calculateOwnerWidthFromContentWidth:function(b,a){return a+b.getFrameInfo().width},publishOwnerHeight:function(h,f){var e=this,b=e.owner,a=e.calculateOwnerHeightFromContentHeight(h,f),g,d,c;if(isNaN(a)){e.done=false}else{g=Ext.Number.constrain(a,b.minHeight,b.maxHeight);if(g==a){d=e.setHeightInDom}else{c=e.sizeModels[(g<a)?"constrainedMax":"constrainedMin"];a=g;if(h.heightModel.calculatedFromShrinkWrap){h.heightModel=c}else{h.invalidate({heightModel:c})}}h.setHeight(a,d)}},publishOwnerWidth:function(g,b){var f=this,a=f.owner,e=f.calculateOwnerWidthFromContentWidth(g,b),h,d,c;if(isNaN(e)){f.done=false}else{h=Ext.Number.constrain(e,a.minWidth,a.maxWidth);if(h==e){d=f.setWidthInDom}else{c=f.sizeModels[(h<e)?"constrainedMax":"constrainedMin"];e=h;if(g.widthModel.calculatedFromShrinkWrap){g.widthModel=c}else{g.invalidate({widthModel:c})}}g.setWidth(e,d)}}});Ext.define("Ext.layout.component.ProgressBar",{alias:["layout.progressbar"],extend:Ext.layout.component.Auto,type:"progressbar",beginLayout:function(d){var b=this,a,c;b.callParent(arguments);if(!d.textEls){c=b.owner.textEl;if(c.isComposite){d.textEls=[];c=c.elements;for(a=c.length;a--;){d.textEls[a]=d.getEl(Ext.get(c[a]))}}else{d.textEls=[d.getEl("textEl")]}}},calculate:function(e){var c=this,a,d,b;c.callParent(arguments);if(Ext.isNumber(b=e.getProp("width"))){b-=e.getBorderInfo().width;d=e.textEls;for(a=d.length;a--;){d[a].setWidth(b)}}else{c.done=false}}});Ext.define("Ext.ProgressBar",{extend:Ext.Component,alias:"widget.progressbar",config:{value:0,textTpl:null},baseCls:Ext.baseCSSPrefix+"progress",animate:false,text:"",waitTimer:null,childEls:["bar"],defaultBindProperty:"value",renderTpl:['<tpl if="internalText">','<div class="{baseCls}-text {baseCls}-text-back">{text}</div>',"</tpl>",'<div id="{id}-bar" data-ref="bar" class="{baseCls}-bar {baseCls}-bar-{ui}" role="presentation" style="width:{percentage}%">','<tpl if="internalText">','<div class="{baseCls}-text">',"<div>{text}</div>","</div>","</tpl>","</div>"],componentLayout:"progressbar",ariaRole:"progressbar",initRenderData:function(){var a=this;return Ext.apply(a.callParent(),{internalText:!a.hasOwnProperty("textEl"),text:a.text||"&#160;",percentage:a.value?a.value*100:0})},onRender:function(){var a=this;a.callParent(arguments);if(a.textEl){a.textEl=Ext.get(a.textEl);a.updateText(a.text)}else{a.textEl=a.el.select("."+a.baseCls+"-text")}},updateValue:function(a){this.updateProgress(a,Math.round(a*100)+"%")},updateProgress:function(e,f,a){var d=this,b=d.value,c=d.getTextTpl();d.value=e||(e=0);if(f!=null){d.updateText(f)}else{if(c){d.updateText(c.apply({value:e,percent:e*100}))}}if(d.rendered&&!d.isDestroyed){if(a===true||(a!==false&&d.animate)){d.bar.stopAnimation();d.bar.animate(Ext.apply({from:{width:(b*100)+"%"},to:{width:(e*100)+"%"}},d.animate))}else{d.bar.setStyle("width",(e*100)+"%")}}d.fireEvent("update",d,e,f);return d},updateText:function(b){var a=this;a.text=b;if(a.rendered){a.textEl.setHtml(a.text)}return a},applyTextTpl:function(a){if(!a.isTemplate){a=new Ext.XTemplate(a)}return a},applyText:function(a){this.updateText(a)},getText:function(){return this.text},wait:function(c){var b=this,a;if(!b.waitTimer){a=b;c=c||{};b.updateText(c.text);b.waitTimer=Ext.TaskManager.start({run:function(d){var e=c.increment||10;d-=1;b.updateProgress(((((d+e)%e)+1)*(100/e))*0.01,null,c.animate)},interval:c.interval||1000,duration:c.duration,onStop:function(){if(c.fn){c.fn.apply(c.scope||b)}b.reset()},scope:a})}return b},isWaiting:function(){return this.waitTimer!==null},reset:function(a){var b=this;b.updateProgress(0);b.clearTimer();if(a===true){b.hide()}return b},clearTimer:function(){var a=this;if(a.waitTimer){a.waitTimer.onStop=null;Ext.TaskManager.stop(a.waitTimer);a.waitTimer=null}},onDestroy:function(){var b=this,a=b.bar;b.clearTimer();if(b.rendered){if(b.textEl.isComposite){b.textEl.clear()}Ext.destroyMembers(b,"textEl","progressBar");if(a&&b.animate){a.stopAnimation()}}b.callParent()}});Ext.define("Ext.ShadowPool",{singleton:true,markup:(function(){return Ext.String.format('<div class="{0}{1}-shadow" role="presentation"></div>',Ext.baseCSSPrefix,Ext.isIE&&!Ext.supports.CSS3BoxShadow?"ie":"css")}()),shadows:[],pull:function(){var a=this.shadows.shift();if(!a){a=Ext.get(Ext.DomHelper.insertHtml("afterBegin",document.body,this.markup));a.autoBoxAdjust=false;a.dom.setAttribute("data-sticky",true)}return a},push:function(a){this.shadows.push(a)},reset:function(){var c=[].concat(this.shadows),b,a=c.length;for(b=0;b<a;b++){c[b].destroy()}this.shadows=[]}});Ext.define("Ext.Shadow",{localXYNames:{get:"getLocalXY",set:"setLocalXY"},constructor:function(b){var c=this,d,e,a;Ext.apply(c,b);if(!Ext.isString(c.mode)){c.mode=c.defaultMode}e=c.offset;a=Math.floor(e/2);c.opacity=50;switch(c.mode.toLowerCase()){case"drop":if(Ext.supports.CSS3BoxShadow){d={t:e,l:e,h:-e,w:-e}}else{d={t:-a,l:-a,h:-a,w:-a}}break;case"sides":if(Ext.supports.CSS3BoxShadow){d={t:e,l:0,h:-e,w:0}}else{d={t:-(1+a),l:1+a-2*e,h:-1,w:a-1}}break;case"frame":if(Ext.supports.CSS3BoxShadow){d={t:0,l:0,h:0,w:0}}else{d={t:1+a-2*e,l:1+a-2*e,h:e-a-1,w:e-a-1}}break;case"bottom":if(Ext.supports.CSS3BoxShadow){d={t:e,l:0,h:-e,w:0}}else{d={t:e,l:0,h:0,w:0}}break}c.adjusts=d},getShadowSize:function(){var b=this,d=b.el?b.offset:0,a=[d,d,d,d],c=b.mode.toLowerCase();if(b.el&&c!=="frame"){a[0]=0;if(c=="drop"){a[3]=0}}return a},offset:4,defaultMode:"drop",boxShadowProperty:(function(){var b="boxShadow",a=document.documentElement.style;if(!("boxShadow" in a)){if("WebkitBoxShadow" in a){b="WebkitBoxShadow"}else{if("MozBoxShadow" in a){b="MozBoxShadow"}}}return b}()),show:function(d){var b=this,a,c;d=Ext.get(d);a=(parseInt(d.getStyle("z-index"),10)-1)||0;c=d[b.localXYNames.get]();if(!b.el){b.el=Ext.ShadowPool.pull();if(b.fixed){b.el.dom.style.position="fixed"}else{b.el.dom.style.position=""}if(b.el.dom.nextSibling!=d.dom){b.el.insertBefore(d)}}b.el.setStyle("z-index",b.zIndex||a);if(Ext.isIE&&!Ext.supports.CSS3BoxShadow){b.el.dom.style.filter="progid:DXImageTransform.Microsoft.alpha(opacity="+b.opacity+") progid:DXImageTransform.Microsoft.Blur(pixelradius="+(b.offset)+")"}b.realign(c[0],c[1],d.dom.offsetWidth,d.dom.offsetHeight);b.el.dom.style.display="block"},isVisible:function(){return this.el?true:false},realign:function(c,m,j,f){if(!this.el){return}var b=this.adjusts,a=this.el,h=a.dom.style,d,e,g,k;a[this.localXYNames.set](c+b.l,m+b.t);d=Math.max(j+b.w,0);e=Math.max(f+b.h,0);g=d+"px";k=e+"px";if(h.width!=g||h.height!=k){h.width=g;h.height=k;if(Ext.supports.CSS3BoxShadow){h[this.boxShadowProperty]="0 0 "+(this.offset+2)+"px #888"}}},hide:function(){var a=this;if(a.el){a.el.dom.style.display="none";Ext.ShadowPool.push(a.el);delete a.el}},setZIndex:function(a){this.zIndex=a;if(this.el){this.el.setStyle("z-index",a)}},setOpacity:function(a){if(this.el){if(Ext.isIE&&!Ext.supports.CSS3BoxShadow){a=Math.floor(a*100/2)/100}this.opacity=a;this.el.setOpacity(a)}}});Ext.define("Ext.app.EventDomain",{statics:{instances:{}},isEventDomain:true,isInstance:false,constructor:function(){var a=this;if(!a.isInstance){Ext.app.EventDomain.instances[a.type]=a}a.bus={};a.monitoredClasses=[]},dispatch:function(h,m,k){var l=this,j=l.bus,n=j[m],e,c,b,d,o,g,f,a;if(!n){return true}for(e in n){if(n.hasOwnProperty(e)&&l.match(h,e,l.controller)){c=n[e];for(b in c){if(c.hasOwnProperty(b)){d=c[b];if(d.controller.isActive()){o=d.list;g=o.length;for(f=0;f<g;f++){a=o[f];if(a.fire.apply(a,k)===false){return false}}}}}}}return true},listen:function(d,m){var u=this,l=u.bus,g=u.idProperty,h=u.monitoredClasses,e=h.length,k=m.getId(),t=Ext.$eventNameMap,q,j,r,o,b,c,a,p,n,s,f;for(o in d){n=d[o];if(n){if(g){if(!/^[*#]/.test(o)){Ext.Error.raise("Selectors containing id should begin with #")}o=o==="*"?o:o.substring(1)}for(s in n){b=null;c=n[s];a=m;s=t[s]||(t[s]=s.toLowerCase());p=new Ext.util.Event(m,s);if(Ext.isObject(c)){b=c;c=b.fn;a=b.scope||m;delete b.fn;delete b.scope}if((!b||!b.scope)&&typeof c==="string"){a=null}else{if(typeof c==="string"){c=a[c]}}p.addListener(c,a,b);for(q=0;q<e;++q){f=h[q].hasListeners;if(f){f._incr_(s)}}j=l[s]||(l[s]={});j=j[o]||(j[o]={});r=j[k]||(j[k]={controller:m,list:[]});r.list.push(p)}}}},match:function(c,a){var b=this.idProperty;if(b){return a==="*"||c[b]===a}return false},monitor:function(c){var b=this,a=c.isInstance?c:c.prototype,d=a.doFireEvent;b.monitoredClasses.push(c);a.doFireEvent=function(g,f){var e=d.apply(this,arguments);if(e!==false&&!this.isSuspended(g)){e=b.dispatch(this,g,f)}return e}},unlisten:function(e){var n=this.bus,a=e,s=this.monitoredClasses,l=s.length,d=Ext.$eventNameMap,b,o,r,m,q,f,p,k,h,c,g;if(e.isController){a=e.getId()}for(o in n){o=d[o]||(d[o]=o.toLowerCase());if(n.hasOwnProperty(o)&&(p=n[o])){for(f in p){b=p[f];c=b[a];if(c){r=c.list;if(r){for(k=0,m=r.length;k<m;++k){q=r[k];q.clearListeners();for(h=0;h<l;++h){g=s[h].hasListeners;if(g){g._decr_(q.name)}}}delete b[a]}}}}}},destroy:function(){this.monitoredClasses=this.bus=null}});Ext.define("Ext.app.domain.Component",{extend:Ext.app.EventDomain,singleton:true,type:"component",constructor:function(){var b=this,a=Ext.Component;b.callParent();b.monitor(Ext.Widget);if(!a.prototype.isWidget){b.monitor(a)}},dispatch:function(d,b,a){var e=d.lookupReferenceHolder(false),c;while(e){if(e.isViewController){c=e.compDomain;if(c){if(c.dispatch(d,b,a)===false){return false}}}e=e.lookupReferenceHolder()}return this.callParent(arguments)},match:function(b,a){return b.is(a)}});Ext.define("Ext.app.EventBus",{singleton:true,constructor:function(){var b=this,a=Ext.app.EventDomain.instances;b.callParent();b.domains=a;b.bus=a.component.bus},control:function(b,a){return this.domains.component.listen(b,a)},listen:function(d,b){var a=this.domains,c;for(c in d){if(d.hasOwnProperty(c)){a[c].listen(d[c],b)}}},unlisten:function(c){var a=Ext.app.EventDomain.instances,b;for(b in a){a[b].unlisten(c)}}});Ext.define("Ext.app.domain.Global",{extend:Ext.app.EventDomain,singleton:true,type:"global",listen:function(b,a){b.scope=b.scope||a;Ext.on(b)},match:Ext.returnTrue});Ext.define("Ext.app.BaseController",{mixins:{observable:Ext.util.Observable},isController:true,config:{id:null,control:null,listen:null,routes:null,before:null},constructor:function(a){var b=this;b.mixins.observable.constructor.call(b,a);delete b.control;delete b.listen;b.eventbus=Ext.app.EventBus;b.initConfig(a)},applyListen:function(a){if(Ext.isObject(a)){a=Ext.clone(a)}return a},applyControl:function(a){if(Ext.isObject(a)){a=Ext.clone(a)}return a},updateControl:function(a){if(a){this.ensureId&&this.ensureId();this.control(a)}},updateListen:function(a){if(a){this.ensureId&&this.ensureId();this.listen(a)}},updateRoutes:function(b){if(b){var e=this,f=e.getBefore()||{},a=Ext.app.route.Router,d,c,g;for(d in b){c=b[d];if(Ext.isString(c)){c={action:c}}g=c.action;if(!c.before){c.before=f[g]}else{if(f[g]){Ext.log.warn('You have a before method configured on a route ("'+d+'") and in the before object property also in the "'+e.self.getName()+'" controller. Will use the before method in the route and disregard the one in the before property.')}}a.connect(d,c,e)}}},isActive:function(){return true},control:function(b,c,a){var d=this,e=a,f;if(Ext.isString(b)){f={};f[b]=c}else{f=b;e=c}d.eventbus.control(f,e||d)},listen:function(b,a){this.eventbus.listen(b,a||this)},destroy:function(){var a=this.eventbus;Ext.app.route.Router.disconnectAll(this);if(a){a.unlisten(this);this.eventbus=null}},redirectTo:function(b,c){if(!c){var a=Ext.util.History.getToken();if(a===b){return false}}else{Ext.app.route.Router.onStateChange(b)}Ext.util.History.add(b);return true}});Ext.define("Ext.app.Util",{},function(){Ext.apply(Ext.app,{namespaces:{Ext:{}},addNamespaces:function(c){var d=Ext.app.namespaces,b,a;if(!Ext.isArray(c)){c=[c]}for(b=0,a=c.length;b<a;b++){d[c[b]]=true}},clearNamespaces:function(){Ext.app.namespaces={}},getNamespace:function(b){var d=Ext.apply({},Ext.ClassManager.paths,Ext.app.namespaces),a="",c;for(c in d){if(d.hasOwnProperty(c)&&c.length>a.length&&(c+"."===b.substring(0,c.length+1))){a=c}}return a===""?undefined:a}})});Ext.define("Ext.app.domain.Store",{extend:Ext.app.EventDomain,singleton:true,type:"store",idProperty:"storeId",constructor:function(){var a=this;a.callParent();a.monitor(Ext.data.AbstractStore)}});Ext.define("Ext.app.route.Queue",{queue:null,token:null,constructor:function(a){Ext.apply(this,a);this.queue=new Ext.util.MixedCollection()},queueAction:function(a,b){this.queue.add({route:a,args:b})},clearQueue:function(){this.queue.removeAll()},runQueue:function(){var a=this.queue,c=a.removeAt(0),b;if(c){b=c&&c.route;b.execute(this.token,c.args,this.onActionExecute,this)}},onActionExecute:function(a){if(a){this.clearQueue()}else{this.runQueue()}}});Ext.define("Ext.app.route.Route",{action:null,conditions:null,controller:null,allowInactive:false,url:null,before:null,caseInsensitive:false,matcherRegex:null,paramMatchingRegex:null,paramsInMatchString:null,constructor:function(b){var c=this,a;Ext.apply(c,b,{conditions:{}});a=c.url;c.paramMatchingRegex=new RegExp(/:([0-9A-Za-z\_]*)/g);c.paramsInMatchString=a.match(c.paramMatchingRegex)||[];c.matcherRegex=c.createMatcherRegex(a)},recognize:function(c){var d=this,a=d.controller,e,b;if((d.allowInactive||a.isActive())&&d.recognizes(c)){e=d.matchesFor(c);b=c.match(d.matcherRegex);b.shift();return Ext.applyIf(e,{controller:a,action:d.action,historyUrl:c,args:b})}return false},recognizes:function(a){return this.matcherRegex.test(a)},execute:function(c,g,h,d){var b=g.args||[],f=this.before,a=this.controller,e=this.createCallback(g,h,d);if(f){b.push(e);if(Ext.isString(f)){f=this.before=a[f]}if(f){f.apply(a,b)}else{Ext.log.warn("The before action: "+this.before+" was not found on the controller. The action method will not be executed.")}}else{e.resume()}},matchesFor:function(c){var f={},e=this.paramsInMatchString,b=c.match(this.matcherRegex),d=0,a=e.length;b.shift();for(;d<a;d++){f[e[d].replace(":","")]=b[d]}return f},createMatcherRegex:function(a){var c=this.paramsInMatchString,h=this.conditions,d=0,f=c.length,j=Ext.util.Format.format,k=this.caseInsensitive?"i":"",b,g,e;for(;d<f;d++){b=c[d];g=h[b];e=j("{0}",g||"([%a-zA-Z0-9\\-\\_\\s,]+)");a=a.replace(new RegExp(b),e)}return new RegExp("^"+a+"$",k)},createCallback:function(a,d,b){var c=this;b=b||c;return{resume:function(){var e=c.controller,g=c.action,f;if(Ext.isString(g)){g=e[g]}a=a&&a.args?a.args:[];f=a.pop();if(f&&!Ext.isObject(f)){a.push(f)}if(g){c.action=g;g.apply(e,a)}else{Ext.log.warn("The action: "+c.action+" was not found on the controller.")}if(d){d.call(b)}},stop:function(e){if(d){d.call(b,e)}}}}});Ext.define("Ext.util.History",{singleton:true,alternateClassName:"Ext.History",mixins:{observable:Ext.util.Observable},useTopWindow:false,constructor:function(){var b=this,c,a;b.hiddenField=null;b.ready=false;b.currentToken=null;b.mixins.observable.constructor.call(b);b.onHashChange=function(){a=b.getHash();if(a!==c){c=a;b.handleStateChange(c)}}},getHash:function(){return this.win.location.hash.substr(1)},setHash:function(b){try{this.win.location.hash=b;this.currentToken=b}catch(a){}},handleStateChange:function(a){this.currentToken=a;this.fireEvent("change",a)},startUp:function(){var a=this;a.currentToken=a.getHash();if(Ext.supports.Hashchange){Ext.Element.on(a.win,"hashchange",a.onHashChange)}else{Ext.TaskManager.start({fireIdleEvent:false,run:a.onHashChange,interval:50})}a.ready=true;a.fireEvent("ready",a)},init:function(c,a){var b=this;if(b.ready){Ext.callback(c,a,[b]);return}if(!Ext.isReady){Ext.onReady(function(){b.init(c,a)});return}b.win=b.useTopWindow?window.top:window;if(c){b.on("ready",c,a,{single:true})}b.startUp()},add:function(a,b){var c=this,d=false;if(b===false||c.getToken()!==a){c.setHash(a);d=true}return d},back:function(){var a=this.useTopWindow?window.top:window;a.history.go(-1)},forward:function(){var a=this.useTopWindow?window.top:window;a.history.go(1)},getToken:function(){return this.ready?this.currentToken:this.getHash()}});Ext.define("Ext.app.route.Router",{singleton:true,multipleToken:"|",queueRoutes:true,constructor:function(){var a=Ext.util.History;if(!a.ready){a.init()}a.on("change",this.onStateChange,this);this.clear()},onStateChange:function(d){var k=this,c=k.application,m=k.routes,g=m.length,o=k.queueRoutes,j=d.split(k.multipleToken),n=0,b=j.length,e,f,l,h,a;for(;n<b;n++){d=j[n];a=false;if(o){f=new Ext.app.route.Queue({token:d})}for(e=0;e<g;e++){l=m[e];h=l.recognize(d);if(h){a=true;if(o){f.queueAction(l,h)}else{l.execute(d,h)}}}if(o){f.runQueue()}if(!a&&c){c.fireEvent("unmatchedroute",d)}}},connect:function(c,d,a){var b={url:c,action:d,controller:a};if(Ext.isObject(d)){Ext.merge(b,d)}this.routes.push(new Ext.app.route.Route(b))},disconnectAll:function(c){var b=this.routes,a=b.length,e=[],f,d;for(f=0;f<a;++f){d=b[f];if(d.controller!==c){e.push(d)}}this.routes=e},recognize:function(e){var b=this.routes||[],f=0,a=b.length,c,d;for(;f<a;f++){c=b[f];d=c.recognize(e);if(d){return{route:c,args:d}}}return false},draw:function(a){a.call(this,this)},clear:function(){this.routes=[]}});Ext.define("Ext.app.Controller",{extend:Ext.app.BaseController,statics:{strings:{model:{getter:"getModel",upper:"Model"},view:{getter:"getView",upper:"View"},controller:{getter:"getController",upper:"Controller"},store:{getter:"getStore",upper:"Store"}},controllerRegex:/^(.*)\.controller\./,createGetter:function(a,b){return function(){return this[a](b)}},getGetterName:function(c,a){var d="get",e=c.split("."),f=e.length,b;for(b=0;b<f;b++){d+=Ext.String.capitalize(e[b])}d+=a;return d},processDependencies:function(q,r,c,d,h){if(!h||!h.length){return}var k=this,p=k.strings[d],b,n,m,a,e,f,l,g;if(!Ext.isArray(h)){h=[h]}for(e=0,f=h.length;e<f;e++){a=h[e];b=k.getFullName(a,d,c);n=b.absoluteName;m=b.shortName;r.push(n);l=k.getGetterName(m,p.upper);q[l]=g=k.createGetter(p.getter,a);if(d!=="controller"){g["Ext.app.getter"]=true}}},getFullName:function(c,e,d){var a=c,b,f;if((b=c.indexOf("@"))>0){a=c.substring(0,b);f=c.substring(b+1)+"."+a}else{if(c.indexOf(".")>0&&(Ext.ClassManager.isCreated(c)||this.hasRegisteredPrefix(c))){f=c}else{if(!d){Ext.log.warn("Cannot find namespace for "+e+" "+c+", assuming it is fully qualified class name")}if(d){f=d+"."+e+"."+c;a=c}else{f=c}}}return{absoluteName:f,shortName:a}},hasRegisteredPrefix:function(a){var c=Ext.ClassManager,b=c.getPrefix(a);return b&&b!==a}},config:{application:null,refs:null,active:true,moduleClassName:null},onClassExtended:function(b,c,a){var d=a.onBeforeCreated;a.onBeforeCreated=function(m,g){var f=Ext.app.Controller,k=f.controllerRegex,n=[],l,e,n,j,h;j=m.prototype;l=Ext.getClassName(m);e=g.$namespace||g.namespace||Ext.app.getNamespace(l)||((h=k.exec(l))&&h[1]);if(e){j.$namespace=e}else{Ext.log.warn("Missing namespace for "+l+", please define it in namespaces property of your Application class.")}f.processDependencies(j,n,e,"model",g.models);f.processDependencies(j,n,e,"view",g.views);f.processDependencies(j,n,e,"store",g.stores);f.processDependencies(j,n,e,"controller",g.controllers);Ext.require(n,Ext.Function.pass(d,arguments,this))}},constructor:function(a){this.callParent(arguments);this.initAutoGetters()},normalizeRefs:function(b){var c=this,a=[];if(b){if(Ext.isObject(b)){Ext.Object.each(b,function(d,e){if(Ext.isString(e)){e={selector:e}}e.ref=d;a.push(e)})}else{if(Ext.isArray(b)){a=Ext.Array.merge(a,b)}}}b=c.refs;if(b){c.refs=null;b=c.normalizeRefs(b);if(b){a=Ext.Array.merge(a,b)}}return a},applyRefs:function(a){return this.normalizeRefs(Ext.clone(a))},updateRefs:function(a){if(a){this.ref(a)}},initAutoGetters:function(){var b=this.self.prototype,c,a;for(c in b){a=b[c];if(a&&a["Ext.app.getter"]){a.call(this)}}},doInit:function(b){var a=this;if(!a._initialized){a.init(b);a._initialized=true}},finishInit:function(f){var d=this,e=d.controllers,b,c,a;if(d._initialized&&e&&e.length){for(c=0,a=e.length;c<a;c++){b=d.getController(e[c]);b.finishInit(f)}}},init:Ext.emptyFn,onLaunch:Ext.emptyFn,activate:function(){this.setActive(true)},deactivate:function(){this.setActive(false)},isActive:function(){return this.getActive()},ref:function(a){var f=this,b=0,e=a.length,g,d,c;a=Ext.Array.from(a);f.references=f.references||[];for(;b<e;b++){g=a[b];d=g.ref;c="get"+Ext.String.capitalize(d);if(!f[c]){f[c]=Ext.Function.pass(f.getRef,[d,g],f)}f.references.push(d.toLowerCase())}},addRef:function(a){this.ref(a)},getRef:function(d,f,a){var c=this,e=c.refCache||(c.refCache={}),b=e[d];f=f||{};a=a||{};Ext.apply(f,a);if(f.forceCreate){return Ext.ComponentManager.create(f,"component")}if(!b){if(f.selector){e[d]=b=Ext.ComponentQuery.query(f.selector)[0]}if(!b&&f.autoCreate){e[d]=b=Ext.ComponentManager.create(f,"component")}if(b){b.on("beforedestroy",function(){e[d]=null})}}return b},hasRef:function(b){var a=this.references;return a&&Ext.Array.indexOf(a,b.toLowerCase())!==-1},getController:function(b){var a=this.application;if(b===this.getId()){return this}return a&&a.getController(b)},getStore:function(c){var a,b;a=(c.indexOf("@")===-1)?c:c.split("@")[0];b=Ext.StoreManager.get(a);if(!b){c=Ext.app.Controller.getFullName(c,"store",this.$namespace);if(c){b=Ext.create(c.absoluteName,{storeId:a})}}return b},getModel:function(c){var b=Ext.app.Controller.getFullName(c,"model",this.$namespace),a=Ext.ClassManager.get(b.absoluteName);if(!a){a=Ext.data.schema.Schema.lookupEntity(c)}return a},getView:function(a){var b=Ext.app.Controller.getFullName(a,"view",this.$namespace);return b&&Ext.ClassManager.get(b.absoluteName)},ensureId:function(){var a=this.getId();if(!a){this.setId(this.getModuleClassName(this.$className,"controller"))}},destroy:function(a,b){var d=this,f=d.application,e,c;if(!b&&f){f.unregister(d)}d.application=null;if(a){e=d.refCache;for(c in e){if(e.hasOwnProperty(c)){Ext.destroy(e[c])}}}d.callParent()}});Ext.define("Ext.panel.Bar",{extend:Ext.container.Container,vertical:false,_verticalSides:{left:1,right:1},initComponent:function(){var b=this,a=b.vertical;b.dock=b.dock||(a?"left":"top");b.layout=Ext.apply(a?{type:"vbox",align:"middle",alignRoundingMethod:"ceil"}:{type:"hbox",align:"middle",alignRoundingMethod:"floor"},b.layout);this.callParent()},onAdded:function(b,c,a){this.initOrientation();this.callParent([b,c,a])},onRemoved:function(a){this.removeClsWithUI(this.uiCls);this.callParent([a])},setDock:function(d){var c=this,b,a;if(d!==c.dock){Ext.suspendLayouts();c.clearOrientation();c.callParent([d]);c.initOrientation();a=c.vertical;b=c.layout;b.setVertical(a);b.setAlignRoundingMethod(a?"ceil":"floor");Ext.resumeLayouts(true)}},privates:{clearOrientation:function(){this.removeClsWithUI([this.vertical?"vertical":"horizontal",this.getDockName()])},getDockName:function(){return this.dock},initOrientation:function(){var d=this,c=d.dock,b=d.ownerCt,a=d.vertical=(c?c in d._verticalSides:d.vertical);d.addClsWithUI([this.vertical?"vertical":"horizontal",d.getDockName()])}}});Ext.define("Ext.panel.Title",{extend:Ext.Component,xtype:"title",isTitle:true,noWrap:true,textAlign:"left",iconAlign:"left",rotation:0,text:"&#160;",beforeRenderConfig:{textAlign:null,text:null,glyph:null,icon:null,iconAlign:null,iconCls:null,rotation:null},autoEl:{unselectable:"on"},childEls:["textEl","iconEl","iconWrapEl"],renderTpl:'<tpl if="iconMarkup && iconBeforeTitle">{iconMarkup}</tpl><div id="{id}-textEl" data-ref="textEl" class="{textCls} {textCls}-{ui} {itemCls}" unselectable="on"<tpl if="headerRole"> role="{headerRole}"</tpl>>{text}</div><tpl if="iconMarkup && !iconBeforeTitle">{iconMarkup}</tpl>',iconTpl:'<div id="{id}-iconWrapEl" data-ref="iconWrapEl" role="presentation" class="{iconWrapCls} {iconWrapCls}-{ui} {iconAlignCls} {itemCls}{childElCls}"<tpl if="iconWrapStyle"> style="{iconWrapStyle}"</tpl>><div id="{id}-iconEl" data-ref="iconEl" role="presentation" unselectable="on" class="{baseIconCls} {baseIconCls}-{ui} {iconCls} {glyphCls}" style="<tpl if="iconUrl">background-image:url({iconUrl});</tpl><tpl if="glyph && glyphFontFamily">font-family:{glyphFontFamily};</tpl>"><tpl if="glyph">&#{glyph};</tpl><tpl if="iconCls || iconUrl">&#160;</tpl></div></div>',_textAlignClasses:{left:Ext.baseCSSPrefix+"title-align-left",center:Ext.baseCSSPrefix+"title-align-center",right:Ext.baseCSSPrefix+"title-align-right"},_iconAlignClasses:{top:Ext.baseCSSPrefix+"title-icon-top",right:Ext.baseCSSPrefix+"title-icon-right",bottom:Ext.baseCSSPrefix+"title-icon-bottom",left:Ext.baseCSSPrefix+"title-icon-left"},_rotationClasses:{0:Ext.baseCSSPrefix+"title-rotate-none",1:Ext.baseCSSPrefix+"title-rotate-right",2:Ext.baseCSSPrefix+"title-rotate-left"},_rotationAngles:{1:90,2:270},baseCls:Ext.baseCSSPrefix+"title",_titleSuffix:"-title",_glyphCls:Ext.baseCSSPrefix+"title-glyph",_iconWrapCls:Ext.baseCSSPrefix+"title-icon-wrap",_baseIconCls:Ext.baseCSSPrefix+"title-icon",_itemCls:Ext.baseCSSPrefix+"title-item",_textCls:Ext.baseCSSPrefix+"title-text",afterComponentLayout:function(){var d=this,b=d.getRotation(),a,e,c;if(b&&!Ext.isIE8){c=d.el;a=d.lastBox;e=a.x;c.setStyle(d._getVerticalAdjustDirection(),(e+((b===1)?a.width:-a.height))+"px")}this.callParent()},onRender:function(){var c=this,a=c.getRotation(),b=c.el;c.callParent();if(a){b.setVertical(c._rotationAngles[a])}if(Ext.supports.FixedTableWidthBug){b._needsTableWidthFix=true}},applyText:function(a){if(!a){a="&#160;"}return a},beforeRender:function(){var a=this;a.callParent();a.addCls(a._rotationClasses[a.getRotation()]);a.addCls(a._textAlignClasses[a.getTextAlign()])},getIconMarkup:function(){return this.getTpl("iconTpl").apply(this.getIconRenderData())},getIconRenderData:function(){var f=this,c=f.getIcon(),b=f.getIconCls(),e=f.getGlyph(),g=Ext._glyphFontFamily,a=f.getIconAlign(),d;if(typeof e==="string"){d=e.split("@");e=d[0];g=d[1]}return{id:f.id,ui:f.ui,itemCls:f._itemCls,iconUrl:c,iconCls:b,iconWrapCls:f._iconWrapCls,baseIconCls:f._baseIconCls,iconAlignCls:f._iconAlignClasses[a],glyph:e,glyphCls:e?f._glyphCls:"",glyphFontFamily:g}},initRenderData:function(){var b=this,a,c;c={text:b.getText(),headerRole:b.headerRole,id:b.id,ui:b.ui,itemCls:b._itemCls,textCls:b._textCls,iconMarkup:null,iconBeforeTitle:null};if(b._hasIcon()){a=b.getIconAlign();c.iconMarkup=b.getIconMarkup();c.iconBeforeTitle=(a==="top"||a==="left")}return c},onAdded:function(c,g,b){var e=this,a=e.cls||"",f=e._titleSuffix,d=c.baseCls;e.addCls([d+f,d+f+"-"+c.ui]);e.callParent([c,g,b])},updateGlyph:function(f,c){f=f||0;var e=this,g=e._glyphCls,b,a,d;e.glyph=f;if(e.rendered){e._syncIconVisibility();b=e.iconEl;if(typeof f==="string"){d=f.split("@");f=d[0];a=d[1]||Ext._glyphFontFamily}if(!f){b.dom.innerHTML="";b.removeCls(g)}else{if(c!=f){b.dom.innerHTML="&#"+f+";";b.addCls(g)}}if(a){b.setStyle("font-family",a)}if(e._didIconStateChange(c,f)){e.updateLayout()}}},updateIcon:function(b,d){b=b||"";var c=this,a;if(c.rendered&&b!=d){c._syncIconVisibility();a=c.iconEl;a.setStyle("background-image",b?"url("+b+")":"");if(c._didIconStateChange(d,b)){c.updateLayout()}}},updateIconAlign:function(f,c){var b=this,e=b.iconWrapEl,a,e,d;if(b.iconWrapEl){a=b.el;d=b._iconAlignClasses;if(c){e.removeCls(d[c])}e.addCls(d[f]);if(f==="top"||f==="left"){a.insertFirst(e)}else{a.appendChild(e)}b.updateLayout()}},updateIconCls:function(b,c){b=b||"";var d=this,a;if(d.rendered&&c!=b){d._syncIconVisibility();a=d.iconEl;if(c){a.removeCls(c)}a.addCls(b);if(d._didIconStateChange(c,b)){d.updateLayout()}}},updateRotation:function(c,a){var e=this,b,d,f;if(e.rendered){d=e.el;f=e._rotationClasses;e.removeCls(f[a]);e.addCls(f[c]);d.setHorizontal();if(c){d.setVertical(e._rotationAngles[c])}d.setStyle({right:"",left:"",top:"",height:"",width:""});e.lastBox=null;e.updateLayout()}},updateText:function(a){if(this.rendered){this.textEl.setHtml(a)}},updateTextAlign:function(d,b){var a=this,c=a._textAlignClasses;if(a.rendered){if(b){a.removeCls(c[b])}a.addCls(c[d]);a.updateLayout()}},privates:{_getVerticalAdjustDirection:function(){return"left"},_didIconStateChange:function(a,c){var b=Ext.isEmpty(c);return Ext.isEmpty(a)?!b:b},_hasIcon:function(){return !!(this.getIcon()||this.getIconCls()||this.getGlyph())},_syncIconVisibility:function(){var e=this,d=e.el,a=e._hasIcon(),f=e.iconWrapEl,c,b;if(a&&!f){b=e.iconAlign;c=(b==="left"||b==="top");d.dom.insertAdjacentHTML(c?"afterbegin":"beforeend",e.getIconMarkup());f=e.iconWrapEl=d[c?"first":"last"]();e.iconEl=f.first()}if(f){f.setDisplayed(a)}}}});Ext.define("Ext.panel.Tool",{extend:Ext.Component,xtype:"tool",isTool:true,baseCls:Ext.baseCSSPrefix+"tool",disabledCls:Ext.baseCSSPrefix+"tool-disabled",toolPressedCls:Ext.baseCSSPrefix+"tool-pressed",toolOverCls:Ext.baseCSSPrefix+"tool-over",ariaRole:"button",childEls:["toolEl"],renderTpl:['<img id="{id}-toolEl" data-ref="toolEl" src="{blank}" class="{baseCls}-img {baseCls}-{type}{childElCls}" role="presentation"/>'],toolOwner:null,tooltipType:"qtip",stopEvent:true,cacheHeight:true,cacheWidth:true,_toolTypes:{close:1,collapse:1,down:1,expand:1,gear:1,help:1,left:1,maximize:1,minimize:1,minus:1,next:1,pin:1,plus:1,prev:1,print:1,refresh:1,restore:1,right:1,save:1,search:1,toggle:1,unpin:1,up:1},initComponent:function(){var a=this;if(a.id&&a._toolTypes[a.id]){Ext.Error.raise("When specifying a tool you should use the type option, the id can conflict now that tool is a Component")}a.type=a.type||a.id;Ext.applyIf(a.renderData,{baseCls:a.baseCls,blank:Ext.BLANK_IMAGE_URL,type:a.type});a.tooltip=a.tooltip||a.qtip;a.callParent()},afterRender:function(){var a=this,b;a.callParent(arguments);a.el.on({click:a.onClick,mousedown:a.onMouseDown,mouseover:a.onMouseOver,mouseout:a.onMouseOut,scope:a});b=a.tooltip;if(b){a.setTooltip(b)}},tipAttrs:{qtip:"data-qtip"},setTooltip:function(g,d){var e=this,b=e.tooltip,f=e.tooltipType,h=e.id,c=e.el,a;if(b&&Ext.quickTipsActive&&Ext.isObject(b)){Ext.tip.QuickTipManager.unregister(h)}e.tooltip=g;if(d){e.tooltipType=d}if(g){if(Ext.quickTipsActive&&Ext.isObject(g)){Ext.tip.QuickTipManager.register(Ext.apply({target:h},g))}else{if(c){if(d&&f&&d!==f){a=e.tipAttrs[f]||"title";c.dom.removeAttribute(a)}a=e.tipAttrs[d||f]||"title";c.dom.setAttribute(a,g)}}}},setType:function(a){var b=this,c=b.type;b.type=a;if(b.rendered){if(c){b.toolEl.removeCls(b.baseCls+"-"+c)}b.toolEl.addCls(b.baseCls+"-"+a)}else{b.renderData.type=a}return b},onDestroy:function(){var a=this,b=a.keyMap;a.setTooltip(null);if(b){b.destroy();a.keyMap=null}delete a.toolOwner;a.callParent()},privates:{getFocusEl:function(){return this.el},onClick:function(c,b){var a=this;if(a.disabled){return false}a.el.removeCls(a.toolPressedCls+" "+a.toolOverCls);if(a.stopEvent!==false){c.stopEvent()}if(a.handler){Ext.callback(a.handler,a.scope,[c,b,a.ownerCt,a],0,a)}else{if(a.callback){Ext.callback(a.callback,a.scope,[a.toolOwner||a.ownerCt,a,c],0,a)}}a.fireEvent("click",a,c,a.toolOwner||a.ownerCt);return true},onMouseDown:function(){if(this.disabled){return false}this.el.addCls(this.toolPressedCls)},onMouseOver:function(){if(this.disabled){return false}this.el.addCls(this.toolOverCls)},onMouseOut:function(){this.el.removeCls(this.toolOverCls)}}});Ext.define("Ext.panel.Header",{extend:Ext.panel.Bar,xtype:"header",isHeader:true,defaultType:"tool",indicateDrag:false,weight:-1,shrinkWrap:3,iconAlign:"left",titleAlign:"left",titlePosition:0,titleRotation:"default",beforeRenderConfig:{glyph:null,icon:null,iconCls:null,iconAlign:null,title:{$value:{ariaRole:"presentation",focusable:false,xtype:"title",flex:1},merge:function(b,a){if(typeof b=="string"){b={text:b}}return Ext.merge(a?Ext.Object.chain(a):{},b)}},titleAlign:null,titlePosition:null,titleRotation:null},headerCls:Ext.baseCSSPrefix+"header",initComponent:function(){var d=this,c=d.items,b=d.itemPosition,a=[d.headerCls];d.tools=d.tools||[];d.items=c=(c?c.slice():[]);if(b!==undefined){d._userItems=c.slice();d.items=c=[]}d.indicateDragCls=d.headerCls+"-draggable";if(d.indicateDrag){a.push(d.indicateDragCls)}d.addCls(a);d.syncNoBorderCls();Ext.Array.push(c,d.tools);d.tools.length=0;d.callParent();d.on({dblclick:d.onDblClick,click:d.onClick,element:"el",scope:d})},addTool:function(a){this.add(Ext.ComponentManager.create(a,"tool"))},afterLayout:function(){var b=this,e,a,c,d;if(b.vertical){a=b.frameTR;if(a){e=b.frameBR;c=b.frameTL;d=(b.getWidth()-a.getPadding("r")-((c)?c.getPadding("l"):b.el.getBorderWidth("l")))+"px";e.setStyle("background-position-x",d);a.setStyle("background-position-x",d)}}this.callParent()},applyTitle:function(e,c){var d=this,a,b;e=e||"";if(typeof e==="string"){e={text:e}}if(c){Ext.suspendLayouts();c.setConfig(e);Ext.resumeLayouts(true);e=c}else{e.ui=d.ui;e.headerRole=d.headerRole;b=("rotation" in e);e=new Ext.panel.Title(e);if(!b&&d.vertical&&d.titleRotation==="default"){e.rotation=1}}return e},applyTitlePosition:function(b){var a=this.items.getCount();if(this._titleInItems){--a}return Math.max(Math.min(b,a),0)},beforeLayout:function(){this.callParent();this.syncBeforeAfterTitleClasses()},beforeRender:function(){var b=this,a=b.itemPosition;b.protoEl.unselectable();b.callParent();if(a!==undefined){b.insert(a,b._userItems)}},getTools:function(){return this.tools.slice()},onAdd:function(b,a){var c=this.tools;this.callParent([b,a]);if(b.isTool){c.push(b);c[b.type]=b}},onAdded:function(b,c,a){this.syncNoBorderCls();this.callParent([b,c,a])},onRemoved:function(b,c,a){this.syncNoBorderCls();this.callParent([b,c,a])},setDock:function(c){var b=this,e=b.getTitle(),a=b.getTitleRotation(),d=e.getRotation();Ext.suspendLayouts();b.callParent([c]);if(a==="default"){a=(b.vertical?1:0);if(a!==d){e.setRotation(a)}if(b.rendered){b.resetItemMargins()}}Ext.resumeLayouts(true)},updateGlyph:function(a){this.getTitle().setGlyph(a)},updateIcon:function(a){this.getTitle().setIcon(a)},updateIconAlign:function(b,a){this.getTitle().setIconAlign(b)},updateIconCls:function(a){this.getTitle().setIconCls(a)},updateTitle:function(b,a){if(!a){this.insert(this.getTitlePosition(),b);this._titleInItems=true}this.titleCmp=b},updateTitleAlign:function(b,a){this.getTitle().setTextAlign(b)},updateTitlePosition:function(a){this.insert(a,this.getTitle())},updateTitleRotation:function(a){if(a==="default"){a=(this.vertical?1:0)}this.getTitle().setRotation(a)},privates:{fireClickEvent:function(a,c){var b="."+Ext.panel.Tool.prototype.baseCls;if(!c.getTarget(b)){this.fireEvent(a,this,c)}},getFocusEl:function(){return this.el},getFramingInfoCls:function(){var c=this,b=c.callParent(),a=c.ownerCt;if(!c.expanding&&a&&(a.collapsed||c.isCollapsedExpander)){b+="-"+a.collapsedCls}return b+"-"+c.dock},onClick:function(a){this.fireClickEvent("click",a)},onDblClick:function(a){this.fireClickEvent("dblclick",a)},syncBeforeAfterTitleClasses:function(c){var j=this,h=j.items,f=h.items,b=j.getTitlePosition(),a=f.length,g=h.generation,k=j.syncBeforeAfterGen,m,e,d,l;if(!c&&(k===g)){return}j.syncBeforeAfterGen=g;for(d=0;d<a;++d){l=f[d];m=l.afterTitleCls||(l.afterTitleCls=l.baseCls+"-after-title");e=l.beforeTitleCls||(l.beforeTitleCls=l.baseCls+"-before-title");if(!j.title||d<b){if(k){l.removeCls(m)}l.addCls(e)}else{if(d>b){if(k){l.removeCls(e)}l.addCls(m)}}}},syncNoBorderCls:function(){var b=this,a=this.ownerCt,c=b.headerCls+"-noborder";if(a?(a.border===false&&!a.frame):b.border===false){b.addCls(c)}else{b.removeCls(c)}}}});Ext.define("Ext.toolbar.Fill",{extend:Ext.Component,alias:"widget.tbfill",alternateClassName:"Ext.Toolbar.Fill",ariaRole:"presentation",isFill:true,flex:1});Ext.define("Ext.layout.container.boxOverflow.None",{alternateClassName:"Ext.layout.boxOverflow.None",alias:["box.overflow.none","box.overflow.None"],mixins:[Ext.mixin.Factoryable],factoryConfig:{defaultType:"none"},isBoxOverflowHandler:true,$configPrefixed:false,$configStrict:false,constructor:function(a){this.initConfig(a)},handleOverflow:Ext.emptyFn,clearOverflow:Ext.emptyFn,beginLayout:Ext.emptyFn,beginLayoutCycle:Ext.emptyFn,calculate:function(b){var a=this,c=b.state.boxPlan,d;if(c&&c.tooNarrow){d=a.handleOverflow(b);if(d){if(d.reservedSpace){a.layout.publishInnerCtSize(b,d.reservedSpace)}}}else{a.clearOverflow()}},completeLayout:Ext.emptyFn,finishedLayout:function(d){var c=this,a=c.layout.owner,b,e;if(a.hasListeners.overflowchange){b=a.query(">[hidden]");e=b.length;if(e!==c.lastHiddenCount){a.fireEvent("overflowchange",c.lastHiddenCount,e,b);c.lastHiddenCount=e}}},onRemove:Ext.emptyFn,getItem:function(a){return this.layout.owner.getComponent(a)},getOwnerType:function(a){var b;if(a.isToolbar){b="toolbar"}else{if(a.isTabBar){b="tab-bar"}else{if(a.isMenu){b="menu"}else{if(a.isBreadcrumb){b="breadcrumb"}else{b=a.getXType()}}}}return b},getPrefixConfig:Ext.emptyFn,getSuffixConfig:Ext.emptyFn,getOverflowCls:function(){return""},setVertical:function(){var b=this,a=b.layout,c=a.innerCt;c.removeCls(b.getOverflowCls(a.oppositeDirection));c.addCls(b.getOverflowCls(a.direction))}});Ext.define("Ext.toolbar.Item",{extend:Ext.Component,alias:"widget.tbitem",alternateClassName:"Ext.Toolbar.Item",enable:Ext.emptyFn,disable:Ext.emptyFn,focus:Ext.emptyFn});Ext.define("Ext.toolbar.Separator",{extend:Ext.toolbar.Item,alias:"widget.tbseparator",alternateClassName:"Ext.Toolbar.Separator",baseCls:Ext.baseCSSPrefix+"toolbar-separator",focusable:false,ariaRole:"separator"});Ext.define("Ext.dom.ButtonElement",{extend:Ext.dom.Element,setSize:function(d,a,b){var e=this,c=e.component;e.callParent([d,a,b]);c.btnWrap.setStyle("table-layout",(!d||d==="auto")?"":"fixed");c.btnEl.setStyle("height",(!a||a==="auto")?"":"auto");return e},setStyle:function(f,e){var d=this,b=d.component,c,a;d.callParent([f,e]);if(f){if(f==="width"||(typeof f!=="string"&&"width" in f)){c=e||f.width;b.btnWrap.setStyle("table-layout",(!c||c==="auto")?"":"fixed")}if(f==="height"||(typeof f!=="string"&&"height" in f)){a=e||f.height;b.btnEl.setStyle("height",(!a||a==="auto")?"":"auto")}}return d},setHeight:function(a,b){this.callParent([a,b]);this.component.btnEl.setStyle("height",(!a||a==="auto")?"":"auto");return this},setWidth:function(b,a){this.callParent([b,a]);this.component.btnWrap.setStyle("table-layout",(!b||b==="auto")?"":"fixed");return this}});Ext.define("Ext.button.Manager",{singleton:true,alternateClassName:"Ext.ButtonToggleManager",groups:{},pressedButton:null,buttonSelector:"."+Ext.baseCSSPrefix+"btn",init:function(){var a=this;if(!a.initialized){Ext.getDoc().on({keydown:a.onDocumentKeyDown,mouseup:a.onDocumentMouseUp,scope:a});a.initialized=true}},onDocumentKeyDown:function(c){var a=c.getKey(),b;if(a===c.SPACE||a===c.ENTER){b=c.getTarget(this.buttonSelector);if(b){Ext.getCmp(b.id).onClick(c)}}},onButtonMousedown:function(a,c){var b=this.pressedButton;if(b){b.onMouseUp(c)}this.pressedButton=a},onDocumentMouseUp:function(b){var a=this.pressedButton;if(a){a.onMouseUp(b);this.pressedButton=null}},toggleGroup:function(b,e){if(e){var d=this.groups[b.toggleGroup],c=d.length,a;for(a=0;a<c;a++){if(d[a]!==b){d[a].toggle(false)}}}},register:function(b){var c=this,a=this.groups,d=a[b.toggleGroup];c.init();if(!b.toggleGroup){return}if(!d){d=a[b.toggleGroup]=[]}d.push(b);b.on("toggle",c.toggleGroup,c)},unregister:function(a){if(!a.toggleGroup){return}var b=this,c=b.groups[a.toggleGroup];if(c){Ext.Array.remove(c,a);a.un("toggle",b.toggleGroup,b)}},getPressed:function(d){var c=this.groups[d],b=0,a;if(c){for(a=c.length;b<a;b++){if(c[b].pressed===true){return c[b]}}}return null}});Ext.define("Ext.menu.Manager",{singleton:true,alternateClassName:"Ext.menu.MenuMgr",menuSelector:"."+Ext.baseCSSPrefix+"menu",menus:{},groups:{},attached:false,lastShow:new Date(),init:function(){var a=this;a.active=new Ext.util.MixedCollection();Ext.getDoc().addKeyListener(27,function(){if(a.active.length>0){a.hideAll()}},a)},hideAll:function(){var c=this.active,b,a,d;if(c&&c.length>0){b=Ext.Array.slice(c.items);d=b.length;for(a=0;a<d;a++){b[a].hide()}return true}return false},onHide:function(a){var b=this,c=b.active;c.remove(a);if(c.length<1){Ext.un("mousedown",b.onMouseDown,b);b.attached=false}},onShow:function(a){var c=this,d=c.active,b=c.attached;c.lastShow=new Date();d.add(a);if(!b){Ext.on("mousedown",c.onMouseDown,c,{buffer:Ext.isIE9m?10:undefined});c.attached=true}a.toFront()},onBeforeHide:function(a){if(a.activeChild){a.activeChild.hide()}if(a.autoHideTimer){clearTimeout(a.autoHideTimer);delete a.autoHideTimer}},onBeforeShow:function(a){var c=this.active,b=a.parentMenu;c.remove(a);if(!b&&!a.allowOtherMenus){this.hideAll()}else{if(b&&b.activeChild&&a!=b.activeChild){b.activeChild.hide()}}},onMouseDown:function(g){var d=this,f=d.active,b=f.length,a=d.lastShow,c;if(Ext.Date.getElapsed(a)>50&&b){if(Ext.isIE9m&&!Ext.getDoc().contains(g.target)){return}else{for(c=0;c<b;c++){if(f.items[c].owns(g.target)){return}}}d.hideAll()}},register:function(b){var a=this;if(!a.active){a.init()}if(b.floating){a.menus[b.id]=b;b.on({beforehide:a.onBeforeHide,hide:a.onHide,beforeshow:a.onBeforeShow,show:a.onShow,scope:a})}},get:function(b){var a=this.menus;if(typeof b=="string"){if(!a){return null}return a[b]}else{if(b.isMenu){return b}else{if(Ext.isArray(b)){return new Ext.menu.Menu({items:b})}else{return Ext.ComponentManager.create(b,"menu")}}}},unregister:function(d){var a=this,b=a.menus,c=a.active;delete b[d.id];c.remove(d);d.un({beforehide:a.onBeforeHide,hide:a.onHide,beforeshow:a.onBeforeShow,show:a.onShow,scope:a})},registerCheckable:function(c){var a=this.groups,b=c.group;if(b){if(!a[b]){a[b]=[]}a[b].push(c)}},unregisterCheckable:function(c){var a=this.groups,b=c.group;if(b){Ext.Array.remove(a[b],c)}},onCheckChange:function(d,f){var a=this.groups,c=d.group,b=0,h,e,g;if(c&&f){h=a[c];e=h.length;for(;b<e;b++){g=h[b];if(g!=d){g.setChecked(false)}}}}});Ext.define("Ext.util.ClickRepeater",{extend:Ext.util.Observable,constructor:function(b,a){var c=this;c.el=Ext.get(b);c.el.unselectable();Ext.apply(c,a);c.callParent();if(!c.disabled){c.disabled=true;c.enable()}if(c.handler){c.on("click",c.handler,c.scope||c)}},interval:20,delay:250,preventDefault:true,stopDefault:false,timer:0,enable:function(){if(this.disabled){this.el.on("mousedown",this.handleMouseDown,this);if(Ext.isIE8){this.el.on("dblclick",this.handleDblClick,this)}if(this.preventDefault||this.stopDefault){this.el.on("click",this.eventOptions,this)}}this.disabled=false},disable:function(a){if(a||!this.disabled){clearTimeout(this.timer);if(this.pressedCls){this.el.removeCls(this.pressedCls)}Ext.getDoc().un("mouseup",this.handleMouseUp,this);this.el.clearListeners()}this.disabled=true},setDisabled:function(a){this[a?"disable":"enable"]()},eventOptions:function(a){if(this.preventDefault){a.preventDefault()}if(this.stopDefault){a.stopEvent()}},destroy:function(){this.disable(true);this.clearListeners()},handleDblClick:function(a){clearTimeout(this.timer);this.el.blur();this.fireEvent("mousedown",this,a);this.fireEvent("click",this,a)},handleMouseDown:function(a){clearTimeout(this.timer);this.el.blur();if(this.pressedCls){this.el.addCls(this.pressedCls)}this.mousedownTime=new Date();Ext.getDoc().on("mouseup",this.handleMouseUp,this);this.el.on("mouseout",this.handleMouseOut,this);this.fireEvent("mousedown",this,a);this.fireEvent("click",this,a);if(this.accelerate){this.delay=400}this.timer=Ext.defer(this.click,this.delay||this.interval,this,[a])},click:function(a){this.fireEvent("click",this,a);this.timer=Ext.defer(this.click,this.accelerate?this.easeOutExpo(Ext.Date.getElapsed(this.mousedownTime),400,-390,12000):this.interval,this,[a])},easeOutExpo:function(e,a,g,f){return(e==f)?a+g:g*(-Math.pow(2,-10*e/f)+1)+a},handleMouseOut:function(){clearTimeout(this.timer);if(this.pressedCls){this.el.removeCls(this.pressedCls)}this.el.on("mouseover",this.handleMouseReturn,this)},handleMouseReturn:function(){this.el.un("mouseover",this.handleMouseReturn,this);if(this.pressedCls){this.el.addCls(this.pressedCls)}this.click()},handleMouseUp:function(a){clearTimeout(this.timer);this.el.un("mouseover",this.handleMouseReturn,this);this.el.un("mouseout",this.handleMouseOut,this);Ext.getDoc().un("mouseup",this.handleMouseUp,this);if(this.pressedCls){this.el.removeCls(this.pressedCls)}this.fireEvent("mouseup",this,a)}});Ext.define("Ext.button.Button",{alias:"widget.button",extend:Ext.Component,mixins:[Ext.mixin.Queryable],alternateClassName:"Ext.Button",config:{iconAlign:"left",text:null,textAlign:"center",arrowVisible:true},isButton:true,_syncFrameHeight:true,liquidLayout:true,hidden:false,disabled:false,pressed:false,tabIndex:0,enableToggle:false,menuAlign:"tl-bl?",showEmptyMenu:false,clickEvent:"click",preventDefault:true,handleMouseEvents:true,tooltipType:"qtip",baseCls:Ext.baseCSSPrefix+"btn",hrefTarget:"_blank",destroyMenu:true,ariaRole:"button",defaultBindProperty:"text",childEls:["btnEl","btnWrap","btnInnerEl","btnIconEl"],publishes:{pressed:1},menuClickBuffer:250,focusCls:"focus",_btnWrapCls:Ext.baseCSSPrefix+"btn-wrap",_btnCls:Ext.baseCSSPrefix+"btn-button",_baseIconCls:Ext.baseCSSPrefix+"btn-icon-el",_glyphCls:Ext.baseCSSPrefix+"btn-glyph",_innerCls:Ext.baseCSSPrefix+"btn-inner",_textCls:Ext.baseCSSPrefix+"btn-text",_noTextCls:Ext.baseCSSPrefix+"btn-no-text",_hasIconCls:Ext.baseCSSPrefix+"btn-icon",_pressedCls:Ext.baseCSSPrefix+"btn-pressed",overCls:Ext.baseCSSPrefix+"btn-over",_disabledCls:Ext.baseCSSPrefix+"btn-disabled",_menuActiveCls:Ext.baseCSSPrefix+"btn-menu-active",_operaArrowCls:Ext.baseCSSPrefix+"opera12m-btn-arrow",renderTpl:'<span id="{id}-btnWrap" data-ref="btnWrap" role="presentation" unselectable="on" style="{btnWrapStyle}" class="{btnWrapCls} {btnWrapCls}-{ui} {splitCls}{childElCls}"><span id="{id}-btnEl" data-ref="btnEl" role="presentation" unselectable="on" style="{btnElStyle}" class="{btnCls} {btnCls}-{ui} {textCls} {noTextCls} {hasIconCls} {iconAlignCls} {textAlignCls} {btnElAutoHeightCls}{childElCls}"><tpl if="iconBeforeText">{[values.$comp.renderIcon(values)]}</tpl><span id="{id}-btnInnerEl" data-ref="btnInnerEl" role="presentation" unselectable="on" class="{innerCls} {innerCls}-{ui}{childElCls}">{text}</span><tpl if="!iconBeforeText">{[values.$comp.renderIcon(values)]}</tpl></span></span>{[values.$comp.getAfterMarkup ? values.$comp.getAfterMarkup(values) : ""]}<tpl if="closable"><span id="{id}-closeEl" data-ref="closeEl" role="presentation" class="{baseCls}-close-btn"<tpl if="closeText"> title="{closeText}" aria-label="{closeText}"</tpl>></span></tpl>',iconTpl:'<span id="{id}-btnIconEl" data-ref="btnIconEl" role="presentation" unselectable="on" class="{baseIconCls} {baseIconCls}-{ui} {iconCls} {glyphCls}{childElCls}" style="<tpl if="iconUrl">background-image:url({iconUrl});</tpl><tpl if="glyph && glyphFontFamily">font-family:{glyphFontFamily};</tpl>"><tpl if="glyph">&#{glyph};</tpl><tpl if="iconCls || iconUrl">&#160;</tpl></span>',scale:"small",allowedScales:["small","medium","large"],arrowAlign:"right",arrowCls:"arrow",maskOnDisable:false,shrinkWrap:3,frame:true,autoEl:{tag:"a",hidefocus:"on",unselectable:"on"},hasFrameTable:function(){return this.href&&this.frameTable},frameTableListener:function(){if(!this.disabled){this.doNavigate()}},doNavigate:function(){if(this.hrefTarget==="_blank"){window.open(this.getHref(),this.hrefTarget)}else{location.href=this.getHref()}},_triggerRegion:{},initComponent:function(){var a=this;a.addCls(Ext.baseCSSPrefix+"unselectable");if(Ext.isOpera12m&&(a.split||a.menu)&&a.getArrowVisible()){a.addCls(a._operaArrowCls+"-"+a.arrowAlign)}a.callParent(arguments);if(a.menu){a.split=true;a.setMenu(a.menu,false)}if(a.url){a.href=a.url}if(a.href&&!a.hasOwnProperty("preventDefault")){a.preventDefault=false}if(Ext.isString(a.toggleGroup)&&a.toggleGroup!==""){a.enableToggle=true}if(a.html&&!a.text){a.text=a.html;delete a.html}},getElConfig:function(){var c=this,b=c.callParent(),a=c.getHref(),d=c.hrefTarget;if(b.tag==="a"){if(!c.disabled){b.tabIndex=c.tabIndex}if(a){b.href=(c.disabled&&Ext.os.is.ios)?null:a;if(d){b.target=d}}}return b},beforeRender:function(){this.callParent();if(this.pressed){this.addCls(this._pressedCls)}},initRenderData:function(){return Ext.apply(this.callParent(),this.getTemplateArgs())},getMenu:function(){return this.menu||null},setMenu:function(d,c){var b=this,a=b.menu;if(a&&c!==false&&b.destroyMenu){a.destroy()}if(a){delete a.ownerButton}if(d){d=Ext.menu.Manager.get(d);d.ownerButton=b;b.mon(d,{scope:b,show:b.onMenuShow,hide:b.onMenuHide});if(!a&&b.getArrowVisible()){b.split=true;if(b.rendered){b._addSplitCls();b.updateLayout()}}b.menu=d}else{if(b.rendered){b._removeSplitCls();b.updateLayout()}b.split=false;b.menu=null}},onRender:function(){var c=this,d,a,b;c.doc=Ext.getDoc();c.callParent(arguments);a=c.el;if(c.tooltip){c.setTooltip(c.tooltip,true)}if(c.handleMouseEvents){b={scope:c,mouseover:c.onMouseOver,mouseout:c.onMouseOut,mousedown:c.onMouseDown};if(c.split){b.mousemove=c.onMouseMove}}else{b={scope:c}}if(Ext.supports.Touch){b.touchstart=c.onTouchStart}if(c.menu){c.keyMap=new Ext.util.KeyMap({target:c.el,key:Ext.event.Event.prototype.DOWN,handler:c.onDownKey,scope:c})}if(c.repeat){c.mon(new Ext.util.ClickRepeater(a,Ext.isObject(c.repeat)?c.repeat:{}),"click",c.onRepeatClick,c)}else{if(b[c.clickEvent]){d=true}else{b[c.clickEvent]=c.onClick}}c.mon(a,b);if(c.hasFrameTable()){c.mon(c.frameTable,"click",c.frameTableListener,c)}if(d){c.mon(a,c.clickEvent,c.onClick,c)}Ext.button.Manager.register(c)},getTemplateArgs:function(){var h=this,c=h._btnCls,e=h._baseIconCls,a=h.getIconAlign(),j=h.glyph,g=Ext._glyphFontFamily,k=h.text,d=h._hasIcon(),f=h._hasIconCls,b;if(typeof j==="string"){b=j.split("@");j=b[0];g=b[1]}return{innerCls:h._innerCls,splitCls:h.getArrowVisible()?h.getSplitCls():"",iconUrl:h.icon,iconCls:h.iconCls,glyph:j,glyphCls:j?h._glyphCls:"",glyphFontFamily:g,text:k||"&#160;",closeText:h.closeText,textCls:k?h._textCls:"",noTextCls:k?"":h._noTextCls,hasIconCls:d?f:"",btnWrapCls:h._btnWrapCls,btnWrapStyle:h.width?"table-layout:fixed;":"",btnElStyle:h.height?"height:auto;":"",btnCls:c,baseIconCls:e,iconBeforeText:a==="left"||a==="top",iconAlignCls:d?(f+"-"+a):"",textAlignCls:c+"-"+h.getTextAlign()}},renderIcon:function(a){return this.getTpl("iconTpl").apply(a)},setHref:function(a){var b=this;b.href=a;b.el.dom.href=(b.disabled&&Ext.os.is.ios)?null:b.getHref()},getHref:function(){var b=this,a=b.href;return a?Ext.urlAppend(a,Ext.Object.toQueryString(Ext.apply({},b.params,b.baseParams))):false},setParams:function(b){var a=this;a.params=b;a.el.dom.href=(a.disabled&&Ext.os.is.ios)?null:a.getHref()},getSplitCls:function(){var a=this;return a.split?(a.baseCls+"-"+a.arrowCls)+" "+(a.baseCls+"-"+a.arrowCls+"-"+a.arrowAlign):""},setIcon:function(b){b=b||"";var c=this,a=c.btnIconEl,d=c.icon||"";c.icon=b;if(b!=d){if(a){a.setStyle("background-image",b?"url("+b+")":"");c._syncHasIconCls();if(c.didIconStateChange(d,b)){c.updateLayout()}}c.fireEvent("iconchange",c,d,b)}return c},setIconCls:function(b){b=b||"";var d=this,a=d.btnIconEl,c=d.iconCls||"";d.iconCls=b;if(c!=b){if(a){a.removeCls(c);a.addCls(b);d._syncHasIconCls();if(d.didIconStateChange(c,b)){d.updateLayout()}}d.fireEvent("iconchange",d,c,b)}return d},setGlyph:function(f){f=f||0;var e=this,b=e.btnIconEl,c=e.glyph,g=e._glyphCls,a,d;e.glyph=f;if(b){if(typeof f==="string"){d=f.split("@");f=d[0];a=d[1]||Ext._glyphFontFamily}if(!f){b.dom.innerHTML="";b.removeCls(g)}else{if(c!=f){b.dom.innerHTML="&#"+f+";";b.addCls(g)}}if(a){b.setStyle("font-family",a)}e._syncHasIconCls();if(e.didIconStateChange(c,f)){e.updateLayout()}}e.fireEvent("glyphchange",e,e.glyph,c);return e},setTooltip:function(c,a){var b=this;if(b.rendered){if(!a||!c){b.clearTip()}if(c){if(Ext.quickTipsActive&&Ext.isObject(c)){Ext.tip.QuickTipManager.register(Ext.apply({target:b.el.id},c));b.tooltip=c}else{b.el.dom.setAttribute(b.getTipAttr(),c)}}}else{b.tooltip=c}return b},updateIconAlign:function(f,d){var c=this,b,a,e;if(c.rendered){b=c.btnEl;a=c.btnIconEl;e=c._hasIconCls;if(d){b.removeCls(e+"-"+d)}b.addCls(e+"-"+f);if(f==="top"||f==="left"){b.insertFirst(a)}else{b.appendChild(a)}c.updateLayout()}},updateTextAlign:function(e,d){var c=this,b=c.btnEl,a=c._btnCls;if(c.rendered){b.removeCls(a+"-"+d);b.addCls(a+"-"+e)}},getTipAttr:function(){return this.tooltipType=="qtip"?"data-qtip":"title"},getRefItems:function(a){var c=this.menu,b;if(c){b=c.getRefItems(a);b.unshift(c)}return b||[]},clearTip:function(){var b=this,a=b.el;if(Ext.quickTipsActive&&Ext.isObject(b.tooltip)){Ext.tip.QuickTipManager.unregister(a)}else{a.dom.removeAttribute(b.getTipAttr())}},beforeDestroy:function(){var a=this;if(a.rendered){a.clearTip()}if(a.menu&&a.destroyMenu){a.menu.destroy()}Ext.destroy(a.repeater);a.callParent()},onDestroy:function(){var a=this;if(a.rendered){a.doc.un("mouseover",a.monitorMouseOver,a);delete a.doc;Ext.destroy(a.keyMap);delete a.keyMap}Ext.button.Manager.unregister(a);a.callParent()},setHandler:function(b,a){this.handler=b;if(arguments.length>1){this.scope=a}return this},applyText:function(d){d=d==null?"":String(d);var c=this,e=c.btnInnerEl,b=c.btnEl,a=c.text||"";if(d!=a){c.text=d;if(c.rendered){e.setHtml(d||"&#160;");b[d?"addCls":"removeCls"](c._textCls);b[d?"removeCls":"addCls"](c._noTextCls);c.updateLayout()}c.fireEvent("textchange",c,a,d)}},didIconStateChange:function(a,c){var b=Ext.isEmpty(c);return Ext.isEmpty(a)?!b:b},setPressed:function(a){return this.toggle(a!==false)},toggle:function(c,a){var b=this;c=c===undefined?!b.pressed:!!c;if(c!==b.pressed){b[c?"addCls":"removeCls"](b._pressedCls);b.pressed=c;if(!a){b.fireEvent("toggle",b,c);Ext.callback(b.toggleHandler,b.scope,[b,c],0,b);if(b.reference&&b.publishState){b.publishState("pressed",c)}}}return b},maybeShowMenu:function(){var a=this;if(a.menu&&!a.hasVisibleMenu()&&!a.ignoreNextClick){a.showMenu(true)}},showMenu:function(b){var a=this,c=a.menu;if(a.rendered){if(a.tooltip&&Ext.quickTipsActive&&a.getTipAttr()!="title"){Ext.tip.QuickTipManager.getQuickTip().cancelShow(a.el)}if(c.isVisible()){c.hide()}if(!b||a.showEmptyMenu||c.items.getCount()>0){c.showBy(a.el,a.menuAlign)}}return a},hideMenu:function(){if(this.hasVisibleMenu()){this.menu.hide()}return this},hasVisibleMenu:function(){var a=this.menu;return a&&a.rendered&&a.isVisible()},onRepeatClick:function(a,b){this.onClick(b)},onTouchStart:function(a){this.doPreventDefault(a)},onClick:function(b){var a=this;a.doPreventDefault(b);if(b.type!=="keydown"&&b.button){return}if(!a.disabled){a.doToggle();a.maybeShowMenu();a.fireHandler(b)}},doPreventDefault:function(a){if(a&&(this.preventDefault||(this.disabled&&this.getHref()))){a.preventDefault()}},fireHandler:function(b){var a=this;if(a.fireEvent("click",a,b)!==false){Ext.callback(a.handler,a.scope,[a,b],0,a)}},doToggle:function(){var a=this;if(a.enableToggle&&(a.allowDepress!==false||!a.pressed)){a.toggle()}},onMouseOver:function(b){var a=this;if(!a.disabled&&!b.within(a.el,true,true)){a.onMouseEnter(b)}},onMouseOut:function(b){var a=this;if(!b.within(a.el,true,true)){if(a.overMenuTrigger){a.onMenuTriggerOut(b)}a.onMouseLeave(b)}},onMouseMove:function(c){var a=this,b=a.overMenuTrigger;if(a.split){if(a.isWithinTrigger(c)){if(!b){a.onMenuTriggerOver(c)}}else{if(b){a.onMenuTriggerOut(c)}}}},isWithinTrigger:function(d){var c=this,b=c.el,f,a;f=(c.arrowAlign==="right")?d.getX()-c.getX():d.getY()-b.getY();a=c.getTriggerRegion();return f>a.begin&&f<a.end},getTriggerRegion:function(){var d=this,e=d._triggerRegion,c=d.arrowAlign==="right",b=c?"getRight":"getBottom",a=c?d.getWidth():d.getHeight();e.begin=a-(d.el[b]()-d.btnEl[b]());e.end=a;return e},onMouseEnter:function(a){this.fireEvent("mouseover",this,a)},onMouseLeave:function(a){this.fireEvent("mouseout",this,a)},onMenuTriggerOver:function(c){var b=this,a=b.arrowTooltip;b.overMenuTrigger=true;if(b.split&&a){b.btnWrap.dom.setAttribute(b.getTipAttr(),a)}b.fireEvent("menutriggerover",b,b.menu,c)},onMenuTriggerOut:function(b){var a=this;delete a.overMenuTrigger;if(a.split&&a.arrowTooltip){a.btnWrap.dom.setAttribute(a.getTipAttr(),"")}a.fireEvent("menutriggerout",a,a.menu,b)},enable:function(a){var b=this;b.callParent(arguments);b.removeCls(b._disabledCls);if(b.rendered){b.el.dom.setAttribute("tabIndex",b.tabIndex);if(Ext.os.is.ios&&b.href){b.el.dom.href=b.href}}return b},disable:function(a){var b=this;b.callParent(arguments);b.addCls(b._disabledCls);b.removeCls(b.overCls);if(b.rendered){b.el.dom.removeAttribute("tabIndex");if(Ext.os.is.ios&&b.href){b.el.dom.href=null}}return b},setScale:function(c){var a=this,b=a.ui.replace("-"+a.scale,"");if(!Ext.Array.contains(a.allowedScales,c)){throw ("#setScale: scale must be an allowed scale ("+a.allowedScales.join(", ")+")")}a.scale=c;a.setUI(b)},setUI:function(b){var a=this;if(a.scale&&!b.match(a.scale)){b=b+"-"+a.scale}a.callParent([b])},onMouseDown:function(b){var a=this;if(Ext.isIE){a.getFocusEl().focus()}if(!a.disabled&&b.button===0){Ext.button.Manager.onButtonMousedown(a,b);a.addCls(a._pressedCls)}},onMouseUp:function(b){var a=this;if(!a.isDestroyed&&b.button===0){if(!a.pressed){a.removeCls(a._pressedCls)}}},onMenuShow:function(){var a=this;a.ignoreNextClick=0;a.addCls(a._menuActiveCls);a.fireEvent("menushow",a,a.menu)},onMenuHide:function(b){var a=this,c=a.menuClickBuffer;a.removeCls(a._menuActiveCls);if(c){a.ignoreNextClick=Ext.defer(a.restoreClick,c,a)}a.fireEvent("menuhide",a,a.menu);a.focus()},restoreClick:function(){this.ignoreNextClick=0},onDownKey:function(a,c){var b=this;if(b.menu&&!b.disabled){b.showMenu();c.stopEvent();return false}},updateArrowVisible:function(b){var a=this;if(a.rendered){if(b){if(a.menu||a.isSplitButton){a.split=true;a._addSplitCls()}}else{a._removeSplitCls();a.split=false}}return b},privates:{addOverCls:function(){if(!this.disabled){this.addCls(this.overCls)}},_addSplitCls:function(){var a=this;a.btnWrap.addCls(a.getSplitCls());if(Ext.isOpera12m){a.addCls(a._operaArrowCls+"-"+a.arrowAlign)}},getFocusEl:function(){return this.el},getTdCls:function(){return Ext.baseCSSPrefix+"button-"+this.ui+"-"+this.scale+"-cell"},removeOverCls:function(){this.removeCls(this.overCls)},_removeSplitCls:function(){var a=this;a.btnWrap.removeCls(a.getSplitCls());if(Ext.isOpera12m){a.removeCls(a._operaArrowCls+"-"+a.arrowAlign)}},_syncHasIconCls:function(){var b=this,a=b.btnEl,c=b._hasIconCls;if(a){a[b._hasIcon()?"addCls":"removeCls"]([c,c+"-"+b.iconAlign])}},_hasIcon:function(){return !!(this.icon||this.iconCls||this.glyph)},wrapPrimaryEl:function(a){this.el=new Ext.dom.ButtonElement(a)}}});Ext.define("Jarvus.ext.patch.button.HrefBeforeRender",{override:"Ext.button.Button",setHref:function(a){var b=this;b.href=a;if(b.rendered){b.el.dom.href=b.disabled?null:b.getHref()}},setParams:function(b){var a=this;a.params=b;if(a.rendered){a.el.dom.href=a.disabled?null:a.getHref()}}},function(){if(!Ext.getVersion().match("5")){console.warn("This patch has not been tested with this version of ExtJS")}});Ext.define("Ext.layout.container.boxOverflow.Menu",{extend:Ext.layout.container.boxOverflow.None,alternateClassName:"Ext.layout.boxOverflow.Menu",alias:["box.overflow.menu","box.overflow.Menu"],noItemsMenuText:'<div class="'+Ext.baseCSSPrefix+'toolbar-no-items" role="menuitem">(None)</div>',menuCls:Ext.baseCSSPrefix+"box-menu",constructor:function(a){var b=this;b.callParent(arguments);b.menuItems=[]},beginLayout:function(a){this.callParent(arguments);this.clearOverflow(a)},beginLayoutCycle:function(b,a){this.callParent(arguments);if(!a){this.clearOverflow(b);this.layout.cacheChildItems(b)}},onRemove:function(a){Ext.Array.remove(this.menuItems,a)},getSuffixConfig:function(){var d=this,c=d.layout,a=c.owner,b=a.id;d.menu=new Ext.menu.Menu({listeners:{scope:d,beforeshow:d.beforeMenuShow}});d.menuTrigger=new Ext.button.Button({id:b+"-menu-trigger",cls:d.menuCls+"-after "+Ext.baseCSSPrefix+"toolbar-item",plain:a.usePlainButtons,ownerCt:a,ownerLayout:c,iconCls:Ext.baseCSSPrefix+d.getOwnerType(a)+"-more-icon",ui:a.defaultButtonUI||"default",menu:d.menu,showEmptyMenu:true,getSplitCls:function(){return""}});return d.menuTrigger.getRenderTree()},getOverflowCls:function(a){return this.menuCls+"-body-"+a},handleOverflow:function(c){var b=this,a=b.layout;b.showTrigger(c);if(a.direction!=="vertical"){b.menuTrigger.setLocalY((c.state.boxPlan.maxSize-b.menuTrigger[a.names.getHeight]())/2)}return{reservedSpace:b.triggerTotalWidth}},captureChildElements:function(){var a=this,c=a.menuTrigger,b=a.layout.names;if(c.rendering){c.finishRender();a.triggerTotalWidth=c[b.getWidth]()+c.el.getMargin(b.parallelMargins)}},clearOverflow:function(g){var f=this,b=f.menuItems,e,c=0,d=b.length,a=f.layout.owner,h=a._asLayoutRoot;a.suspendLayouts();f.captureChildElements();f.hideTrigger();a.resumeLayouts();for(;c<d;c++){e=b[c];e.suspendLayouts();e.show();e.resumeLayouts(h)}b.length=0},showTrigger:function(c){var n=this,j=n.layout,a=j.owner,m=j.names,q=m.x,e=m.width,o=c.state.boxPlan,b=o.targetSize[e],g=c.childItems,k=g.length,f=n.menuTrigger,p,h,d,l;f.suspendLayouts();f.show();f.resumeLayouts(n._asLayoutRoot);b-=n.triggerTotalWidth;a.suspendLayouts();n.menuItems.length=0;for(d=0;d<k;d++){p=g[d];l=p.props;if(l[q]+l[e]>b){h=p.target;n.menuItems.push(h);h.hide()}}a.resumeLayouts()},hideTrigger:function(){var a=this.menuTrigger;if(a){a.hide()}},beforeMenuShow:function(h){var g=this,b=g.menuItems,d=0,a=b.length,f,e,c=function(k,j){return k.isXType("buttongroup")&&!(j instanceof Ext.toolbar.Separator)};h.suspendLayouts();g.clearMenu();h.removeAll();for(;d<a;d++){f=b[d];if(!d&&(f instanceof Ext.toolbar.Separator)){continue}if(e&&(c(f,e)||c(e,f))){h.add("-")}g.addComponentToMenu(h,f);e=f}if(h.items.length<1){h.add(g.noItemsMenuText)}h.resumeLayouts()},createMenuConfig:function(c,a){var b=Ext.apply({},c.initialConfig),d=c.toggleGroup;Ext.copyTo(b,c,["iconCls","icon","itemId","disabled","handler","scope","menu","tabIndex"]);Ext.applyIf(b,{text:c.overflowText||c.text,hideOnClick:a,destroyMenu:false,listeners:{}});if(c.isFormField){b.value=c.getValue();b.listeners.change=function(g,f,e){c.setValue(f)}}else{if(d||c.enableToggle){Ext.apply(b,{hideOnClick:false,group:d,checked:c.pressed,handler:function(f,g){c.onClick(g)}})}}if(c.isButton&&!c.changeListenersAdded){c.on({textchange:this.onButtonAttrChange,iconchange:this.onButtonAttrChange,toggle:this.onButtonToggle});c.changeListenersAdded=true}delete b.margin;delete b.ownerCt;delete b.xtype;delete b.id;delete b.itemId;return b},onButtonAttrChange:function(a){var b=a.overflowClone;b.suspendLayouts();b.setText(a.text);b.setIcon(a.icon);b.setIconCls(a.iconCls);b.resumeLayouts(true)},onButtonToggle:function(a,b){if(a.overflowClone.checked!==b){a.overflowClone.setChecked(b)}},addComponentToMenu:function(f,c){var e=this,d,b,a;if(c instanceof Ext.toolbar.Fill){return}else{if(c instanceof Ext.toolbar.Separator){f.add("-")}else{if(c.isComponent){if(c.isXType("splitbutton")){c.overflowClone=f.add(e.createMenuConfig(c,true))}else{if(c.isXType("button")){c.overflowClone=f.add(e.createMenuConfig(c,!c.menu))}else{if(c.isXType("buttongroup")){b=c.items.items;a=b.length;for(d=0;d<a;d++){e.addComponentToMenu(f,b[d])}}else{c.overflowClone=f.add(Ext.create(Ext.getClassName(c),e.createMenuConfig(c)))}}}}}}},clearMenu:function(){var e=this.menu,b,c,a,d;if(e&&e.items){b=e.items.items;a=b.length;for(c=0;c<a;c++){d=b[c];if(d.setMenu){d.setMenu(null)}}}},destroy:function(){var a=this.menuTrigger;if(a&&!this.layout.owner.items.contains(a)){delete a.ownerCt}Ext.destroy(this.menu,a)}});Ext.define("Ext.layout.container.boxOverflow.Scroller",{extend:Ext.layout.container.boxOverflow.None,alternateClassName:"Ext.layout.boxOverflow.Scroller",alias:["box.overflow.scroller","box.overflow.Scroller"],mixins:{observable:Ext.mixin.Observable},animateScroll:false,scrollIncrement:20,wheelIncrement:10,scrollRepeatInterval:60,scrollDuration:400,scrollerCls:Ext.baseCSSPrefix+"box-scroller",beforeSuffix:"-before-scroller",afterSuffix:"-after-scroller",constructor:function(a){var b=this;b.mixins.observable.constructor.call(b,a);b.scrollPosition=0;b.scrollSize=0},getPrefixConfig:function(){return{role:"presentation",id:this.layout.owner.id+this.beforeSuffix,cls:this.createScrollerCls("beforeX"),style:"display:none"}},getSuffixConfig:function(){return{role:"presentation",id:this.layout.owner.id+this.afterSuffix,cls:this.createScrollerCls("afterX"),style:"display:none"}},createScrollerCls:function(e){var g=this,f=g.layout,b=f.owner,h=Ext.baseCSSPrefix,d=g.getOwnerType(b),a=g.scrollerCls,c=a+" "+a+"-"+f.names[e]+" "+a+"-"+d+" "+a+"-"+d+"-"+b.ui;if(b.plain){c+=" "+a+"-plain"}return c},getOverflowCls:function(a){return this.scrollerCls+"-body-"+a},beginLayout:function(b){var a=this.layout;b.innerCtScrollPos=this.getScrollPosition();this.callParent(arguments)},finishedLayout:function(e){var d=this,g=e.state.boxPlan,c=d.layout,f=c.names,h=Math.min(d.getMaxScrollPosition(),e.innerCtScrollPos),a,b;if(g&&g.tooNarrow){a=e.childItems[e.childItems.length-1].props;d.scrollSize=a[f.x]+a[f.width];d.updateScrollButtons()}c.innerCt[f.setScrollLeft](h);this.callParent([e])},handleOverflow:function(b){var g=this,f=g.layout.names,h=f.getWidth,j=f.parallelMargins,c,e,d,a;g.showScrollers();d=g.getBeforeScroller();a=g.getAfterScroller();c=d[h]()+a[h]()+d.getMargin(j)+a.getMargin(j);e=b.targetContext.getPaddingInfo()[f.width];return{reservedSpace:Math.max(c-e,0)}},getBeforeScroller:function(){var a=this;return a._beforeScroller||(a._beforeScroller=a.createScroller(a.beforeSuffix,"beforeRepeater","scrollLeft"))},getAfterScroller:function(){var a=this;return a._afterScroller||(a._afterScroller=a.createScroller(a.afterSuffix,"afterRepeater","scrollRight"))},createScroller:function(f,d,g){var e=this,c=e.layout.owner,b=e.scrollerCls,a;a=c.el.getById(c.id+f);a.addClsOnOver(b+"-hover");a.addClsOnClick(b+"-pressed");a.setVisibilityMode(Ext.Element.DISPLAY);e[d]=new Ext.util.ClickRepeater(a,{interval:e.scrollRepeatInterval,handler:g,scope:e});return a},createWheelListener:function(){var a=this;a.layout.innerCt.on({mousewheel:function(b){a.scrollBy(a.getWheelDelta(b)*a.wheelIncrement*-1,false)},stopEvent:true})},getWheelDelta:function(a){return a.getWheelDelta()},clearOverflow:function(){this.hideScrollers()},showScrollers:function(){var a=this;a.createWheelListener();a.getBeforeScroller().show();a.getAfterScroller().show();a.layout.owner.addClsWithUI(a.layout.direction==="vertical"?"vertical-scroller":"scroller")},hideScrollers:function(){var b=this,c=b.getBeforeScroller(),a=b.getAfterScroller();if(c){c.hide();a.hide();b.layout.owner.removeClsWithUI(b.layout.direction==="vertical"?"vertical-scroller":"scroller")}},destroy:function(){var a=this;Ext.destroy(a.beforeRepeater,a.afterRepeater,a._beforeScroller,a._afterScroller)},scrollBy:function(b,a){this.scrollTo(this.getScrollPosition()+b,a)},getScrollAnim:function(){return{duration:this.scrollDuration,callback:this.updateScrollButtons,scope:this}},updateScrollButtons:function(){var b=this,d=b.getBeforeScroller(),a=b.getAfterScroller(),c;if(!d||!a){return}c=b.scrollerCls+"-disabled";d[b.atExtremeBefore()?"addCls":"removeCls"](c);a[b.atExtremeAfter()?"addCls":"removeCls"](c);b.scrolling=false},scrollLeft:function(){this.scrollBy(-this.scrollIncrement,false)},scrollRight:function(){this.scrollBy(this.scrollIncrement,false)},getScrollPosition:function(){var c=this,b=c.layout,a;if(isNaN(c.scrollPosition)){a=b.innerCt[b.names.getScrollLeft]()}else{a=c.scrollPosition}return a},getMaxScrollPosition:function(){var b=this,a=b.layout,c=b.scrollSize-a.innerCt[a.names.getWidth]();return(c<0)?0:c},atExtremeBefore:function(){return !this.getScrollPosition()},atExtremeAfter:function(){return this.getScrollPosition()>=this.getMaxScrollPosition()},setVertical:function(){var c=this,d=c.getBeforeScroller(),b=c.getAfterScroller(),e=c.layout.names,a=c.scrollerCls;d.removeCls(a+"-"+e.beforeY);b.removeCls(a+"-"+e.afterY);d.addCls(a+"-"+e.beforeX);b.addCls(a+"-"+e.afterX);this.callParent()},scrollTo:function(a,b){var f=this,e=f.layout,g=e.names,d=f.getScrollPosition(),c=Ext.Number.constrain(a,0,f.getMaxScrollPosition());if(c!=d&&!f.scrolling){f.scrollPosition=NaN;if(b===undefined){b=f.animateScroll}e.innerCt[g.scrollTo](g.beforeScrollX,c,b?f.getScrollAnim():false);if(b){f.scrolling=true}else{f.updateScrollButtons()}f.fireEvent("scroll",f,c,b?f.getScrollAnim():false)}},scrollToItem:function(k,c){var j=this,f=j.layout,d=f.owner,h=f.names,b=f.innerCt,a,e,g;k=j.getItem(k);if(k!==undefined){if(k==d.items.first()){g=0}else{if(k===d.items.last()){g=j.getMaxScrollPosition()}else{a=j.getItemVisibility(k);if(!a.fullyVisible){e=k.getBox(false,true);g=e[h.x];if(a.hiddenEnd){g-=(b[h.getWidth]()-e[h.width])}}}}if(g!==undefined){j.scrollTo(g,c)}}},getItemVisibility:function(j){var g=this,b=g.getItem(j).getBox(true,true),c=g.layout,f=c.names,e=b[f.x],d=e+b[f.width],a=g.getScrollPosition(),h=a+c.innerCt[f.getWidth]();return{hiddenStart:e<a,hiddenEnd:d>h,fullyVisible:e>a&&d<h}}});Ext.define("Ext.dd.DragDropManager",{singleton:true,alternateClassName:["Ext.dd.DragDropMgr","Ext.dd.DDM"],ids:{},handleIds:{},dragCurrent:null,dragOvers:{},deltaX:0,deltaY:0,preventDefault:true,stopPropagation:true,initialized:false,locked:false,init:function(){this.initialized=true},POINT:0,INTERSECT:1,mode:0,notifyOccluded:false,dragCls:Ext.baseCSSPrefix+"dd-drag-current",_execOnAll:function(c,b){var e=this.ids,d,a,g,f;for(d in e){if(e.hasOwnProperty(d)){f=e[d];for(a in f){if(f.hasOwnProperty(a)){g=f[a];if(!this.isTypeOfDD(g)){continue}g[c].apply(g,b)}}}}},addListeners:function(){var a=this;a.init();Ext.getDoc().on({mouseup:a.handleMouseUp,mousemove:a.handleMouseMove,dragstart:a.preventDrag,drag:a.preventDrag,dragend:a.preventDrag,capture:true,scope:a});Ext.getWin().on({unload:a._onUnload,resize:a._onResize,scope:a})},preventDrag:function(a){if(this.isMouseDown){a.stopPropagation()}},_onResize:function(a){this._execOnAll("resetConstraints",[])},lock:function(){this.locked=true},unlock:function(){this.locked=false},isLocked:function(){return this.locked},locationCache:{},useCache:true,clickPixelThresh:8,dragThreshMet:false,clickTimeout:null,startX:0,startY:0,regDragDrop:function(b,a){if(!this.initialized){this.init()}if(!this.ids[a]){this.ids[a]={}}this.ids[a][b.id]=b},removeDDFromGroup:function(c,a){if(!this.ids[a]){this.ids[a]={}}var b=this.ids[a];if(b&&b[c.id]){delete b[c.id]}},_remove:function(f,b){var e=this,c=e.ids,a=f.groups,d;if(e.clearingAll){return}if(e.dragCurrent===f){e.dragCurrent=null}for(d in a){if(a.hasOwnProperty(d)){if(b){delete c[d]}else{if(c[d]){delete c[d][f.id]}}}}delete e.handleIds[f.id]},regHandle:function(b,a){if(!this.handleIds[b]){this.handleIds[b]={}}this.handleIds[b][a]=a},isDragDrop:function(a){return(this.getDDById(a))?true:false},getRelated:function(f,b){var e=[],d,c,a;for(d in f.groups){for(c in this.ids[d]){a=this.ids[d][c];if(!this.isTypeOfDD(a)){continue}if(!b||a.isTarget){e[e.length]=a}}}return e},isLegalTarget:function(e,d){var b=this.getRelated(e,true),c,a;for(c=0,a=b.length;c<a;++c){if(b[c].id==d.id){return true}}return false},isTypeOfDD:function(a){return(a&&a.__ygDragDrop)},isHandle:function(b,a){return(this.handleIds[b]&&this.handleIds[b][a])},getDDById:function(d,c){var b,a;for(b in this.ids){a=this.ids[b][d];if(a instanceof Ext.dd.DDTarget||c){return a}}return null},handleMouseDown:function(f,d){var b=this,c,a;b.isMouseDown=true;if(Ext.quickTipsActive){Ext.tip.QuickTipManager.ddDisable()}b.currentPoint=f.getPoint();if(b.dragCurrent){b.handleMouseUp(f)}b.mousedownEvent=f;b.currentTarget=f.getTarget();b.dragCurrent=d;a=d.getEl();Ext.fly(a).setCapture();c=f.getXY();b.startX=c[0];b.startY=c[1];b.offsetX=b.offsetY=0;b.deltaX=b.startX-a.offsetLeft;b.deltaY=b.startY-a.offsetTop;b.dragThreshMet=false},startDrag:function(b,e){var c=this,d=c.dragCurrent,a;clearTimeout(c.clickTimeout);if(d){d.b4StartDrag(b,e);d.startDrag(b,e);a=d.getDragEl();if(a){Ext.fly(a).addCls(c.dragCls)}}c.dragThreshMet=true},handleMouseUp:function(b){var a=this;a.isMouseDown=false;if(Ext.quickTipsActive){Ext.tip.QuickTipManager.ddEnable()}if(!a.dragCurrent){return}if(Ext.isIE&&document.releaseCapture){document.releaseCapture()}clearTimeout(a.clickTimeout);if(a.dragThreshMet){a.fireEvents(b,true)}a.stopDrag(b);a.stopEvent(b)},stopEvent:function(a){if(this.stopPropagation){a.stopPropagation()}if(this.preventDefault){a.preventDefault()}},stopDrag:function(d){var b=this,c=b.dragCurrent,a;if(c){if(b.dragThreshMet){a=c.getDragEl();if(a){Ext.fly(a).removeCls(b.dragCls)}c.b4EndDrag(d);c.endDrag(d)}b.dragCurrent.onMouseUp(d)}b.dragCurrent=null;b.dragOvers={}},handleMouseMove:function(j){var g=this,h=g.dragCurrent,a=g.currentPoint=j.getPoint(),d=a.x,b=a.y,f,c;g.offsetX=d-g.startX;g.offsetY=b-g.startY;if(!h){return true}if(!g.dragThreshMet){f=Math.abs(g.offsetX);c=Math.abs(g.offsetY);if(f>g.clickPixelThresh||c>g.clickPixelThresh){g.startDrag(g.startX,g.startY)}}if(g.dragThreshMet){h.b4Drag(j);h.onDrag(j);if(!h.moveOnly){g.fireEvents(j,false)}}g.stopEvent(j);return true},fireEvents:function(x,m){var z=this,n=Ext.supports.Touch,g=z.dragCurrent,v=z.currentPoint,r=v.x,p=v.y,d,q,f,l,o=[],h=[],k=[],b=[],y=[],w=[],c,t,u,s,a=n?document.documentElement.clientWidth/window.innerWidth:1,j;if(!g||g.isLocked()){return}j=!(g.deltaX<0||g.deltaY<0);if(n||(!z.notifyOccluded&&(!Ext.supports.CSSPointerEvents||Ext.isIE10m||Ext.isOpera)&&j)){d=g.getDragEl();if(j){d.style.visibility="hidden"}x.target=document.elementFromPoint(r/a,p/a);if(j){d.style.visibility="visible"}}for(t in z.dragOvers){f=z.dragOvers[t];delete z.dragOvers[t];if(!z.isTypeOfDD(f)||f.isDestroyed){continue}if(z.notifyOccluded){if(!this.isOverTarget(v,f,z.mode)){k.push(f)}}else{if(!x.within(f.getEl())){k.push(f)}}h[t]=true}for(s in g.groups){if("string"!=typeof s){continue}for(t in z.ids[s]){f=z.ids[s][t];if(z.isTypeOfDD(f)&&(l=f.getEl())&&(f.isTarget)&&(!f.isLocked())&&(Ext.fly(l).isVisible(true))&&((f!=g)||(g.ignoreSelf===false))){if(z.notifyOccluded){if((f.zIndex=z.getZIndex(l))!==-1){c=true}o.push(f)}else{if(x.within(f.getEl())){o.push(f);break}}}}}if(c){Ext.Array.sort(o,z.byZIndex)}for(t=0,u=o.length;t<u;t++){f=o[t];if(z.isOverTarget(v,f,z.mode)){if(m){y.push(f)}else{if(!h[f.id]){w.push(f)}else{b.push(f)}z.dragOvers[f.id]=f}if(!z.notifyOccluded){break}}}if(z.mode){if(k.length){g.b4DragOut(x,k);g.onDragOut(x,k)}if(w.length){g.onDragEnter(x,w)}if(b.length){g.b4DragOver(x,b);g.onDragOver(x,b)}if(y.length){g.b4DragDrop(x,y);g.onDragDrop(x,y)}}else{for(t=0,u=k.length;t<u;++t){g.b4DragOut(x,k[t].id);g.onDragOut(x,k[t].id)}for(t=0,u=w.length;t<u;++t){g.onDragEnter(x,w[t].id)}for(t=0,u=b.length;t<u;++t){g.b4DragOver(x,b[t].id);g.onDragOver(x,b[t].id)}for(t=0,u=y.length;t<u;++t){g.b4DragDrop(x,y[t].id);g.onDragDrop(x,y[t].id)}}if(m&&!y.length){g.onInvalidDrop(x)}},getZIndex:function(b){var a=document.body,c,d=-1;b=Ext.getDom(b);while(b!==a){if(!isNaN(c=Number(Ext.fly(b).getStyle("zIndex")))){d=c}b=b.parentNode}return d},byZIndex:function(b,a){return b.zIndex<a.zIndex},getBestMatch:function(c){var e=null,b=c.length,d,a;if(b==1){e=c[0]}else{for(d=0;d<b;++d){a=c[d];if(a.cursorIsOver){e=a;break}else{if(!e||e.overlap.getArea()<a.overlap.getArea()){e=a}}}}return e},refreshCache:function(b){var a,c,d,e;for(a in b){if("string"!=typeof a){continue}for(c in this.ids[a]){d=this.ids[a][c];if(this.isTypeOfDD(d)){e=this.getLocation(d);if(e){this.locationCache[d.id]=e}else{delete this.locationCache[d.id]}}}}},verifyEl:function(b){if(b){var a;if(Ext.isIE){try{a=b.offsetParent}catch(c){}}else{a=b.offsetParent}if(a){return true}}return false},getLocation:function(h){if(!this.isTypeOfDD(h)){return null}if(h.getRegion){return h.getRegion()}var f=h.getEl(),m,d,c,o,n,p,a,k,g;try{m=Ext.fly(f).getXY()}catch(j){}if(!m){return null}d=m[0];c=d+f.offsetWidth;o=m[1];n=o+f.offsetHeight;p=o-h.padding[0];a=c+h.padding[1];k=n+h.padding[2];g=d-h.padding[3];return new Ext.util.Region(p,a,k,g)},isOverTarget:function(j,a,c){var e=this.locationCache[a.id],h,f,b,d,g;if(!e||!this.useCache){e=this.getLocation(a);this.locationCache[a.id]=e}if(!e){return false}a.cursorIsOver=e.contains(j);h=this.dragCurrent;if(!h||!h.getTargetCoord||(!c&&!h.constrainX&&!h.constrainY)){return a.cursorIsOver}a.overlap=null;f=h.getTargetCoord(j.x,j.y);b=h.getDragEl();d=new Ext.util.Region(f.y,f.x+b.offsetWidth,f.y+b.offsetHeight,f.x);g=d.intersect(e);if(g){a.overlap=g;return(c)?true:a.cursorIsOver}else{return false}},_onUnload:function(b,a){Ext.dd.DragDropManager.unregAll()},unregAll:function(){var c=this,a=c.elementCache,b;if(c.dragCurrent){c.stopDrag();c.dragCurrent=null}c.clearingAll=true;c._execOnAll("unreg",[]);delete c.clearingAll;for(b in a){delete a[b]}c.elementCache={};c.ids={};c.handleIds={}},elementCache:{},getElWrapper:function(b){var a=this.elementCache[b];if(!a||!a.el){a=this.elementCache[b]=new this.ElementWrapper(Ext.getDom(b))}return a},getElement:function(a){return Ext.getDom(a)},getCss:function(b){var a=Ext.getDom(b);return(a)?a.style:null},ElementWrapper:function(a){this.el=a||null;this.id=this.el&&a.id;this.css=this.el&&a.style},getPosX:function(a){return Ext.fly(a).getX()},getPosY:function(a){return Ext.fly(a).getY()},swapNode:function(c,a){if(c.swapNode){c.swapNode(a)}else{var d=a.parentNode,b=a.nextSibling;if(b==c){d.insertBefore(c,a)}else{if(a==c.nextSibling){d.insertBefore(a,c)}else{c.parentNode.replaceChild(a,c);d.insertBefore(c,b)}}}},getScroll:function(){var d=window.document,e=d.documentElement,a=d.body,c=0,b=0;if(e&&(e.scrollTop||e.scrollLeft)){c=e.scrollTop;b=e.scrollLeft}else{if(a){c=a.scrollTop;b=a.scrollLeft}}return{top:c,left:b}},getStyle:function(b,a){return Ext.fly(b).getStyle(a)},getScrollTop:function(){return this.getScroll().top},getScrollLeft:function(){return this.getScroll().left},moveToEl:function(a,c){var b=Ext.fly(c).getXY();Ext.fly(a).setXY(b)},numericSort:function(d,c){return(d-c)},handleWasClicked:function(a,c){if(this.isHandle(c,a.id)){return true}else{var b=a.parentNode;while(b){if(this.isHandle(c,b.id)){return true}else{b=b.parentNode}}}return false}},function(a){Ext.onReady(function(){a.addListeners()})});Ext.define("Ext.layout.container.Box",{extend:Ext.layout.container.Container,alias:"layout.box",alternateClassName:"Ext.layout.BoxLayout",type:"box",config:{align:"begin",constrainAlign:false,enableSplitters:true,overflowHandler:{$value:null,merge:function(b,a){if(typeof b=="string"){b={type:b}}return Ext.merge(a?Ext.Object.chain(a):{},b)}},padding:0,pack:"start",stretchMaxPartner:undefined,vertical:false,alignRoundingMethod:"round"},scrollOffset:0,itemCls:Ext.baseCSSPrefix+"box-item",targetCls:Ext.baseCSSPrefix+"box-layout-ct",targetElCls:Ext.baseCSSPrefix+"box-target",innerCls:Ext.baseCSSPrefix+"box-inner",availableSpaceOffset:0,reserveOffset:true,manageMargins:true,createsInnerCt:true,childEls:["innerCt","targetEl"],renderTpl:['{%var oc,l=values.$comp.layout,oh=l.overflowHandler;if (oh && oh.getPrefixConfig!==Ext.emptyFn) {if(oc=oh.getPrefixConfig())dh.generateMarkup(oc, out)}%}<div id="{ownerId}-innerCt" data-ref="innerCt" role="presentation" class="{[l.innerCls]}{[oh ? (" " + oh.getOverflowCls(l.direction)) : ""]}"><div id="{ownerId}-targetEl" data-ref="targetEl" class="{targetElCls}" role="presentation">{%this.renderBody(out, values)%}</div></div>{%if (oh && oh.getSuffixConfig!==Ext.emptyFn) {if(oc=oh.getSuffixConfig())dh.generateMarkup(oc, out)}%}',{disableFormats:true,definitions:"var dh=Ext.DomHelper;"}],constructor:function(a){var c=this,b;c.callParent(arguments);c.setVertical(c.vertical);c.flexSortFn=c.flexSort.bind(c);b=typeof c.padding;if(b==="string"||b==="number"){c.padding=Ext.util.Format.parseBox(c.padding);c.padding.height=c.padding.top+c.padding.bottom;c.padding.width=c.padding.left+c.padding.right}},_beginRe:/^(?:begin|left|top)$/,_centerRe:/^(?:center|middle)$/,_endRe:/^(?:end|right|bottom)$/,_percentageRe:/^\s*(\d+(?:\.\d*)?)\s*[%]\s*$/,getItemSizePolicy:function(o,p){var k=this,h=k.sizePolicy,g=k.align,f=o.flex,m=g,j=k.names,b=o[j.width],n=o[j.height],d=k._percentageRe,c=d.test(b),e=(g==="stretch"),a=(g==="stretchmax"),l=k.constrainAlign;if(!p&&(e||f||c||(l&&!a))){p=k.owner.getSizeModel()}if(e){if(!d.test(n)&&p[j.height].shrinkWrap){m="stretchmax"}}else{if(!a){if(d.test(n)){m="stretch"}else{if(l&&!p[j.height].shrinkWrap){m="stretchmax"}else{m=""}}}}if(f||c){if(!p[j.width].shrinkWrap){h=h.flex}}return h[m]},flexSort:function(o,n){var l=this.names.maxWidth,e=this.names.minWidth,m=Infinity,k=o.target,r=n.target,h=k.flex,g=r.flex,s=0,c,p,j,d,q,f;j=k[l]||m;d=r[l]||m;c=k[e]||0;p=r[e]||0;q=isFinite(c)||isFinite(p);f=isFinite(j)||isFinite(d);if(q||f){if(f){s=j-d}if(s===0&&q){s=p-c}if(s===0){if(f){s=g-h}else{s=h-g}}}return s},isItemBoxParent:function(a){return true},isItemShrinkWrap:function(a){return true},roundFlex:function(a){return Math.ceil(a)},beginCollapse:function(b){var a=this;if(a.direction==="vertical"&&b.collapsedVertical()){b.collapseMemento.capture(["flex"]);delete b.flex}else{if(a.direction==="horizontal"&&b.collapsedHorizontal()){b.collapseMemento.capture(["flex"]);delete b.flex}}},beginExpand:function(a){a.collapseMemento.restore(["flex"])},beginLayout:function(e){var d=this,a=d.owner,g=a.stretchMaxPartner,c=d.innerCt.dom.style,f=d.names,b=d.overflowHandler;e.boxNames=f;if(b){b.beginLayout(e)}if(typeof g==="string"){g=Ext.getCmp(g)||a.query(g)[0]}e.stretchMaxPartner=g&&e.context.getCmp(g);d.callParent(arguments);e.innerCtContext=e.getEl("innerCt",d);e.targetElContext=e.getEl("targetEl",d);d.scrollParallel=a.scrollFlags[f.x];d.scrollPerpendicular=a.scrollFlags[f.y];if(d.scrollParallel){d.scrollPos=a.getTargetEl().dom[f.scrollLeft]}c.width="";c.height=""},beginLayoutCycle:function(b,j){var f=this,d=f.align,e=b.boxNames,h=f.pack,a=f._centerRe,g=e.heightModel,c=f.overflowHandler;if(c){c.beginLayoutCycle(b,j)}f.callParent(arguments);b.parallelSizeModel=b[e.widthModel];b.perpendicularSizeModel=b[g];b.boxOptions={align:d={stretch:d==="stretch",stretchmax:d==="stretchmax",center:a.test(d),bottom:f._endRe.test(d)},pack:h={center:a.test(h),end:h==="end"}};if(d.stretch&&b.perpendicularSizeModel.shrinkWrap){d.stretchmax=true;d.stretch=false}d.nostretch=!(d.stretch||d.stretchmax);if(b.parallelSizeModel.shrinkWrap){h.center=h.end=false}f.cacheFlexes(b);f.targetEl.setWidth(20000)},cacheFlexes:function(j){var t=this,k=j.boxNames,a=k.widthModel,d=k.heightModel,c=j.boxOptions.align.nostretch,n=0,b=j.childItems,p=b.length,r=[],l=0,h=k.minWidth,f=t._percentageRe,q=0,s=0,e,m,o,g;while(p--){m=b[p];e=m.target;if(m[a].calculated){m.flex=o=e.flex;if(o){n+=o;r.push(m);l+=e[h]||0}else{g=f.exec(e[k.width]);m.percentageParallel=parseFloat(g[1])/100;++q}}if(c&&m[d].calculated){g=f.exec(e[k.height]);m.percentagePerpendicular=parseFloat(g[1])/100;++s}}j.flexedItems=r;j.flexedMinSize=l;j.totalFlex=n;j.percentageWidths=q;j.percentageHeights=s;Ext.Array.sort(r,t.flexSortFn)},calculate:function(f){var d=this,c=d.getContainerSize(f),h=f.boxNames,e=f.state,g=e.boxPlan||(e.boxPlan={}),b=f.targetContext,a=d.overflowHandler;g.targetSize=c;if(!e.parallelDone){e.parallelDone=d.calculateParallel(f,h,g)}if(!e.perpendicularDone){e.perpendicularDone=d.calculatePerpendicular(f,h,g)}if(e.parallelDone&&e.perpendicularDone){d.publishInnerCtSize(f,d.reserveOffset?d.availableSpaceOffset:0);if(d.done&&f.boxOptions.align.stretchmax&&!e.stretchMaxDone){d.calculateStretchMax(f,h,g);e.stretchMaxDone=true}if(a){a.calculate(f)}}else{d.done=false}},calculateParallel:function(k,n,b){var F=this,z=n.width,a=k.childItems,s=n.beforeX,e=n.afterX,q=n.setWidth,A=a.length,x=k.flexedItems,r=x.length,v=k.boxOptions.pack,m=F.padding,d=b.targetSize,h=d[z],B=0,f=m[s],E=f+m[e]+F.scrollOffset+(F.reserveOffset?F.availableSpaceOffset:0),w=Ext.getScrollbarSize()[n.width],u,l,g,y,o,t,D,p,C,c,j;if(!k.parallelSizeModel.shrinkWrap&&!d[n.gotWidth]){return false}if(w&&F.scrollPerpendicular&&k.parallelSizeModel.shrinkWrap&&!k.boxOptions.align.stretch&&!k.perpendicularSizeModel.shrinkWrap){if(!k.state.perpendicularDone){return false}C=true}for(u=0;u<A;++u){o=a[u];l=o.marginInfo||o.getMarginInfo();B+=l[z];if(!o[n.widthModel].calculated){c=o.getProp(z);E+=c;if(isNaN(E)){return false}}}E+=B;if(k.percentageWidths){j=h-B;if(isNaN(j)){return false}for(u=0;u<A;++u){o=a[u];if(o.percentageParallel){c=Math.ceil(j*o.percentageParallel);c=o.setWidth(c);E+=c}}}if(k.parallelSizeModel.shrinkWrap){b.availableSpace=0;b.tooNarrow=false}else{b.availableSpace=h-E;b.tooNarrow=b.availableSpace<k.flexedMinSize;if(b.tooNarrow&&Ext.getScrollbarSize()[n.height]&&F.scrollParallel&&k.state.perpendicularDone){k.state.perpendicularDone=false;for(u=0;u<A;++u){a[u].invalidate()}}}p=E;g=b.availableSpace;y=k.totalFlex;for(u=0;u<r;u++){o=x[u];t=o.flex;D=F.roundFlex((t/y)*g);D=o[q](D);p+=D;g=Math.max(0,g-D);y-=t}if(v.center){f+=g/2;if(f<0){f=0}}else{if(v.end){f+=g}}for(u=0;u<A;++u){o=a[u];l=o.marginInfo;f+=l[s];o.setProp(n.x,f);f+=l[e]+o.props[z]}p+=k.targetContext.getPaddingInfo()[z];k.state.contentWidth=p;if(C&&(k.peek(n.contentHeight)>b.targetSize[n.height])){p+=w;k[n.hasOverflowY]=true;k.target.componentLayout[n.setWidthInDom]=true;k[n.invalidateScrollY]=Ext.isIE8}k[n.setContentWidth](p);return true},calculatePerpendicular:function(t,J,y){var s=this,d=t.perpendicularSizeModel.shrinkWrap,b=y.targetSize,h=t.childItems,x=h.length,l=Math.max,k=J.height,m=J.setHeight,g=J.beforeY,r=J.y,G=s.padding,j=G[g],n=b[k]-j-G[J.afterY],D=t.boxOptions.align,o=D.stretch,p=D.stretchmax,M=D.center,L=D.bottom,F=s.constrainAlign,E=0,A=0,C=s.onBeforeConstrainInvalidateChild,z=s.onAfterConstrainInvalidateChild,a=Ext.getScrollbarSize().height,w,H,B,u,v,c,q,e,K,I,f;if(o||((M||L)&&!d)){if(isNaN(n)){return false}}if(!o&&!t.parallelSizeModel.shrinkWrap&&!t.state.parallelDone&&s.scrollParallel){return false}if(s.scrollParallel&&y.tooNarrow){if(d){I=true}else{n-=a;y.targetSize[k]-=a}}if(o){c=n}else{for(H=0;H<x;H++){q=h[H];u=(q.marginInfo||q.getMarginInfo())[k];if(!(f=q.percentagePerpendicular)){B=q.getProp(k)}else{++A;if(d){continue}else{B=f*n-u;B=q[J.setHeight](B)}}if(!d&&F&&q[J.heightModel].shrinkWrap&&B>n){q.invalidate({before:C,after:z,layout:s,childHeight:n,names:J});t.state.parallelDone=false}if(isNaN(E=l(E,B+u,q.target[J.minHeight]||0))){return false}}if(I){E+=a;t[J.hasOverflowX]=true;t.target.componentLayout[J.setHeightInDom]=true;t[J.invalidateScrollX]=Ext.isIE8}e=t.stretchMaxPartner;if(e){t.setProp("maxChildHeight",E);K=e.childItems;if(K&&K.length){E=l(E,e.getProp("maxChildHeight"));if(isNaN(E)){return false}}}t[J.setContentHeight](E+s.padding[k]+t.targetContext.getPaddingInfo()[k]);if(I){E-=a}y.maxSize=E;if(p){c=E}else{if(M||L||A){if(F){c=d?E:n}else{c=d?E:l(n,E)}c-=t.innerCtContext.getBorderInfo()[k]}}}for(H=0;H<x;H++){q=h[H];u=q.marginInfo||q.getMarginInfo();w=j+u[g];if(o){q[m](c-u[k])}else{f=q.percentagePerpendicular;if(d&&f){u=q.marginInfo||q.getMarginInfo();B=f*c-u[k];B=q.setHeight(B)}if(M){v=c-q.props[k];if(v>0){w=j+Math[s.alignRoundingMethod](v/2)}}else{if(L){w=l(0,c-w-q.props[k])}}}q.setProp(r,w)}return true},onBeforeConstrainInvalidateChild:function(b,a){var c=a.names.heightModel;if(!b[c].constrainedMin){b[c]=Ext.layout.SizeModel.calculated}},onAfterConstrainInvalidateChild:function(b,a){var c=a.names;b.setProp(c.beforeY,0);if(b[c.heightModel].calculated){b[c.setHeight](a.childHeight)}},calculateStretchMax:function(c,j,l){var k=this,g=j.height,m=j.width,f=c.childItems,a=f.length,o=l.maxSize,n=k.onBeforeStretchMaxInvalidateChild,e=k.onAfterStretchMaxInvalidateChild,p,h,d,b;for(d=0;d<a;++d){p=f[d];h=p.props;b=o-p.getMarginInfo()[g];if(b!==h[g]||p[j.heightModel].constrained){p.invalidate({before:n,after:e,layout:k,childWidth:h[m],childHeight:b,childX:h.x,childY:h.y,names:j})}}},onBeforeStretchMaxInvalidateChild:function(b,a){var c=a.names.heightModel;if(!b[c].constrainedMax){b[c]=Ext.layout.SizeModel.calculated}},onAfterStretchMaxInvalidateChild:function(d,c){var e=c.names,a=c.childHeight,b=c.childWidth;d.setProp("x",c.childX);d.setProp("y",c.childY);if(d[e.heightModel].calculated){d[e.setHeight](a)}if(d[e.widthModel].calculated){d[e.setWidth](b)}},completeLayout:function(b){var k=this,j=b.boxNames,h=b.invalidateScrollX,g=b.invalidateScrollY,c=k.overflowHandler,e,a,f,d,l;if(c){c.completeLayout(b)}if(h||g){a=k.getTarget();e=a.dom;l=e.style;if(h){f=a.getStyle("overflowX");if(f==="auto"){f=l.overflowX;l.overflowX="scroll"}else{h=false}}if(g){d=a.getStyle("overflowY");if(d==="auto"){d=l.overflowY;l.overflowY="scroll"}else{g=false}}if(h||g){e.scrollWidth;if(h){l.overflowX=f}if(g){l.overflowY=d}}}if(k.scrollParallel){k.owner.getTargetEl().dom[j.scrollLeft]=k.scrollPos}},finishedLayout:function(b){var a=this.overflowHandler;if(a){a.finishedLayout(b)}this.callParent(arguments)},getLayoutItems:function(){var h=this.callParent(),b=h.length,e,d,c,j,g,f,a;for(c=0;c<b;++c){if((j=h[c]).isSplitter){continue}a=j.splitter;if(j.hidden){if(a){if(!a.hidden){a.hidden=true;if(a.el){a.el.hide()}}}continue}if(a){f=a.collapseTarget==="next"}else{f=false}d=null;if(e&&g){if(g.hidden){g.hidden=false;if(g.el){g.el.show()}}if(f){d=true}}else{if(f){d=!e}}if(d!==null&&a.hidden!==d){a.hidden=d;if(a.el){a.el.setVisible(!d)}}g=!f&&a;e=j}if(e&&g&&!g.hidden){g.hidden=true;if(g.el){g.el.hide()}}return h},getScrollerEl:function(){return this.innerCt},insertSplitter:function(d,c,f,b){var e={xtype:"splitter",id:d.id+"-splitter",hidden:f,splitterFor:d,synthetic:true},a=c+((b.collapseTarget==="prev")?1:0);e[this.names.height]="100%";if(b){Ext.apply(e,b)}d.splitter=this.owner.add(a,e)},publishInnerCtSize:function(a,d){var h=this,g=a.boxNames,f=g.height,k=g.width,e=a.boxOptions.align,o=h.owner.dock,l=h.padding,j=a.state.boxPlan,c=j.targetSize,n=c[f],p=a.innerCtContext,b=(a.parallelSizeModel.shrinkWrap||(j.tooNarrow&&h.scrollParallel)?a.state.contentWidth-a.targetContext.getPaddingInfo()[k]:c[k])-(d||0),m;h.owner.tooNarrow=j.tooNarrow;if(e.stretch){m=n}else{m=j.maxSize+l[g.beforeY]+l[g.afterY]+p.getBorderInfo()[f];if(!a.perpendicularSizeModel.shrinkWrap&&(e.center||e.bottom)){m=Math.max(n,m)}}p[g.setWidth](b);p[g.setHeight](m);a.targetElContext.setWidth(a.innerCtContext.props.width-(this.vertical?0:(d||0)));if(isNaN(b+m)){h.done=false}if(j.calculatedWidth&&(o==="left"||o==="right")){a.setWidth(j.calculatedWidth,true,true)}},onAdd:function(d,a){var c=this,b=c.enableSplitters&&d.split&&!d.isButton;c.callParent(arguments);if(b){if(b===true){b={collapseTarget:"next"}}else{if(Ext.isString(b)){b={collapseTarget:b==="before"?"next":"prev"}}else{b=Ext.apply({collapseTarget:b.side==="before"?"next":"prev"},b)}}c.insertSplitter(d,a,!!d.hidden,b)}},onRemove:function(b,e){var f=this,h=f.names,a=f.owner,g=b.splitter,c=f.overflowHandler,d;f.callParent(arguments);if(g&&a.contains(g)){a.doRemove(g,true);b.splitter=null}if(c){c.onRemove(b)}if(b.layoutMarginCap===f.id){delete b.layoutMarginCap}if(!a.destroying&&!e&&b.rendered){d=b.getEl();if(d){d.setStyle(h.beforeY,"");d.setStyle(h.beforeX,"");d.setStyle("margin","")}}},applyOverflowHandler:function(b,a){var c;if(typeof b==="string"){b={type:b}}c=b.type;if(a&&a.type===b.type){delete b.type;a.setConfig(b);return a}b.layout=this;return Ext.Factory.boxOverflow(b)},getRenderTarget:function(){return this.targetEl},getElementTarget:function(){return this.innerCt},calculateChildBox:Ext.deprecated(),calculateChildBoxes:Ext.deprecated(),updateChildBoxes:Ext.deprecated(),destroy:function(){var a=this;Ext.destroy(a.innerCt,a.overflowHandler);a.flexSortFn=a.innerCt=null;a.callParent(arguments)},getRenderData:function(){var a=this.callParent();a.targetElCls=this.targetElCls;return a},updateVertical:function(b){var d=(b&&"vbox")||"hbox",c=this.overflowHandler,a=this.owner;Ext.apply(this,this._props[d]);if(c&&a&&a.rendered){c.setVertical(b)}},_props:{hbox:{direction:"horizontal",oppositeDirection:"vertical",horizontal:true,vertical:false,names:{beforeX:"left",beforeScrollX:"left",leftCap:"Left",afterX:"right",width:"width",contentWidth:"contentWidth",minWidth:"minWidth",maxWidth:"maxWidth",widthCap:"Width",widthModel:"widthModel",widthIndex:0,x:"x",scrollLeft:"scrollLeft",overflowX:"overflowX",hasOverflowX:"hasOverflowX",invalidateScrollX:"invalidateScrollX",parallelMargins:"lr",center:"middle",beforeY:"top",afterY:"bottom",height:"height",contentHeight:"contentHeight",minHeight:"minHeight",maxHeight:"maxHeight",heightCap:"Height",heightModel:"heightModel",heightIndex:1,y:"y",overflowY:"overflowY",hasOverflowY:"hasOverflowY",invalidateScrollY:"invalidateScrollY",perpendicularMargins:"tb",getWidth:"getWidth",getHeight:"getHeight",setWidth:"setWidth",setHeight:"setHeight",gotWidth:"gotWidth",gotHeight:"gotHeight",setContentWidth:"setContentWidth",setContentHeight:"setContentHeight",setWidthInDom:"setWidthInDom",setHeightInDom:"setHeightInDom",getScrollLeft:"getScrollLeft",setScrollLeft:"setScrollLeft",scrollTo:"scrollTo"},sizePolicy:{flex:{"":{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},stretch:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1},stretchmax:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:1}},"":{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},stretch:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},stretchmax:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:1}}},vbox:{direction:"vertical",oppositeDirection:"horizontal",horizontal:false,vertical:true,names:{beforeX:"top",beforeScrollX:"top",leftCap:"Top",afterX:"bottom",width:"height",contentWidth:"contentHeight",minWidth:"minHeight",maxWidth:"maxHeight",widthCap:"Height",widthModel:"heightModel",widthIndex:1,x:"y",scrollLeft:"scrollTop",overflowX:"overflowY",hasOverflowX:"hasOverflowY",invalidateScrollX:"invalidateScrollY",parallelMargins:"tb",center:"center",beforeY:"left",afterY:"right",height:"width",contentHeight:"contentWidth",minHeight:"minWidth",maxHeight:"maxWidth",heightCap:"Width",heightModel:"widthModel",heightIndex:0,y:"x",overflowY:"overflowX",hasOverflowY:"hasOverflowX",invalidateScrollY:"invalidateScrollX",perpendicularMargins:"lr",getWidth:"getHeight",getHeight:"getWidth",setWidth:"setHeight",setHeight:"setWidth",gotWidth:"gotHeight",gotHeight:"gotWidth",setContentWidth:"setContentHeight",setContentHeight:"setContentWidth",setWidthInDom:"setHeightInDom",setHeightInDom:"setWidthInDom",getScrollLeft:"getScrollTop",setScrollLeft:"setScrollTop",scrollTo:"scrollTo"},sizePolicy:{flex:{"":{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},stretch:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1},stretchmax:{readsWidth:1,readsHeight:0,setsWidth:1,setsHeight:1}},"":{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},stretch:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},stretchmax:{readsWidth:1,readsHeight:1,setsWidth:1,setsHeight:0}}}}});Ext.define("Ext.layout.container.HBox",{extend:Ext.layout.container.Box,alias:"layout.hbox",alternateClassName:"Ext.layout.HBoxLayout",type:"hbox",vertical:false});Ext.define("Ext.layout.container.VBox",{extend:Ext.layout.container.Box,alias:"layout.vbox",alternateClassName:"Ext.layout.VBoxLayout",type:"vbox",vertical:true});Ext.define("Ext.toolbar.Toolbar",{extend:Ext.container.Container,alias:"widget.toolbar",alternateClassName:"Ext.Toolbar",isToolbar:true,baseCls:Ext.baseCSSPrefix+"toolbar",ariaRole:"toolbar",defaultType:"button",layout:undefined,vertical:false,enableOverflow:false,overflowHandler:null,defaultButtonUI:"default-toolbar",defaultFieldUI:"default",defaultFooterButtonUI:"default",defaultFooterFieldUI:"default",trackMenus:true,itemCls:Ext.baseCSSPrefix+"toolbar-item",statics:{shortcuts:{"-":"tbseparator"," ":"tbspacer"},shortcutsHV:{0:{"->":{xtype:"tbfill",height:0}},1:{"->":{xtype:"tbfill",width:0}}}},initComponent:function(){var b=this,a=b.layout;if(b.dock==="right"||b.dock==="left"){b.vertical=true}b.layout=a=Ext.applyIf(Ext.isString(a)?{type:a}:a||{},{type:b.vertical?"vbox":"hbox",align:b.vertical?"stretchmax":"middle"});if(b.overflowHandler){a.overflowHandler=b.overflowHandler}else{if(b.enableOverflow){a.overflowHandler="menu"}}if(b.vertical){b.addClsWithUI("vertical")}if(b.ui==="footer"){b.ignoreBorderManagement=true}b.callParent()},getRefItems:function(a){var e=this,b=e.callParent(arguments),d=e.layout,c;if(a&&(e.enableOverflow||(e.overflowHandler==="menu"))){c=d.overflowHandler;if(c&&c.menu){b=b.concat(c.menu.getRefItems(a))}}return b},lookupComponent:function(e){var d=arguments;if(typeof e==="string"){var b=Ext.toolbar.Toolbar,a=b.shortcutsHV[this.vertical?1:0][e]||b.shortcuts[e];if(typeof a==="string"){e={xtype:a}}else{if(a){e=Ext.apply({},a)}else{e={xtype:"tbtext",text:e}}}this.applyDefaults(e);d=[e]}return this.callParent(d)},onBeforeAdd:function(b){var c=this,d=c.ui==="footer",a=d?c.defaultFooterButtonUI:c.defaultButtonUI;if(b.isSegmentedButton){if(b.getDefaultUI()==="default"&&!b.config.hasOwnProperty("defaultUI")){b.setDefaultUI(a)}}else{if(b.ui==="default"&&!b.hasOwnProperty("ui")){if(b.isButton){b.ui=a}else{if(b.isFormField){b.ui=d?c.defaultFooterFieldUI:c.defaultFieldUI}}}}if(b instanceof Ext.toolbar.Separator){b.setUI((c.vertical)?"vertical":"horizontal")}c.callParent(arguments)},onAdd:function(a){this.callParent(arguments);this.trackMenu(a)},onRemove:function(a){this.callParent(arguments);this.trackMenu(a,true)},privates:{applyDefaults:function(a){if(!Ext.isString(a)){a=this.callParent(arguments)}return a},trackMenu:function(c,a){if(this.trackMenus&&c.menu){var d=a?"mun":"mon",b=this;b[d](c,"mouseover",b.onButtonOver,b);b[d](c,"menushow",b.onButtonMenuShow,b);b[d](c,"menuhide",b.onButtonMenuHide,b)}},getChildItemsToDisable:function(){return this.items.getRange()},onButtonOver:function(a){if(this.activeMenuBtn&&this.activeMenuBtn!==a){this.activeMenuBtn.hideMenu();a.showMenu();this.activeMenuBtn=a}},onButtonMenuShow:function(a){this.activeMenuBtn=a},onButtonMenuHide:function(a){delete this.activeMenuBtn}}});Ext.define("Ext.dd.DragDrop",{constructor:function(c,a,b){if(c){this.init(c,a,b)}},id:null,config:null,dragElId:null,handleElId:null,invalidHandleTypes:null,invalidHandleIds:null,invalidHandleClasses:null,startPageX:0,startPageY:0,groups:null,locked:false,lock:function(){this.locked=true},moveOnly:false,unlock:function(){this.locked=false},isTarget:true,padding:null,_domRef:null,__ygDragDrop:true,constrainX:false,constrainY:false,minX:0,maxX:0,minY:0,maxY:0,maintainOffset:false,xTicks:null,yTicks:null,primaryButtonOnly:true,available:false,hasOuterHandles:false,triggerEvent:"mousedown",b4StartDrag:function(a,b){},startDrag:function(a,b){},b4Drag:function(a){},onDrag:function(a){},onDragEnter:function(a,b){},b4DragOver:function(a){},onDragOver:function(a,b){},b4DragOut:function(a){},onDragOut:function(a,b){},b4DragDrop:function(a){},onDragDrop:function(a,b){},onInvalidDrop:function(a){},b4EndDrag:function(a){},endDrag:function(a){},b4MouseDown:function(a){},onMouseDown:function(a){},onMouseUp:function(a){},onAvailable:function(){},defaultPadding:{left:0,right:0,top:0,bottom:0},constrainTo:function(e,b,l){if(Ext.isNumber(b)){b={left:b,right:b,top:b,bottom:b}}b=b||this.defaultPadding;var g=Ext.get(this.getEl()).getBox(),m=Ext.get(e),k=m.getScroll(),f,h=m.dom,j,d,a;if(h==document.body){f={x:k.left,y:k.top,width:Ext.Element.getViewportWidth(),height:Ext.Element.getViewportHeight()}}else{j=m.getXY();f={x:j[0],y:j[1],width:h.clientWidth,height:h.clientHeight}}d=g.y-f.y;a=g.x-f.x;this.resetConstraints();this.setXConstraint(a-(b.left||0),f.width-a-g.width-(b.right||0),this.xTickSize);this.setYConstraint(d-(b.top||0),f.height-d-g.height-(b.bottom||0),this.yTickSize)},getEl:function(){if(!this._domRef){this._domRef=Ext.getDom(this.id)}return this._domRef},getDragEl:function(){return Ext.getDom(this.dragElId)},init:function(d,a,b){var c=this;c.el=c.el||Ext.get(d);c.initTarget(d,a,b);Ext.get(c.id).on(c.triggerEvent,c.handleMouseDown,c)},initTarget:function(c,a,b){this.config=b||{};this.DDMInstance=Ext.dd.DragDropManager;this.groups={};if(typeof c!=="string"){c=Ext.id(c)}this.id=c;this.addToGroup((a)?a:"default");this.handleElId=c;this.setDragElId(c);this.invalidHandleTypes={A:"A"};this.invalidHandleIds={};this.invalidHandleClasses=[];this.applyConfig();this.handleOnAvailable()},applyConfig:function(){this.padding=this.config.padding||[0,0,0,0];this.isTarget=(this.config.isTarget!==false);this.maintainOffset=(this.config.maintainOffset);this.primaryButtonOnly=(this.config.primaryButtonOnly!==false)},handleOnAvailable:function(){this.available=true;this.resetConstraints();this.onAvailable()},setPadding:function(c,a,d,b){if(!a&&0!==a){this.padding=[c,c,c,c]}else{if(!d&&0!==d){this.padding=[c,a,c,a]}else{this.padding=[c,a,d,b]}}},setInitPosition:function(d,c){var e=this.getEl(),b,a,f;if(!this.DDMInstance.verifyEl(e)){return}b=d||0;a=c||0;f=Ext.fly(e).getXY();this.initPageX=f[0]-b;this.initPageY=f[1]-a;this.lastPageX=f[0];this.lastPageY=f[1];this.setStartPosition(f)},setStartPosition:function(b){var a=b||Ext.fly(this.getEl()).getXY();this.deltaSetXY=null;this.startPageX=a[0];this.startPageY=a[1]},addToGroup:function(a){this.groups[a]=true;this.DDMInstance.regDragDrop(this,a)},removeFromGroup:function(a){if(this.groups[a]){delete this.groups[a]}this.DDMInstance.removeDDFromGroup(this,a)},setDragElId:function(a){this.dragElId=a},setHandleElId:function(a){if(typeof a!=="string"){a=Ext.id(a)}this.handleElId=a;this.DDMInstance.regHandle(this.id,a)},setOuterHandleElId:function(a){if(typeof a!=="string"){a=Ext.id(a)}Ext.get(a).on(this.triggerEvent,this.handleMouseDown,this);this.setHandleElId(a);this.hasOuterHandles=true},unreg:function(){var b=this,a;if(b._domRef){a=Ext.fly(b.id);if(a){a.un(b.triggerEvent,b.handleMouseDown,b)}}b._domRef=null;b.DDMInstance._remove(b,b.autoGroup)},destroy:function(){this.unreg();this.isDestroyed=true},isLocked:function(){return(this.DDMInstance.isLocked()||this.locked)},handleMouseDown:function(c,b){var a=this;if((a.primaryButtonOnly&&c.button!=0)||a.isLocked()){return}a.DDMInstance.refreshCache(a.groups);if(a.hasOuterHandles||a.DDMInstance.isOverTarget(c.getPoint(),a)){if(a.clickValidator(c)){a.setStartPosition();a.b4MouseDown(c);a.onMouseDown(c);a.DDMInstance.handleMouseDown(c,a);a.DDMInstance.stopEvent(c)}}},clickValidator:function(b){var a=b.getTarget();return(this.isValidHandleChild(a)&&(this.id==this.handleElId||this.DDMInstance.handleWasClicked(a,this.id)))},addInvalidHandleType:function(a){var b=a.toUpperCase();this.invalidHandleTypes[b]=b},addInvalidHandleId:function(a){if(typeof a!=="string"){a=Ext.id(a)}this.invalidHandleIds[a]=a},addInvalidHandleClass:function(a){this.invalidHandleClasses.push(a)},removeInvalidHandleType:function(a){var b=a.toUpperCase();delete this.invalidHandleTypes[b]},removeInvalidHandleId:function(a){if(typeof a!=="string"){a=Ext.id(a)}delete this.invalidHandleIds[a]},removeInvalidHandleClass:function(b){for(var c=0,a=this.invalidHandleClasses.length;c<a;++c){if(this.invalidHandleClasses[c]==b){delete this.invalidHandleClasses[c]}}},isValidHandleChild:function(d){var c=true,g,b,a;try{g=d.nodeName.toUpperCase()}catch(f){g=d.nodeName}c=c&&!this.invalidHandleTypes[g];c=c&&!this.invalidHandleIds[d.id];for(b=0,a=this.invalidHandleClasses.length;c&&b<a;++b){c=!Ext.fly(d).hasCls(this.invalidHandleClasses[b])}return c},setXTicks:function(d,a){this.xTicks=[];this.xTickSize=a;var c={},b;for(b=this.initPageX;b>=this.minX;b=b-a){if(!c[b]){this.xTicks[this.xTicks.length]=b;c[b]=true}}for(b=this.initPageX;b<=this.maxX;b=b+a){if(!c[b]){this.xTicks[this.xTicks.length]=b;c[b]=true}}Ext.Array.sort(this.xTicks,this.DDMInstance.numericSort)},setYTicks:function(d,a){this.yTicks=[];this.yTickSize=a;var c={},b;for(b=this.initPageY;b>=this.minY;b=b-a){if(!c[b]){this.yTicks[this.yTicks.length]=b;c[b]=true}}for(b=this.initPageY;b<=this.maxY;b=b+a){if(!c[b]){this.yTicks[this.yTicks.length]=b;c[b]=true}}Ext.Array.sort(this.yTicks,this.DDMInstance.numericSort)},setXConstraint:function(c,b,a){this.leftConstraint=c;this.rightConstraint=b;this.minX=this.initPageX-c;this.maxX=this.initPageX+b;if(a){this.setXTicks(this.initPageX,a)}this.constrainX=true},clearConstraints:function(){this.constrainX=false;this.constrainY=false;this.clearTicks()},clearTicks:function(){this.xTicks=null;this.yTicks=null;this.xTickSize=0;this.yTickSize=0},setYConstraint:function(a,c,b){this.topConstraint=a;this.bottomConstraint=c;this.minY=this.initPageY-a;this.maxY=this.initPageY+c;if(b){this.setYTicks(this.initPageY,b)}this.constrainY=true},resetConstraints:function(){if(this.initPageX||this.initPageX===0){var b=(this.maintainOffset)?this.lastPageX-this.initPageX:0,a=(this.maintainOffset)?this.lastPageY-this.initPageY:0;this.setInitPosition(b,a)}else{this.setInitPosition()}if(this.constrainX){this.setXConstraint(this.leftConstraint,this.rightConstraint,this.xTickSize)}if(this.constrainY){this.setYConstraint(this.topConstraint,this.bottomConstraint,this.yTickSize)}},getTick:function(g,d){if(!d){return g}else{if(d[0]>=g){return d[0]}else{var b,a,c,f,e;for(b=0,a=d.length;b<a;++b){c=b+1;if(d[c]&&d[c]>=g){f=g-d[b];e=d[c]-g;return(e>f)?d[b]:d[c]}}return d[d.length-1]}}},toString:function(){return("DragDrop "+this.id)}});Ext.define("Ext.dd.DD",{extend:Ext.dd.DragDrop,constructor:function(c,a,b){if(c){this.init(c,a,b)}},scroll:true,autoOffset:function(c,b){var a=c-this.startPageX,d=b-this.startPageY;this.setDelta(a,d)},setDelta:function(b,a){this.deltaX=b;this.deltaY=a},setDragElPos:function(c,b){var a=this.getDragEl();this.alignElWithMouse(a,c,b)},alignElWithMouse:function(b,e,c){var f=this.getTargetCoord(e,c),d=b.dom?b:Ext.fly(b,"_dd"),l=d.getSize(),h=Ext.Element,j,a,k,g;if(!this.deltaSetXY){j=this.cachedViewportSize={width:h.getDocumentWidth(),height:h.getDocumentHeight()};a=[Math.max(0,Math.min(f.x,j.width-l.width)),Math.max(0,Math.min(f.y,j.height-l.height))];d.setXY(a);k=this.getLocalX(d);g=d.getLocalY();this.deltaSetXY=[k-f.x,g-f.y]}else{j=this.cachedViewportSize;this.setLocalXY(d,Math.max(0,Math.min(f.x+this.deltaSetXY[0],j.width-l.width)),Math.max(0,Math.min(f.y+this.deltaSetXY[1],j.height-l.height)))}this.cachePosition(f.x,f.y);this.autoScroll(f.x,f.y,b.offsetHeight,b.offsetWidth);return f},cachePosition:function(b,a){if(b){this.lastPageX=b;this.lastPageY=a}else{var c=Ext.fly(this.getEl()).getXY();this.lastPageX=c[0];this.lastPageY=c[1]}},autoScroll:function(l,k,e,m){if(this.scroll){var n=Ext.Element.getViewportHeight(),b=Ext.Element.getViewportWidth(),p=this.DDMInstance.getScrollTop(),d=this.DDMInstance.getScrollLeft(),j=e+k,o=m+l,g=(n+p-k-this.deltaY),f=(b+d-l-this.deltaX),c=40,a=(document.all)?80:30;if(j>n&&g<c){window.scrollTo(d,p+a)}if(k<p&&p>0&&k-p<c){window.scrollTo(d,p-a)}if(o>b&&f<c){window.scrollTo(d+a,p)}if(l<d&&d>0&&l-d<c){window.scrollTo(d-a,p)}}},getTargetCoord:function(c,b){var a=c-this.deltaX,d=b-this.deltaY;if(this.constrainX){if(a<this.minX){a=this.minX}if(a>this.maxX){a=this.maxX}}if(this.constrainY){if(d<this.minY){d=this.minY}if(d>this.maxY){d=this.maxY}}a=this.getTick(a,this.xTicks);d=this.getTick(d,this.yTicks);return{x:a,y:d}},applyConfig:function(){this.callParent();this.scroll=(this.config.scroll!==false)},b4MouseDown:function(b){var a=b.getXY();this.autoOffset(a[0],a[1])},b4Drag:function(b){var a=b.getXY();this.setDragElPos(a[0],a[1])},toString:function(){return("DD "+this.id)},getLocalX:function(a){return a.getLocalX()},setLocalXY:function(b,a,c){b.setLocalXY(a,c)}});Ext.define("Ext.dd.DDProxy",{extend:Ext.dd.DD,statics:{dragElId:"ygddfdiv"},constructor:function(c,a,b){if(c){this.init(c,a,b);this.initFrame()}},resizeFrame:true,centerFrame:false,createFrame:function(){var b=this,a=document.body,d,c;if(!a||!a.firstChild){setTimeout(function(){b.createFrame()},50);return}d=this.getDragEl();if(!d){d=document.createElement("div");d.id=this.dragElId;d.setAttribute("role","presentation");c=d.style;c.position="absolute";c.visibility="hidden";c.cursor="move";c.border="2px solid #aaa";c.zIndex=999;a.insertBefore(d,a.firstChild)}},initFrame:function(){this.createFrame()},applyConfig:function(){this.callParent();this.resizeFrame=(this.config.resizeFrame!==false);this.centerFrame=(this.config.centerFrame);this.setDragElId(this.config.dragElId||Ext.dd.DDProxy.dragElId)},showFrame:function(e,d){var c=this.getEl(),a=this.getDragEl(),b=a.style;this._resizeProxy();if(this.centerFrame){this.setDelta(Math.round(parseInt(b.width,10)/2),Math.round(parseInt(b.height,10)/2))}this.setDragElPos(e,d);Ext.fly(a).show()},_resizeProxy:function(){if(this.resizeFrame){var a=this.getEl();Ext.fly(this.getDragEl()).setSize(a.offsetWidth,a.offsetHeight)}},b4MouseDown:function(c){var b=c.getXY(),a=b[0],d=b[1];this.autoOffset(a,d);this.setDragElPos(a,d)},b4StartDrag:function(a,b){this.showFrame(a,b)},b4EndDrag:function(a){Ext.fly(this.getDragEl()).hide()},endDrag:function(c){var b=this.getEl(),a=this.getDragEl();a.style.visibility="";this.beforeMove();b.style.visibility="hidden";Ext.dd.DDM.moveToEl(b,a);a.style.visibility="hidden";b.style.visibility="";this.afterDrag()},beforeMove:function(){},afterDrag:function(){},toString:function(){return("DDProxy "+this.id)}});Ext.define("Ext.dd.StatusProxy",{extend:Ext.Component,animRepair:false,childEls:["ghost"],renderTpl:['<div class="'+Ext.baseCSSPrefix+'dd-drop-icon" role="presentation"></div><div id="{id}-ghost" data-ref="ghost" class="'+Ext.baseCSSPrefix+'dd-drag-ghost" role="presentation"></div>'],repairCls:Ext.baseCSSPrefix+"dd-drag-repair",ariaRole:"presentation",constructor:function(a){var b=this;a=a||{};Ext.apply(b,{hideMode:"visibility",hidden:true,floating:true,id:b.id||Ext.id(),cls:Ext.baseCSSPrefix+"dd-drag-proxy "+this.dropNotAllowed,shadow:a.shadow||false,renderTo:Ext.getDetachedBody()});b.callParent(arguments);this.dropStatus=this.dropNotAllowed},dropAllowed:Ext.baseCSSPrefix+"dd-drop-ok",dropNotAllowed:Ext.baseCSSPrefix+"dd-drop-nodrop",setStatus:function(a){a=a||this.dropNotAllowed;if(this.dropStatus!=a){this.el.replaceCls(this.dropStatus,a);this.dropStatus=a}},reset:function(b){var c=this,a=Ext.baseCSSPrefix+"dd-drag-proxy ";c.el.replaceCls(a+c.dropAllowed,a+c.dropNotAllowed);c.dropStatus=c.dropNotAllowed;if(b){c.ghost.setHtml("")}},update:function(a){if(typeof a=="string"){this.ghost.setHtml(a)}else{this.ghost.setHtml("");a.style.margin="0";this.ghost.dom.appendChild(a)}var b=this.ghost.dom.firstChild;if(b){Ext.fly(b).setStyle("float","none")}},getGhost:function(){return this.ghost},hide:function(a){this.callParent();if(a){this.reset(true)}},stop:function(){if(this.anim&&this.anim.isAnimated&&this.anim.isAnimated()){this.anim.stop()}},sync:function(){this.el.sync()},repair:function(c,d,a){var b=this;b.callback=d;b.scope=a;if(c&&b.animRepair!==false){b.el.addCls(b.repairCls);b.el.hideUnders(true);b.anim=b.el.animate({duration:b.repairDuration||500,easing:"ease-out",to:{x:c[0],y:c[1]},stopAnimation:true,callback:b.afterRepair,scope:b})}else{b.afterRepair()}},afterRepair:function(){var a=this;a.hide(true);a.el.removeCls(a.repairCls);if(typeof a.callback=="function"){a.callback.call(a.scope||a)}delete a.callback;delete a.scope}});Ext.define("Ext.dd.DragSource",{extend:Ext.dd.DDProxy,dropAllowed:Ext.baseCSSPrefix+"dd-drop-ok",dropNotAllowed:Ext.baseCSSPrefix+"dd-drop-nodrop",animRepair:true,repairHighlightColor:"c3daf9",constructor:function(b,a){this.el=Ext.get(b);if(!this.dragData){this.dragData={}}Ext.apply(this,a);if(!this.proxy){this.proxy=new Ext.dd.StatusProxy({id:this.el.id+"-drag-status-proxy",animRepair:this.animRepair})}this.callParent([this.el.dom,this.ddGroup||this.group,{dragElId:this.proxy.id,resizeFrame:false,isTarget:false,scroll:this.scroll===true}]);this.dragging=false},getDragData:function(a){return this.dragData},onDragEnter:function(c,d){var b=Ext.dd.DragDropManager.getDDById(d),a;this.cachedTarget=b;if(this.beforeDragEnter(b,c,d)!==false){if(b.isNotifyTarget){a=b.notifyEnter(this,c,this.dragData);this.proxy.setStatus(a)}else{this.proxy.setStatus(this.dropAllowed)}if(this.afterDragEnter){this.afterDragEnter(b,c,d)}}},beforeDragEnter:function(b,a,c){return true},onDragOver:function(c,d){var b=this.cachedTarget||Ext.dd.DragDropManager.getDDById(d),a;if(this.beforeDragOver(b,c,d)!==false){if(b.isNotifyTarget){a=b.notifyOver(this,c,this.dragData);this.proxy.setStatus(a)}if(this.afterDragOver){this.afterDragOver(b,c,d)}}},beforeDragOver:function(b,a,c){return true},onDragOut:function(b,c){var a=this.cachedTarget||Ext.dd.DragDropManager.getDDById(c);if(this.beforeDragOut(a,b,c)!==false){if(a.isNotifyTarget){a.notifyOut(this,b,this.dragData)}this.proxy.reset();if(this.afterDragOut){this.afterDragOut(a,b,c)}}this.cachedTarget=null},beforeDragOut:function(b,a,c){return true},onDragDrop:function(b,c){var a=this.cachedTarget||Ext.dd.DragDropManager.getDDById(c);if(this.beforeDragDrop(a,b,c)!==false){if(a.isNotifyTarget){if(a.notifyDrop(this,b,this.dragData)!==false){this.onValidDrop(a,b,c)}else{this.onInvalidDrop(a,b,c)}}else{this.onValidDrop(a,b,c)}if(this.afterDragDrop){this.afterDragDrop(a,b,c)}}delete this.cachedTarget},beforeDragDrop:function(b,a,c){return true},onValidDrop:function(b,a,c){this.hideProxy();if(this.afterValidDrop){this.afterValidDrop(b,a,c)}},getRepairXY:function(b,a){return this.el.getXY()},onInvalidDrop:function(c,b,d){var a=this;if(!b){b=c;c=null;d=b.getTarget().id}if(a.beforeInvalidDrop(c,b,d)!==false){if(a.cachedTarget){if(a.cachedTarget.isNotifyTarget){a.cachedTarget.notifyOut(a,b,a.dragData)}a.cacheTarget=null}a.proxy.repair(a.getRepairXY(b,a.dragData),a.afterRepair,a);if(a.afterInvalidDrop){a.afterInvalidDrop(b,d)}}},afterRepair:function(){var a=this;if(Ext.enableFx){a.el.highlight(a.repairHighlightColor)}a.dragging=false},beforeInvalidDrop:function(b,a,c){return true},handleMouseDown:function(b){if(this.dragging){return}var a=this.getDragData(b);if(a&&this.onBeforeDrag(a,b)!==false){this.dragData=a;this.proxy.stop();this.callParent(arguments)}},onBeforeDrag:function(a,b){return true},onStartDrag:Ext.emptyFn,alignElWithMouse:function(){this.proxy.ensureAttachedToBody(true);return this.callParent(arguments)},startDrag:function(a,b){this.proxy.reset();this.proxy.hidden=false;this.dragging=true;this.proxy.update("");this.onInitDrag(a,b);this.proxy.show()},onInitDrag:function(a,c){var b=this.el.dom.cloneNode(true);b.id=Ext.id();this.proxy.update(b);this.onStartDrag(a,c);return true},getProxy:function(){return this.proxy},hideProxy:function(){this.proxy.hide();this.proxy.reset(true);this.dragging=false},triggerCacheRefresh:function(){Ext.dd.DDM.refreshCache(this.groups)},b4EndDrag:function(a){},endDrag:function(a){this.onEndDrag(this.dragData,a)},onEndDrag:function(a,b){},autoOffset:function(a,b){this.setDelta(-12,-20)},destroy:function(){this.callParent();Ext.destroy(this.proxy)}});Ext.define("Ext.panel.Proxy",{alternateClassName:"Ext.dd.PanelProxy",moveOnDrag:true,constructor:function(a,b){var c=this;c.panel=a;c.id=c.panel.id+"-ddproxy";Ext.apply(c,b)},insertProxy:true,setStatus:Ext.emptyFn,reset:Ext.emptyFn,update:Ext.emptyFn,stop:Ext.emptyFn,sync:Ext.emptyFn,getEl:function(){return this.ghost.el},getGhost:function(){return this.ghost},getProxy:function(){return this.proxy},hide:function(){var a=this;if(a.ghost){if(a.proxy){a.proxy.destroy();delete a.proxy}a.panel.unghost(null,a.moveOnDrag);delete a.ghost}},show:function(){var b=this,a;if(!b.ghost){a=b.panel.getSize();b.panel.el.setVisibilityMode(Ext.Element.DISPLAY);b.ghost=b.panel.ghost();if(b.insertProxy){b.proxy=b.panel.el.insertSibling({role:"presentation",cls:Ext.baseCSSPrefix+"panel-dd-spacer"});b.proxy.setSize(a)}}},repair:function(b,c,a){this.hide();Ext.callback(c,a||this)},moveProxy:function(a,b){if(this.proxy){a.insertBefore(this.proxy.dom,b)}}});Ext.define("Ext.panel.DD",{extend:Ext.dd.DragSource,constructor:function(b,a){var c=this;c.panel=b;c.dragData={panel:b};c.panelProxy=new Ext.panel.Proxy(b,a);c.proxy=c.panelProxy.proxy;c.callParent([b.el,a]);c.setupEl(b)},setupEl:function(a){var c=this,d=a.header,b=a.body;if(d){c.setHandleElId(d.id);b=d.el}if(b){b.setStyle("cursor","move");c.scroll=false}else{a.on("boxready",c.setupEl,c,{single:true})}},showFrame:Ext.emptyFn,startDrag:Ext.emptyFn,b4StartDrag:function(a,b){this.panelProxy.show()},b4MouseDown:function(c){var b=c.getXY(),a=b[0],d=b[1];this.autoOffset(a,d)},onInitDrag:function(a,b){this.onStartDrag(a,b);return true},createFrame:Ext.emptyFn,getDragEl:function(b){var a=this.panelProxy.ghost;if(a){return a.el.dom}},endDrag:function(a){this.panelProxy.hide();this.panel.saveState()},autoOffset:function(a,b){a-=this.startPageX;b-=this.startPageY;this.setDelta(a,b)},onInvalidDrop:function(c,b,d){var a=this;if(a.beforeInvalidDrop(c,b,d)!==false){if(a.cachedTarget){if(a.cachedTarget.isNotifyTarget){a.cachedTarget.notifyOut(a,b,a.dragData)}a.cacheTarget=null}if(a.afterInvalidDrop){a.afterInvalidDrop(b,d)}}}});Ext.define("Ext.layout.component.Dock",{extend:Ext.layout.component.Component,alias:"layout.dock",alternateClassName:"Ext.layout.component.AbstractDock",type:"dock",horzAxisProps:{name:"horz",oppositeName:"vert",dockBegin:"left",dockEnd:"right",horizontal:true,marginBegin:"margin-left",maxSize:"maxWidth",minSize:"minWidth",pos:"x",setSize:"setWidth",shrinkWrapDock:"shrinkWrapDockWidth",size:"width",sizeModel:"widthModel"},vertAxisProps:{name:"vert",oppositeName:"horz",dockBegin:"top",dockEnd:"bottom",horizontal:false,marginBegin:"margin-top",maxSize:"maxHeight",minSize:"minHeight",pos:"y",setSize:"setHeight",shrinkWrapDock:"shrinkWrapDockHeight",size:"height",sizeModel:"heightModel"},initializedBorders:-1,horizontalCollapsePolicy:{width:true,x:true},verticalCollapsePolicy:{height:true,y:true},finishRender:function(){var b=this,c,a;b.callParent();c=b.getRenderTarget();a=b.getDockedItems();b.finishRenderItems(c,a)},isItemBoxParent:function(a){return true},isItemShrinkWrap:function(a){return true},noBorderClasses:[Ext.baseCSSPrefix+"docked-noborder-top",Ext.baseCSSPrefix+"docked-noborder-right",Ext.baseCSSPrefix+"docked-noborder-bottom",Ext.baseCSSPrefix+"docked-noborder-left"],noBorderClassesSides:{top:Ext.baseCSSPrefix+"docked-noborder-top",right:Ext.baseCSSPrefix+"docked-noborder-right",bottom:Ext.baseCSSPrefix+"docked-noborder-bottom",left:Ext.baseCSSPrefix+"docked-noborder-left"},borderWidthProps:{top:"border-top-width",right:"border-right-width",bottom:"border-bottom-width",left:"border-left-width"},_itemCls:Ext.baseCSSPrefix+"docked",handleItemBorders:function(){var l=this,a=l.owner,k,p,g=l.lastDockedItems,f=l.borders,b=a.dockedItems.generation,c=l.noBorderClassesSides,m=l.borderWidthProps,e,j,o,n,h,d=l.collapsed;if(l.initializedBorders==b||(a.border&&!a.manageBodyBorders)){return}l.initializedBorders=b;l.collapsed=false;l.lastDockedItems=p=l.getLayoutItems();l.collapsed=d;k={top:[],right:[],bottom:[],left:[]};for(e=0,j=p.length;e<j;e++){o=p[e];n=o.dock;if(o.ignoreBorderManagement){continue}if(!k[n].satisfied){k[n].push(o);k[n].satisfied=true}if(!k.top.satisfied&&n!=="bottom"){k.top.push(o)}if(!k.right.satisfied&&n!=="left"){k.right.push(o)}if(!k.bottom.satisfied&&n!=="top"){k.bottom.push(o)}if(!k.left.satisfied&&n!=="right"){k.left.push(o)}}if(g){for(e=0,j=g.length;e<j;e++){o=g[e];if(!o.isDestroyed&&!o.ignoreBorderManagement&&!a.manageBodyBorders){o.removeCls(l.noBorderClasses)}}}if(f){for(h in f){if(a.manageBodyBorders&&f[h].satisfied){a.setBodyStyle(m[h],"")}}}for(h in k){j=k[h].length;if(!a.manageBodyBorders){for(e=0;e<j;e++){k[h][e].addCls(c[h])}if((!k[h].satisfied&&!a.bodyBorder)||a.bodyBorder===false){a.addBodyCls(c[h])}else{a.removeBodyCls(c[h])}}else{if(k[h].satisfied){a.setBodyStyle(m[h],"1px")}}}l.borders=k},beforeLayoutCycle:function(f){var c=this,b=c.owner,g=c.sizeModels.shrinkWrap,e=b.shrinkWrapDock,d,a;if(b.collapsed){if(b.collapsedVertical()){a=true;f.measureDimensions=1}else{d=true;f.measureDimensions=2}}f.collapsedVert=a;f.collapsedHorz=d;if(a){f.heightModel=g}else{if(d){f.widthModel=g}}e=e===true?3:(e||0);f.shrinkWrapDockHeight=(e&1)&&f.heightModel.shrinkWrap;f.shrinkWrapDockWidth=(e&2)&&f.widthModel.shrinkWrap},beginLayout:function(d){var k=this,c=k.owner,o=k.getLayoutItems(),b=d.context,f=o.length,j=k.lastCollapsedState,l,h,n,a,e,g,m;k.callParent(arguments);g=c.getCollapsed();if(g!==j&&j!==undefined){if(k.owner.collapsed){d.isCollapsingOrExpanding=1;c.addClsWithUI(c.collapsedCls)}else{d.isCollapsingOrExpanding=2;c.removeClsWithUI(c.collapsedCls);d.lastCollapsedState=k.lastCollapsedState}}k.lastCollapsedState=g;d.dockedItems=l=[];for(h=0;h<f;h++){n=o[h];if(n.rendered){m=n.dock;a=b.getCmp(n);a.dockedAt={x:0,y:0};a.offsets=e=Ext.Element.parseBox(n.offsets||0);a.horizontal=m=="top"||m=="bottom";e.width=e.left+e.right;e.height=e.top+e.bottom;l.push(a)}}d.bodyContext=d.getEl("body")},beginLayoutCycle:function(b){var e=this,k=b.dockedItems,d=k.length,a=e.owner,f=a.frameBody,j=e.lastHeightModel,c,h,g;e.callParent(arguments);if(e.owner.manageHeight){if(e.lastBodyDisplay){a.body.dom.style.display=e.lastBodyDisplay=""}}else{if(e.lastBodyDisplay!=="inline-block"){a.body.dom.style.display=e.lastBodyDisplay="inline-block"}if(j&&j.shrinkWrap&&!b.heightModel.shrinkWrap){a.body.dom.style.marginBottom=""}}if(b.widthModel.auto){if(b.widthModel.shrinkWrap){a.el.setWidth(null)}a.body.setWidth(null);if(f){f.setWidth(null)}}if(b.heightModel.auto){a.body.setHeight(null);if(f){f.setHeight(null)}}if(b.collapsedVert){b.setContentHeight(0)}else{if(b.collapsedHorz){b.setContentWidth(0)}}for(c=0;c<d;c++){h=k[c].target;g=h.dock;if(g=="right"){h.setLocalX(0)}else{if(g!="left"){continue}}}},calculate:function(d){var l=this,c=l.measureAutoDimensions(d,d.measureDimensions),b=d.state,k=b.horzDone,e=b.vertDone,f=d.bodyContext,j,a,h,g,m;d.borderInfo||d.getBorderInfo();d.paddingInfo||d.getPaddingInfo();d.frameInfo||d.getFrameInfo();f.borderInfo||f.getBorderInfo();f.paddingInfo||f.getPaddingInfo();if(!d.frameBorder){if(!(j=d.framing)){d.frameBorder=d.borderInfo;d.framePadding=d.paddingInfo}else{d.frameBorder=j.border;d.framePadding=j.padding}}a=!k&&l.createAxis(d,c.contentWidth,d.widthModel,l.horzAxisProps,d.collapsedHorz);h=!e&&l.createAxis(d,c.contentHeight,d.heightModel,l.vertAxisProps,d.collapsedVert);for(g=0,m=d.dockedItems.length;m--;++g){if(a){l.dockChild(d,a,m,g)}if(h){l.dockChild(d,h,m,g)}}if(a&&l.finishAxis(d,a)){b.horzDone=k=a}if(h&&l.finishAxis(d,h)){b.vertDone=e=h}if(k&&e&&l.finishConstraints(d,k,e)){l.finishPositions(d,k,e)}else{l.done=false}},createAxis:function(p,j,e,m,d){var u=this,t=0,b=u.owner,f=b[m.maxSize],c=b[m.minSize]||0,n=m.dockBegin,h=m.dockEnd,r=m.pos,l=m.size,k=f!=null,o=e.shrinkWrap,a,s,q,g;if(o){if(d){g=0}else{a=p.bodyContext;g=j+a.borderInfo[l]}}else{s=p.frameBorder;q=p.framePadding;t=s[n]+q[n];g=p.getProp(l)-(s[h]+q[h])}return{shrinkWrap:e.shrinkWrap,sizeModel:e,initialBegin:t,begin:t,end:g,collapsed:d,horizontal:m.horizontal,ignoreFrameBegin:null,ignoreFrameEnd:null,initialSize:g-t,maxChildSize:0,hasMinMaxConstraints:(c||k)&&e.shrinkWrap,minSize:c,maxSize:k?f:1000000000,bodyPosProp:u.owner.manageHeight?r:m.marginBegin,dockBegin:n,dockEnd:h,posProp:r,sizeProp:l,setSize:m.setSize,shrinkWrapDock:p[m.shrinkWrapDock],sizeModelName:m.sizeModel,dockedPixelsEnd:0}},dockChild:function(b,c,l,e){var f=this,a=b.dockedItems[c.shrinkWrap?l:e],h=a.target,j=h.dock,d=c.sizeProp,g,k;if(h.ignoreParentFrame&&b.isCollapsingOrExpanding){a.clearMarginCache()}a.marginInfo||a.getMarginInfo();if(j==c.dockBegin){if(c.shrinkWrap){g=f.dockOutwardBegin(b,a,h,c)}else{g=f.dockInwardBegin(b,a,h,c)}}else{if(j==c.dockEnd){if(c.shrinkWrap){g=f.dockOutwardEnd(b,a,h,c)}else{g=f.dockInwardEnd(b,a,h,c)}}else{if(c.shrinkWrapDock){k=a.getProp(d)+a.marginInfo[d];c.maxChildSize=Math.max(c.maxChildSize,k);g=0}else{g=f.dockStretch(b,a,h,c)}}}a.dockedAt[c.posProp]=g},dockInwardBegin:function(b,a,j,d){var f=d.begin,e=d.sizeProp,c=j.ignoreParentFrame,g,k,h;if(c){d.ignoreFrameBegin=a;h=j.dock;g=b.frameBorder[h];f-=g+b.framePadding[h]}if(!j.overlay){k=a.getProp(e)+a.marginInfo[e];d.begin+=k;if(c){d.begin-=g}}return f},dockInwardEnd:function(e,d,c,b){var h=b.sizeProp,a=d.getProp(h)+d.marginInfo[h],g=b.end-a,f;if(!c.overlay){b.end=g}if(c.ignoreParentFrame){b.ignoreFrameEnd=d;f=e.frameBorder[c.dock];g+=f+e.framePadding[c.dock];b.end+=f}return g},dockOutwardBegin:function(e,d,c,b){var g=b.begin,f=b.sizeProp,a;if(b.collapsed){b.ignoreFrameBegin=b.ignoreFrameEnd=d}else{if(c.ignoreParentFrame){b.ignoreFrameBegin=d}}if(!c.overlay){a=d.getProp(f)+d.marginInfo[f];g-=a;b.begin=g}return g},dockOutwardEnd:function(e,d,c,b){var g=b.end,f=b.sizeProp,a;a=d.getProp(f)+d.marginInfo[f];if(b.collapsed){b.ignoreFrameBegin=b.ignoreFrameEnd=d}else{if(c.ignoreParentFrame){b.ignoreFrameEnd=d}}if(!c.overlay){b.end=g+a;b.dockedPixelsEnd+=a}return g},dockStretch:function(c,b,m,d){var n=m.dock,j=d.sizeProp,a=n=="top"||n=="bottom",h=c.frameBorder,e=b.offsets,l=c.framePadding,g=a?"right":"bottom",p=a?"left":"top",k=d.begin+e[p],f,o;if(m.stretch!==false){o=d.end-k-e[g];if(m.ignoreParentFrame){k-=l[p]+h[p];o+=l[j]+h[j]}f=b.marginInfo;o-=f[j];b[d.setSize](o)}return k},finishAxis:function(m,e){if(isNaN(e.maxChildSize)){return false}var d=e.begin,p=e.end-d,g=e.collapsed,w=e.setSize,k=e.dockBegin,u=e.dockEnd,o=m.framePadding,r=m.frameBorder,f=r[k],s=m.framing,n=s&&s[k],b=g?0:o[k],j=e.sizeProp,t=e.ignoreFrameBegin,q=e.ignoreFrameEnd,a=m.bodyContext,l=Math.max(f+b-n,0),c,x,v,h;if(e.shrinkWrap){x=e.initialSize;if(s){v=-d+f+b;c=v-n-l}else{c=-d;v=c+b}if(!g){p+=o[j]}if(t){v-=f;c-=f;t.dockedAt[e.posProp]-=b}else{p+=f}if(g){}else{if(q){q.dockedAt[e.posProp]+=o[u]}else{p+=r[u]}}e.size=p;if(!e.horizontal&&!this.owner.manageHeight){h=false}}else{if(s){v=0;c=d-n-l}else{v=-f;c=d-b-f}x=p}e.delta=v;a[w](x,h);a.setProp(e.bodyPosProp,c);return !isNaN(p)},beforeInvalidateShrinkWrapDock:function(c,b){var a=b.axis.sizeModelName;if(!c[a].constrainedMin){c[a]=Ext.layout.SizeModel.calculated}},afterInvalidateShrinkWrapDock:function(d,a){var b=a.axis,c=a.layout,e;if(d[b.sizeModelName].calculated){e=c.dockStretch(a.ownerContext,d,d.target,b);d.setProp(b.posProp,b.delta+e)}},finishConstraints:function(k,c,p){var s=this,r=s.sizeModels,o=c.shrinkWrap,q=p.shrinkWrap,a=s.owner,h,m,n,f,g,l,b,d,e,j;if(o){l=c.size;b=c.collapsed?0:c.minSize;d=c.maxSize;e=c.maxChildSize;j=Math.max(l,e);if(j>d){g=r.constrainedMax;n=d}else{if(j<b){g=r.constrainedMin;n=b}else{if(l<e){g=r.constrainedDock;a.dockConstrainedWidth=n=e}else{n=l}}}}if(q){l=p.size;b=p.collapsed?0:p.minSize;d=p.maxSize;e=p.maxChildSize;j=Math.max(l,e+l-p.initialSize);if(j>d){f=r.constrainedMax;m=d}else{if(j<b){f=r.constrainedMin;m=b}else{if(l<e){f=r.constrainedDock;a.dockConstrainedHeight=m=e}else{if(!k.collapsedVert&&!a.manageHeight){h=false;k.bodyContext.setProp("margin-bottom",p.dockedPixelsEnd)}m=l}}}}if(g||f){if(g&&f&&g.constrainedMax&&f.constrainedByMin){k.invalidate({widthModel:g});return false}if(!k.widthModel.calculatedFromShrinkWrap&&!k.heightModel.calculatedFromShrinkWrap){k.invalidate({widthModel:g,heightModel:f});return false}}else{s.invalidateAxes(k,c,p)}if(o){k.setWidth(n);if(g){k.widthModel=g}}if(q){k.setHeight(m,h);if(f){k.heightModel=f}}return true},invalidateAxes:function(f,a,k){var o=this.beforeInvalidateShrinkWrapDock,b=this.afterInvalidateShrinkWrapDock,e=a.end-a.begin,r=k.initialSize,c=a.shrinkWrapDock&&a.maxChildSize<=e,l=k.shrinkWrapDock&&k.maxChildSize<=r,p,m,j,d,q,n,g,h;if(c||l){if(l){k.begin=k.initialBegin;k.end=k.begin+k.initialSize}p=f.dockedItems;for(j=0,m=p.length;j<m;++j){d=p[j];n=d.horizontal;g=null;if(c&&n){h=a.sizeProp;q=e;g=a}else{if(l&&!n){h=k.sizeProp;q=r;g=k}}if(g){q-=d.getMarginInfo()[h];if(q!==d.props[h]){d.invalidate({before:o,after:b,axis:g,ownerContext:f,layout:this})}}}}},finishPositions:function(d,a,g){var j=d.dockedItems,c=j.length,f=a.delta,e=g.delta,h,b;for(h=0;h<c;++h){b=j[h];b.setProp("x",f+b.dockedAt.x);b.setProp("y",e+b.dockedAt.y)}},finishedLayout:function(b){var a=this,c=b.target;a.callParent(arguments);if(!b.animatePolicy){if(b.isCollapsingOrExpanding===1){c.afterCollapse(false)}else{if(b.isCollapsingOrExpanding===2){c.afterExpand(false)}}}},getAnimatePolicy:function(c){var b=this,a,d;if(c.isCollapsingOrExpanding==1){a=b.lastCollapsedState}else{if(c.isCollapsingOrExpanding==2){a=c.lastCollapsedState}}if(a=="left"||a=="right"){d=b.horizontalCollapsePolicy}else{if(a=="top"||a=="bottom"){d=b.verticalCollapsePolicy}}return d},getDockedItems:function(c,m){var h=this,e=(c==="visual"),j=e?Ext.ComponentQuery.query("[rendered]",h.owner.dockedItems.items):h.owner.dockedItems.items,g=j&&j.length&&c!==false,b,l,k,f,d,a;if(m==null){k=g&&!e?j.slice():j}else{k=[];for(f=0,a=j.length;f<a;++f){l=j[f].dock;d=(l=="top"||l=="left");if(m?d:!d){k.push(j[f])}}g=g&&k.length}if(g){b=(c=c||"render")=="render";Ext.Array.sort(k,function(o,n){var p,q;if(b&&((p=h.owner.dockOrder[o.dock])!==(q=h.owner.dockOrder[n.dock]))){if(!(p+q)){return p-q}}p=h.getItemWeight(o,c);q=h.getItemWeight(n,c);if((p!==undefined)&&(q!==undefined)){return p-q}return 0})}return k||[]},getItemWeight:function(b,a){var c=b.weight||this.owner.defaultDockWeights[b.dock];return c[a]||c},getLayoutItems:function(){var e=this,b,f,d,c,a;if(e.owner.collapsed){a=e.owner.getCollapsedDockedItems()}else{b=e.getDockedItems("visual");f=b.length;a=[];for(c=0;c<f;c++){d=b[c];if(!d.hidden){a.push(d)}}}return a},measureContentWidth:function(a){var b=a.bodyContext;return b.el.getWidth()-b.getBorderInfo().width},measureContentHeight:function(a){var b=a.bodyContext;return b.el.getHeight()-b.getBorderInfo().height},redoLayout:function(c){var b=this,a=b.owner;if(c.isCollapsingOrExpanding==1){if(a.reExpander){a.reExpander.el.show()}a.addClsWithUI(a.collapsedCls);c.redo(true)}else{if(c.isCollapsingOrExpanding==2){a.removeClsWithUI(a.collapsedCls);c.bodyContext.redo()}}},renderChildren:function(){var b=this,a=b.getDockedItems(),c=b.getRenderTarget();b.handleItemBorders();b.renderItems(a,c)},renderItems:function(h,g){var k=this,c=h.length,a=0,b=0,o=0,l=k.getRenderTarget().dom.childNodes,m=l.length,f,d,e,n;for(f=0,d=0;f<m;f++){e=l[f];if(e.nodeType===1&&Ext.fly(e).hasCls(Ext.baseCSSPrefix+"resizable-handle")){break}for(d=0;d<c;d++){n=h[d];if(n.rendered&&n.el.dom===e){break}}if(d===c){o++}}for(;a<c;a++,b++){n=h[a];if(a===b&&(n.dock==="right"||n.dock==="bottom")){b+=o}if(n&&!n.rendered){k.renderItem(n,g,b)}else{if(!k.isValidParent(n,g,b)){k.moveItem(n,g,b)}}}},undoLayout:function(c){var b=this,a=b.owner;if(c.isCollapsingOrExpanding==1){if(a.reExpander){a.reExpander.el.hide()}a.removeClsWithUI(a.collapsedCls);c.undo(true)}else{if(c.isCollapsingOrExpanding==2){a.addClsWithUI(a.collapsedCls);c.bodyContext.undo()}}},sizePolicy:{nostretch:{setsWidth:0,setsHeight:0},horz:{shrinkWrap:{setsWidth:1,setsHeight:0,readsWidth:1},stretch:{setsWidth:1,setsHeight:0}},vert:{shrinkWrap:{setsWidth:0,setsHeight:1,readsHeight:1},stretch:{setsWidth:0,setsHeight:1}},stretchV:{setsWidth:0,setsHeight:1},autoStretchH:{readsWidth:1,setsWidth:1,setsHeight:0},autoStretchV:{readsHeight:1,setsWidth:0,setsHeight:1}},getItemSizePolicy:function(d,f){var c=this,g=c.sizePolicy,e=c.owner.shrinkWrapDock,b,a;if(d.stretch===false){return g.nostretch}b=d.dock;a=(b=="left"||b=="right");e=e===true?3:(e||0);if(a){g=g.vert;e=e&1}else{g=g.horz;e=e&2}if(e){if(!f){f=c.owner.getSizeModel()}if(f[a?"height":"width"].shrinkWrap){return g.shrinkWrap}}return g.stretch},configureItem:function(a,b){this.callParent(arguments);a.addCls(this._itemCls);if(!a.ignoreBorderManagement){a.addClsWithUI(this.getDockCls(a.dock))}},getDockCls:function(a){return"docked-"+a},afterRemove:function(a){var b;this.callParent(arguments);a.removeCls(this._itemCls);if(!a.ignoreBorderManagement){a.removeClsWithUI(this.getDockCls(a.dock))}b=a.el.dom;if(!a.destroying&&b){b.parentNode.removeChild(b)}this.childrenChanged=true},borderCollapseMap:{},getBorderCollapseTable:function(){var d=this,f=d.borderCollapseMap,a=d.owner,b=a.baseCls,e=a.ui,c;f=f[b]||(f[b]={});c=f[e];if(!c){b+="-"+e+"-outer-border-";f[e]=c=[0,b+"l",b+"b",b+"bl",b+"r",b+"rl",b+"rb",b+"rbl",b+"t",b+"tl",b+"tb",b+"tbl",b+"tr",b+"trl",b+"trb",b+"trbl"]}return c}});Ext.define("Ext.util.Memento",(function(){function d(h,g,j,f){h[f?f+j:j]=g[j]}function c(g,f,h){delete g[h]}function e(k,j,l,h){var f=h?h+l:l,g=k[f];if(g||k.hasOwnProperty(f)){a(j,l,g)}}function a(g,h,f){if(Ext.isDefined(f)){g[h]=f}else{delete g[h]}}function b(g,m,l,h,j){if(m){if(Ext.isArray(h)){var k,f=h.length;for(k=0;k<f;k++){g(m,l,h[k],j)}}else{g(m,l,h,j)}}}return{data:null,target:null,constructor:function(g,f){this.data={};if(g){this.target=g;if(f){this.capture(f)}}},capture:function(f,j,h){var g=this;b(d,g.data||(g.data={}),j||g.target,f,h)},remove:function(f){b(c,this.data,null,f)},restore:function(g,f,j,h){b(e,this.data,j||this.target,g,h);if(f!==false){this.remove(g)}},restoreAll:function(f,k){var h=this,g=k||this.target,j=h.data,l;f=f!==false;for(l in j){if(j.hasOwnProperty(l)){a(g,l,j[l]);if(f){delete j[l]}}}}}}()));Ext.define("Ext.container.DockingContainer",{isDockingContainer:true,defaultDockWeights:{top:{render:1,visual:1},left:{render:3,visual:5},right:{render:5,visual:7},bottom:{render:7,visual:3}},dockOrder:{top:-1,left:-1,right:1,bottom:1},horizontalDocks:0,addDocked:function(b,g){var f=this,c=0,a,e,d;b=f.prepareItems(b);d=b.length;for(;c<d;c++){e=b[c];e.dock=e.dock||"top";if(e.dock==="left"||e.dock==="right"){f.horizontalDocks++}if(g!==undefined){c+=g;f.dockedItems.insert(c,e)}else{f.dockedItems.add(e)}a=!!e.instancedCmp;delete e.instancedCmp;e.onAdded(f,c,a);delete e.initOwnerCt;if(f.hasListeners.dockedadd){f.fireEvent("dockedadd",f,e,c)}if(f.onDockedAdd!==Ext.emptyFn){f.onDockedAdd(e)}}if(f.rendered&&!f.suspendLayout){f.updateLayout()}return b},destroyDockedItems:function(){var a=this.dockedItems,b;if(a){while((b=a.first())){this.removeDocked(b,true)}}},doRenderDockedItems:function(c,f,g){var e=f.$comp,d=e.componentLayout,b,a;if(d.getDockedItems&&!f.$skipDockedItems){b=d.getDockedItems("render",!g);a=b&&d.getItemsRenderTree(b);if(a){Ext.DomHelper.generateMarkup(a,c)}}},getDockedComponent:function(a){if(Ext.isObject(a)){a=a.getItemId()}return this.dockedItems.get(a)},getDockedItems:function(a,c){var b=this.getComponentLayout().getDockedItems("render",c);if(a&&b.length){b=Ext.ComponentQuery.query(a,b)}return b},getDockingRefItems:function(b,e){var a=b&&"*,* *",d=this.getDockedItems(a,true),c;d.push.apply(d,e);c=this.getDockedItems(a,false);d.push.apply(d,c);return d},initDockingItems:function(){var b=this,a=b.dockedItems;if(!a||!a.isMixedCollection){b.dockedItems=new Ext.util.AbstractMixedCollection(false,b.getComponentId);if(a){b.addDocked(a)}}},insertDocked:function(b,a){this.addDocked(a,b)},onDockedAdd:Ext.emptyFn,onDockedRemove:Ext.emptyFn,removeDocked:function(e,b){var d=this,c,a;b=b===true||(b!==false&&d.autoDestroy);if(!d.dockedItems.contains(e)){return e}if(e.dock==="left"||e.dock==="right"){d.horizontalDocks--}c=d.componentLayout;a=c&&d.rendered;if(a){c.onRemove(e)}d.dockedItems.remove(e);e.onRemoved(e.destroying||b);d.onDockedRemove(e);if(b){e.destroy()}else{if(a){c.afterRemove(e)}}if(d.hasListeners.dockedremove){d.fireEvent("dockedremove",d,e)}if(!d.destroying&&!d.suspendLayout){d.updateLayout()}return e},moveDocked:function(b,a){if(this.rendered){Ext.suspendLayouts()}this.removeDocked(b,false);b.dock=a;this.addDocked(b);if(this.rendered){if(b.frame){Ext.getDetachedBody().appendChild(b.el);b.updateFrame()}Ext.resumeLayouts(true)}},setupDockingRenderTpl:function(a){a.renderDockedItems=this.doRenderDockedItems}});Ext.define("Ext.panel.Panel",{extend:Ext.container.Container,alias:"widget.panel",alternateClassName:"Ext.Panel",mixins:{docking:Ext.container.DockingContainer},childEls:["body"],renderTpl:["{% this.renderDockedItems(out,values,0); %}",'<div id="{id}-body" data-ref="body" class="{baseCls}-body<tpl if="bodyCls"> {bodyCls}</tpl>',' {baseCls}-body-{ui}<tpl if="uiCls">','<tpl for="uiCls"> {parent.baseCls}-body-{parent.ui}-{.}</tpl>','</tpl>{childElCls}"','<tpl if="bodyRole"> role="{bodyRole}"<tpl else> role="presentation"</tpl>','<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>>',"{%this.renderContainer(out,values);%}","</div>","{% this.renderDockedItems(out,values,1); %}"],headerPosition:"top",iconAlign:"left",titleAlign:"left",titleRotation:"default",beforeRenderConfig:{glyph:null,headerPosition:null,icon:null,iconAlign:null,iconCls:null,title:null,titleAlign:null,titleRotation:null},animCollapse:Ext.enableFx,border:true,closable:false,closeAction:"destroy",collapsed:false,collapsedCls:"collapsed",collapseFirst:true,collapsible:undefined,constrain:false,constrainHeader:false,floatable:true,frame:false,frameHeader:true,hideCollapseTool:false,manageHeight:true,maskElement:"el",minButtonWidth:75,preventHeader:false,shrinkWrapDock:false,titleCollapse:undefined,baseCls:Ext.baseCSSPrefix+"panel",bodyPosProps:{x:"x",y:"y"},componentLayout:"dock",contentPaddingProperty:"bodyPadding",emptyArray:[],isPanel:true,defaultBindProperty:"title",addBodyCls:function(b){var c=this,a=c.rendered?c.body:c.getProtoBody();a.addCls(b);return c},addTool:function(e){if(!Ext.isArray(e)){e=[e]}var d=this,g=d.header,a=e.length,f=d.tools,c,b;if(!g||!g.isHeader){g=null;if(!f){d.tools=f=[]}}for(c=0;c<a;c++){b=e[c];b.toolOwner=d;if(g){g.addTool(b)}else{f.push(b)}}d.updateHeader()},addTools:Ext.emptyFn,setCollapsible:function(c){var b=this,d=b.collapsible,a=b.collapseTool;b.collapsible=c;if(c&&!d){b.updateCollapseTool();a=b.collapseTool;if(a){a.show()}}else{if(!c&&d){if(a){a.hide()}}}},addUIClsToElement:function(b){var c=this,a=c.callParent(arguments);c.addBodyCls([Ext.baseCSSPrefix+b,c.baseCls+"-body-"+b,c.baseCls+"-body-"+c.ui+"-"+b]);return a},afterCollapse:function(b){var a=this,c=a.ownerLayout;a.isCollapsingOrExpanding=0;a.updateCollapseTool();if(b){a.removeCls(Ext.baseCSSPrefix+"animating-size")}a.setHiddenDocked();a.fireEvent("collapse",a)},afterExpand:function(b){var a=this,c=a.ownerLayout;a.isCollapsingOrExpanding=0;a.updateCollapseTool();if(b){a.removeCls(Ext.baseCSSPrefix+"animating-size")}a.fireEvent("expand",a);a.fireHierarchyEvent("expand")},beforeDestroy:function(){var a=this;Ext.destroy(a.placeholder,a.ghostPanel,a.dd);this.destroyDockedItems();a.callParent()},beforeRender:function(){var b=this,a;b.callParent();b.initTools();if(!(b.preventHeader||(b.header===false))){b.updateHeader()}if(b.collapsed){if(b.isPlaceHolderCollapse()){if(!b.hidden){b.setHiddenState(true);b.preventCollapseFire=true;b.placeholderCollapse();delete b.preventCollapseFire;a=b.collapsed;b.collapsed=false}}else{b.beginCollapse();b.addClsWithUI(b.collapsedCls)}}if(a){b.collapsed=a}},getMemento:function(a){var b=this;if(a&&typeof a=="string"){a+="Memento";return b[a]||(b[a]=new Ext.util.Memento(b))}},beginCollapse:function(){var e=this,c=e.lastBox,g=e.rendered,b=e.getMemento("collapse"),d=e.getSizeModel(),f=e.header,a;b.capture(["height","minHeight","width","minWidth"]);if(c){b.capture(e.restoreDimension(),c,"last.")}if(e.collapsedVertical()){if(d.width.shrinkWrap){e.width=g?e.getWidth():e.width||e.minWidth||100}delete e.height;e.minHeight=0}else{if(e.collapsedHorizontal()){if(d.height.shrinkWrap){e.height=g?e.getHeight():e.height||e.minHeight||100}delete e.width;e.minWidth=0}}if(e.ownerCt){e.ownerCt.getLayout().beginCollapse(e)}if(!e.isPlaceHolderCollapse()&&f!==false){if(f===(a=e.getReExpander())){f.collapseImmune=true;f.getInherited().collapseImmune=true;f.addClsWithUI(e.getHeaderCollapsedClasses(f));if(f.rendered){f.updateFrame()}}else{if(a.el){a.el.show();a.hidden=false}}}if(e.resizer){e.resizer.disable()}},beginDrag:function(){if(this.floatingDescendants){this.floatingDescendants.hide()}},beginExpand:function(){var e=this,d=e.lastBox,c=e.getMemento("collapse"),a=e.restoreDimension(),f=e.header,b;if(c){c.restore(["minHeight","minWidth",a]);if(d){c.restore(a,true,d,"last.")}}if(e.ownerCt){e.ownerCt.getLayout().beginExpand(e)}if(!e.isPlaceHolderCollapse()&&f!==false){if(f===(b=e.getReExpander())){delete f.collapseImmune;delete f.getInherited().collapseImmune;f.removeClsWithUI(e.getHeaderCollapsedClasses(f));if(f.rendered){f.expanding=true;f.updateFrame();delete f.expanding}}else{b.hidden=true;b.el.hide()}}if(e.resizer){e.resizer.enable()}},bridgeToolbars:function(){var a=this,f=[],e=a.minButtonWidth,c,b;function d(g,j,h){if(Ext.isArray(g)){g={xtype:"toolbar",items:g}}else{if(!g.xtype){g.xtype="toolbar"}}g.dock=j;if(j=="left"||j=="right"){g.vertical=true}if(h){g.layout=Ext.applyIf(g.layout||{},{pack:{left:"start",center:"center"}[a.buttonAlign]||"end"})}return g}if(a.tbar){f.push(d(a.tbar,"top"));a.tbar=null}if(a.bbar){f.push(d(a.bbar,"bottom"));a.bbar=null}if(a.buttons){a.fbar=a.buttons;a.buttons=null}if(a.fbar){c=d(a.fbar,"bottom",true);c.ui="footer";if(e){b=c.defaults;c.defaults=function(j){var k=b||{},h=!j.xtype||j.isButton,g;if(!h){g=Ext.ClassManager.getByAlias("widget."+j.xtype);if(g){h=g.prototype.isButton}}if(h&&!("minWidth" in k)){k=Ext.apply({minWidth:e},k)}return k}}f.push(c);a.fbar=null}if(a.lbar){f.push(d(a.lbar,"left"));a.lbar=null}if(a.rbar){f.push(d(a.rbar,"right"));a.rbar=null}if(a.dockedItems){if(a.dockedItems.isMixedCollection){a.addDocked(f)}else{if(!Ext.isArray(a.dockedItems)){a.dockedItems=[a.dockedItems]}a.dockedItems=a.dockedItems.concat(f)}}else{a.dockedItems=f}},close:function(){if(this.fireEvent("beforeclose",this)!==false){this.doClose()}},collapse:function(e,a){var d=this,f=e||d.collapseDirection,b=d.ownerCt,c=d.ownerLayout,g=d.rendered;if(d.isCollapsingOrExpanding){return d}if(arguments.length<2){a=d.animCollapse}if(d.collapsed||d.fireEvent("beforecollapse",d,e,a)===false){return d}if(c&&c.onBeforeComponentCollapse){if(c.onBeforeComponentCollapse(d)===false){return d}}if(g&&b&&d.isPlaceHolderCollapse()){return d.placeholderCollapse(e,a)}d.collapsed=f;if(g){d.beginCollapse()}d.getInherited().collapsed=true;d.fireHierarchyEvent("collapse");if(g){d.doCollapseExpand(1,a)}return d},collapsedHorizontal:function(){var a=this.getCollapsed();return a==="left"||a==="right"},collapsedVertical:function(){var a=this.getCollapsed();return a==="top"||a==="bottom"},convertCollapseDir:function(a){return a.substr(0,1)},createGhost:function(a){var b=this,d=b.header,c=b.frame&&!b.alwaysFramed;return{xtype:"panel",hidden:false,header:d?{titleAlign:d.getTitleAlign()}:null,ui:c?b.ui.replace(/-framed$/,""):b.ui,id:b.id+"-ghost",renderTo:Ext.getBody(),resizable:false,draggable:false,closable:false,floating:{shadow:false},frame:c,alwaysFramed:b.alwaysFramed,overlapHeader:b.overlapHeader,headerPosition:b.getHeaderPosition(),titleRotation:b.getTitleRotation(),baseCls:b.baseCls,cls:b.baseCls+"-ghost "+(a||"")}},createReExpander:function(f,e){var d=this,h=f==="left",c=f==="right",g=h||c,b=d.ownerCt,a=Ext.apply({hideMode:"offsets",title:d.getTitle(),titleAlign:d.getTitleAlign(),vertical:g,textCls:d.headerTextCls,icon:d.getIcon(),iconCls:d.getIconCls(),iconAlign:d.getIconAlign(),glyph:d.getGlyph(),baseCls:d.self.prototype.baseCls+"-header",ui:d.ui,frame:d.frame&&d.frameHeader,ignoreParentFrame:d.frame||d.overlapHeader,ignoreBorderManagement:d.frame||d.ignoreHeaderBorderManagement,indicateDrag:d.draggable,collapseImmune:true,headerRole:d.headerRole,ownerCt:(b&&d.collapseMode==="placeholder")?b:d,ownerLayout:d.componentLayout,margin:d.margin},e);if(d.collapseMode==="mini"){if(g){a.width=1}else{a.height=1}}if(!d.hideCollapseTool){if(h||(c&&d.isPlaceHolderCollapse())){a.titlePosition=1}a.tools=[{xtype:"tool",type:"expand-"+d.getOppositeDirection(f),uiCls:["top"],handler:d.toggleCollapse,scope:d}]}a=new Ext.panel.Header(a);a.addClsWithUI(d.getHeaderCollapsedClasses(a));return a},doClose:function(){this.fireEvent("close",this);this[this.closeAction]()},doCollapseExpand:function(a,b){var d=this,c=d.animCollapse,e=d.ownerLayout;d.animCollapse=b;d.isCollapsingOrExpanding=a;if(b){d.addCls(Ext.baseCSSPrefix+"animating-size")}if(e&&!b){e.onContentChange(d)}else{d.updateLayout({isRoot:true})}d.animCollapse=c;return d},endDrag:function(){if(this.floatingDescendants){this.floatingDescendants.show()}},expand:function(a){var c=this,b=c.ownerLayout,d=c.rendered;if(c.isCollapsingOrExpanding){return c}if(!arguments.length){a=c.animCollapse}if(!c.collapsed&&!c.floatedFromCollapse){return c}if(c.fireEvent("beforeexpand",c,a)===false){return c}if(b&&b.onBeforeComponentExpand){if(b.onBeforeComponentExpand(c)===false){return c}}delete c.getInherited().collapsed;if(d&&c.isPlaceHolderCollapse()){return c.placeholderExpand(a)}c.restoreHiddenDocked();if(d){c.beginExpand()}c.collapsed=false;if(c.rendered){c.doCollapseExpand(2,a)}return c},findReExpander:function(g){var f=this,h=Ext.Component,e=f.dockedItems.items,a=e.length,b,d;if(f.collapseMode==="mini"){return}switch(g){case h.DIRECTION_TOP:case h.DIRECTION_BOTTOM:for(d=0;d<a;d++){b=e[d];if(!b.hidden){if(b.isHeader&&(!b.dock||b.dock==="top"||b.dock==="bottom")){return b}}}break;case h.DIRECTION_LEFT:case h.DIRECTION_RIGHT:for(d=0;d<a;d++){b=e[d];if(!b.hidden){if(b.isHeader&&(b.dock==="left"||b.dock==="right")){return b}}}break;default:throw ("Panel#findReExpander must be passed a valid collapseDirection")}},floatCollapsedPanel:function(){var g=this,h=g.placeholder,a=h.getSize(),e,f=Ext.baseCSSPrefix+"border-region-slide-in",d=g.collapsed,j=g.ownerCt||g,b,c;if(g.isSliding){return}if(g.el.hasCls(f)){g.slideOutFloatedPanel();return}g.isSliding=true;h.el.hide();h.hidden=true;g.el.show();g.setHiddenState(false);g.collapsed=false;j.updateLayout();e=g.getBox(false,true);h.el.show();h.hidden=false;g.el.hide();g.setHiddenState(true);g.collapsed=d;j.updateLayout();g.slideOutTask=g.slideOutTask||new Ext.util.DelayedTask(g.slideOutFloatedPanel,g);if(Ext.supports.Touch){Ext.on("mousedown",c=function(k){if(!k.within(g.el)){Ext.un("mousedown",c);g.slideOutFloatedPanel()}});if(!g.placeholderListener){g.placeholderListener=h.on({resize:g.onPlaceholderResize,scope:g,destroyable:true})}}h.el.on("mouseleave",g.onMouseLeaveFloated,g);g.el.on("mouseleave",g.onMouseLeaveFloated,g);h.el.on("mouseenter",g.onMouseEnterFloated,g);g.el.on("mouseenter",g.onMouseEnterFloated,g);g.el.addCls(f);g.floated=d;if(g.collapseTool){g.collapseTool.el.hide()}switch(g.collapsed){case"top":g.setLocalXY(e.x,e.y+a.height-1);break;case"right":g.setLocalXY(e.x-a.width+1,e.y);break;case"bottom":g.setLocalXY(e.x,e.y-a.height+1);break;case"left":g.setLocalXY(e.x+a.width-1,e.y);break}b=g.convertCollapseDir(g.collapsed);g.floatedFromCollapse=g.collapsed;g.collapsed=false;g.setHiddenState(false);g.el.slideIn(b,{preserveScroll:true,duration:Ext.Number.from(g.animCollapse,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:function(){g.isSliding=false;g.fireEvent("float",g)}}})},onPlaceholderResize:function(e,c,a){var b=this,d=b.getBox(false,true),f=b.placeholder.getBox(false,true);switch(b.floated){case"top":this.width=c;b.setLocalY(f.y+f.height);break;case"right":this.height=a;b.setLocalX(f.x-d.width);break;case"bottom":this.width=c;b.setLocalY(f.y-d.height);break;case"left":this.height=a;b.setLocalX(f.x+f.width);break}this.updateLayout({isRoot:true})},getAnimationProps:function(){var b=this,c=b.animCollapse,a;a=b.callParent();if(typeof c==="number"){a.duration=c}return a},getCollapsed:function(){var a=this;if(a.collapsed===true){return a.collapseDirection}return a.collapsed},getCollapsedDockedItems:function(){var a=this;return a.header===false||a.collapseMode=="placeholder"?a.emptyArray:[a.getReExpander()]},getComponent:function(a){var b=this.callParent(arguments);if(b===undefined&&!Ext.isNumber(a)){b=this.getDockedComponent(a)}return b},getHeader:function(){return this.header},getHeaderCollapsedClasses:function(d){var b=this,c=b.collapsedCls,a;a=[c,c+"-"+d.getDockName()];if(b.border&&(!b.frame||(b.frame&&Ext.supports.CSS3BorderRadius))){a.push(c+"-border-"+d.getDockName())}return a},getHeightAuthority:function(){if(this.collapsed&&this.collapsedVertical()){return 1}return this.callParent()},getKeyMap:function(){return this.keyMap||(this.keyMap=new Ext.util.KeyMap(Ext.apply({target:this.el},this.keys)))},getOppositeDirection:function(a){var b=Ext.Component;switch(a){case b.DIRECTION_TOP:return b.DIRECTION_BOTTOM;case b.DIRECTION_RIGHT:return b.DIRECTION_LEFT;case b.DIRECTION_BOTTOM:return b.DIRECTION_TOP;case b.DIRECTION_LEFT:return b.DIRECTION_RIGHT}},getPlaceholder:function(e){var d=this,g=e||d.collapseDirection,c=null,f=d.placeholder,b=d.floatable,a=d.titleCollapse;if(!f){if(b||(d.collapsible&&a)){c={click:{fn:(!a&&b)?d.floatCollapsedPanel:d.toggleCollapse,element:"el",scope:d}}}d.placeholder=f=Ext.widget(d.createReExpander(g,{id:d.id+"-placeholder",listeners:c}))}if(!f.placeholderFor){if(!f.isComponent){d.placeholder=f=d.lookupComponent(f)}Ext.applyIf(f,{margin:d.margin,placeholderFor:d,synthetic:true});f.addCls([Ext.baseCSSPrefix+"region-collapsed-placeholder",Ext.baseCSSPrefix+"region-collapsed-"+g+"-placeholder",d.collapsedCls])}return f},getProtoBody:function(){var b=this,a=b.protoBody;if(!a){b.protoBody=a=new Ext.util.ProtoElement({cls:b.bodyCls,style:b.bodyStyle,clsProp:"bodyCls",styleProp:"bodyStyle",styleIsText:true})}return a},getReExpander:function(c){var b=this,d=c||b.collapseDirection,a=b.reExpander||b.findReExpander(d);b.expandDirection=b.getOppositeDirection(d);if(!a){b.reExpander=a=b.createReExpander(d,{dock:d,cls:Ext.baseCSSPrefix+"docked "+b.baseCls+"-"+b.ui+"-collapsed",isCollapsedExpander:true});b.dockedItems.insert(0,a)}return a},getRefItems:function(a){var b=this.callParent(arguments);return this.getDockingRefItems(a,b)},getState:function(){var a=this,c=a.callParent()||{},e=a.collapsed,b=a.floated,d;if(b){a.collapsed=b}c=a.addPropertyToState(c,"collapsed");if(b){a.collapsed=e}if(a.getCollapsed()){d=a.getMemento("collapse").data;c=a.addPropertyToState(c,"collapsed",d);if(a.collapsedVertical()){delete c.height;if(d){c=a.addPropertyToState(c,"height",d.height)}}else{delete c.width;if(d){c=a.addPropertyToState(c,"width",d.width)}}}return c},applyState:function(c){var b=this,a={},d;if(c){d=c.collapsed;if(d){a=b.getMemento("collapse");Ext.Object.merge(a.data,d);c.collapsed=true}b.callParent(arguments)}},ghost:function(l){var g=this,a=g.ghostPanel,d=g.getBox(),c=g.header,j,e,h,k,f,b;if(!a){g.ghostPanel=a=Ext.widget(g.createGhost(l))}else{a.el.show()}a.setHiddenState(false);a.floatParent=g.floatParent;a.toFront();if(c&&!g.preventHeader){j=a.header;j.suspendLayouts();e=j.query("tool");for(b=e.length;b--;){j.remove(e[b])}a.addTool(g.ghostTools());a.setTitle(g.getTitle());j.setTitlePosition(c.titlePosition);k=g.getIconCls();if(k){a.setIconCls(k)}else{h=g.getIcon();if(h){a.setIcon(h)}else{f=g.getGlyph();if(f){a.setGlyph(f)}}}j.addCls(Ext.baseCSSPrefix+"header-ghost");j.resumeLayouts()}a.setPagePosition(d.x,d.y);a.setSize(d.width,d.height);g.el.hide();return a},ghostTools:function(){var e=[],f=this.header,d=f?f.query("tool[hidden=false]"):[],c,a,b;if(d.length){c=0;a=d.length;for(;c<a;c++){b=d[c];e.push({type:b.type})}}else{e=[{type:"placeholder"}]}return e},initBodyBorder:function(){var a=this;if(a.frame&&a.bodyBorder){if(!Ext.isNumber(a.bodyBorder)){a.bodyBorder=1}a.getProtoBody().setStyle("border-width",this.unitizeBox(a.bodyBorder))}},initBodyStyles:function(){var b=this,a=b.getProtoBody();if(b.bodyPadding!==undefined){if(b.layout.managePadding){a.setStyle("padding",0)}else{a.setStyle("padding",this.unitizeBox((b.bodyPadding===true)?5:b.bodyPadding))}}b.initBodyBorder()},initBorderProps:function(){var a=this;if(a.frame&&a.border&&a.bodyBorder===undefined){a.bodyBorder=false}if(a.frame&&a.border&&(a.bodyBorder===false||a.bodyBorder===0)){a.manageBodyBorders=true}},initComponent:function(){var a=this;if(a.collapsible){a.addStateEvents(["expand","collapse"])}if(a.unstyled){a.setUI("plain")}if(a.frame){a.setUI(a.ui+"-framed")}a.bridgeToolbars();this.initBorderProps();a.callParent();a.collapseDirection=a.collapseDirection||a.getHeaderPosition()||Ext.Component.DIRECTION_TOP;a.hiddenOnCollapse=new Ext.dom.CompositeElement()},initItems:function(){this.callParent();this.initDockingItems()},initRenderData:function(){var a=this,b=a.callParent();a.initBodyStyles();a.protoBody.writeTo(b);delete a.protoBody;return b},calculateConstrainedPosition:function(e,b,d,a){var f=this,c;if(f.constrainHeader){if(a){if(!f.header.vertical){a=[a[0],f.header.lastBox.height]}else{a=[f.header.lastBox.width,a[1]]}}else{a=[f.header.lastBox.width,f.header.lastBox.height]}c=f.floatParent;e=e||f.constrainTo||(c?c.getTargetEl():null)||f.container||f.el.parent()}return f.callParent([e,b,d,a])},initTools:function(){var c=this,d=c.tools,b,a;c.tools=[];for(b=d&&d.length;b;){--b;c.tools[b]=a=d[b];a.toolOwner=c}if(c.collapsible&&!(c.hideCollapseTool||c.header===false||c.preventHeader)){c.updateCollapseTool();if(c.collapseFirst){c.tools.unshift(c.collapseTool)}}c.addTools();if(c.pinnable){c.initPinnable()}if(c.closable){c.addClsWithUI("closable");c.addTool({xtype:"tool",type:"close",scope:c,handler:c.close})}if(c.collapseTool&&!c.collapseFirst){c.addTool(c.collapseTool)}},isLayoutRoot:function(){if(this.floatedFromCollapse){return true}return this.callParent()},isPlaceHolderCollapse:function(){return this.collapseMode=="placeholder"},isVisible:function(a){var b=this;if(b.collapsed&&b.placeholder){return b.placeholder.isVisible(a)}return b.callParent(arguments)},onBoxReady:function(){this.callParent();if(this.collapsed){this.setHiddenDocked()}},onHide:function(){var b=this,a=b.dd;if(b.floatedFromCollapse){b.slideOutFloatedPanel(true)}if(b.draggable&&a){a.endDrag()}if(b.collapsed&&b.placeholder){b.placeholder.hide()}else{b.callParent(arguments)}},onMouseEnterFloated:function(a){this.slideOutTask.cancel()},onMouseLeaveFloated:function(a){this.slideOutTask.delay(500)},onRemoved:function(b){var a=this;if(a.placeholder&&!b){a.ownerCt.remove(a.placeholder,false)}a.callParent(arguments)},onShow:function(){var a=this;if(a.collapsed&&a.isPlaceHolderCollapse()){a.setHiddenState(true);a.placeholderCollapse()}else{a.callParent(arguments)}},placeholderCollapse:function(f,a){var d=this,c=d.ownerCt,h=f||d.collapseDirection,b=Ext.baseCSSPrefix+"border-region-slide-in",g=d.getPlaceholder(h),e;d.isCollapsingOrExpanding=1;d.setHiddenState(true);d.collapsed=h;if(g.rendered){if(g.el.dom.parentNode!==d.el.dom.parentNode){d.el.dom.parentNode.insertBefore(g.el.dom,d.el.dom)}g.hidden=false;g.setHiddenState(false);g.el.show();c.updateLayout()}else{c.insert(c.items.indexOf(d),g)}if(d.rendered){d.el.setVisibilityMode(d.placeholderCollapseHideMode);if(a){d.el.addCls(b);g.el.hide();e=d.convertCollapseDir(h);d.el.slideOut(e,{preserveScroll:true,duration:Ext.Number.from(a,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:function(){d.el.removeCls(b);g.el.show().setStyle("display","none").slideIn(e,{easing:"linear",duration:100,listeners:{afteranimate:function(){g.focus();g.setHiddenState(false);d.isCollapsingOrExpanding=0;d.fireEvent("collapse",d)}}})}}})}else{d.el.hide();g.setHiddenState(false);d.isCollapsingOrExpanding=0;d.fireEvent("collapse",d)}}else{d.isCollapsingOrExpanding=0;if(!d.preventCollapseFire){d.fireEvent("collapse",d)}}return d},placeholderExpand:function(c){var e=this,g=e.collapsed,d=Ext.baseCSSPrefix+"border-region-slide-in",f,b,a=e.ownerLayout?e.ownerLayout.centerRegion:null;if(Ext.Component.layoutSuspendCount){c=false}if(e.floatedFromCollapse){b=e.getPosition(true);e.slideOutFloatedPanelBegin();e.slideOutFloatedPanelEnd();e.floated=false}if(c){Ext.suspendLayouts();e.placeholder.hide();e.el.show();e.collapsed=false;e.setHiddenState(false);if(a&&!b){a.hidden=true}Ext.resumeLayouts(true);a.hidden=false;e.el.addCls(d);e.isCollapsingOrExpanding=2;if(b){f=e.getXY();e.setLocalXY(b[0],b[1]);e.setXY([f[0],f[1]],{duration:Ext.Number.from(c,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:function(){e.el.removeCls(d);e.isCollapsingOrExpanding=0;e.fireEvent("expand",e)}}})}else{e.el.hide();e.placeholder.el.show();e.placeholder.hidden=false;e.setHiddenState(false);e.el.slideIn(e.convertCollapseDir(g),{preserveScroll:true,duration:Ext.Number.from(c,Ext.fx.Anim.prototype.duration),listeners:{afteranimate:function(){e.el.removeCls(d);e.placeholder.hide();e.updateLayout();e.isCollapsingOrExpanding=0;e.fireEvent("expand",e)}}})}}else{e.floated=e.collapsed=false;e.el.removeCls(d);Ext.suspendLayouts();e.placeholder.hide();e.show();Ext.resumeLayouts(true);e.fireEvent("expand",e)}return e},removeBodyCls:function(b){var c=this,a=c.rendered?c.body:c.getProtoBody();a.removeCls(b);return c},removeUIClsFromElement:function(b){var c=this,a=c.callParent(arguments);c.removeBodyCls([Ext.baseCSSPrefix+b,c.baseCls+"-body-"+b,c.baseCls+"-body-"+c.ui+"-"+b]);return a},restoreDimension:function(){var a=this.collapseDirection;return(a==="top"||a==="bottom")?"height":"width"},restoreHiddenDocked:function(){var a=this.hiddenOnCollapse;a.setStyle("visibility","");a.clear()},setBodyStyle:function(b,d){var c=this,a=c.rendered?c.body:c.getProtoBody();if(Ext.isFunction(b)){b=b()}if(arguments.length==1){if(Ext.isString(b)){b=Ext.Element.parseStyles(b)}a.setStyle(b)}else{a.setStyle(b,d)}return c},setBorder:function(a,c){if(c){return}var b=this,d=b.header;if(!a){a=0}else{if(a===true){a="1px"}else{a=b.unitizeBox(a)}}if(d){if(d.isHeader){d.setBorder(a)}else{d.border=a}}if(b.rendered&&b.bodyBorder!==false){b.body.setStyle("border-width",a)}b.updateLayout();b.border=a},setHiddenDocked:function(){var g=this,d=g.hiddenOnCollapse,c=g.getDockedItems(),a=c.length,e=0,f,b;if(g.header!==false){b=g.getReExpander()}d.add(g.body);for(;e<a;e++){f=c[e];if(f&&f!==b&&f.el){d.add(f.el)}}d.setStyle("visibility","hidden")},setUI:function(b){var a=this;a.callParent(arguments);if(a.header&&a.header.rendered){a.header.setUI(b)}},toggleCollapse:function(){return(this.collapsed||this.floatedFromCollapse)?this.expand():this.collapse()},updateCollapseTool:function(){var b=this,a=b.collapseTool;if(!a&&b.collapsible){b.collapseDirection=b.collapseDirection||b.getHeaderPosition()||"top";b.collapseTool=b.expandTool=a=Ext.widget({xtype:"tool",handler:b.toggleCollapse,scope:b})}if(a){if(b.collapsed&&!b.isPlaceHolderCollapse()){a.setType("expand-"+b.getOppositeDirection(b.collapseDirection))}else{a.setType("collapse-"+b.collapseDirection)}}},updateGlyph:function(c,a){var b=this,e=b.header,d=b.placeholder;if(e){if(e.isHeader){e.setGlyph(c)}else{e.glyph=c}}else{if(!b._updatingHeader){b.updateHeader()}}if(d&&d.setGlyph){d.setIcon(c)}b.fireEvent("glyphchange",b,c,a)},updateHeaderPosition:function(a){var b=this.header;if(b&&b.isHeader){b.setDock(a)}},updateIcon:function(a,c){var b=this,e=b.header,d=b.placeholder;if(e){if(e.isHeader){e.setIcon(a)}else{e.icon=a}}else{if(!b._updatingHeader){b.updateHeader()}}if(d&&d.setIcon){d.setIcon(a)}b.fireEvent("iconchange",b,a,c)},updateIconAlign:function(b){var a=this.header;if(a&&a.isHeader){a.setIconAlign(b)}},updateIconCls:function(b,a){var c=this,e=c.header,d=c.placeholder;if(e){if(e.isHeader){e.setIconCls(b)}else{e.iconCls=b}}else{if(!c._updatingHeader){c.updateHeader()}}if(d&&d.setIconCls){d.setIconCls(b)}c.fireEvent("iconclschange",c,b,a)},updateTitle:function(e,b){var c=this,f=c.header,a=c.reExpander,d=c.placeholder;if(f){if(f.isHeader){f.setTitle(e)}else{f.title=e}}else{if(c.rendered){c.updateHeader()}}if(a){a.setTitle(e)}if(d&&d.setTitle){d.setTitle(e)}c.fireEvent("titlechange",c,e,b)},updateTitleAlign:function(b){var a=this.header;if(a&&a.isHeader){a.setTitleAlign(b)}},updateTitleRotation:function(a){var b=this.header;if(b&&b.isHeader){b.setTitleRotation(a)}},unghost:function(c,a,b){var e=this,d=e.ghostPanel;if(!d){return}if(c!==false){e.el.show();if(a!==false){e.setPagePosition(d.getXY());if(e.hideMode==="offsets"){delete e.el.hideModeStyles}}if(b){e.focus(false,10)}}d.el.hide();d.setHiddenState(true)},updateHeader:function(a){this._updatingHeader=true;var g=this,d=g.header,k=g.getTitle(),f=g.tools,j=g.getIcon(),h=g.getGlyph(),l=g.getIconCls(),c=h||j||l,e=g.getHeaderPosition(),b=e==="left"||e==="right";if(Ext.isObject(d)||(d!==false&&(a||(k||c)||(f&&f.length)||(g.collapsible&&!g.titleCollapse)))){if(d&&d.isHeader){d.show()}else{d=g.header=Ext.widget(Ext.merge({xtype:"header",title:k,titleAlign:g.getTitleAlign(),vertical:b,dock:g.getHeaderPosition()||"top",titleRotation:g.getTitleRotation(),textCls:g.headerTextCls,iconCls:l,iconAlign:g.getIconAlign(),icon:j,glyph:h,baseCls:g.baseCls+"-header",tools:f,ui:g.ui,id:g.id+"_header",overCls:g.headerOverCls,indicateDrag:g.draggable,frame:(g.frame||g.alwaysFramed)&&g.frameHeader,ignoreParentFrame:g.frame||g.overlapHeader,ignoreBorderManagement:g.frame||g.ignoreHeaderBorderManagement,headerRole:g.headerRole,ownerCt:g,synthetic:true,listeners:g.collapsible&&g.titleCollapse?{click:g.toggleCollapse,scope:g}:null},g.header));g.addDocked(d,0)}}else{if(d){d.hide()}}g._updatingHeader=false},privates:{addUIToElement:function(){var a=this;a.callParent(arguments);a.addBodyCls(a.baseCls+"-body-"+a.ui)},applyTargetCls:function(a){this.getProtoBody().addCls(a)},getDefaultContentTarget:function(){return this.body},getFocusEl:function(){return this.el},getTargetEl:function(){var a=this;return a.body||a.protoBody||a.frameBody||a.el},getWidthAuthority:function(){if(this.collapsed&&this.collapsedHorizontal()){return 1}return this.callParent()},initDraggable:function(){var a=this;if(a.simpleDrag){a.initSimpleDraggable()}else{a.dd=new Ext.panel.DD(a,Ext.isBoolean(a.draggable)?null:a.draggable)}},initResizable:function(){this.callParent(arguments);if(this.collapsed){this.resizer.disable()}},initSimpleDraggable:function(){var c=this,b,a;if(!c.header){c.updateHeader(true)}if(c.header){b=Ext.applyIf({el:c.el,delegate:"#"+c.header.id},c.draggable);if(c.constrain||c.constrainHeader){b.constrain=c.constrain;b.constrainDelegate=c.constrainHeader;b.constrainTo=c.constrainTo||c.container}a=c.dd=new Ext.util.ComponentDragger(c,b);c.relayEvents(a,["dragstart","drag","dragend"]);if(c.maximized){a.disable()}}},removeUIFromElement:function(){var a=this;a.callParent(arguments);a.removeBodyCls(a.baseCls+"-body-"+a.ui)},setupRenderTpl:function(a){this.callParent(arguments);this.setupDockingRenderTpl(a)},slideOutFloatedPanel:function(a){var b=this,d=b.el,c;if(b.isSliding||b.isDestroyed){return}b.isSliding=true;b.floated=false;b.slideOutFloatedPanelBegin();if(typeof b.collapsed=="string"){c=b.convertCollapseDir(b.collapsed)}d.slideOut(c,{preserveScroll:true,duration:Ext.Number.from(b.animCollapse,Ext.fx.Anim.prototype.duration),autoEnd:a===true,listeners:{afteranimate:function(){b.slideOutFloatedPanelEnd();b.el.removeCls(Ext.baseCSSPrefix+"border-region-slide-in")}}})},slideOutFloatedPanelBegin:function(){var b=this,c=b.placeholder.el,a=b.el;b.collapsed=b.floatedFromCollapse;b.setHiddenState(true);b.floatedFromCollapse=null;c.un("mouseleave",b.onMouseLeaveFloated,b);a.un("mouseleave",b.onMouseLeaveFloated,b);c.un("mouseenter",b.onMouseEnterFloated,b);a.un("mouseenter",b.onMouseEnterFloated,b)},slideOutFloatedPanelEnd:function(a){var b=this;if(b.collapseTool){b.collapseTool.el.show()}b.slideOutTask.cancel();b.isSliding=false;if(!a){b.fireEvent("unfloat",b)}}}},function(){var a=this.prototype;a.animCollapse=Ext.enableFx;a.placeholderCollapseHideMode=Ext.Element.VISIBILITY});Ext.define("Ext.tip.Tip",{extend:Ext.panel.Panel,alias:"widget.tip",alternateClassName:"Ext.Tip",minWidth:40,maxWidth:500,shadow:"sides",defaultAlign:"tl-bl?",constrainPosition:true,autoRender:true,hidden:true,baseCls:Ext.baseCSSPrefix+"tip",floating:{shadow:true,shim:true},focusOnToFront:false,closeAction:"hide",alwaysFramed:true,frameHeader:false,initComponent:function(){var a=this;a.floating=Ext.apply({},{shadow:a.shadow,constrain:a.constrainPosition},a.self.prototype.floating);a.callParent(arguments);a.constrain=a.constrain||a.constrainPosition},showAt:function(b){var a=this;this.callParent(arguments);if(a.isVisible()){a.setPagePosition(b[0],b[1]);if(a.constrainPosition||a.constrain){a.doConstrain()}a.toFront(true)}},privates:{initDraggable:function(){var a=this;a.draggable={el:a.getDragEl(),delegate:a.header.el,constrain:a,constrainTo:a.el.dom.parentNode};Ext.Component.prototype.initDraggable.call(a)}},ghost:undefined,unghost:undefined});Ext.define("Ext.tip.ToolTip",{extend:Ext.tip.Tip,alias:"widget.tooltip",alternateClassName:"Ext.ToolTip",autoHide:true,showDelay:500,hideDelay:200,dismissDelay:5000,trackMouse:false,anchorToTarget:true,anchorOffset:0,targetCounter:0,quickShowInterval:250,hideAction:"hide",fadeOutDuration:1000,ariaRole:"tooltip",initComponent:function(){var a=this;a.callParent(arguments);a.lastActive=new Date();a.setTarget(a.target);a.origAnchor=a.anchor},onRender:function(b,a){var c=this;c.callParent(arguments);c.anchorCls=Ext.baseCSSPrefix+"tip-anchor-"+c.getAnchorPosition();if(c.sticky){c.el.dom.setAttribute("data-sticky",true)}c.anchorEl=c.el.createChild({role:"presentation",cls:Ext.baseCSSPrefix+"tip-anchor "+c.anchorCls})},setTarget:function(d){var b=this,a=Ext.get(d),c;if(b.target){c=Ext.get(b.target);if(Ext.supports.Touch){b.mun(c,"tap",b.onTargetOver,b)}else{b.mun(c,{mouseover:b.onTargetOver,mouseout:b.onTargetOut,mousemove:b.onMouseMove,scope:b})}}b.target=a;if(a){if(Ext.supports.Touch){b.mon(a,{tap:b.onTargetOver,scope:b})}else{b.mon(a,{mouseover:b.onTargetOver,mouseout:b.onTargetOut,mousemove:b.onMouseMove,scope:b})}}if(b.anchor){b.anchorTarget=b.target}},onMouseMove:function(d){var b=this,a,c;if(!b.target||b.target.contains(d.target)){a=b.delegate?d.getTarget(b.delegate):b.triggerElement=true;if(a){b.targetXY=d.getXY();if(a===b.triggerElement){if(!b.hidden&&b.trackMouse){c=b.getTargetXY();if(b.constrainPosition){c=b.el.adjustForConstraints(c,b.el.parent())}b.setPagePosition(c)}}else{b.hide();b.lastActive=new Date(0);b.onTargetOver(d)}}else{if((!b.closable&&b.isVisible())&&b.autoHide!==false){b.delayHide()}}}},getTargetXY:function(){var j=this,d,c,n,a,h,l,e,m,k,b,g,f;if(j.delegate){j.anchorTarget=j.triggerElement}if(j.anchor){j.targetCounter++;c=j.getOffsets();n=(j.anchorToTarget&&!j.trackMouse)?j.getAlignToXY(j.anchorTarget,j.getAnchorAlign()):j.targetXY;a=Ext.Element.getViewportWidth()-5;h=Ext.Element.getViewportHeight()-5;l=document.documentElement;e=document.body;m=(l.scrollLeft||e.scrollLeft||0)+5;k=(l.scrollTop||e.scrollTop||0)+5;b=[n[0]+c[0],n[1]+c[1]];g=j.getSize();f=j.constrainPosition;j.anchorEl.removeCls(j.anchorCls);if(j.targetCounter<2&&f){if(b[0]<m){if(j.anchorToTarget){j.defaultAlign="l-r";if(j.mouseOffset){j.mouseOffset[0]*=-1}}j.anchor="left";return j.getTargetXY()}if(b[0]+g.width>a){if(j.anchorToTarget){j.defaultAlign="r-l";if(j.mouseOffset){j.mouseOffset[0]*=-1}}j.anchor="right";return j.getTargetXY()}if(b[1]<k){if(j.anchorToTarget){j.defaultAlign="t-b";if(j.mouseOffset){j.mouseOffset[1]*=-1}}j.anchor="top";return j.getTargetXY()}if(b[1]+g.height>h){if(j.anchorToTarget){j.defaultAlign="b-t";if(j.mouseOffset){j.mouseOffset[1]*=-1}}j.anchor="bottom";return j.getTargetXY()}}j.anchorCls=Ext.baseCSSPrefix+"tip-anchor-"+j.getAnchorPosition();j.anchorEl.addCls(j.anchorCls);j.targetCounter=0;return b}else{d=j.getMouseOffset();return(j.targetXY)?[j.targetXY[0]+d[0],j.targetXY[1]+d[1]]:d}},getMouseOffset:function(){var a=this,b=a.anchor?[0,0]:[15,18];if(a.mouseOffset){b[0]+=a.mouseOffset[0];b[1]+=a.mouseOffset[1]}return b},fadeOut:function(){var a=this;a.el.fadeOut({duration:a.fadeOutDuration,callback:function(){a.hide();a.el.setOpacity("")}})},getAnchorPosition:function(){var b=this,a;if(b.anchor){b.tipAnchor=b.anchor.charAt(0)}else{a=b.defaultAlign.match(/^([a-z]+)-([a-z]+)(\?)?$/);if(!a){Ext.Error.raise('The AnchorTip.defaultAlign value "'+b.defaultAlign+'" is invalid.')}b.tipAnchor=a[1].charAt(0)}switch(b.tipAnchor){case"t":return"top";case"b":return"bottom";case"r":return"right"}return"left"},getAnchorAlign:function(){switch(this.anchor){case"top":return"tl-bl";case"left":return"tl-tr";case"right":return"tr-tl";default:return"bl-tl"}},getOffsets:function(){var c=this,d,b,a=c.getAnchorPosition().charAt(0);if(c.anchorToTarget&&!c.trackMouse){switch(a){case"t":b=[0,9];break;case"b":b=[0,-13];break;case"r":b=[-13,0];break;default:b=[9,0];break}}else{switch(a){case"t":b=[-15-c.anchorOffset,30];break;case"b":b=[-19-c.anchorOffset,-13-c.el.dom.offsetHeight];break;case"r":b=[-15-c.el.dom.offsetWidth,-13-c.anchorOffset];break;default:b=[25,-13-c.anchorOffset];break}}d=c.getMouseOffset();b[0]+=d[0];b[1]+=d[1];return b},onTargetOver:function(d){var c=this,b=c.delegate,a;if(c.disabled||d.within(c.target.dom,true)){return}a=b?d.getTarget(b):true;if(a){c.triggerElement=a;c.triggerEvent=d;c.clearTimer("hide");c.targetXY=d.getXY();c.delayShow()}},delayShow:function(c){var a=this,b=a.el&&(c===false||!a.trackMouse)&&a.getTargetXY();if(a.hidden&&!a.showTimer){if(Ext.Date.getElapsed(a.lastActive)<a.quickShowInterval){a.show()}else{a.showTimer=Ext.defer(a.showFromDelay,a.showDelay,a,[b])}}else{if(!a.hidden&&a.autoHide!==false){a.show(b)}}},showFromDelay:function(a){this.fromDelayShow=true;this.show(a);delete this.fromDelayShow},onShowVeto:function(){this.callParent();delete this.triggerElement;this.clearTimer("show")},onTargetOut:function(d){var b=this,a=b.triggerElement,c=a===true?b.target:a;if(b.disabled||!a||d.within(c,true)){return}if(b.showTimer){b.clearTimer("show");b.triggerElement=null}if(b.autoHide!==false){b.delayHide()}},delayHide:function(){var a=this;if(!a.hidden&&!a.hideTimer){a.hideTimer=Ext.defer(a[a.hideAction],a.hideDelay,a)}},hide:function(){var a=this;a.clearTimer("dismiss");a.lastActive=new Date();if(a.anchorEl){a.anchorEl.hide()}a.callParent(arguments);delete a.triggerElement},show:function(b){var a=this;this.callParent();if(this.hidden===false){if(a.anchor){a.anchor=a.origAnchor}if(!a.calledFromShowAt){a.showAt(b||a.getTargetXY())}if(a.anchor){a.syncAnchor();a.anchorEl.show()}else{a.anchorEl.hide()}}},showAt:function(b){var a=this;a.lastActive=new Date();a.clearTimers();a.calledFromShowAt=true;if(!a.isVisible()){this.callParent(arguments)}if(a.isVisible()){a.setPagePosition(b[0],b[1]);if(a.constrainPosition||a.constrain){a.doConstrain()}a.toFront(true);a.el.sync(true);if(a.dismissDelay&&a.autoHide!==false){a.dismissTimer=Ext.defer(a.hide,a.dismissDelay,a)}if(a.anchor){a.syncAnchor();if(!a.anchorEl.isVisible()){a.anchorEl.show()}}else{a.anchorEl.hide()}}delete a.calledFromShowAt},syncAnchor:function(){var c=this,a,b,d;switch(c.tipAnchor.charAt(0)){case"t":a="b";b="tl";d=[20+c.anchorOffset,1];break;case"r":a="l";b="tr";d=[-1,12+c.anchorOffset];break;case"b":a="t";b="bl";d=[20+c.anchorOffset,-1];break;default:a="r";b="tl";d=[1,12+c.anchorOffset];break}c.anchorEl.alignTo(c.el,a+"-"+b,d);c.anchorEl.setStyle("z-index",parseInt(c.el.getZIndex(),10)||0+1).setVisibilityMode(Ext.Element.DISPLAY)},setPagePosition:function(a,c){var b=this;b.callParent(arguments);if(b.anchor){b.syncAnchor()}},_timerNames:{},clearTimer:function(a){var b=this,d=b._timerNames,c=d[a]||(d[a]=a+"Timer"),e=b[c];if(e){clearTimeout(e);b[c]=null}},clearTimers:function(){var a=this;a.clearTimer("show");a.clearTimer("dismiss");a.clearTimer("hide")},onShow:function(){var a=this;a.callParent();a.mon(Ext.getDoc(),"mousedown",a.onDocMouseDown,a)},onHide:function(){var a=this;a.callParent();a.mun(Ext.getDoc(),"mousedown",a.onDocMouseDown,a)},onDocMouseDown:function(b){var a=this;if(!a.closable&&!b.within(a.el.dom)){a.disable();Ext.defer(a.doEnable,100,a)}},doEnable:function(){if(!this.isDestroyed){this.enable()}},onDisable:function(){this.callParent();this.clearTimers();this.hide()},beforeDestroy:function(){var a=this;a.clearTimers();Ext.destroy(a.anchorEl);delete a.anchorEl;delete a.target;delete a.anchorTarget;delete a.triggerElement;a.callParent()},onDestroy:function(){Ext.getDoc().un("mousedown",this.onDocMouseDown,this);this.callParent()}});Ext.define("Ext.tip.QuickTip",{extend:Ext.tip.ToolTip,alias:"widget.quicktip",alternateClassName:"Ext.QuickTip",interceptTitles:false,title:"&#160;",tagConfig:{namespace:"data-",attribute:"qtip",width:"qwidth",target:"target",title:"qtitle",hide:"hide",cls:"qclass",align:"qalign",anchor:"anchor",showDelay:"qshowDelay",hideAction:"hideAction",anchorTarget:"anchorTarget"},shrinkWrapDock:true,initComponent:function(){var a=this;a.target=a.target||Ext.getDoc();a.targets=a.targets||{};a.callParent()},register:function(c){var g=Ext.isArray(c)?c:arguments,d=0,a=g.length,f,b,e;for(;d<a;d++){c=g[d];f=c.target;if(f){if(Ext.isArray(f)){for(b=0,e=f.length;b<e;b++){this.targets[Ext.id(f[b])]=c}}else{this.targets[Ext.id(f)]=c}}}},unregister:function(a){delete this.targets[Ext.id(a)]},cancelShow:function(a){var b=this,c=b.activeTarget;a=Ext.get(a).dom;if(b.isVisible()){if(c&&c.el===a){b.hide()}}else{if(c&&c.el===a){b.clearTimer("show")}}},getTipCfg:function(e,d){var c=e.title,b,a,f;if(this.interceptTitles&&c&&Ext.isString(c)){e.qtip=c;e.removeAttribute("title");if(d){d.preventDefault()}return{text:c}}else{b=this.tagConfig;a=b.attr||(b.attr=b.namespace+b.attribute);e=Ext.fly(e).findParent(function(g){return f=g.getAttribute(a)});if(e){return{target:e,text:f}}}},onTargetOver:function(a){this.doTargetOver(a.getTarget(this.delegate),null,a)},doTargetOver:function(j,q,b){var k=this,a,e,f,c,h,l,d,n,g,p,m,o;if(k.disabled){return}if(typeof j==="string"){j=Ext.getDom(j)}k.targetXY=q||(b?b.getXY():Ext.fly(j).getXY());if(!j||j.nodeType!==1||j==document.documentElement||j==document.body){return}if(k.activeTarget&&((j===k.activeTarget.el)||Ext.fly(k.activeTarget.el).contains(j))){if(k.targetTextEmpty()){k.onShowVeto();delete k.activeTarget}else{k.clearTimer("hide");k.show()}return}if(j){g=k.targets;for(o in g){if(g.hasOwnProperty(o)){m=g[o];p=Ext.fly(m.target);if(p&&(p.dom===j||p.contains(j))){c=p.dom;break}}}if(c){k.activeTarget=k.targets[c.id];k.activeTarget.el=j;k.anchor=k.activeTarget.anchor;if(k.anchor){k.anchorTarget=j}a=parseInt(k.activeTarget.showDelay,10);if(a){f=k.showDelay;k.showDelay=a}k.delayShow();if(a){k.showDelay=f}if(!(e=k.activeTarget.hideAction)){delete k.hideAction}else{k.hideAction=e}return}}c=Ext.fly(j,"_quicktip-target");h=k.tagConfig;l=h.namespace;d=k.getTipCfg(j,b);if(d){if(d.target){j=d.target;c=Ext.fly(j,"_quicktip-target")}n=c.getAttribute(l+h.hide);k.activeTarget={el:j,text:d.text,width:+c.getAttribute(l+h.width)||null,autoHide:n!="user"&&n!=="false",title:c.getAttribute(l+h.title),cls:c.getAttribute(l+h.cls),align:c.getAttribute(l+h.align),showDelay:parseInt(c.getAttribute(l+h.showDelay)||0,10),hideAction:c.getAttribute(l+h.hideAction),anchorTarget:c.getAttribute(l+h.anchorTarget)};if(!k.initialConfig.hasOwnProperty("anchor")){k.anchor=c.getAttribute(l+h.anchor)}if(k.anchor&&!k.initialConfig.hasOwnProperty("anchorTarget")){k.anchorTarget=k.activeTarget.anchorTarget||j}a=parseInt(k.activeTarget.showDelay,10);if(a){f=k.showDelay;k.showDelay=a}k.delayShow();if(a){k.showDelay=f}}},onTargetOut:function(f){var c=this,d=c.activeTarget,a,b;if(d&&f.within(c.activeTarget.el)&&!c.getTipCfg(f.getTarget(),f)){return}c.clearTimer("show");delete c.activeTarget;if(c.autoHide!==false){a=d&&parseInt(d.hideDelay,10);if(a){b=c.hideDelay;c.hideDelay=a}c.delayHide();if(a){c.hideDelay=b}}},targetTextEmpty:function(){var c=this,d=c.activeTarget,a=c.tagConfig,b,e;if(d){b=d.el;if(b){e=b.getAttribute(a.namespace+a.attribute);if(!e&&!c.targets[Ext.id(d.target)]){return true}}}return false},show:function(){var b=this,a=b.fromDelayShow;if(a&&b.targetTextEmpty()){b.onShowVeto();delete b.activeTarget;return}b.callParent(arguments)},showAt:function(e){var c=this,d=c.activeTarget,f=c.header,b,a;if(d){if(!c.rendered){c.render(Ext.getBody());c.activeTarget=d}c.suspendLayouts();if(d.title){c.setTitle(d.title);f.show()}else{if(f){f.hide()}}c.update(d.text);c.autoHide=d.autoHide;b=d.dismissDelay;c.dismissDelay=Ext.isNumber(b)?b:c.dismissDelay;if(d.mouseOffset){e[0]+=d.mouseOffset[0];e[1]+=d.mouseOffset[1]}a=c.lastCls;if(a){c.removeCls(a);delete c.lastCls}a=d.cls;if(a){c.addCls(a);c.lastCls=a}c.setWidth(d.width);if(c.anchor){c.constrainPosition=false}else{if(d.align){e=c.getAlignToXY(d.el,d.align);c.constrainPosition=false}else{c.constrainPosition=true}}c.resumeLayouts(true)}c.callParent([e])},hide:function(){delete this.activeTarget;this.callParent()}});Ext.define("Ext.tip.QuickTipManager",{singleton:true,alternateClassName:"Ext.QuickTips",disabled:false,init:function(e,b){var d=this;if(!d.tip){if(!Ext.isReady){Ext.onReady(function(){Ext.tip.QuickTipManager.init(e,b)});return false}var a=Ext.apply({sticky:true,disabled:d.disabled,id:"ext-quicktips-tip"},b),c=a.className,f=a.xtype;if(c){delete a.className}else{if(f){c="widget."+f;delete a.xtype}}if(e!==false){a.renderTo=document.body;if(a.renderTo.tagName.toUpperCase()!="BODY"){Ext.Error.raise({sourceClass:"Ext.tip.QuickTipManager",sourceMethod:"init",msg:"Cannot init QuickTipManager: no document body"})}}d.tip=Ext.create(c||"Ext.tip.QuickTip",a);Ext.quickTipsActive=true}},destroy:function(){Ext.destroy(this.tip);this.tip=undefined},ddDisable:function(){var a=this,b=a.tip;if(b&&!a.disabled){b.disable()}},ddEnable:function(){var a=this,b=a.tip;if(b&&!a.disabled){b.enable()}},enable:function(){var a=this,b=a.tip;if(b){b.enable()}a.disabled=false},disable:function(){var a=this,b=a.tip;if(b){b.disable()}a.disabled=true},isEnabled:function(){var a=this.tip;return a!==undefined&&!a.disabled},getQuickTip:function(){return this.tip},register:function(){var a=this.tip;a.register.apply(a,arguments)},unregister:function(){var a=this.tip;a.unregister.apply(a,arguments)},tips:function(){var a=this.tip;a.register.apply(a,arguments)}});Ext.define("Ext.app.domain.View",{extend:Ext.app.EventDomain,isInstance:true,constructor:function(a){this.callParent(arguments);this.controller=a;this.monitoredClasses=[Ext.Component]},match:function(d,a,b){var c=false;if(a==="#"){c=b===d.getController()}else{c=d.is(a)}return c},destroy:function(){this.controller=null;this.callParent()}});Ext.define("Ext.app.ViewController",{extend:Ext.app.BaseController,mixins:[Ext.mixin.Factoryable],isViewController:true,factoryConfig:{type:"controller"},config:{closeViewAction:"destroy"},constructor:function(){this.compDomain=new Ext.app.domain.View(this);this.callParent(arguments)},beforeInit:Ext.emptyFn,init:Ext.emptyFn,initViewModel:Ext.emptyFn,destroy:function(){var a=this,b=a.compDomain;if(b){b.unlisten(a);b.destroy()}a.compDomain=a.view=null;a.callParent()},closeView:function(){var a=this.getView(),b;if(a){b=this.getCloseViewAction();a[b]()}},control:function(a,b){var c=a;if(Ext.isString(a)){c={};c[a]=b}this.compDomain.listen(c,this)},listen:function(c,a){var b=c.component;if(b){c=Ext.apply({},c);delete c.component;this.control(b)}this.callParent([c,a])},getReferences:function(){return this.view.getReferences()},getView:function(){return this.view},lookupReferenceHolder:function(){var a=this.view;return a&&a.lookupReferenceHolder()},lookupReference:function(b){var a=this.view;return a&&a.lookupReference(b)},getSession:function(){var a=this.view;return a&&a.lookupSession()},getViewModel:function(){var a=this.view;return a&&a.lookupViewModel()},getStore:function(b){var a=this.getViewModel();return a?a.getStore(b):null},fireViewEvent:function(c){var b=this.view,a=false;if(b){a=b.fireEvent.apply(b,arguments)}return a},privates:{view:null,ensureId:function(){var a=this.getId();if(!a){this.setId(Ext.id(null,"controller-"))}},attachReference:function(b){var a=this.view;if(a){a.attachReference(b)}},clearReference:function(b){var a=this.view;if(a){a.clearReference(b)}},clearReferences:function(){var a=this.view;if(a){a.clearReferences()}},setView:function(a){this.view=a;if(!this.beforeInit.$nullFn){this.beforeInit()}}}});Ext.define("Ext.form.Labelable",{extend:Ext.Mixin,isLabelable:true,mixinConfig:{id:"labelable",on:{beforeRender:"beforeLabelRender",onRender:"onLabelRender"}},config:{childEls:["labelEl","bodyEl","errorEl","errorWrapEl"]},labelableRenderTpl:["{beforeLabelTpl}",'<label id="{id}-labelEl" data-ref="labelEl" class="{labelCls} {labelCls}-{ui} {labelClsExtra} ','{unselectableCls}" style="{labelStyle}"<tpl if="inputId">',' for="{inputId}"</tpl> {labelAttrTpl}>','<span class="{labelInnerCls} {labelInnerCls}-{ui}" style="{labelInnerStyle}">',"{beforeLabelTextTpl}",'<tpl if="fieldLabel">{fieldLabel}','<tpl if="labelSeparator">','<span role="separator">{labelSeparator}</span>',"</tpl>","</tpl>","{afterLabelTextTpl}","</span>","</label>","{afterLabelTpl}",'<div id="{id}-bodyEl" data-ref="bodyEl" class="{baseBodyCls} {baseBodyCls}-{ui}<tpl if="fieldBodyCls">',' {fieldBodyCls} {fieldBodyCls}-{ui}</tpl> {growCls} {extraFieldBodyCls}"','<tpl if="bodyStyle"> style="{bodyStyle}"</tpl>>',"{beforeBodyEl}","{beforeSubTpl}","{[values.$comp.getSubTplMarkup(values)]}","{afterSubTpl}","{afterBodyEl}","</div>",'<tpl if="renderError">','<div id="{id}-errorWrapEl" data-ref="errorWrapEl" class="{errorWrapCls} {errorWrapCls}-{ui}',' {errorWrapExtraCls}" style="{errorWrapStyle}">','<div role="alert" aria-live="polite" id="{id}-errorEl" data-ref="errorEl" ','class="{errorMsgCls} {invalidMsgCls} {invalidMsgCls}-{ui}" ','data-anchorTarget="{id}-inputEl">',"</div>","</div>","</tpl>",{disableFormats:true}],activeErrorsTpl:undefined,htmlActiveErrorsTpl:['<tpl if="errors && errors.length">','<ul class="{listCls}">','<tpl if="Ext.enableAria">','<tpl if="fieldLabel"><div>{fieldLabel}</div></tpl>',"</tpl>",'<tpl for="errors"><li>{.}</li></tpl>',"</ul>","</tpl>"],plaintextActiveErrorsTpl:['<tpl if="errors && errors.length">','<tpl if="Ext.enableAria">','<tpl if="fieldLabel">{fieldLabel}\n</tpl>',"</tpl>",'<tpl for="errors"><tpl if="xindex &gt; 1">\n</tpl>{.}</tpl>',"</tpl>"],isFieldLabelable:true,formItemCls:Ext.baseCSSPrefix+"form-item",labelCls:Ext.baseCSSPrefix+"form-item-label",topLabelCls:Ext.baseCSSPrefix+"form-item-label-top",rightLabelCls:Ext.baseCSSPrefix+"form-item-label-right",labelInnerCls:Ext.baseCSSPrefix+"form-item-label-inner",topLabelSideErrorCls:Ext.baseCSSPrefix+"form-item-label-top-side-error",errorMsgCls:Ext.baseCSSPrefix+"form-error-msg",errorWrapCls:Ext.baseCSSPrefix+"form-error-wrap",errorWrapSideCls:Ext.baseCSSPrefix+"form-error-wrap-side",errorWrapUnderCls:Ext.baseCSSPrefix+"form-error-wrap-under",errorWrapUnderSideLabelCls:Ext.baseCSSPrefix+"form-error-wrap-under-side-label",baseBodyCls:Ext.baseCSSPrefix+"form-item-body",invalidIconCls:Ext.baseCSSPrefix+"form-invalid-icon",invalidUnderCls:Ext.baseCSSPrefix+"form-invalid-under",fieldBodyCls:"",invalidCls:Ext.baseCSSPrefix+"form-invalid",fieldLabel:undefined,labelAlign:"left",labelWidth:100,labelPad:5,labelSeparator:":",hideLabel:false,hideEmptyLabel:true,preventMark:false,autoFitErrors:true,msgTarget:"qtip",msgTargets:{qtip:1,title:1,under:1,side:1,none:1},noWrap:true,labelableInsertions:["beforeBodyEl","afterBodyEl","beforeLabelTpl","afterLabelTpl","beforeSubTpl","afterSubTpl","beforeLabelTextTpl","afterLabelTextTpl","labelAttrTpl"],statics:{initTip:function(){var b=this.tip,a;if(!b){a={id:"ext-form-error-tip",sticky:true,ui:"form-invalid"};if(Ext.supports.Touch){a.dismissDelay=0;a.anchor="top";a.showDelay=0;a.listeners={beforeshow:function(){this.minWidth=Ext.fly(this.anchorTarget).getWidth()}}}b=this.tip=Ext.create("Ext.tip.QuickTip",a);b.tagConfig=Ext.apply({},{attribute:"errorqtip"},b.tagConfig)}}},initLabelable:function(){var a=this,b=a.padding;if(b){a.padding=undefined;a.extraMargins=Ext.Element.parseBox(b)}if(!a.activeErrorsTpl){if(a.msgTarget=="title"){a.activeErrorsTpl=a.plaintextActiveErrorsTpl}else{a.activeErrorsTpl=a.htmlActiveErrorsTpl}}a.addCls([a.formItemCls,a.formItemCls+"-"+a.ui]);a.lastActiveError="";a.enableBubble("errorchange")},trimLabelSeparator:function(){var c=this,d=c.labelSeparator,a=c.fieldLabel||"",b=a.substr(a.length-1);return b===d?a.slice(0,-1):a},getFieldLabel:function(){return this.trimLabelSeparator()},setFieldLabel:function(c){c=c||"";var d=this,e=d.labelSeparator,b=d.labelEl,a=d.errorWrapEl,f=d.errorWrapUnderSideLabelCls;d.fieldLabel=c;if(d.rendered){if(Ext.isEmpty(c)&&d.hideEmptyLabel){b.setDisplayed("none");if(a){a.removeCls(f)}}else{if(e){c=d.trimLabelSeparator()+'<span role="separator">'+e+"</span>"}b.first().setHtml(c);b.setDisplayed("");if(a){a.addCls(f)}}d.updateLayout()}},getInsertionRenderData:function(d,e){var b=e.length,a,c;while(b--){a=e[b];c=this[a];if(c){if(typeof c!="string"){if(!c.isTemplate){c=Ext.XTemplate.getTpl(this,a)}c=c.apply(d)}}d[a]=c||""}return d},getLabelableRenderData:function(){var p=this,s=p.labelAlign,e=(s==="top"),m=(s==="right"),j=(p.msgTarget==="side"),f=(p.msgTarget==="under"),r=p.errorMsgCls,g=p.labelPad,o=p.labelWidth,b=p.labelClsExtra||"",h=j?p.errorWrapSideCls:p.errorWrapUnderCls,a="",l="",d=p.hasVisibleLabel(),n=p.autoFitErrors,k=p.defaultBodyWidth,c,q;if(e){b+=" "+p.topLabelCls;if(g){l="padding-bottom:"+g+"px;"}if(j&&!n){b+=" "+p.topLabelSideErrorCls}}else{if(m){b+=" "+p.rightLabelCls}if(g){a+=p.getHorizontalPaddingStyle()+g+"px;"}a+="width:"+(o+(g?g:0))+"px;";l="width:"+o+"px"}if(d){if(!e&&f){h+=" "+p.errorWrapUnderSideLabelCls}}else{a+="display:none"}if(k){c="min-width:"+k+"px;max-width:"+k+"px;"}q={id:p.id,inputId:p.getInputId(),labelCls:p.labelCls,labelClsExtra:b,labelStyle:a,labelInnerStyle:l,labelInnerCls:p.labelInnerCls,unselectableCls:Ext.Element.unselectableCls,bodyStyle:c,baseBodyCls:p.baseBodyCls,fieldBodyCls:p.fieldBodyCls,extraFieldBodyCls:p.extraFieldBodyCls,errorWrapCls:p.errorWrapCls,errorWrapExtraCls:h,renderError:j||f,invalidMsgCls:j?p.invalidIconCls:f?p.invalidUnderCls:"",errorMsgCls:r,growCls:p.grow?p.growCls:"",errorWrapStyle:(j&&!n)?"visibility:hidden":"display:none",fieldLabel:p.getFieldLabel(),labelSeparator:p.labelSeparator};p.getInsertionRenderData(q,p.labelableInsertions);return q},getHorizontalPaddingStyle:function(){return"padding-right:"},beforeLabelRender:function(){var a=this;a.setFieldDefaults(a.getInherited().fieldDefaults);if(a.ownerLayout){a.addCls(Ext.baseCSSPrefix+a.ownerLayout.type+"-form-item")}},onLabelRender:function(){var d=this,c={},f=Ext.Element,a=d.errorWrapEl,e,b;if(a){a.setVisibilityMode((d.msgTarget==="side"&&!d.autoFitErrors)?f.VISIBILITY:f.DISPLAY)}if(d.extraMargins){e=d.el.getMargin();for(b in e){if(e.hasOwnProperty(b)){c["margin-"+b]=(e[b]+d.extraMargins[b])+"px"}}d.el.setStyle(c)}},hasVisibleLabel:function(){if(this.hideLabel){return false}return !(this.hideEmptyLabel&&!this.getFieldLabel())},getSubTplMarkup:function(){return""},getInputId:function(){return""},getActiveError:function(){return this.activeError||""},hasActiveError:function(){return !!this.getActiveError()},setActiveError:function(a){this.setActiveErrors(a)},getActiveErrors:function(){return this.activeErrors||[]},setActiveErrors:function(g){var e=this,f=e.errorWrapEl,c=e.msgTarget,b=c==="side",j=c==="qtip",a,d,h;g=Ext.Array.from(g);d=e.getTpl("activeErrorsTpl");e.activeErrors=g;a=e.activeError=d.apply({fieldLabel:e.fieldLabel,errors:g,listCls:Ext.plainListCls});e.renderActiveError();if(e.rendered){if(b){e.errorEl.dom.setAttribute("data-errorqtip",a)}else{if(j){e.getActionEl().dom.setAttribute("data-errorqtip",a)}else{if(c==="title"){e.getActionEl().dom.setAttribute("title",a)}}}if(b||j){Ext.form.Labelable.initTip()}if(!e.msgTargets[c]){h=Ext.get(c);if(h){h.dom.innerHTML=a}}}if(f){f.setVisible(g.length>0);if(b&&e.autoFitErrors){e.labelEl.addCls(e.topLabelSideErrorCls)}e.updateLayout()}},unsetActiveError:function(){var c=this,a=c.errorWrapEl,b=c.msgTarget,d;delete c.activeError;delete c.activeErrors;c.renderActiveError();if(c.rendered){if(b==="qtip"){c.getActionEl().dom.removeAttribute("data-errorqtip")}else{if(b==="title"){c.getActionEl().dom.removeAttribute("title")}}if(!c.msgTargets[b]){d=Ext.get(b);if(d){d.dom.innerHTML=""}}if(a){a.hide();if(b==="side"&&c.autoFitErrors){c.labelEl.removeCls(c.topLabelSideErrorCls)}c.updateLayout()}}},renderActiveError:function(){var c=this,b=c.getActiveError(),a=!!b;if(b!==c.lastActiveError){c.fireEvent("errorchange",c,b);c.lastActiveError=b}if(c.rendered&&!c.isDestroyed&&!c.preventMark){c.toggleInvalidCls(a);if(c.errorEl){c.errorEl.dom.innerHTML=b}}},toggleInvalidCls:function(a){this.el[a?"addCls":"removeCls"](this.invalidCls)},setFieldDefaults:function(b){var a;for(a in b){if(!this.hasOwnProperty(a)){this[a]=b[a]}}}},function(){if(Ext.supports.Touch){this.prototype.msgTarget="side"}});Ext.define("Ext.form.field.Field",{mixinId:"field",isFormField:true,config:{validation:null},disabled:false,submitValue:true,validateOnChange:true,suspendCheckChange:0,dirty:false,initField:function(){this.initValue();var b=["tagName","nodeName","children","childNodes"],a=this.name;if(a&&Ext.Array.indexOf(b,a)>-1){Ext.log.warn(['It is recommended to not use "',a,'" as a field name, because it ',"can cause naming collisions during form submission."].join(""))}},initValue:function(){var a=this;a.suspendCheckChange++;a.setValue(a.value);a.suspendCheckChange--;a.originalValue=a.lastValue=a.getValue()},getFieldIdentifier:function(){return this.isEditorComponent?this.dataIndex:this.name},getName:function(){return this.name},getValue:function(){return this.value},setValue:function(b){var a=this;a.value=b;a.checkChange();return a},isEqual:function(b,a){return String(b)===String(a)},isEqualAsString:function(b,a){return String(Ext.valueFrom(b,""))===String(Ext.valueFrom(a,""))},getSubmitData:function(){var a=this,b=null;if(!a.disabled&&a.submitValue){b={};b[a.getName()]=""+a.getValue()}return b},getModelData:function(a,b){var c=this,d=null;if(!c.disabled&&(c.submitValue||!b)){d={};d[c.getFieldIdentifier()]=c.getValue()}return d},reset:function(){var a=this;a.beforeReset();a.setValue(a.originalValue);a.clearInvalid();delete a.wasValid},beforeReset:Ext.emptyFn,resetOriginalValue:function(){this.originalValue=this.getValue();this.checkDirty()},checkChange:function(){var c=this,b,a;if(!c.suspendCheckChange){b=c.getValue();a=c.lastValue;if(!c.isDestroyed&&c.didValueChange(b,a)){c.lastValue=b;c.fireEvent("change",c,b,a);c.onChange(b,a)}}},didValueChange:function(b,a){return !this.isEqual(b,a)},onChange:function(a){var b=this;if(b.validateOnChange){b.validate()}b.checkDirty();b.publishValue(a)},publishValue:function(a){if(this.rendered){this.publishState("value",a)}},isDirty:function(){var a=this;return !a.disabled&&!a.isEqual(a.getValue(),a.originalValue)},checkDirty:function(){var a=this,b=a.isDirty();if(b!==a.wasDirty){a.dirty=b;a.fireEvent("dirtychange",a,b);a.onDirtyChange(b);a.wasDirty=b}},onDirtyChange:Ext.emptyFn,getErrors:function(b){var c=[],a=this.getValidation();if(a&&a!==true){c.push(a)}return c},isValid:function(){var a=this;return a.disabled||Ext.isEmpty(a.getErrors())},validate:function(){var a=this,b=a.isValid();if(b!==a.wasValid){a.wasValid=b;a.fireEvent("validitychange",a,b)}return b},batchChanges:function(a){try{this.suspendCheckChange++;a()}catch(b){throw b}finally{this.suspendCheckChange--}this.checkChange()},isFileUpload:function(){return false},extractFileInput:function(){return null},markInvalid:Ext.emptyFn,clearInvalid:Ext.emptyFn,updateValidation:function(){this.validate()}});Ext.define("Ext.form.field.Base",{extend:Ext.Component,mixins:[Ext.form.Labelable,Ext.form.field.Field],xtype:"field",alternateClassName:["Ext.form.Field","Ext.form.BaseField"],shrinkWrap:true,fieldSubTpl:['<input id="{id}" data-ref="inputEl" type="{type}" role="{role}" {inputAttrTpl}',' size="1"','<tpl if="name"> name="{name}"</tpl>','<tpl if="value"> value="{[Ext.util.Format.htmlEncode(values.value)]}"</tpl>','<tpl if="placeholder"> placeholder="{placeholder}"</tpl>','{%if (values.maxLength !== undefined){%} maxlength="{maxLength}"{%}%}','<tpl if="readOnly"> readonly="readonly"</tpl>','<tpl if="disabled"> disabled="disabled"</tpl>','<tpl if="tabIdx"> tabIndex="{tabIdx}"</tpl>','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>',' class="{fieldCls} {typeCls} {typeCls}-{ui} {editableCls} {inputCls}" autocomplete="off"/>',{disableFormats:true}],defaultBindProperty:"value",subTplInsertions:["inputAttrTpl"],childEls:["inputEl"],inputType:"text",invalidText:"The value in this field is invalid",fieldCls:Ext.baseCSSPrefix+"form-field",focusCls:"form-focus",dirtyCls:Ext.baseCSSPrefix+"form-dirty",checkChangeEvents:Ext.isIE&&(!document.documentMode||document.documentMode<=9)?["change","propertychange","keyup"]:["change","input","textInput","keyup","dragdrop"],ignoreChangeRe:/data\-errorqtip|style\.|className/,checkChangeBuffer:50,liquidLayout:true,readOnly:false,readOnlyCls:Ext.baseCSSPrefix+"form-readonly",validateOnBlur:true,hasFocus:false,baseCls:Ext.baseCSSPrefix+"field",fieldBodyCls:Ext.baseCSSPrefix+"field-body",maskOnDisable:false,stretchInputElFixed:true,statics:{initTip:function(){var a=this.tip;if(!a){a=this.tip=Ext.create("Ext.tip.QuickTip",{sticky:true,ui:"form-invalid"});a.tagConfig=Ext.apply({},{attribute:"errorqtip"},a.tagConfig)}},destroyTip:function(){var a=this.tip;if(a){a.destroy();delete this.tip}}},initComponent:function(){var a=this;a.callParent();a.subTplData=a.subTplData||{};a.initLabelable();a.initField();if(!a.name){a.name=a.getInputId()}if(a.readOnly){a.addCls(a.readOnlyCls)}a.addCls(Ext.baseCSSPrefix+"form-type-"+a.inputType)},getInputId:function(){return this.inputId||(this.inputId=this.id+"-inputEl")},getSubTplData:function(){var c=this,b=c.inputType,a=c.getInputId(),d;d=Ext.apply({ui:c.ui,id:a,cmpId:c.id,name:c.name||a,disabled:c.disabled,readOnly:c.readOnly,value:c.getRawValue(),type:b,fieldCls:c.fieldCls,fieldStyle:c.getFieldStyle(),tabIdx:c.tabIndex,inputCls:c.inputCls,typeCls:Ext.baseCSSPrefix+"form-"+(b==="password"?"text":b),role:c.ariaRole},c.subTplData);c.getInsertionRenderData(d,c.subTplInsertions);return d},getSubTplMarkup:function(){var b=this,c=b.getSubTplData(),d=b.getTpl("preSubTpl"),e=b.getTpl("postSubTpl"),a="";if(d){a+=d.apply(c)}a+=b.getTpl("fieldSubTpl").apply(c);if(e){a+=e.apply(c)}return a},initRenderData:function(){return Ext.applyIf(this.callParent(),this.getLabelableRenderData())},setFieldStyle:function(a){var b=this,c=b.inputEl;if(c){c.applyStyles(a)}b.fieldStyle=a},getFieldStyle:function(){var a=this.fieldStyle;return Ext.isObject(a)?Ext.DomHelper.generateStyles(a,null,true):a||""},onRender:function(){this.callParent(arguments);Ext.form.field.Base.initTip();this.renderActiveError()},isFileUpload:function(){return this.inputType==="file"},getSubmitData:function(){var a=this,b=null,c;if(!a.disabled&&a.submitValue){c=a.getSubmitValue();if(c!==null){b={};b[a.getName()]=c}}return b},getSubmitValue:function(){return this.processRawValue(this.getRawValue())},getRawValue:function(){var b=this,a=(b.inputEl?b.inputEl.getValue():Ext.valueFrom(b.rawValue,""));b.rawValue=a;return a},setRawValue:function(c){var a=this,b=a.rawValue;if(!a.transformRawValue.$nullFn){c=a.transformRawValue(c)}c=Ext.valueFrom(c,"");if(b===undefined||b!==c){a.rawValue=c;if(a.inputEl){a.bindPropertyChange(false);a.inputEl.dom.value=c;a.bindPropertyChange(true)}if(a.rendered&&a.reference){a.publishState("rawValue",c)}}return c},transformRawValue:Ext.identityFn,valueToRaw:function(a){return""+Ext.valueFrom(a,"")},rawToValue:Ext.identityFn,processRawValue:Ext.identityFn,getValue:function(){var a=this,b=a.rawToValue(a.processRawValue(a.getRawValue()));a.value=b;return b},setValue:function(b){var a=this;a.setRawValue(a.valueToRaw(b));return a.mixins.field.setValue.call(a,b)},onBoxReady:function(){var a=this;a.callParent();if(a.setReadOnlyOnBoxReady){a.setReadOnly(a.readOnly)}},onDisable:function(){var a=this,b=a.inputEl;a.callParent();if(b){b.dom.disabled=true;if(a.hasActiveError()){a.clearInvalid();a.needsValidateOnEnable=true}}},onEnable:function(){var a=this,b=a.inputEl;a.callParent();if(b){b.dom.disabled=false;if(a.needsValidateOnEnable){delete a.needsValidateOnEnable;a.forceValidation=true;a.isValid();delete a.forceValidation}}},setReadOnly:function(c){var a=this,b=a.inputEl;c=!!c;a[c?"addCls":"removeCls"](a.readOnlyCls);a.readOnly=c;if(b){b.dom.readOnly=c}else{if(a.rendering){a.setReadOnlyOnBoxReady=true}}a.fireEvent("writeablechange",a,c)},fireKey:function(a){if(a.isSpecialKey()){this.fireEvent("specialkey",this,a)}},initEvents:function(){var g=this,h=g.inputEl,c,f,j=g.checkChangeEvents,k=g.ignoreChangeRe,b=j.length,d,a;if(h){g.mon(h,Ext.supports.SpecialKeyDownRepeat?"keydown":"keypress",g.fireKey,g);c=new Ext.util.DelayedTask(g.checkChange,g);g.onChangeEvent=f=function(l){if(!(l.type=="propertychange"&&k.test(l.browserEvent.propertyName))){c.delay(g.checkChangeBuffer)}};for(d=0;d<b;d++){a=j[d];if(a==="propertychange"){g.usesPropertychange=true}g.mon(h,a,f)}}g.callParent()},doComponentLayout:function(){this.bindPropertyChange(false);this.callParent(arguments);this.bindPropertyChange(true)},bindPropertyChange:function(c){var b=this,a=b.usesPropertychange;if(a){b[c?"mon":"mun"](b.inputEl,"propertychange",b.onChangeEvent)}},onDirtyChange:function(b){var a=this;a[b?"addCls":"removeCls"](a.dirtyCls);if(a.rendered&&a.reference){a.publishState("dirty",b)}},isValid:function(){var b=this,a=b.disabled,c=b.forceValidation||!a;return c?b.validateValue(b.processRawValue(b.getRawValue())):a},validateValue:function(b){var a=this,d=a.getErrors(b),c=Ext.isEmpty(d);if(!a.preventMark){if(c){a.clearInvalid()}else{a.markInvalid(d)}}return c},markInvalid:function(d){var b=this,a=b.getActiveError(),c;b.setActiveErrors(Ext.Array.from(d));c=b.getActiveError();if(a!==c){b.setError(c)}},clearInvalid:function(){var b=this,a=b.hasActiveError();delete b.needsValidateOnEnable;b.unsetActiveError();if(a){b.setError("")}},setError:function(a){var c=this,b=c.msgTarget,d;if(c.rendered){if(b=="title"||b=="qtip"){d=b=="qtip"?"data-errorqtip":"title";c.getActionEl().dom.setAttribute(d,a||"")}else{c.updateLayout()}}},renderActiveError:function(){var c=this,b=c.hasActiveError(),a=c.invalidCls+"-field";if(c.inputEl){c.inputEl[b?"addCls":"removeCls"]([a,a+"-"+c.ui])}c.mixins.labelable.renderActiveError.call(c)},privates:{applyBind:function(e,c){var b=this,a=c&&c.value,d;d=b.callParent([e,c]);if(d.value!==a&&b.getInherited().modelValidation){b.updateValueBinding(d)}return d},applyRenderSelectors:function(){var a=this;a.callParent();if(!a.inputEl){a.inputEl=a.el.getById(a.getInputId())}},getActionEl:function(){return this.inputEl||this.el},getFocusEl:function(){return this.inputEl},initRenderTpl:function(){var a=this;if(!a.hasOwnProperty("renderTpl")){a.renderTpl=a.getTpl("labelableRenderTpl")}return a.callParent()},updateValueBinding:function(d){var b=this,a=d.value,c=d.validation;if(c&&c.autoVal){c.destroy();d.validation=null}if(a&&a.bindValidation&&!d.validation){c=a.bindValidation("setValidation",b);if(c){d.validation=c;c.autoVal=true}}}}});Ext.define("Ext.form.field.Display",{extend:Ext.form.field.Base,alias:"widget.displayfield",alternateClassName:["Ext.form.DisplayField","Ext.form.Display"],ariaRole:"textbox",fieldSubTpl:['<div id="{id}" role="{role}" {inputAttrTpl}','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>',' class="{fieldCls} {fieldCls}-{ui}">{value}</div>',{compiled:true,disableFormats:true}],readOnly:true,fieldCls:Ext.baseCSSPrefix+"form-display-field",fieldBodyCls:Ext.baseCSSPrefix+"form-display-field-body",htmlEncode:false,noWrap:false,validateOnChange:false,initEvents:Ext.emptyFn,submitValue:false,valueToRaw:function(a){if(!a&&a!==0){return""}else{return a}},isDirty:function(){return false},isValid:Ext.returnTrue,validate:Ext.returnTrue,getRawValue:function(){return this.rawValue},setRawValue:function(b){var a=this;b=Ext.valueFrom(b,"");a.rawValue=b;if(a.rendered){a.inputEl.dom.innerHTML=a.getDisplayValue();a.updateLayout()}return b},getDisplayValue:function(){var a=this,b=this.getRawValue(),c;if(a.renderer){c=a.renderer.call(a.scope||a,b,a)}else{c=a.htmlEncode?Ext.util.Format.htmlEncode(b):b}return c},getSubTplData:function(){var a=this.callParent(arguments);a.value=this.getDisplayValue();return a}});Ext.define("Ext.layout.container.Fit",{extend:Ext.layout.container.Container,alternateClassName:"Ext.layout.FitLayout",alias:"layout.fit",itemCls:Ext.baseCSSPrefix+"fit-item",targetCls:Ext.baseCSSPrefix+"layout-fit",type:"fit",manageMargins:true,sizePolicies:{0:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},1:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},2:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},3:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1}},getItemSizePolicy:function(b,c){var a=c||this.owner.getSizeModel(),d=(a.width.shrinkWrap?0:1)|(a.height.shrinkWrap?0:2);return this.sizePolicies[d]},beginLayoutCycle:function(j,f){var s=this,t=s.lastHeightModel&&s.lastHeightModel.calculated,g=s.lastWidthModel&&s.lastWidthModel.calculated,n=g||t,k=0,l=0,r,b,o,q,e,a,h,m,p,d;s.callParent(arguments);if(n&&j.targetContext.el.dom.tagName.toUpperCase()!="TD"){n=g=t=false}b=j.childItems;e=b.length;for(o=0;o<e;++o){q=b[o];if(f){r=q.target;h=r.minHeight;m=r.minWidth;if(m||h){a=q.marginInfo||q.getMarginInfo();h+=a.height;m+=a.height;if(k<h){k=h}if(l<m){l=m}}}if(n){p=q.el.dom.style;if(t){p.height=""}if(g){p.width=""}}}if(f){j.maxChildMinHeight=k;j.maxChildMinWidth=l}r=j.target;j.overflowX=(!j.widthModel.shrinkWrap&&j.maxChildMinWidth&&r.scrollFlags.x)||d;j.overflowY=(!j.heightModel.shrinkWrap&&j.maxChildMinHeight&&r.scrollFlags.y)||d},calculate:function(f){var n=this,k=f.childItems,d=k.length,c=n.getContainerSize(f),e={length:d,ownerContext:f,targetSize:c},q=f.widthModel.shrinkWrap,l=f.heightModel.shrinkWrap,j=f.overflowX,g=f.overflowY,m,b,o,h,a,p;if(j||g){m=n.getScrollbarsNeeded(j&&c.width,g&&c.height,f.maxChildMinWidth,f.maxChildMinHeight);if(m){b=Ext.getScrollbarSize();if(m&1){c.height-=b.height}if(m&2){c.width-=b.width}}}if(d>0){for(h=0;h<d;++h){e.index=h;n.fitItem(k[h],e)}}else{e.contentWidth=e.contentHeight=0}if(l||q){o=f.targetContext.getPaddingInfo();if(q){if(g&&!c.gotHeight){n.done=false}else{a=e.contentWidth+o.width;if(m&2){a+=b.width}if(!f.setContentWidth(a)){n.done=false}}}if(l){if(j&&!c.gotWidth){n.done=false}else{p=e.contentHeight+o.height;if(m&1){p+=b.height}if(!f.setContentHeight(p)){n.done=false}}}}},fitItem:function(b,c){var a=this;if(b.invalid){a.done=false;return}c.margins=b.getMarginInfo();c.needed=c.got=0;a.fitItemWidth(b,c);a.fitItemHeight(b,c);if(c.got!=c.needed){a.done=false}},fitItemWidth:function(c,d){var a,b;if(d.ownerContext.widthModel.shrinkWrap){b=c.getProp("width")+d.margins.width;a=d.contentWidth;if(a===undefined){d.contentWidth=b}else{d.contentWidth=Math.max(a,b)}}else{if(c.widthModel.calculated){++d.needed;if(d.targetSize.gotWidth){++d.got;this.setItemWidth(c,d)}else{return}}}this.positionItemX(c,d)},fitItemHeight:function(c,d){var b,a;if(d.ownerContext.heightModel.shrinkWrap){a=c.getProp("height")+d.margins.height;b=d.contentHeight;if(b===undefined){d.contentHeight=a}else{d.contentHeight=Math.max(b,a)}}else{if(c.heightModel.calculated){++d.needed;if(d.targetSize.gotHeight){++d.got;this.setItemHeight(c,d)}else{return}}}this.positionItemY(c,d)},positionItemX:function(a,c){var b=c.margins;if(c.index||b.left){a.setProp("x",b.left)}if(b.width){a.setProp("margin-right",b.width)}},positionItemY:function(a,c){var b=c.margins;if(c.index||b.top){a.setProp("y",b.top)}if(b.height){a.setProp("margin-bottom",b.height)}},setItemHeight:function(a,b){a.setHeight(b.targetSize.height-b.margins.height)},setItemWidth:function(a,b){a.setWidth(b.targetSize.width-b.margins.width)}});Ext.define("Ext.selection.Model",{extend:Ext.util.Observable,alternateClassName:"Ext.AbstractSelectionModel",mixins:[Ext.util.StoreHolder],allowDeselect:undefined,toggleOnClick:true,selected:null,pruneRemoved:true,suspendChange:0,constructor:function(a){var b=this;a=a||{};Ext.apply(b,a);b.modes={SINGLE:true,SIMPLE:true,MULTI:true};b.setSelectionMode(a.mode||b.mode);b.selected=new Ext.util.MixedCollection();b.callParent(arguments)},bindStore:function(a,b){var c=this;c.mixins.storeholder.bindStore.apply(c,arguments);if(c.store&&!b){c.refresh()}},getStoreListeners:function(){var a=this;return{add:a.onStoreAdd,clear:a.onStoreClear,remove:a.onStoreRemove,update:a.onStoreUpdate,load:a.onStoreLoad,refresh:a.onStoreRefresh}},suspendChanges:function(){++this.suspendChange},resumeChanges:function(){if(this.suspendChange){--this.suspendChange}},selectAll:function(b){var e=this,d=e.store.getRange(),c=0,a=d.length,f=e.getSelection().length;e.suspendChanges();for(;c<a;c++){e.doSelect(d[c],true,b)}e.resumeChanges();if(!b){e.maybeFireSelectionChange(e.getSelection().length!==f)}},deselectAll:function(j){var f=this,b=f.getSelection(),g={},h=f.store,a=b.length,e,c,d;for(e=0,c=b.length;e<c;e++){d=b[e];g[d.id]=h.indexOf(d)}b=Ext.Array.sort(b,function(m,k){var n=g[m.id],l=g[k.id];return n<l?-1:1});f.suspendChanges();f.doDeselect(b,j);f.resumeChanges();if(!j){f.maybeFireSelectionChange(f.getSelection().length!==a)}},getSelectionStart:function(){if(!this.selectionStart){this.setSelectionStart(this.lastFocused)}return this.selectionStart},setSelectionStart:function(a){this.selectionStart=a},selectWithEvent:function(j,l){var m=this,d=m.isSelected(j),f=l.shiftKey,a=l.ctrlKey,c=f&&m.getSelectionStart(),g=m.getSelection(),k=g.length,n=m.allowDeselect,b,h,o;switch(m.selectionMode){case"MULTI":if(f&&c){m.selectRange(c,j,a)}else{if(a&&d){m.doDeselect(j,false)}else{if(a){m.doSelect(j,true,false)}else{if(d&&!f&&!a&&k>1){b=[];for(h=0;h<k;++h){o=g[h];if(o!==j){b.push(o)}}m.doDeselect(b)}else{if(!d){m.doSelect(j,false)}}}}}break;case"SIMPLE":if(d){m.doDeselect(j)}else{m.doSelect(j,true)}break;case"SINGLE":if(n&&!a){n=m.toggleOnClick}if(n&&d){m.doDeselect(j)}else{m.doSelect(j,false)}break}if(!f){if(m.isSelected(j)){m.selectionStart=j}else{m.selectionStart=null}}},afterKeyNavigate:function(f,d){var g=this,c,a,b=g.isSelected(d),j=(g.selectionStart&&g.isSelected(g.lastFocused))?g.selectionStart:(g.selectionStart=g.lastFocused),k=f.getCharCode(),l=k===f.SPACE,h=k===f.UP||k===f.PAGE_UP?"up":(k===f.DOWN||k===f.DOWN?"down":null);switch(g.selectionMode){case"MULTI":if(l){if(f.shiftKey){g.selectRange(j,d,f.ctrlKey)}else{if(b){g.doDeselect(d,f.ctrlKey);g.setLastFocused(null);g.setLastFocused(d)}else{g.doSelect(d,f.ctrlKey)}}}else{if(f.shiftKey&&j){a=g.store.indexOf(j);c=g.store.indexOf(d);if(h==="up"&&a<=c){g.deselectRange(g.lastFocused,c+1)}else{if(h==="down"&&a>=c){g.deselectRange(g.lastFocused,c-1)}else{if(j!==d){g.selectRange(j,d,f.ctrlKey)}}}g.lastSelected=d;g.setLastFocused(d)}else{if(f.ctrlKey&&b){g.setLastFocused(d)}else{if(f.ctrlKey){g.setLastFocused(d)}else{g.doSelect(d,false)}}}}break;case"SIMPLE":if(b){if(g.allowDeselect){g.doDeselect(d)}}else{g.doSelect(d,true)}break;case"SINGLE":if(l){if(b){if(g.allowDeselect){g.doDeselect(d);g.setLastFocused(d)}}else{g.doSelect(d)}}else{if(f.ctrlKey){g.setLastFocused(d)}else{if(l&&g.allowDeselect&&b){g.doDeselect(d)}else{g.doSelect(d,false);g.setLastFocused(d)}}}break}if(!f.shiftKey){if(g.isSelected(d)){g.selectionStart=d}}},selectRange:function(l,d,m){var h=this,k=h.store,c=h.selected.items,n,f,g,e,a,j,b;if(h.isLocked()){return}n=h.normalizeRowRange(l,d);l=n[0];d=n[1];e=[];for(f=l;f<=d;f++){if(!h.isSelected(k.getAt(f))){e.push(k.getAt(f))}}if(!m){a=[];h.suspendChanges();for(f=0,g=c.length;f<g;++f){b=c[f];j=k.indexOf(b);if(j<l||j>d){a.push(b)}}for(f=0,g=a.length;f<g;++f){h.doDeselect(a[f])}h.resumeChanges()}if(e.length){h.doMultiSelect(e,true)}else{h.maybeFireSelectionChange(a.length>0)}},deselectRange:function(e,d){var h=this,c=h.store,a,g,f,b;if(h.isLocked()){return}a=h.normalizeRowRange(e,d);e=a[0];d=a[1];f=[];for(g=e;g<=d;g++){b=c.getAt(g);if(h.isSelected(b)){f.push(b)}}if(f.length){h.doDeselect(f)}},normalizeRowRange:function(c,b){var a=this.store,d;if(!Ext.isNumber(c)){c=a.indexOf(c)}c=Math.max(0,c);if(!Ext.isNumber(b)){b=a.indexOf(b)}b=Math.min(b,a.getCount()-1);if(c>b){d=b;b=c;c=d}return[c,b]},select:function(b,c,a){if(Ext.isDefined(b)&&!(Ext.isArray(b)&&!b.length)){this.doSelect(b,c,a)}},deselect:function(b,a){this.doDeselect(b,a)},doSelect:function(c,e,b){var d=this,a;if(d.locked||!d.store){return}if(typeof c==="number"){a=d.store.getAt(c);if(!a){return}c=[a]}if(d.selectionMode==="SINGLE"&&c){a=c.length?c[0]:c;d.doSingleSelect(a,b)}else{d.doMultiSelect(c,e,b)}},doMultiSelect:function(a,k,j){var g=this,b=g.selected,h=false,l,d,f,e,c;if(g.locked){return}a=!Ext.isArray(a)?[a]:a;f=a.length;if(!k&&b.getCount()>0){l=g.deselectDuringSelect(a,b.getRange(),j);if(l[0]){g.maybeFireSelectionChange(l[1]>0&&!j);return}}c=function(){b.add(e);h=true};for(d=0;d<f;d++){e=a[d];if(g.isSelected(e)){continue}g.lastSelected=e;g.onSelectChange(e,true,j,c)}if(!g.preventFocus){g.setLastFocused(e,j)}g.maybeFireSelectionChange(h&&!j)},deselectDuringSelect:function(d,a,h){var g=this,f=a.length,c=0,e=false,j,b;g.suspendChanges();for(b=0;b<f;++b){j=a[b];if(!Ext.Array.contains(d,j)){if(g.doDeselect(j,h)){++c}else{e=true}}}g.resumeChanges();return[e,c]},doDeselect:function(a,j){var h=this,b=h.selected,d=0,g,e,k=0,f=0,c;if(h.locked||!h.store){return false}if(typeof a==="number"){e=h.store.getAt(a);if(!e){return false}a=[e]}else{if(!Ext.isArray(a)){a=[a]}}c=function(){++f;b.remove(e)};g=a.length;h.suspendChanges();for(;d<g;d++){e=a[d];if(h.isSelected(e)){if(h.lastSelected===e){h.lastSelected=b.last();if(h.lastFocused===e){h.setLastFocused(null)}}++k;h.onSelectChange(e,false,j,c)}}h.resumeChanges();h.maybeFireSelectionChange(f>0&&!j);return f===k},doSingleSelect:function(a,b){var d=this,f=false,c=d.selected,e;if(d.locked){return}if(d.isSelected(a)){return}e=function(){if(c.getCount()){d.suspendChanges();if(!d.doDeselect(d.lastSelected,b)){d.resumeChanges();return false}d.resumeChanges()}c.add(a);d.lastSelected=a;f=true};d.onSelectChange(a,true,b,e);if(f){if(!b&&!d.preventFocus){d.setLastFocused(a)}d.maybeFireSelectionChange(!b)}},setLastFocused:function(c,b){var d=this,a=d.lastFocused;if(c!==a){d.lastFocused=c;d.onLastFocusChanged(a,c,b)}},isFocused:function(a){return a===this.getLastFocused()},maybeFireSelectionChange:function(a){var b=this;if(a&&!b.suspendChange){b.fireEvent("selectionchange",b,b.getSelection())}},getLastSelected:function(){return this.lastSelected},getLastFocused:function(){return this.lastFocused},getSelection:function(){return this.selected.getRange()},getSelectionMode:function(){return this.selectionMode},setSelectionMode:function(a){a=a?a.toUpperCase():"SINGLE";this.selectionMode=this.modes[a]?a:"SINGLE"},isLocked:function(){return this.locked},setLocked:function(a){this.locked=!!a},isRangeSelected:function(d,c){var f=this,b=f.store,e,a;a=f.normalizeRowRange(d,c);d=a[0];c=a[1];for(e=d;e<=c;e++){if(!f.isSelected(b.getAt(e))){return false}}return true},isSelected:function(a){a=Ext.isNumber(a)?this.store.getAt(a):a;return this.selected.contains(a)},hasSelection:function(){return this.selected.getCount()>0},pruneIf:function(){var g=this,e=g.selected,b=g.store,d=[],a=e.length,c,f;if(g.pruneRemoved){for(c=0;c<a;c++){f=e.getAt(c);if(b.indexOfId(f.id)===-1){d.push(f)}}if(d.length){for(c=0,a=d.length;c<a;c++){f=d[c];e.remove(f);g.onPrune(f)}g.maybeFireSelectionChange(true)}}},onPrune:Ext.emptyFn,refresh:function(){var g=this,k=g.store,a,d=[],f=[],c=g.getSelection(),e=c.length,j,h,b=0,l=g.getLastFocused();if(!k){return}for(;b<e;b++){j=c[b];if(k.indexOf(j)!==-1){d.push(j)}else{if(!g.pruneRemoved){a=k.getById(j.getId());if(a){d.push(a)}else{f.push(j)}}}if(g.mode==="SINGLE"&&f.length){break}}if(g.selected.getCount()!==(d.length+f.length)){h=true}g.clearSelections();if(k.indexOf(l)!==-1){g.setLastFocused(l,true)}if(d.length){g.doSelect(d,false,true)}if(f.length){g.selected.addAll(f);if(!g.lastSelected){g.lastSelected=f[f.length-1]}}g.maybeFireSelectionChange(h)},clearSelections:function(){this.selected.clear();this.lastSelected=null;this.setLastFocused(null)},onStoreAdd:Ext.emptyFn,onStoreClear:function(){if(this.selected.getCount()>0){this.clearSelections();this.maybeFireSelectionChange(true)}},onStoreRemove:function(c,b,d,a){var e=this;if(e.selectionStart&&Ext.Array.contains(b,e.selectionStart)){e.selectionStart=null}if(a||e.locked||!e.pruneRemoved){return}e.deselect(b)},deselectDeletedRecords:function(b){var f=this,d=f.selected,c,e=b.length,g=0,a;for(c=0;c<e;c++){a=b[c];if(d.remove(a)){if(f.lastSelected===a){f.lastSelected=null}if(f.getLastFocused()===a){f.setLastFocused(null)}++g}}if(g){f.maybeFireSelectionChange(true)}},getCount:function(){return this.selected.getCount()},onUpdate:Ext.emptyFn,destroy:function(){this.clearListeners();this.clearSelections()},onStoreUpdate:Ext.emptyFn,onStoreRefresh:function(){var f=this,h=f.getStore(),c=f.selected,g=f.lastSelected,e,a,d,j,b;if(f.store.isBufferedStore){return}e=c.items;a=e.length;if(g){f.lastSelected=h.getById(g.id)}for(d=0;d<a;++d){j=e[d];b=h.getById(j.id);if(b){f.selected.replace(b)}else{f.selected.remove(j)}}},onStoreLoad:Ext.emptyFn,onSelectChange:function(a,d,c,f){var e=this,b=d?"select":"deselect";if((c||e.fireEvent("before"+b,e,a))!==false&&f()!==false){if(!c){e.fireEvent(b,e,a)}}},onLastFocusChanged:function(b,a){if(a!=b){this.fireEvent("focuschange",this,b,a)}},onEditorKey:Ext.emptyFn,beforeViewRender:function(a){this.views=this.views||[];this.views.push(a);this.bindStore(a.getStore(),true)},resolveListenerScope:function(c){var a=this.view,b;if(a){b=a.resolveListenerScope(c)}return b||this.callParent([c])},onVetoUIEvent:Ext.emptyFn,bindComponent:Ext.emptyFn});Ext.define("Ext.selection.DataViewModel",{extend:Ext.selection.Model,deselectOnContainerClick:true,enableKeyNav:true,bindComponent:function(a){var b=this,c={refresh:b.refresh,scope:b};b.view=a;b.bindStore(a.getStore());c[a.triggerEvent]=b.onItemClick;c[a.triggerCtEvent]=b.onContainerClick;a.on(c);if(b.enableKeyNav){b.initKeyNav(a)}},onUpdate:function(b){var a=this.view;if(a&&this.isSelected(b)){a.onItemSelect(b)}},onItemClick:function(b,a,d,c,f){this.selectWithEvent(a,f)},onContainerClick:function(){if(this.deselectOnContainerClick){this.deselectAll()}},initKeyNav:function(a){var b=this;if(!a.rendered){a.on({render:Ext.Function.bind(b.initKeyNav,b,[a]),single:true});return}a.el.set({tabIndex:-1});b.keyNav=new Ext.util.KeyNav({target:a.el,ignoreInputFields:true,down:Ext.pass(b.onNavKey,[1],b),right:Ext.pass(b.onNavKey,[1],b),left:Ext.pass(b.onNavKey,[-1],b),up:Ext.pass(b.onNavKey,[-1],b),scope:b})},onNavKey:function(f){f=f||1;var e=this,b=e.view,d=e.getSelection()[0],c=e.view.store.getCount(),a;if(d){a=b.indexOf(b.getNode(d))+f}else{a=0}if(a<0){a=c-1}else{if(a>=c){a=0}}e.select(a)},onSelectChange:function(b,e,d,g){var f=this,a=f.view,c=e?"select":"deselect";if((d||f.fireEvent("before"+c,f,b))!==false&&g()!==false){if(a){if(e){a.onItemSelect(b)}else{a.onItemDeselect(b)}}if(!d){f.fireEvent(c,f,b)}}},onLastFocusChanged:function(d,b,c){var a=this.view;if(a&&!c&&b){a.focusNode(b);this.fireEvent("focuschange",this,d,b)}},destroy:function(){Ext.destroy(this.keyNav);this.callParent()}});Ext.define("Ext.view.AbstractView",{extend:Ext.Component,mixins:[Ext.util.StoreHolder],inheritableStatics:{getRecord:function(a){return this.getBoundView(a).getRecord(a)},getBoundView:function(a){return Ext.getCmp(a.boundView)}},defaultBindProperty:"store",statics:{updateDelay:200,queueRecordChange:function(m,o,g,b,c){var l=this,a=l.changeQueue||(l.changeQueue={}),h=g.internalId,k,f,j,d,p,n,e;k=a[h]||(a[h]={operation:b,record:g,data:{},views:[]});f=k.data;Ext.Array.include(k.views,m);if(c&&(j=c.length)){for(d=0;d<j;d++){p=c[d];n=g.data[p];if(f.hasOwnProperty(p)){if(g.isEqual(f[p],n)){delete f[p];e=true}}else{f[p]=n}}if(e&&!Ext.Object.getKeys(f).length){delete a[h]}}else{Ext.apply(f,g.data)}if(!l.flushQueueTask){l.flushQueueTask=Ext.util.TaskManager.newTask({run:Ext.global.requestAnimationFrame?Ext.Function.createAnimationFrame(l.onFlushTick,l):Ext.Function.bind(l.onFlushTick,l),interval:Ext.view.AbstractView.updateDelay,repeat:1})}l.flushQueueTask.start()},onFlushTick:function(){Ext.AnimationQueue.start(this.flushChangeQueue,this)},flushChangeQueue:function(){var e=this,f,a,h,d,g,c,b;if(Ext.isScrolling){e.flushQueueTask.start();return}h=e.changeQueue;this.changeQueue={};for(g in h){d=h[g];f=d.views;a=f.length;for(c=0;c<a;c++){b=f[c];if(!b.isDestroyed){b.handleUpdate(b.dataSource,d.record,d.operation,Ext.Object.getKeys(d.data))}}}Ext.AnimationQueue.stop(e.flushChangeQueue,e)}},throttledUpdate:false,deferInitialRefresh:false,itemCls:Ext.baseCSSPrefix+"dataview-item",loadingText:"Loading...",loadMask:true,loadingUseMsg:true,selectedItemCls:Ext.baseCSSPrefix+"item-selected",emptyText:"",deferEmptyText:true,trackOver:false,blockRefresh:false,preserveScrollOnRefresh:false,ariaRole:"listbox",itemAriaRole:"option",last:false,triggerEvent:"itemclick",triggerCtEvent:"containerclick",refreshNeeded:true,addCmpEvents:Ext.emptyFn,initComponent:function(){var c=this,a=Ext.isDefined,d=c.itemTpl,b={};if(d){if(Ext.isArray(d)){d=d.join("")}else{if(Ext.isObject(d)){b=Ext.apply(b,d.initialConfig);d=d.html}}if(!c.itemSelector){c.itemSelector="."+c.itemCls}d=Ext.String.format('<tpl for="."><div class="{0}" role="{2}">{1}</div></tpl>',c.itemCls,d,c.itemAriaRole);c.tpl=new Ext.XTemplate(d,b)}if(!a(c.tpl)||!a(c.itemSelector)){Ext.Error.raise({sourceClass:"Ext.view.View",tpl:c.tpl,itemSelector:c.itemSelector,msg:"DataView requires both tpl and itemSelector configurations to be defined."})}c.callParent();c.tpl=c.getTpl("tpl");if(a(c.overCls)||a(c.overClass)){if(Ext.isDefined(Ext.global.console)){Ext.global.console.warn("Ext.view.View: Using the deprecated overCls or overClass configuration. Use overItemCls instead.")}c.overItemCls=c.overCls||c.overClass;delete c.overCls;delete c.overClass}if(a(c.selectedCls)||a(c.selectedClass)){if(Ext.isDefined(Ext.global.console)){Ext.global.console.warn("Ext.view.View: Using the deprecated selectedCls or selectedClass configuration. Use selectedItemCls instead.")}c.selectedItemCls=c.selectedCls||c.selectedClass;delete c.selectedCls;delete c.selectedClass}if(c.overItemCls){c.trackOver=true}c.addCmpEvents();c.store=Ext.data.StoreManager.lookup(c.store||"ext-empty-store");if(!c.dataSource){c.dataSource=c.store}c.bindStore(c.dataSource,true,"dataSource");if(!c.all){c.all=new Ext.CompositeElementLite()}c.scrollState={top:0,left:0};c.on({scroll:c.onViewScroll,element:"el",onFrame:!!Ext.global.requestAnimationFrame,scope:c})},onRender:function(){var e=this,b=e.loadMask,d=e.getMaskStore(),a={target:e,msg:e.loadingText,useMsg:e.loadingUseMsg,store:d},c;e.callParent(arguments);if(b){c=d.getProxy();if(c&&!c.isSynchronous){if(e.loadingCls){a.msgCls=e.loadingCls}if(Ext.isObject(b)){a=Ext.apply(a,b)}e.loadMask=new Ext.LoadMask(a);e.loadMask.on({scope:e,beforeshow:e.onMaskBeforeShow,hide:e.onMaskHide})}}},beforeLayout:function(){var a=this;a.callParent(arguments);if(a.refreshNeeded&&!a.pendingRefresh){if(a.refreshCounter){a.refresh()}else{a.doFirstRefresh(a.dataSource)}}},getMaskStore:function(){return this.store},onMaskBeforeShow:function(){var b=this,a=b.loadingHeight;if(a&&a>b.getHeight()){b.hasLoadingHeight=true;b.oldMinHeight=b.minHeight;b.minHeight=a;b.updateLayout()}},onMaskHide:function(){var a=this;if(!a.destroying&&a.hasLoadingHeight){a.minHeight=a.oldMinHeight;a.updateLayout();delete a.hasLoadingHeight}},beforeRender:function(){this.callParent(arguments);this.getSelectionModel().beforeViewRender(this)},afterRender:function(){this.callParent(arguments);this.getSelectionModel().bindComponent(this)},getRefItems:function(){var b=this.loadMask,a=[];if(b&&b.isComponent){a.push(b)}return a},getSelectionModel:function(){var a=this,b="SINGLE";if(a.simpleSelect){b="SIMPLE"}else{if(a.multiSelect){b="MULTI"}}if(!a.selModel||!a.selModel.events){a.selModel=new Ext.selection.DataViewModel(Ext.apply({allowDeselect:a.allowDeselect,mode:b},a.selModel))}if(!a.selModel.hasRelaySetup){a.relayEvents(a.selModel,["selectionchange","beforeselect","beforedeselect","select","deselect","focuschange"]);a.selModel.hasRelaySetup=true}if(a.disableSelection){a.selModel.locked=true}return a.selModel},refresh:function(){var h=this,l=h.all,a=l.getCount(),e=h.refreshCounter,j,f,d,c,g,k=e&&l.getCount()&&h.preserveScrollOnRefresh&&!h.bufferedRenderer,b;if(!h.rendered||h.isDestroyed||h.preventRefresh){return}if(!h.hasListeners.beforerefresh||h.fireEvent("beforerefresh",h)!==false){h.refreshing=true;j=h.getTargetEl();c=h.getViewRange();d=j.dom;if(k){f=h.getOverflowEl();b=f.getScroll()}if(e){g=true;h.clearViewEl();h.refreshCounter++}else{h.refreshCounter=1}h.tpl.append(j,h.collectData(c,l.startIndex||0));if(c.length<1){if(h.emptyText&&!h.getStore().isLoading()&&(!h.deferEmptyText||g)){h.emptyEl=Ext.core.DomHelper.insertHtml("beforeEnd",j.dom,h.emptyText)}l.clear()}else{h.collectNodes(j.dom);h.updateIndexes(0)}if(g){if(h.refreshSelmodelOnRefresh!==false){h.selModel.refresh()}else{if(!h.preventPrune){h.selModel.pruneIf()}}}h.refreshNeeded=false;h.refreshSize(l.getCount()!==a);h.fireEvent("refresh",h,c);if(k){f.setScrollLeft(b.left);f.setScrollTop(b.top)}if(!h.viewReady){h.viewReady=true;h.fireEvent("viewready",h)}h.refreshing=false;h.refreshScroll()}},collectNodes:function(b){var a=this.all;a.fill(Ext.fly(b).query(this.getItemSelector()),a.startIndex||0)},getViewRange:function(){return this.dataSource.getRange()},refreshSize:function(d){var b=this,a=b.getSizeModel(),c=b.scrollManager;if(a.height.shrinkWrap||a.width.shrinkWrap||d){b.updateLayout()}else{if(c){c.refresh()}}},onResize:function(){var a=this,b=a.scrollManager;if(b&&!a._hasScrollListener){b.on({scroll:a.onViewScroll,scope:a,onFrame:!!Ext.global.requestAnimationFrame});a._hasScrollListener=true}this.callParent(arguments)},clearViewEl:function(){var a=this,b=a.getNodeContainer()===a.getEl();a.clearEmptyEl();a.all.clear(!b);if(b){a.el.dom.innerHTML=""}},clearEmptyEl:function(){var a=this.emptyEl;if(a){a.parentNode.removeChild(a)}this.emptyEl=null},onViewScroll:function(){this.fireEvent("scroll",this)},saveScrollState:function(){var a=this,b=a.scrollState;if(a.rendered){b.left=a.getScrollX();b.top=a.getScrollY()}},restoreScrollState:function(){var a=this,b=a.scrollState;if(a.rendered){a.setScrollX(b.left);a.setScrollY(b.top)}},prepareData:function(e,d,c){var b,a,f;if(c){b=c.getAssociatedData();for(a in b){if(b.hasOwnProperty(a)){if(!f){e=Ext.Object.chain(e);f=true}e[a]=b[a]}}}return e},collectData:function(c,f){var e=[],d=0,a=c.length,b;for(;d<a;d++){b=c[d];e[d]=this.prepareData(b.data,f+d,b)}return e},bufferRender:function(a,b){var c=this,d=c.renderBuffer||(c.self.prototype.renderBuffer=document.createElement("div"));c.tpl.overwrite(d,c.collectData(a,b));return Ext.fly(d).query(c.getItemSelector())},nodeContainerSelector:null,getNodeContainer:function(){var b=this.getTargetEl(),a=this.nodeContainerSelector;return a?b.down(a,true):b},getNodeContainerSelector:function(){return this.nodeContainerSelector},onUpdate:function(c,a,b,e){var d=this;if(d.throttledUpdate){d.statics().queueRecordChange(d,c,a,b,e)}else{d.handleUpdate.apply(d,arguments)}},handleUpdate:function(b,a){var e=this,c,d;if(e.viewReady){c=e.dataSource.indexOf(a);if(c>-1){if(e.getNode(a)){d=e.bufferRender([a],c)[0];e.all.replaceElement(c,d,true);e.updateIndexes(c,c);e.selModel.onUpdate(a);if(e.hasListeners.itemupdate){e.fireEvent("itemupdate",a,c,d)}return d}}}},onReplace:function(h,k,b,c){var g=this,f,m=g.all,a,l,e,d;if(g.rendered){a=g.bufferRender(c,k,true);l=m.item(k);if(l){m.item(k).insertSibling(a,"before",true)}else{g.appendNodes(a)}m.insert(k,a);k+=c.length;f=k+b.length-1;m.removeRange(k,f,true);if(g.refreshSelmodelOnRefresh!==false){g.selModel.refresh()}g.updateIndexes(k);g.refreshSizePending=true;if(g.hasListeners.itemremove){for(e=b.length,d=f;e>=0;--e,--d){g.fireEvent("itemremove",b[e],d,g)}}if(g.hasListeners.itemadd){g.fireEvent("itemadd",c,k,a)}}},onAdd:function(c,b,d){var e=this,a;if(e.rendered){if(e.all.getCount()===0){e.refresh();a=e.all.slice()}else{a=e.doAdd(b,d);if(e.refreshSelmodelOnRefresh!==false){e.selModel.refresh()}e.updateIndexes(d);e.refreshSizePending=true}if(e.hasListeners.itemadd){e.fireEvent("itemadd",b,d,a)}}},appendNodes:function(b){var c=document.createDocumentFragment(),a=b.length,d;for(d=0;d<a;++d){c.appendChild(b[d])}this.getNodeContainer().appendChild(c)},doAdd:function(c,d){var h=this,b=h.bufferRender(c,d,true),f=h.all,g=f.getCount(),e=f.startIndex||0,a=f.endIndex||g-1;if(g===0||d>a){h.appendNodes(b)}else{if(d<=e){f.item(e).insertSibling(b,"before",true)}else{f.item(d).insertSibling(b,"before",true)}}f.insert(d,b);return b},onRemove:function(b,e,h){var j=this,l=j.all,c=j.hasListeners.itemremove,k,f,g,a,d;if(l.getCount()){if(j.dataSource.getCount()===0){if(c){j.fireEvent("itemremove",e,h,j.getNodes(h,h+e.length-1))}j.preventPrune=true;j.refresh();j.preventPrune=false}else{if(c){a=[]}for(f=e.length-1;f>=0;--f){g=e[f];k=h+f;if(a){d=l.item(k);a[f]=d?d.dom:undefined}if(l.item(k)){j.doRemove(g,k)}}if(c){j.fireEvent("itemremove",e,h,a,j)}j.updateIndexes(h)}j.refreshSizePending=true}},doRemove:function(a,b){this.all.removeElement(b,true)},refreshNode:function(a){if(Ext.isNumber(a)){a=this.store.getAt(a)}this.onUpdate(this.dataSource,a)},updateIndexes:function(e,d){var b=this.all.elements,a=this.getViewRange(),c;e=e||0;d=d||((d===0)?0:(b.length-1));for(c=e;c<=d;c++){b[c].viewIndex=c;b[c].viewRecordId=a[c].internalId;if(!b[c].boundView){b[c].boundView=this.id}}},getStore:function(){return this.store},bindStore:function(a,b,d){var c=this;c.mixins.storeholder.bindStore.apply(c,arguments);if(!b){c.getSelectionModel().bindStore(a)}if(c.componentLayoutCounter){c.doFirstRefresh(a)}},doFirstRefresh:function(a,c){var b=this;if(b.deferInitialRefresh&&!c){Ext.defer(b.doFirstRefresh,1,b,[a,true])}else{if(a&&!a.loading){b.refresh()}}},onUnbindStore:function(a){this.setMaskBind(null)},onBindStore:function(a,b,d){var c=this;c.setMaskBind(a);if(!b&&d==="store"){c.preventRefresh=true;c.store=a;c.bindStore(a,false,"dataSource");c.preventRefresh=false}},setMaskBind:function(b){var a=this.loadMask;if(a&&a.bindStore){a.bindStore(b)}},getStoreListeners:function(){var a=this;return{refresh:a.onDataRefresh,replace:a.onReplace,add:a.onAdd,remove:a.onRemove,update:a.onUpdate,clear:a.refresh,beginupdate:a.onBeginUpdate,endupdate:a.onEndUpdate}},onBeginUpdate:Ext.emptyFn,onEndUpdate:function(){if(this.refreshSizePending){this.refreshSize(true);this.refreshSizePending=false}},onDataRefresh:function(){this.refreshView()},refreshView:function(){var b=this,a=b.blockRefresh||!b.rendered||b.up("[collapsed],[isCollapsingOrExpanding],[hidden]");if(a){b.refreshNeeded=true}else{if(b.bufferedRenderer&&b.all.getCount()){b.bufferedRenderer.refreshView()}else{b.refresh()}}},findItemByChild:function(a){return Ext.fly(a).findParent(this.getItemSelector(),this.getTargetEl())},findTargetByEvent:function(a){return a.getTarget(this.getItemSelector(),this.getTargetEl())},getSelectedNodes:function(){var b=[],a=this.selModel.getSelection(),d=a.length,c=0;for(;c<d;c++){b.push(this.getNode(a[c]))}return b},getRecords:function(c){var b=[],d=0,a=c.length,e=this.dataSource.data;for(;d<a;d++){b[b.length]=e.getByKey(c[d].viewRecordId)}return b},getRecord:function(a){return this.dataSource.getByInternalId(Ext.getDom(a).viewRecordId)},isSelected:function(b){var a=this.getRecord(b);return this.selModel.isSelected(a)},select:function(b,c,a){this.selModel.select(b,c,a)},deselect:function(b,a){this.selModel.deselect(b,a)},getNode:function(a){if((!a&&a!==0)||!this.rendered){return null}if(a.target){a=a.target}if(Ext.isString(a)){return document.getElementById(a)}if(Ext.isNumber(a)){return this.all.elements[a]}if(a.isModel){return this.getNodeByRecord(a)}return Ext.fly(a).findParent(this.itemSelector,this.getTargetEl())},getNodeByRecord:function(a){var c=this.all.elements,d=c.length,b=0;for(;b<d;b++){if(c[b].viewRecordId===a.internalId){return c[b]}}return null},getNodes:function(c,a){var b=this.all;if(a!==undefined){a++}return b.slice(c,a)},indexOf:function(a){a=this.getNode(a);if(!a&&a!==0){return -1}if(Ext.isNumber(a.viewIndex)){return a.viewIndex}return this.all.indexOf(a)},onDestroy:function(){var a=this;a.all.clear();a.emptyEl=null;a.callParent();a.bindStore(null);Ext.destroy(a.selModel,a.scrollManager)},onItemSelect:function(a){var b=this.getNode(a);if(b){Ext.fly(b).addCls(this.selectedItemCls)}},onItemDeselect:function(a){var b=this.getNode(a);if(b){Ext.fly(b).removeCls(this.selectedItemCls)}},getItemSelector:function(){return this.itemSelector},addItemCls:function(b,a){var c=this.getNode(b);if(c){Ext.fly(c).addCls(a)}},removeItemCls:function(b,a){var c=this.getNode(b);if(c){Ext.fly(c).removeCls(a)}},privates:{getOverflowEl:function(){return Ext.Component.prototype.getTargetEl.call(this)},getTargetEl:function(){return this.touchScroll?this.getScrollerEl():this.callParent()}}},function(){Ext.deprecate("extjs","4.0",function(){Ext.view.AbstractView.override({getSelectionCount:function(){if(Ext.global.console){Ext.global.console.warn("DataView: getSelectionCount will be removed, please interact with the Ext.selection.DataViewModel")}return this.selModel.getSelection().length},getSelectedRecords:function(){if(Ext.global.console){Ext.global.console.warn("DataView: getSelectedRecords will be removed, please interact with the Ext.selection.DataViewModel")}return this.selModel.getSelection()},select:function(a,b,d){if(Ext.global.console){Ext.global.console.warn("DataView: select will be removed, please access select through a DataView's SelectionModel, ie: view.getSelectionModel().select()")}var c=this.getSelectionModel();return c.select.apply(c,arguments)},clearSelections:function(){if(Ext.global.console){Ext.global.console.warn("DataView: clearSelections will be removed, please access deselectAll through DataView's SelectionModel, ie: view.getSelectionModel().deselectAll()")}var a=this.getSelectionModel();return a.deselectAll()}})})});Ext.define("Ext.view.View",{extend:Ext.view.AbstractView,alternateClassName:"Ext.DataView",alias:"widget.dataview",inputTagRe:/^textarea$|^input$/i,inheritableStatics:{EventMap:{longpress:"LongPress",mousedown:"MouseDown",mouseup:"MouseUp",click:"Click",dblclick:"DblClick",contextmenu:"ContextMenu",mouseover:"MouseOver",mouseout:"MouseOut",mouseenter:"MouseEnter",mouseleave:"MouseLeave",keydown:"KeyDown",focus:"Focus"},TouchEventMap:{touchstart:"mousedown",touchend:"mouseup",tap:"click",doubletap:"dblclick"}},afterRender:function(){var a=this;a.callParent();a.mon(a.el,{scope:a,click:a.handleEvent,longpress:a.handleEvent,mousedown:a.handleEvent,mouseup:a.handleEvent,dblclick:a.handleEvent,contextmenu:a.handleEvent,keydown:a.handleEvent,mouseover:a.handleMouseOver,mouseout:a.handleMouseOut})},getTargetSelector:function(){return this.dataRowSelector||this.itemSelector},handleMouseOver:function(d){var c=this,a=c.getTargetSelector(),b=d.getTarget(a);if(!c.isDestroyed){if(b){if(c.mouseOverItem!==b&&c.el.contains(b)){c.mouseOverItem=d.item=b;d.newType="mouseenter";c.handleEvent(d)}}else{c.handleEvent(d)}}},handleMouseOut:function(f){var b=this.getTargetSelector(),c=f.getTarget(b),d=f.getRelatedTarget(b),a;if((c===d)&&!(c===null&&d===null)){return}if(!this.isDestroyed){if(c&&(a=this.self.getBoundView(c))){f.item=c;f.newType="mouseleave";a.handleEvent(f);a.mouseOverItem=null}else{this.handleEvent(f)}}},handleEvent:function(d){var b=this,c=d.type==="keydown",a=c&&d.getKey(),f;if(!d.item){d.item=d.getTarget(b.itemSelector)}if(d.item){d.record=b.getRecord(d.item)}else{if(c){f=b.getSelectionModel();d.record=f.lastFocused||f.getLastSelected();if(d.record){d.item=b.getNode(d.record)}}}if(b.processUIEvent(d)!==false){b.processSpecialEvent(d)}if(a===d.SPACE){if(!b.inputTagRe.test(d.getTarget().tagName)){d.stopEvent()}}d.item=d.record=d.newType=null},processItemEvent:Ext.emptyFn,processContainerEvent:Ext.emptyFn,processSpecialEvent:Ext.emptyFn,processUIEvent:function(f){if(!Ext.getBody().isAncestor(f.target)){return}var j=this,k=f.item,l=j.self,a=l.EventMap,g=l.TouchEventMap,d,c=f.record,h=f.type,b=h;if(f.newType){b=f.newType}if(k){b=g[b]||b;d=j.indexInStore?j.indexInStore(c):j.indexOf(k);if(!c||j.processItemEvent(c,k,d,f)===false){return false}if((j["onBeforeItem"+a[b]](c,k,d,f)===false)||(j.fireEvent("beforeitem"+b,j,c,k,d,f)===false)||(j["onItem"+a[b]](c,k,d,f)===false)){return false}j.fireEvent("item"+b,j,c,k,d,f)}else{h=g[h]||h;if((j.processContainerEvent(f)===false)||(j["onBeforeContainer"+a[h]](f)===false)||(j.fireEvent("beforecontainer"+h,j,f)===false)||(j["onContainer"+a[h]](f)===false)){return false}j.fireEvent("container"+h,j,f)}return true},onItemMouseEnter:function(a,c,b,d){if(this.trackOver){this.highlightItem(c)}},onItemMouseLeave:function(a,c,b,d){if(this.trackOver){this.clearHighlight()}},onItemMouseDown:Ext.emptyFn,onItemLongPress:Ext.emptyFn,onItemMouseUp:Ext.emptyFn,onItemFocus:Ext.emptyFn,onItemClick:Ext.emptyFn,onItemDblClick:Ext.emptyFn,onItemContextMenu:Ext.emptyFn,onItemKeyDown:Ext.emptyFn,onBeforeItemLongPress:Ext.emptyFn,onBeforeItemMouseDown:Ext.emptyFn,onBeforeItemMouseUp:Ext.emptyFn,onBeforeItemFocus:Ext.emptyFn,onBeforeItemMouseEnter:Ext.emptyFn,onBeforeItemMouseLeave:Ext.emptyFn,onBeforeItemClick:Ext.emptyFn,onBeforeItemDblClick:Ext.emptyFn,onBeforeItemContextMenu:Ext.emptyFn,onBeforeItemKeyDown:Ext.emptyFn,onContainerMouseDown:Ext.emptyFn,onContainerLongPress:Ext.emptyFn,onContainerMouseUp:Ext.emptyFn,onContainerMouseOver:Ext.emptyFn,onContainerMouseOut:Ext.emptyFn,onContainerClick:Ext.emptyFn,onContainerDblClick:Ext.emptyFn,onContainerContextMenu:Ext.emptyFn,onContainerKeyDown:Ext.emptyFn,onBeforeContainerMouseDown:Ext.emptyFn,onBeforeContainerLongPress:Ext.emptyFn,onBeforeContainerMouseUp:Ext.emptyFn,onBeforeContainerMouseOver:Ext.emptyFn,onBeforeContainerMouseOut:Ext.emptyFn,onBeforeContainerClick:Ext.emptyFn,onBeforeContainerDblClick:Ext.emptyFn,onBeforeContainerContextMenu:Ext.emptyFn,onBeforeContainerKeyDown:Ext.emptyFn,setHighlightedItem:function(c){var b=this,a=b.highlightedItem,d=b.overItemCls;if(a!==c){if(a){Ext.fly(a).removeCls(d);if(Ext.isIE8){b.repaintBorder(a);b.repaintBorder(a.nextSibling)}if(b.hasListeners.unhighlightitem){b.fireEvent("unhighlightitem",b,a)}}b.highlightedItem=c;if(c){Ext.fly(c).addCls(b.overItemCls);if(Ext.isIE8){b.repaintBorder(c.nextSibling)}if(b.hasListeners.highlightitem){b.fireEvent("highlightitem",b,c)}}}},highlightItem:function(a){this.setHighlightedItem(a)},clearHighlight:function(){this.setHighlightedItem(undefined)},handleUpdate:function(b,a){var f=this,e,c,d;if(f.viewReady){e=f.getNode(a);c=f.callParent(arguments);d=f.highlightedItem;if(d&&d===e){delete f.highlightedItem;if(c){f.highlightItem(c)}}}},refresh:function(){this.clearHighlight();this.callParent(arguments)},focusNode:function(h){var f=this,e=f.getNode(h),d=f.el,a=0,b=0,g=d.getRegion(),c;g.bottom=g.top+d.dom.clientHeight;g.right=g.left+d.dom.clientWidth;if(e){c=Ext.fly(e).getRegion();if(c.top<g.top){a=c.top-g.top}else{if(c.bottom>g.bottom){a=c.bottom-g.bottom}}if(c.left<g.left){b=c.left-g.left}else{if(c.right>g.right){b=c.right-g.right}}if(b||a){f.scrollBy(b,a,false)}Ext.fly(e).set({tabIndex:-1});e.focus()}},bindStore:function(b,c,a){var d=this[a];if(d&&d.isFeatureStore){if(b.isFeatureStore){this.bindStoreListeners(b);d.bindStore(d.store)}else{d.bindStore(b)}}else{this.callParent(arguments)}},privates:{repaintBorder:function(b){var a=this.getNode(b);if(a){a.className=a.className}},getFocusEl:function(){return this.getTargetEl()}}});Ext.define("Ext.form.CheckboxManager",{extend:Ext.util.MixedCollection,singleton:true,getByName:function(a,b){return this.filterBy(function(c){return c.name==a&&c.getFormId()==b})}});Ext.define("Ext.form.field.Checkbox",{extend:Ext.form.field.Base,alias:["widget.checkboxfield","widget.checkbox"],alternateClassName:"Ext.form.Checkbox",stretchInputElFixed:false,childEls:["boxLabelEl"],fieldSubTpl:['<div class="{wrapInnerCls} {noBoxLabelCls}" role="presentation">','<tpl if="labelAlignedBefore">',"{beforeBoxLabelTpl}",'<label id="{cmpId}-boxLabelEl" data-ref="boxLabelEl" {boxLabelAttrTpl} class="{boxLabelCls} ','{boxLabelCls}-{ui} {boxLabelCls}-{boxLabelAlign} {childElCls}" for="{id}">',"{beforeBoxLabelTextTpl}","{boxLabel}","{afterBoxLabelTextTpl}","</label>","{afterBoxLabelTpl}","</tpl>",'<input type="button" id="{id}" data-ref="inputEl" role="{role}" {inputAttrTpl}','<tpl if="tabIdx"> tabIndex="{tabIdx}"</tpl>','<tpl if="disabled"> disabled="disabled"</tpl>','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>',' class="{fieldCls} {typeCls} {typeCls}-{ui} {inputCls} {inputCls}-{ui} {childElCls} {afterLabelCls}" autocomplete="off" hidefocus="true" />','<tpl if="boxLabel && !labelAlignedBefore">',"{beforeBoxLabelTpl}",'<label id="{cmpId}-boxLabelEl" data-ref="boxLabelEl" {boxLabelAttrTpl} class="{boxLabelCls} ','{boxLabelCls}-{ui} {boxLabelCls}-{boxLabelAlign} {childElCls}" for="{id}">',"{beforeBoxLabelTextTpl}","{boxLabel}","{afterBoxLabelTextTpl}","</label>","{afterBoxLabelTpl}","</tpl>","</div>",{disableFormats:true,compiled:true}],publishes:{checked:1},subTplInsertions:["beforeBoxLabelTpl","afterBoxLabelTpl","beforeBoxLabelTextTpl","afterBoxLabelTextTpl","boxLabelAttrTpl","inputAttrTpl"],isCheckbox:true,focusCls:"form-checkbox-focus",fieldBodyCls:Ext.baseCSSPrefix+"form-cb-wrap",checked:false,checkedCls:Ext.baseCSSPrefix+"form-cb-checked",boxLabelCls:Ext.baseCSSPrefix+"form-cb-label",boxLabelAlign:"after",afterLabelCls:Ext.baseCSSPrefix+"form-cb-after",wrapInnerCls:Ext.baseCSSPrefix+"form-cb-wrap-inner",noBoxLabelCls:Ext.baseCSSPrefix+"form-cb-wrap-inner-no-box-label",inputValue:"on",checkChangeEvents:[],inputType:"checkbox",ariaRole:"checkbox",onRe:/^on$/i,inputCls:Ext.baseCSSPrefix+"form-cb",initComponent:function(){var a=this,b=a.value;if(b!==undefined){a.checked=a.isChecked(b,a.inputValue)}a.callParent(arguments);a.getManager().add(a)},initValue:function(){var b=this,a=!!b.checked;b.originalValue=b.lastValue=a;b.setValue(a)},getElConfig:function(){var a=this;if(a.isChecked(a.rawValue,a.inputValue)){a.addCls(a.checkedCls)}return a.callParent()},getSubTplData:function(){var b=this,a=b.boxLabel,d=b.boxLabelAlign,c=a&&d==="before";return Ext.apply(b.callParent(),{disabled:b.readOnly||b.disabled,wrapInnerCls:b.wrapInnerCls,boxLabel:a,boxLabelCls:b.boxLabelCls,boxLabelAlign:d,labelAlignedBefore:c,afterLabelCls:c?b.afterLabelCls:"",noBoxLabelCls:!a?b.noBoxLabelCls:"",role:b.ariaRole})},initEvents:function(){var a=this;a.callParent();a.mon(a.inputEl,"click",a.onBoxClick,a,{translate:false})},setBoxLabel:function(a){var b=this;b.boxLabel=a;if(b.rendered){b.boxLabelEl.setHtml(a)}},onBoxClick:function(){var a=this;if(!a.disabled&&!a.readOnly){this.setValue(!this.checked)}},getRawValue:function(){return this.checked},getValue:function(){return this.checked},getSubmitValue:function(){var a=this.uncheckedValue,b=Ext.isDefined(a)?a:null;return this.checked?this.inputValue:b},isChecked:function(b,a){return(b===true||b==="true"||b==="1"||b===1||(((Ext.isString(b)||Ext.isNumber(b))&&a)?b==a:this.onRe.test(b)))},setRawValue:function(c){var b=this,d=b.inputEl,a=b.isChecked(c,b.inputValue);if(d){b[a?"addCls":"removeCls"](b.checkedCls)}b.checked=b.rawValue=a;if(!b.duringSetValue){b.lastValue=a}return a},setValue:function(f){var e=this,c,b,a,d;if(Ext.isArray(f)){c=e.getManager().getByName(e.name,e.getFormId()).items;a=c.length;for(b=0;b<a;++b){d=c[b];d.setValue(Ext.Array.contains(f,d.inputValue))}}else{e.duringSetValue=true;e.callParent(arguments);delete e.duringSetValue}return e},valueToRaw:Ext.identityFn,onChange:function(b,a){var d=this,c=d.handler;if(c){c.call(d.scope||d,d,b)}d.callParent(arguments);if(d.reference&&d.publishState){d.publishState("checked",b)}},resetOriginalValue:function(b){var f=this,d,e,a,c;if(!b){d=f.getManager().getByName(f.name,f.getFormId()).items;a=d.length;for(c=0;c<a;++c){e=d[c];if(e!==f){d[c].resetOriginalValue(true)}}}f.callParent()},beforeDestroy:function(){this.callParent();this.getManager().removeAtKey(this.id)},getManager:function(){return Ext.form.CheckboxManager},onEnable:function(){var a=this,b=a.inputEl;a.callParent();if(b){b.dom.disabled=a.readOnly}},setReadOnly:function(c){var a=this,b=a.inputEl;if(b){b.dom.disabled=!!c||a.disabled}a.callParent(arguments)},getFormId:function(){var b=this,a;if(!b.formId){a=b.up("form");if(a){b.formId=a.id}}return b.formId}});Ext.define("Ext.dd.DragTracker",{mixins:{observable:Ext.util.Observable},active:false,trackOver:false,tolerance:5,autoStart:false,constructor:function(a){var b=this;Ext.apply(b,a);b.dragRegion=new Ext.util.Region(0,0,0,0);if(b.el){b.initEl(b.el)}b.mixins.observable.constructor.call(b);if(b.disabled){b.disable()}},initEl:function(b){var c=this,b=c.el=Ext.get(b),a=c.delegate;if(a){c.handle=a.isElement?a:b.selectNode(a,false)}c.delegate=c.handle?undefined:c.delegate;if(!c.handle){c.handle=b}c.handleListeners={scope:c,delegate:c.delegate,mousedown:c.onMouseDown,dragstart:c.onDragStart};if(!Ext.supports.TouchEvents&&(c.trackOver||c.overCls)){Ext.apply(c.handleListeners,{mouseover:c.onMouseOver,mouseout:c.onMouseOut})}c.mon(c.handle,c.handleListeners)},disable:function(){this.disabled=true},enable:function(){this.disabled=false},destroy:function(){var a=this;a.endDrag({});a.clearListeners();a.el=a.handle=null},onMouseOver:function(j,h){var f=this,g,d,c,a,b;if(!f.disabled){if(j.within(j.target,true,true)||f.delegate){g=f.handleCls;f.mouseIsOut=false;if(g){for(c=0,a=f.handleEls.length;c<a;c++){d=f.handleEls[c];b=d.delegateCls;if(!b){b=d.delegateCls=[g,"-",d.region,"-over"].join("")}d.addCls([b,f.overCls])}}f.fireEvent("mouseover",f,j,f.delegate?j.getTarget(f.delegate,h):f.handle)}}},onMouseOut:function(f){var d=this,c,b,a;if(d.mouseIsDown){d.mouseIsOut=true}else{if(d.handleCls){for(b=0,a=d.handleEls.length;b<a;b++){c=d.handleEls[b];c.removeCls([c.delegateCls,d.overCls])}}d.fireEvent("mouseout",d,f)}},onMouseDown:function(c,b){var a=this;if(a.disabled||c.dragTracked){return}a.dragTarget=a.delegate?b:a.handle.dom;a.startXY=a.lastXY=c.getXY();a.startRegion=Ext.fly(a.dragTarget).getRegion();if(a.fireEvent("mousedown",a,c)===false||a.fireEvent("beforedragstart",a,c)===false||a.onBeforeStart(c)===false){return}a.mouseIsDown=true;c.dragTracked=true;a.el.setCapture();c.stopPropagation();if(a.preventDefault!==false){c.preventDefault()}Ext.getDoc().on({scope:a,capture:true,mouseup:a.onMouseUp,mousemove:a.onMouseMove,selectstart:a.stopSelect});a.dragEnded=false;if(!a.tolerance){a.triggerStart()}else{if(a.autoStart){a.timer=Ext.defer(a.triggerStart,a.autoStart===true?1000:a.autoStart,a,[c])}}},onMouseMove:function(f,d){var b=this,c=f.getXY(),a=b.startXY;f.stopPropagation();if(b.preventDefault!==false){f.preventDefault()}if(b.dragEnded){return}b.lastXY=c;if(!b.active){if(Math.max(Math.abs(a[0]-c[0]),Math.abs(a[1]-c[1]))>b.tolerance){b.triggerStart(f)}else{return}}if(b.fireEvent("mousemove",b,f)===false){b.onMouseUp(f)}else{b.onDrag(f);b.fireEvent("drag",b,f)}},onMouseUp:function(b){var a=this;a.mouseIsDown=false;if(a.mouseIsOut){a.mouseIsOut=false;a.onMouseOut(b)}if(a.preventDefault!==false){b.preventDefault()}if(Ext.isIE&&document.releaseCapture){document.releaseCapture()}a.fireEvent("mouseup",a,b);a.endDrag(b)},endDrag:function(c){var b=this,a=b.active;Ext.getDoc().un({mousemove:b.onMouseMove,mouseup:b.onMouseUp,selectstart:b.stopSelect,capture:true,scope:b});b.clearStart();b.active=false;if(a){b.dragEnded=true;b.onEnd(c);b.fireEvent("dragend",b,c)}b._constrainRegion=null},triggerStart:function(b){var a=this;a.clearStart();a.active=true;a.onStart(b);a.fireEvent("dragstart",a,b)},clearStart:function(){var a=this.timer;if(a){clearTimeout(a);this.timer=null}},stopSelect:function(a){a.stopEvent();return false},onBeforeStart:function(a){},onStart:function(a){},onDrag:function(a){},onEnd:function(a){},getDragTarget:function(){return this.dragTarget},getDragCt:function(){return this.el},getConstrainRegion:function(){var a=this;if(a.constrainTo){if(a.constrainTo instanceof Ext.util.Region){return a.constrainTo}if(!a._constrainRegion){a._constrainRegion=Ext.fly(a.constrainTo).getViewRegion()}}else{if(!a._constrainRegion){a._constrainRegion=a.getDragCt().getViewRegion()}}return a._constrainRegion},getXY:function(a){return a?this.constrainModes[a](this,this.lastXY):this.lastXY},getOffset:function(c){var b=this.getXY(c),a=this.startXY;return[b[0]-a[0],b[1]-a[1]]},onDragStart:function(a){a.stopPropagation()},constrainModes:{point:function(b,d){var c=b.dragRegion,a=b.getConstrainRegion();if(!a){return d}c.x=c.left=c[0]=c.right=d[0];c.y=c.top=c[1]=c.bottom=d[1];c.constrainTo(a);return[c.left,c.top]},dragTarget:function(c,f){var b=c.startXY,e=c.startRegion.copy(),a=c.getConstrainRegion(),d;if(!a){return f}e.translateBy(f[0]-b[0],f[1]-b[1]);if(e.right>a.right){f[0]+=d=(a.right-e.right);e.left+=d}if(e.left<a.left){f[0]+=(a.left-e.left)}if(e.bottom>a.bottom){f[1]+=d=(a.bottom-e.bottom);e.top+=d}if(e.top<a.top){f[1]+=(a.top-e.top)}return f}}});Ext.define("Ext.dd.DDTarget",{extend:Ext.dd.DragDrop,constructor:function(c,a,b){if(c){this.initTarget(c,a,b)}},getDragEl:Ext.emptyFn,isValidHandleChild:Ext.emptyFn,startDrag:Ext.emptyFn,endDrag:Ext.emptyFn,onDrag:Ext.emptyFn,onDragDrop:Ext.emptyFn,onDragEnter:Ext.emptyFn,onDragOut:Ext.emptyFn,onDragOver:Ext.emptyFn,onInvalidDrop:Ext.emptyFn,onMouseDown:Ext.emptyFn,onMouseUp:Ext.emptyFn,setXConstraint:Ext.emptyFn,setYConstraint:Ext.emptyFn,resetConstraints:Ext.emptyFn,clearConstraints:Ext.emptyFn,clearTicks:Ext.emptyFn,setInitPosition:Ext.emptyFn,setDragElId:Ext.emptyFn,setHandleElId:Ext.emptyFn,setOuterHandleElId:Ext.emptyFn,addInvalidHandleClass:Ext.emptyFn,addInvalidHandleId:Ext.emptyFn,addInvalidHandleType:Ext.emptyFn,removeInvalidHandleClass:Ext.emptyFn,removeInvalidHandleId:Ext.emptyFn,removeInvalidHandleType:Ext.emptyFn,toString:function(){return("DDTarget "+this.id)}});Ext.define("Ext.dd.ScrollManager",{singleton:true,dirTrans:{up:-1,left:-1,down:1,right:1},constructor:function(){var a=Ext.dd.DragDropManager;a.fireEvents=Ext.Function.createSequence(a.fireEvents,this.onFire,this);a.stopDrag=Ext.Function.createSequence(a.stopDrag,this.onStop,this);this.doScroll=this.doScroll.bind(this);this.ddmInstance=a;this.els={};this.dragEl=null;this.proc={}},onStop:function(a){var b=Ext.dd.ScrollManager;b.dragEl=null;b.clearProc()},triggerRefresh:function(){if(this.ddmInstance.dragCurrent){this.ddmInstance.refreshCache(this.ddmInstance.dragCurrent.groups)}},doScroll:function(){var f=this;if(f.ddmInstance.dragCurrent){var a=f.proc,e=a.el,c=a.component,g=a.el.ddScrollConfig,h=g&&g.increment?g.increment:f.increment,b=g&&"animate" in g?g.animate:f.animate,d=function(){f.triggerRefresh()};if(b){if(b===true){b={callback:d}}else{b.callback=b.callback?Ext.Function.createSequence(b.callback,d):d}}if(c){h=h*f.dirTrans[a.dir];if(a.dir==="up"||a.dir==="down"){c.scrollBy(0,h,b)}else{c.scrollBy(h,0,b)}}else{e.scroll(a.dir,h,b)}if(!b){d()}}},clearProc:function(){var a=this.proc;if(a.id){clearInterval(a.id)}if(a.scroller){a.scroller.setSnapToBoundary(true);a.scroller.snapToBoundary()}a.id=0;a.el=a.component=a.scroller=null;a.dir=""},startProc:function(d,b){var e=this,g,f,c,a=e.proc;e.clearProc();a.el=d;a.dir=b;if(Ext.supports.touchScroll===2&&(c=d.component)&&d===c.getOverflowEl()){a.component=c;a.scroller=c.scrollManager.scroller;a.scroller.setSnapToBoundary(false)}g=d.ddScrollConfig?d.ddScrollConfig.ddGroup:undefined;f=(d.ddScrollConfig&&d.ddScrollConfig.frequency)?d.ddScrollConfig.frequency:e.frequency;if(g===undefined||e.ddmInstance.dragCurrent.ddGroup===g){a.id=setInterval(e.doScroll,f)}},onFire:function(g,k){var j=this,l,h,d,a,b,f,c;if(k||!j.ddmInstance.dragCurrent){return}if(!j.dragEl||j.dragEl!==j.ddmInstance.dragCurrent){j.dragEl=j.ddmInstance.dragCurrent;j.refreshCache()}l=g.getPoint();h=j.proc;d=j.els;for(a in d){b=d[a];f=b._region;c=b.ddScrollConfig||j;if(f&&f.contains(l)&&b.isScrollable()){if(f.bottom-l.y<=c.vthresh){if(h.el!==b){j.startProc(b,"down")}return}else{if(f.right-l.x<=c.hthresh){if(h.el!==b){j.startProc(b,"right")}return}else{if(l.y-f.top<=c.vthresh){if(h.el!==b){j.startProc(b,"up")}return}else{if(l.x-f.left<=c.hthresh){if(h.el!==b){j.startProc(b,"left")}return}}}}}}j.clearProc()},register:function(c){if(Ext.isArray(c)){for(var b=0,a=c.length;b<a;b++){this.register(c[b])}}else{c=Ext.get(c);this.els[c.id]=c}},unregister:function(c){if(Ext.isArray(c)){for(var b=0,a=c.length;b<a;b++){this.unregister(c[b])}}else{c=Ext.get(c);delete this.els[c.id]}},vthresh:25*(window.devicePixelRatio||1),hthresh:25*(window.devicePixelRatio||1),increment:100,frequency:500,animate:true,animDuration:0.4,ddGroup:undefined,refreshCache:function(){var a=this.els,b;for(b in a){if(typeof a[b]=="object"){a[b]._region=a[b].getRegion()}}}});Ext.define("Ext.dd.DropTarget",{extend:Ext.dd.DDTarget,constructor:function(b,a){this.el=Ext.get(b);Ext.apply(this,a);if(this.containerScroll){Ext.dd.ScrollManager.register(this.el)}this.callParent([this.el.dom,this.ddGroup||this.group,{isTarget:true}])},dropAllowed:Ext.baseCSSPrefix+"dd-drop-ok",dropNotAllowed:Ext.baseCSSPrefix+"dd-drop-nodrop",isTarget:true,isNotifyTarget:true,notifyEnter:function(a,c,b){if(this.overClass){this.el.addCls(this.overClass)}return this.dropAllowed},notifyOver:function(a,c,b){return this.dropAllowed},notifyOut:function(a,c,b){if(this.overClass){this.el.removeCls(this.overClass)}},notifyDrop:function(a,c,b){if(this.overClass){this.el.removeCls(this.overClass)}return false},destroy:function(){this.callParent();if(this.containerScroll){Ext.dd.ScrollManager.unregister(this.el)}}});Ext.define("Ext.form.field.VTypes",(function(){var c=/^[a-zA-Z_]+$/,d=/^[a-zA-Z0-9_]+$/,b=/^(")?(?:[^\."])(?:(?:[\.])?(?:[\w\-!#$%&'*+/=?^_`{|}~]))*\1@(\w[\-\w]*\.){1,5}([A-Za-z]){2,6}$/,a=/(((^https?)|(^ftp)):\/\/((([\-\w]+\.)+\w{2,3}(\/[%\-\w]+(\.\w{2,})?)*(([\w\-\.\?\\\/+@&#;`~=%!]*)(\.\w{2,})?)*)|(localhost|LOCALHOST))\/?)/i;return{singleton:true,alternateClassName:"Ext.form.VTypes",email:function(e){return b.test(e)},emailText:'This field should be an e-mail address in the format "user@example.com"',emailMask:/[\w.\-@'"!#$%&'*+/=?^_`{|}~]/i,url:function(e){return a.test(e)},urlText:'This field should be a URL in the format "http://www.example.com"',alpha:function(e){return c.test(e)},alphaText:"This field should only contain letters and _",alphaMask:/[a-z_]/i,alphanum:function(e){return d.test(e)},alphanumText:"This field should only contain letters, numbers and _",alphanumMask:/[a-z0-9_]/i}}()));Ext.define("Ext.form.trigger.Trigger",{alias:"trigger.trigger",mixins:[Ext.mixin.Factoryable],factoryConfig:{defaultType:"trigger"},repeatClick:false,focusFieldOnClick:false,hidden:false,hideOnReadOnly:undefined,weight:0,baseCls:Ext.baseCSSPrefix+"form-trigger",focusCls:Ext.baseCSSPrefix+"form-trigger-focus",overCls:Ext.baseCSSPrefix+"form-trigger-over",clickCls:Ext.baseCSSPrefix+"form-trigger-click",validIdRe:Ext.validIdRe,renderTpl:['<div id="{triggerId}" class="{baseCls} {baseCls}-{ui} {cls} {cls}-{ui} {extraCls} ','{childElCls}"<tpl if="triggerStyle"> style="{triggerStyle}"</tpl>>',"{[values.$trigger.renderBody(values)]}","</div>"],statics:{weightComparator:function(a,b){return a.weight-b.weight}},constructor:function(b){var c=this,a;Ext.apply(c,b);if(c.compat4Mode){a=c.cls;c.focusCls=[c.focusCls,a+"-focus"];c.overCls=[c.overCls,a+"-over"];c.clickCls=[c.clickCls,a+"-click"]}if(!c.validIdRe.test(c.id)){Ext.Error.raise('Invalid trigger "id": "'+c.id+'"')}},afterFieldRender:function(){this.initEvents()},destroy:function(){var a=this,b=a.clickRepeater;if(b){b.destroy()}if(a.el){a.el.destroy()}a.el=null;a.isDestroyed=true},getBodyRenderData:Ext.emptyFn,getEl:function(){return this.el||null},getStateEl:function(){return this.el},hide:function(){var b=this,a=b.el;b.hidden=true;if(a){a.hide()}},initEvents:function(){var d=this,a=d.isFieldEnabled,c=d.getStateEl(),b=d.el;c.addClsOnOver(d.overCls,a,d);c.addClsOnClick(d.clickCls,a,d);if(d.repeatClick){d.clickRepeater=new Ext.util.ClickRepeater(b,{preventDefault:true,handler:d.onClick,listeners:{mouseup:d.onMouseUp,scope:d},scope:d})}else{d.field.mon(b,{click:d.onClick,mouseup:d.onMouseUp,scope:d})}},isFieldEnabled:function(){return !this.field.disabled},isVisible:function(){var a=this,c=a.field,b=false;if(a.hidden||!c||!a.rendered||a.isDestroyed){b=true}return !b},onClick:function(){var c=this,a=arguments,f=c.clickRepeater?a[1]:a[0],b=c.handler,d=c.field;if(b&&!d.readOnly&&c.isFieldEnabled()){Ext.callback(c.handler,c.scope,[d,c,f],0,d)}},resolveListenerScope:function(a){return this.field.resolveListenerScope(a)},onMouseUp:function(){if(this.focusFieldOnClick){this.field.inputEl.focus()}},onFieldBlur:function(){this.getStateEl().removeCls(this.focusCls)},onFieldFocus:function(){this.getStateEl().addCls(this.focusCls)},onFieldRender:function(){var b=this,a=b.el=b.field.triggerWrap.selectNode("#"+b.domId,false);a.setVisibilityMode(Ext.Element.DISPLAY);b.rendered=true},renderBody:function(b){var a=this,c=a.bodyTpl;Ext.apply(b,a.getBodyRenderData());return c?Ext.XTemplate.getTpl(a,"bodyTpl").apply(b):""},renderTrigger:function(a){var c=this,b=c.width,d=c.hidden?"display:none;":"";if(b){d+="width:"+b}return Ext.XTemplate.getTpl(c,"renderTpl").apply({$trigger:c,fieldData:a,ui:a.ui,childElCls:a.childElCls,triggerId:c.domId=c.field.id+"-trigger-"+c.id,cls:c.cls,triggerStyle:d,extraCls:c.extraCls,baseCls:c.baseCls})},setHidden:function(a){if(a!==this.hidden){this[a?"hide":"show"]()}},setVisible:function(a){this.setHidden(!a)},show:function(){var b=this,a=b.el;b.hidden=false;if(a){a.show()}}});Ext.define("Ext.form.field.Text",{extend:Ext.form.field.Base,alias:"widget.textfield",alternateClassName:["Ext.form.TextField","Ext.form.Text"],config:{hideTrigger:false,triggers:undefined},growMin:30,growMax:800,growAppend:"W",allowBlank:true,validateBlank:false,allowOnlyWhitespace:true,minLength:0,maxLength:Number.MAX_VALUE,minLengthText:"The minimum length for this field is {0}",maxLengthText:"The maximum length for this field is {0}",blankText:"This field is required",regexText:"",emptyCls:Ext.baseCSSPrefix+"form-empty-field",requiredCls:Ext.baseCSSPrefix+"form-required-field",valueContainsPlaceholder:false,ariaRole:"textbox",editable:true,repeatTriggerClick:false,triggerWrapCls:Ext.baseCSSPrefix+"form-trigger-wrap",triggerWrapFocusCls:Ext.baseCSSPrefix+"form-trigger-wrap-focus",triggerWrapInvalidCls:Ext.baseCSSPrefix+"form-trigger-wrap-invalid",fieldBodyCls:Ext.baseCSSPrefix+"form-text-field-body",inputWrapCls:Ext.baseCSSPrefix+"form-text-wrap",inputWrapFocusCls:Ext.baseCSSPrefix+"form-text-wrap-focus",inputWrapInvalidCls:Ext.baseCSSPrefix+"form-text-wrap-invalid",growCls:Ext.baseCSSPrefix+"form-text-grow",monitorTab:true,mimicing:false,childEls:["triggerWrap","inputWrap"],preSubTpl:['<div id="{cmpId}-triggerWrap" data-ref="triggerWrap" class="{triggerWrapCls} {triggerWrapCls}-{ui}">','<div id={cmpId}-inputWrap data-ref="inputWrap" class="{inputWrapCls} {inputWrapCls}-{ui}">'],postSubTpl:["</div>",'<tpl for="triggers">{[values.renderTrigger(parent)]}</tpl>',"</div>"],initComponent:function(){var b=this,a=b.emptyCls;if(b.allowOnlyWhitespace===false){b.allowBlank=false}if(b.size){Ext.log.warn('Ext.form.field.Text "size" config was deprecated in Ext 5.0. Please specify a "width" or use a layout instead.')}if(b.size){b.defaultBodyWidth=b.size*6.5+20}if(!b.onTrigger1Click){b.onTrigger1Click=b.onTriggerClick}b.callParent();b.setReadOnly(b.readOnly);b.fieldFocusCls=b.baseCls+"-focus";b.emptyUICls=a+" "+a+"-"+b.ui;b.addStateEvents("change");b.setGrowSizePolicy()},setGrowSizePolicy:function(){if(this.grow){this.shrinkWrap|=1}},initEvents:function(){var b=this,a=b.inputEl;this.mon(Ext.GlobalEvents,"beforefocus",this.onOtherFocus,this);b.callParent();if(b.selectOnFocus||b.emptyText){b.mon(a,"mousedown",b.onMouseDown,b)}if(b.maskRe||(b.vtype&&b.disableKeyFilter!==true&&(b.maskRe=Ext.form.field.VTypes[b.vtype+"Mask"]))){b.mon(a,"keypress",b.filterKeys,b)}if(b.enableKeyEvents){b.mon(a,{scope:b,keyup:b.onKeyUp,keydown:b.onKeyDown,keypress:b.onKeyPress})}},isEqual:function(b,a){return this.isEqualAsString(b,a)},onChange:function(b,a){this.callParent(arguments);this.autoSize()},getSubTplData:function(){var b=this,c=b.getRawValue(),e=b.emptyText&&c.length<1,a=b.maxLength,d;if(b.enforceMaxLength){if(a===Number.MAX_VALUE){a=undefined}}else{a=undefined}if(e){if(Ext.supports.Placeholder){d=b.emptyText}else{c=b.emptyText;b.valueContainsPlaceholder=true}}return Ext.apply(b.callParent(),{triggerWrapCls:b.triggerWrapCls,inputWrapCls:b.inputWrapCls,triggers:b.orderedTriggers,maxLength:a,readOnly:!b.editable||b.readOnly,placeholder:d,value:c,fieldCls:b.fieldCls+((e&&(d||c))?" "+b.emptyUICls:"")+(b.allowBlank?"":" "+b.requiredCls)})},onRender:function(){var c=this,b=c.getTriggers(),d=[],e,a;if(Ext.supports.FixedTableWidthBug){c.el._needsTableWidthFix=true}c.callParent();if(b){this.invokeTriggers("onFieldRender");for(e in b){d.push(b[e].el)}a=c.triggerEl=c.triggerCell=new Ext.CompositeElement(d,true)}c.inputCell=c.inputWrap},afterRender:function(){var a=this;a.autoSize();a.callParent();this.invokeTriggers("afterFieldRender")},onMouseDown:function(){var a=this;if(!a.hasFocus){a.mon(a.inputEl,"mouseup",Ext.emptyFn,a,{single:true,preventDefault:true})}},applyTriggers:function(g){var h=this,c=h.getHideTrigger(),k=h.readOnly,l=h.orderedTriggers=[],j=h.repeatTriggerClick,b,f,d,a,e;if(h.rendered){Ext.Error.raise("Cannot set triggers after field has already been rendered.")}if((h.triggerCls&&!g)||h.trigger1Cls){Ext.log.warn("Ext.form.field.Text: 'triggerCls' and 'trigger<n>Cls' are deprecated.  Use 'triggers' instead.")}if(!g){g={};if(h.triggerCls&&!h.trigger1Cls){h.trigger1Cls=h.triggerCls}for(e=1;a=h["trigger"+e+"Cls"];e++){g["trigger"+e]={cls:a,extraCls:Ext.baseCSSPrefix+"trigger-index-"+e,handler:"onTrigger"+e+"Click",compat4Mode:true,scope:h}}}for(b in g){if(g.hasOwnProperty(b)){f=g[b];f.field=h;f.id=b;if((k&&f.hideOnReadOnly!==false)||(c&&f.hidden!==false)){f.hidden=true}if(j&&(f.repeatClick!==false)){f.repeatClick=true}d=g[b]=Ext.form.trigger.Trigger.create(f);l.push(d)}}Ext.Array.sort(l,Ext.form.trigger.Trigger.weightComparator);return g},invokeTriggers:function(a,c){var e=this,d=e.getTriggers(),f,b;if(d){for(f in d){if(d.hasOwnProperty(f)){b=d[f];b[a].apply(b,c||[])}}}},getTrigger:function(a){return this.getTriggers()[a]},updateHideTrigger:function(a){if(this.rendered){this.invokeTriggers(a?"hide":"show")}},setEditable:function(a){var b=this;b.editable=a;if(b.rendered){b.setReadOnlyAttr(!a||b.readOnly)}},setReadOnly:function(f){var d=this,c=d.getTriggers(),b=d.getHideTrigger(),a,e;f=!!f;d.callParent([f]);if(d.rendered){d.setReadOnlyAttr(f||!d.editable);if(c){for(e in c){a=c[e];if(a.hideOnReadOnly===true||(a.hideOnReadOnly!==false&&!b)){a[f?"hide":"show"].call(a)}}}}},setReadOnlyAttr:function(d){var b=this,a="readonly",c=b.inputEl.dom;if(d){c.setAttribute(a,a)}else{c.removeAttribute(a)}},processRawValue:function(b){var a=this,d=a.stripCharsRe,c;if(d){c=b.replace(d,"");if(c!==b){a.setRawValue(c);b=c}}return b},onDisable:function(){this.callParent();if(Ext.isIE){this.inputEl.dom.unselectable="on"}},onEnable:function(){this.callParent();if(Ext.isIE){this.inputEl.dom.unselectable=""}},onKeyDown:function(a){this.fireEvent("keydown",this,a)},onKeyUp:function(a){this.fireEvent("keyup",this,a)},onKeyPress:function(a){this.fireEvent("keypress",this,a)},reset:function(){this.callParent();this.applyEmptyText()},applyEmptyText:function(){var b=this,a=b.emptyText,c;if(b.rendered&&a){c=b.getRawValue().length<1&&!b.hasFocus;if(Ext.supports.Placeholder){b.inputEl.dom.placeholder=a}else{if(c){b.setRawValue(a);b.valueContainsPlaceholder=true}}if(c){b.inputEl.addCls(b.emptyUICls)}b.autoSize()}},afterFirstLayout:function(){this.callParent();if(Ext.isIE&&this.disabled){var a=this.inputEl;if(a){a.dom.unselectable="on"}}},toggleInvalidCls:function(a){var b=a?"addCls":"removeCls";this.callParent();this.triggerWrap[b](this.triggerWrapInvalidCls);this.inputWrap[b](this.inputWrapInvalidCls)},beforeFocus:function(){var b=this,c=b.inputEl,a=b.emptyText,d;b.callParent(arguments);if((a&&!Ext.supports.Placeholder)&&(c.dom.value===b.emptyText&&b.valueContainsPlaceholder)){b.setRawValue("");d=true;c.removeCls(b.emptyUICls);b.valueContainsPlaceholder=false}else{if(Ext.supports.Placeholder){c.removeCls(b.emptyUICls)}}if(b.selectOnFocus||d){if(Ext.isWebKit){if(!b.inputFocusTask){b.inputFocusTask=new Ext.util.DelayedTask(b.focusInput,b)}b.inputFocusTask.delay(1)}else{b.focusInput()}}},focusInput:function(){var a=this.inputEl;if(a){a=a.dom;if(a){a.select()}}},onFocus:function(b){var a=this;a.otherFocused=false;a.callParent(arguments);if(a.emptyText){a.autoSize()}if(!a.mimicing){a.addCls(a.fieldFocusCls);a.triggerWrap.addCls(a.triggerWrapFocusCls);a.inputWrap.addCls(a.inputWrapFocusCls);a.invokeTriggers("onFieldFocus",[b]);a.mimicing=true;a.mon(Ext.getDoc(),"mousedown",a.mimicBlur,a,{delay:10});if(a.monitorTab){a.on("specialkey",a.checkTab,a)}}},onBlur:function(){if(this.blurring||this.otherFocused){this.triggerBlur();this.otherFocused=false}},onOtherFocus:function(a){this.otherFocused=(this.hasFocus&&!this.bodyEl.contains(a))},checkTab:function(a,b){if(!this.ignoreMonitorTab&&b.getKey()===b.TAB){this.triggerBlur()}},mimicBlur:function(a){if(!this.isDestroyed&&!this.bodyEl.contains(a.target)){this.triggerBlur(a)}},triggerBlur:function(b){var a=this;a.mimicing=false;a.mun(Ext.getDoc(),"mousedown",a.mimicBlur,a);if(a.monitorTab&&a.inputEl){a.un("specialkey",a.checkTab,a)}Ext.form.field.Text.superclass.onBlur.call(a,b);a.removeCls(a.fieldFocusCls);a.triggerWrap.removeCls(a.triggerWrapFocusCls);a.inputWrap.removeCls(a.inputWrapFocusCls);a.invokeTriggers("onFieldBlur",[b])},postBlur:function(){var a=this.inputFocusTask;this.callParent(arguments);this.applyEmptyText();if(a){a.cancel()}},filterKeys:function(c){if(c.ctrlKey&&!c.altKey){return}var b=c.getKey(),a=String.fromCharCode(c.getCharCode());if((Ext.isGecko||Ext.isOpera)&&(c.isNavKeyPress()||b===c.BACKSPACE||(b===c.DELETE&&c.button===-1))){return}if((!Ext.isGecko&&!Ext.isOpera)&&c.isSpecialKey()&&!a){return}if(!this.maskRe.test(a)){c.stopEvent()}},getState:function(){return this.addPropertyToState(this.callParent(),"value")},applyState:function(a){this.callParent(arguments);if(a.hasOwnProperty("value")){this.setValue(a.value)}},getRawValue:function(){var b=this,a=b.callParent();if(a===b.emptyText&&b.valueContainsPlaceholder){a=""}return a},setValue:function(b){var a=this,c=a.inputEl;if(c&&a.emptyText&&!Ext.isEmpty(b)){c.removeCls(a.emptyUICls);a.valueContainsPlaceholder=false}a.callParent(arguments);a.applyEmptyText();return a},getErrors:function(l){var f=this,j=f.callParent(arguments),a=f.validator,d=f.vtype,g=Ext.form.field.VTypes,h=f.regex,k=Ext.String.format,b,e,c;l=l||f.processRawValue(f.getRawValue());if(Ext.isFunction(a)){b=a.call(f,l);if(b!==true){j.push(b)}}e=f.allowOnlyWhitespace?l:Ext.String.trim(l);if(e.length<1||(l===f.emptyText&&f.valueContainsPlaceholder)){if(!f.allowBlank){j.push(f.blankText)}if(!f.validateBlank){return j}c=true}if(!c&&l.length<f.minLength){j.push(k(f.minLengthText,f.minLength))}if(l.length>f.maxLength){j.push(k(f.maxLengthText,f.maxLength))}if(d){if(!g[d](l,f)){j.push(f.vtypeText||g[d+"Text"])}}if(h&&!h.test(l)){j.push(f.regexText||f.invalidText)}return j},selectText:function(h,a){var g=this,c=g.getRawValue(),d=true,f=g.inputEl.dom,e,b;if(c.length>0){h=h===e?0:h;a=a===e?c.length:a;if(f.setSelectionRange){f.setSelectionRange(h,a)}else{if(f.createTextRange){b=f.createTextRange();b.moveStart("character",h);b.moveEnd("character",a-c.length);b.select()}}d=Ext.isGecko||Ext.isOpera}if(d){g.focus()}},autoSize:function(){var e=this,d,j,b,g,h,c,a,f;if(e.grow&&e.rendered){h=e.inputEl;d=e.getTriggers();g=0;f=Ext.util.Format.htmlEncode(h.dom.value||(e.hasFocus?"":e.emptyText)||"");f+=e.growAppend;for(j in d){g+=d[j].el.getWidth()}a=h.getTextWidth(f)+g+e.inputWrap.getBorderWidth("lr")+e.triggerWrap.getBorderWidth("lr");a=Math.min(Math.max(a,e.growMin),e.growMax);e.bodyEl.setWidth(a);e.updateLayout();e.fireEvent("autosize",e,a)}},onDestroy:function(){var a=this;a.invokeTriggers("destroy");Ext.destroy(a.triggerRepeater);a.callParent();if(a.inputFocusTask){a.inputFocusTask.cancel();a.inputFocusTask=null}},onTriggerClick:Ext.emptyFn,privates:{getTdType:function(){return"textfield"}},deprecated:{5:{methods:{getTriggerWidth:function(){var b=this.getTriggers(),a=0,c;if(b&&this.rendered){for(c in b){if(b.hasOwnProperty(c)){a+=b[c].el.getWidth()}}}return a}}}}});Ext.define("Ext.resizer.Splitter",{extend:Ext.Component,xtype:"splitter",childEls:["collapseEl"],renderTpl:['<tpl if="collapsible===true">','<div id="{id}-collapseEl" data-ref="collapseEl" role="presentation" class="',Ext.baseCSSPrefix,"collapse-el ",Ext.baseCSSPrefix,'layout-split-{collapseDir}{childElCls}">&#160;',"</div>","</tpl>"],isSplitter:true,baseCls:Ext.baseCSSPrefix+"splitter",collapsedClsInternal:Ext.baseCSSPrefix+"splitter-collapsed",canResize:true,collapsible:null,collapseOnDblClick:true,defaultSplitMin:40,defaultSplitMax:1000,collapseTarget:"next",horizontal:false,vertical:false,size:5,tracker:null,ariaRole:"separator",getTrackerConfig:function(){return Ext.apply({xclass:"Ext.resizer.SplitterTracker",el:this.el,splitter:this},this.tracker)},beforeRender:function(){var b=this,c=b.getCollapseTarget(),a=b.collapsible;b.callParent();if(c.collapsed){b.addCls(b.collapsedClsInternal)}if(!b.canResize){b.addCls(b.baseCls+"-noresize")}Ext.applyIf(b.renderData,{collapseDir:b.getCollapseDirection(),collapsible:(a!==null)?a:c.collapsible});b.protoEl.unselectable()},onRender:function(){var c=this,b,a;c.callParent(arguments);if(c.performCollapse!==false){if(c.renderData.collapsible){c.mon(c.collapseEl,"click",c.toggleTargetCmp,c)}if(c.collapseOnDblClick){c.mon(c.el,"dblclick",c.toggleTargetCmp,c)}}c.mon(c.getCollapseTarget(),{collapse:c.onTargetCollapse,expand:c.onTargetExpand,beforeexpand:c.onBeforeTargetExpand,beforecollapse:c.onBeforeTargetCollapse,scope:c});if(c.canResize){c.tracker=Ext.create(c.getTrackerConfig());c.relayEvents(c.tracker,["beforedragstart","dragstart","dragend"])}b=c.collapseEl;if(b){b.lastCollapseDirCls=c.collapseDirProps[c.collapseDirection].cls}},getCollapseDirection:function(){var f=this,c=f.collapseDirection,e,a,b,d;if(!c){e=f.collapseTarget;if(e.isComponent){c=e.collapseDirection}if(!c){d=f.ownerCt.layout.type;if(e.isComponent){b=f.ownerCt.items;a=Number(b.indexOf(e)===b.indexOf(f)-1)<<1|Number(d==="hbox")}else{a=Number(f.collapseTarget==="prev")<<1|Number(d==="hbox")}c=["bottom","right","top","left"][a]}f.collapseDirection=c}f.setOrientation((c==="top"||c==="bottom")?"horizontal":"vertical");return c},getCollapseTarget:function(){var a=this;return a.collapseTarget.isComponent?a.collapseTarget:a.collapseTarget==="prev"?a.previousSibling():a.nextSibling()},setCollapseEl:function(b){var a=this.collapseEl;if(a){a.setDisplayed(b)}},onBeforeTargetExpand:function(a){this.setCollapseEl("none")},onBeforeTargetCollapse:function(){this.setCollapseEl("none")},onTargetCollapse:function(a){this.el.addCls([this.collapsedClsInternal,this.collapsedCls]);this.setCollapseEl("")},onTargetExpand:function(a){this.el.removeCls([this.collapsedClsInternal,this.collapsedCls]);this.setCollapseEl("")},collapseDirProps:{top:{cls:Ext.baseCSSPrefix+"layout-split-top"},right:{cls:Ext.baseCSSPrefix+"layout-split-right"},bottom:{cls:Ext.baseCSSPrefix+"layout-split-bottom"},left:{cls:Ext.baseCSSPrefix+"layout-split-left"}},orientationProps:{horizontal:{opposite:"vertical",fixedAxis:"height",stretchedAxis:"width"},vertical:{opposite:"horizontal",fixedAxis:"width",stretchedAxis:"height"}},applyCollapseDirection:function(){var c=this,b=c.collapseEl,d=c.collapseDirProps[c.collapseDirection],a;if(b){a=b.lastCollapseDirCls;if(a){b.removeCls(a)}b.addCls(b.lastCollapseDirCls=d.cls)}},applyOrientation:function(){var e=this,c=e.orientation,d=e.orientationProps[c],f=e.size,b=d.fixedAxis,g=d.stretchedAxis,a=e.baseCls+"-";e[c]=true;e[d.opposite]=false;if(!e.hasOwnProperty(b)||e[b]==="100%"){e[b]=f}if(!e.hasOwnProperty(g)||e[g]===f){e[g]="100%"}e.removeCls(a+d.opposite);e.addCls(a+c)},setOrientation:function(a){var b=this;if(b.orientation!==a){b.orientation=a;b.applyOrientation()}},updateOrientation:function(){delete this.collapseDirection;this.getCollapseDirection();this.applyCollapseDirection()},toggleTargetCmp:function(d,b){var c=this.getCollapseTarget(),f=c.placeholder,a;if(Ext.isFunction(c.expand)&&Ext.isFunction(c.collapse)){if(f&&!f.hidden){a=true}else{a=!c.hidden}if(a){if(c.collapsed){c.expand()}else{if(c.collapseDirection){c.collapse()}else{c.collapse(this.renderData.collapseDir)}}}}},setSize:function(){var a=this;a.callParent(arguments);if(Ext.isIE&&a.el){a.el.repaint()}},beforeDestroy:function(){Ext.destroy(this.tracker);this.callParent()}});Ext.define("Ext.util.ComponentDragger",{extend:Ext.dd.DragTracker,autoStart:500,constructor:function(a,b){this.comp=a;this.initialConstrainTo=b.constrainTo;this.callParent([b])},onStart:function(c){var b=this,a=b.comp;b.startPosition=a.getXY();if(a.ghost&&!a.liveDrag){b.proxy=a.ghost();b.dragTarget=b.proxy.header.el}if(b.constrain||b.constrainDelegate){b.constrainTo=b.calculateConstrainRegion()}if(a.beginDrag){a.beginDrag()}},calculateConstrainRegion:function(){var h=this,f=h.comp,g=h.initialConstrainTo,e=f.constraintInsets,j,b,d,c=h.proxy?h.proxy.el:f.el,a=(!h.constrainDelegate&&c.shadow&&f.constrainShadow&&!c.shadowDisabled)?c.shadow.getShadowSize():0;if(!(g instanceof Ext.util.Region)){j=Ext.fly(g);g=j.getViewRegion();g.right=g.left+j.dom.clientWidth}else{g=g.copy()}if(e){e=Ext.isObject(e)?e:Ext.Element.parseBox(e);g.adjust(e.top,e.right,e.bottom,e.length)}if(a){g.adjust(a[0],-a[1],-a[2],a[3])}if(!h.constrainDelegate){b=Ext.fly(h.dragTarget).getRegion();d=c.getRegion();g.adjust(b.top-d.top,b.right-d.right,b.bottom-d.bottom,b.left-d.left)}return g},onDrag:function(c){var b=this,a=(b.proxy&&!b.comp.liveDrag)?b.proxy:b.comp,d=b.getOffset(b.constrain||b.constrainDelegate?"dragTarget":null);a.setPagePosition(b.startPosition[0]+d[0],b.startPosition[1]+d[1])},onEnd:function(b){var a=this.comp;if(a.isDestroyed||a.destroying){return}if(this.proxy&&!a.liveDrag){a.unghost()}if(a.endDrag){a.endDrag()}}});Ext.define("Ext.window.Window",{extend:Ext.panel.Panel,alternateClassName:"Ext.Window",alias:"widget.window",baseCls:Ext.baseCSSPrefix+"window",resizable:true,draggable:true,constrain:false,constrainHeader:false,plain:false,minimizable:false,maximizable:false,minHeight:50,minWidth:50,expandOnShow:true,collapsible:false,closable:true,hidden:true,autoRender:true,hideMode:"offsets",floating:true,itemCls:Ext.baseCSSPrefix+"window-item",initialAlphaNum:/^[a-z0-9]/,overlapHeader:true,ignoreHeaderBorderManagement:true,alwaysFramed:true,isRootCfg:{isRoot:true},isWindow:true,ariaRole:"dialog",initComponent:function(){var a=this;a.frame=false;a.callParent();if(a.plain){a.addClsWithUI("plain")}a.addStateEvents(["maximize","restore","resize","dragend"])},getElConfig:function(){var b=this,a;a=b.callParent();a.tabIndex=-1;return a},getState:function(){var b=this,d=b.callParent()||{},a=!!b.maximized,c=b.ghostBox,e;d.maximized=a;if(a){e=b.restorePos}else{if(c){e=[c.x,c.y]}else{e=b.getPosition()}}Ext.apply(d,{size:a?b.restoreSize:b.getSize(),pos:e});return d},applyState:function(b){var a=this;if(b){a.maximized=b.maximized;if(a.maximized){a.hasSavedRestore=true;a.restoreSize=b.size;a.restorePos=b.pos}else{Ext.apply(a,{width:b.size.width,height:b.size.height,x:b.pos[0],y:b.pos[1]})}}},onRender:function(b,a){var c=this;c.callParent(arguments);c.focusEl=c.el;if(c.maximizable){c.header.on({scope:c,dblclick:c.toggleMaximize})}},afterRender:function(){var a=this,c=a.header,b;if(a.maximized){a.maximized=false;a.maximize();if(c){c.removeCls(c.indicateDragCls)}}a.callParent();if(a.closable){b=a.getKeyMap();b.on(27,a.onEsc,a)}else{b=a.keyMap}if(b&&a.hidden){b.disable()}},onEsc:function(a,c){var b=Ext.FocusManager;if(!Ext.enableFocusManager||b.focusedCmp===this){c.stopEvent();this.close()}},beforeDestroy:function(){var a=this;if(a.rendered){Ext.un("resize",a.onWindowResize,a);delete a.animateTarget;a.hide();Ext.destroy(a.keyMap)}a.callParent()},addTools:function(){var a=this,c=a.tools,b=[];a.callParent();if(a.minimizable){c.push({type:"minimize",handler:Ext.Function.bind(a.minimize,a,b)})}if(a.maximizable){if(a.header&&"titlePosition" in a.header&&a.header.titlePosition>=c.length){a.header.titlePosition++}Ext.Array.push(c,{type:"maximize",handler:Ext.Function.bind(a.maximize,a,b)},{type:"restore",handler:Ext.Function.bind(a.restore,a,b),hidden:true})}},getDefaultFocus:function(){var c=this,b,d=c.defaultButton||c.defaultFocus,a;if(d!==undefined){if(Ext.isNumber(d)){b=c.query("button")[d]}else{if(Ext.isString(d)){a=d;if(a.match(c.initialAlphaNum)){b=c.down(Ext.makeIdSelector(a))}if(!b){b=c.down(a)}}else{if(d.focus){b=d}}}}return b||c.el},onFocus:function(){var b=this,a;if(Ext.enableFocusManager||((a=b.getDefaultFocus())===b)){b.callParent(arguments)}else{a.focus()}},onShow:function(){var a=this;a.callParent(arguments);if(a.expandOnShow){a.expand(false)}a.syncMonitorWindowResize();if(a.keyMap){a.keyMap.enable()}},doClose:function(){var a=this;if(a.hidden){a.fireEvent("close",a);if(a.closeAction=="destroy"){a.destroy()}}else{a.hide(a.animateTarget,a.doClose,a)}},afterHide:function(){var a=this;a.syncMonitorWindowResize();if(a.keyMap){a.keyMap.disable()}a.callParent(arguments)},onWindowResize:function(){var b=this,a;if(b.maximized){b.fitContainer()}else{a=b.getSizeModel();if(a.width.natural||a.height.natural){b.updateLayout()}b.doConstrain()}},minimize:function(){this.fireEvent("minimize",this);return this},resumeHeaderLayout:function(a){this.header.resumeLayouts(a?this.isRootCfg:null)},afterCollapse:function(){var a=this,c=a.header,b=a.tools;if(c&&a.maximizable){c.suspendLayouts();b.maximize.hide();b.restore.hide();this.resumeHeaderLayout(true)}if(a.resizer){a.resizer.disable()}a.callParent(arguments)},afterExpand:function(){var a=this,d=a.header,b=a.tools,c;if(d){d.suspendLayouts();if(a.maximized){b.restore.show();c=true}else{if(a.maximizable){b.maximize.show();c=true}}this.resumeHeaderLayout(c)}if(a.resizer){a.resizer.enable()}a.callParent(arguments)},maximize:function(b){var e=this,h=e.header,f=e.tools,d=e.width,a=e.height,c,g;if(!e.maximized){e.expand(false);if(!e.hasSavedRestore){c=e.restoreSize={width:Ext.isNumber(d)?d:null,height:Ext.isNumber(a)?a:null};e.restorePos=e.getPosition(true)}if(h){h.suspendLayouts();if(f.maximize){f.maximize.hide();g=true}if(f.restore){f.restore.show();g=true}if(e.collapseTool){e.collapseTool.hide();g=true}e.resumeHeaderLayout(g)}e.el.disableShadow();if(e.dd){e.dd.disable();if(h){h.removeCls(h.indicateDragCls)}}if(e.resizer){e.resizer.disable()}e.el.addCls(Ext.baseCSSPrefix+"window-maximized");e.container.addCls(Ext.baseCSSPrefix+"window-maximized-ct");e.syncMonitorWindowResize();e.fitContainer(b=(b||!!e.animateTarget)?{callback:function(){e.maximized=true;e.fireEvent("maximize",e)}}:null);if(!b){e.maximized=true;e.fireEvent("maximize",e)}}return e},restore:function(b){var c=this,d=c.tools,f=c.header,a=c.restoreSize,e;if(c.maximized){c.hasSavedRestore=null;c.removeCls(Ext.baseCSSPrefix+"window-maximized");if(f){f.suspendLayouts();if(d.restore){d.restore.hide();e=true}if(d.maximize){d.maximize.show();e=true}if(c.collapseTool){c.collapseTool.show();e=true}c.resumeHeaderLayout(e)}a.x=c.restorePos[0];a.y=c.restorePos[1];c.setBox(a,b=(b||!!c.animateTarget)?{callback:function(){c.el.enableShadow(true);c.maximized=false;c.fireEvent("restore",c)}}:null);c.restorePos=c.restoreSize=null;if(c.dd){c.dd.enable();if(f){f.addCls(f.indicateDragCls)}}if(c.resizer){c.resizer.enable()}c.container.removeCls(Ext.baseCSSPrefix+"window-maximized-ct");c.syncMonitorWindowResize();if(!b){c.el.enableShadow(true);c.maximized=false;c.fireEvent("restore",c)}}return c},syncMonitorWindowResize:function(){var b=this,c=b._monitoringResize,d=b.constrain||b.constrainHeader||b.maximized,a=b.hidden||b.destroying||b.isDestroyed;if(d&&!a){if(!c){Ext.on("resize",b.onWindowResize,b,{buffer:1});b._monitoringResize=true}}else{if(c){Ext.un("resize",b.onWindowResize,b);b._monitoringResize=false}}},toggleMaximize:function(){return this[this.maximized?"restore":"maximize"]()},createGhost:function(){var a=this.callParent(arguments);a.xtype="window";return a},privates:{getFocusEl:function(){return this.getDefaultFocus()},initDraggable:function(){this.initSimpleDraggable()},initResizable:function(){this.callParent(arguments);if(this.maximized){this.resizer.disable()}}}});Ext.define("Ext.app.domain.Controller",{extend:Ext.app.EventDomain,singleton:true,type:"controller",prefix:"controller.",idMatchRe:/^\#/,constructor:function(){var a=this;a.callParent();a.monitor(Ext.app.BaseController)},match:function(d,b){var a=false,c=d.alias;if(b==="*"){a=true}else{if(b==="#"){a=!!d.isApplication}else{if(this.idMatchRe.test(b)){a=d.getId()===b.substring(1)}else{if(c){a=Ext.Array.indexOf(c,this.prefix+b)>-1}}}}return a}});Ext.define("Ext.button.Split",{alias:"widget.splitbutton",extend:Ext.button.Button,alternateClassName:"Ext.SplitButton",isSplitButton:true,arrowCls:"split",split:true,setArrowHandler:function(b,a){this.arrowHandler=b;this.scope=a},onClick:function(b){var a=this;a.doPreventDefault(b);if(!a.disabled){if(a.isWithinTrigger(b)){b.preventDefault();a.maybeShowMenu();a.fireEvent("arrowclick",a,b);if(a.arrowHandler){a.arrowHandler.call(a.scope||a,a,b)}}else{a.doToggle();a.fireHandler(b)}}}});Ext.define("Ext.layout.container.Table",{alias:["layout.table"],extend:Ext.layout.container.Container,alternateClassName:"Ext.layout.TableLayout",type:"table",createsInnerCt:true,targetCls:Ext.baseCSSPrefix+"table-layout-ct",tableCls:Ext.baseCSSPrefix+"table-layout",cellCls:Ext.baseCSSPrefix+"table-layout-cell",tableAttrs:null,getItemSizePolicy:function(a){return this.autoSizePolicy},initInheritedState:function(b,a){a.inShrinkWrapTable=true},getLayoutItems:function(){var f=this,b=[],c=f.callParent(),e,a=c.length,d;for(d=0;d<a;d++){e=c[d];if(!e.hidden){b.push(e)}}return b},getHiddenItems:function(){var b=[],c=this.owner.items.items,a=c.length,d=0,e;for(;d<a;++d){e=c[d];if(e.rendered&&e.hidden){b.push(e)}}return b},renderChildren:function(){var k=this,j=k.getLayoutItems(),g=k.owner.getTargetEl().child("table",true).tBodies[0],q=g.rows,f=0,h=j.length,e=k.getHiddenItems(),p,n,c,a,o,m,l,b,d;p=k.calculateCells(j);for(;f<h;f++){n=p[f];c=n.rowIdx;a=n.cellIdx;o=j[f];m=q[c];if(!m){m=g.insertRow(c);if(k.trAttrs){m.set(k.trAttrs)}}b=l=Ext.get(m.cells[a]||m.insertCell(a));if(k.needsDivWrap()){b=l.first()||l.createChild({tag:"div",role:"presentation"});b.setWidth(null)}if(!o.rendered){k.renderItem(o,b,0)}else{if(!k.isValidParent(o,b,c,a,g)){k.moveItem(o,b,0)}}if(k.tdAttrs){l.set(k.tdAttrs)}if(o.tdAttrs){l.set(o.tdAttrs)}l.set({colSpan:o.colspan||1,rowSpan:o.rowspan||1,id:o.cellId||"",cls:k.cellCls+" "+(o.cellCls||"")});if(!p[f+1]||p[f+1].rowIdx!==c){a++;while(m.cells[a]){m.deleteCell(a)}}}c++;while(g.rows[c]){g.deleteRow(c)}for(f=0,h=e.length;f<h;++f){k.ensureInDocument(e[f].getEl())}},ensureInDocument:function(a){var b=a.dom.parentNode;while(b){if(b.tagName.toUpperCase()=="BODY"){return}b=b.parentNode}Ext.getDetachedBody().appendChild(a)},calculate:function(f){if(!f.hasDomProp("containerChildrenSizeDone")){this.done=false}else{var c=f.targetContext,b=f.widthModel.shrinkWrap,a=f.heightModel.shrinkWrap,g=a||b,d=g&&c.el.child("table",true),e=g&&c.getPaddingInfo();if(b){f.setContentWidth(d.offsetWidth+e.width,true)}if(a){f.setContentHeight(d.offsetHeight+e.height,true)}}},finalizeLayout:function(){if(this.needsDivWrap()){var b=this.getLayoutItems(),c,a=b.length,d;for(c=0;c<a;c++){d=b[c];Ext.fly(d.el.dom.parentNode).setWidth(d.getWidth())}}},calculateCells:function(h){var l=[],b=0,d=0,a=0,g=this.columns||Infinity,m=[],e=0,c,f=h.length,k;for(;e<f;e++){k=h[e];while(d>=g||m[d]>0){if(d>=g){d=0;a=0;b++;for(c=0;c<g;c++){if(m[c]>0){m[c]--}}}else{d++}}l.push({rowIdx:b,cellIdx:a});for(c=k.colspan||1;c;--c){m[d]=k.rowspan||1;++d}++a}return l},getRenderTree:function(){var j=this,g=j.getLayoutItems(),n,o=[],p=Ext.apply({tag:"table",role:"presentation",cls:j.tableCls,cellspacing:0,cellpadding:0,cn:{tag:"tbody",role:"presentation",cn:o}},j.tableAttrs),c=j.tdAttrs,d=j.needsDivWrap(),e,f=g.length,m,l,h,b,a,k;n=j.calculateCells(g);for(e=0;e<f;e++){m=g[e];l=n[e];b=l.rowIdx;a=l.cellIdx;h=o[b];if(!h){h=o[b]={tag:"tr",role:"presentation",cn:[]};if(j.trAttrs){Ext.apply(h,j.trAttrs)}}k=h.cn[a]={tag:"td",role:"presentation"};if(c){Ext.apply(k,c)}Ext.apply(k,{colSpan:m.colspan||1,rowSpan:m.rowspan||1,id:m.cellId||"",cls:j.cellCls+" "+(m.cellCls||"")});if(d){k=k.cn={tag:"div",role:"presentation"}}j.configureItem(m);k.cn=m.getRenderTree()}return p},isValidParent:function(f,g,e,d){var b,a,c;if(arguments.length===3){c=f.el.up("table");return c&&c.dom.parentNode===g.dom}b=this.owner.getTargetEl().child("table",true).tBodies[0];a=b.rows[e].cells[d];return f.el.dom.parentNode===a},needsDivWrap:function(){return Ext.isOpera10_5}});Ext.define("Ext.container.ButtonGroup",{extend:Ext.panel.Panel,alias:"widget.buttongroup",alternateClassName:"Ext.ButtonGroup",baseCls:Ext.baseCSSPrefix+"btn-group",layout:{type:"table"},defaultType:"button",frame:true,frameHeader:false,titleAlign:"center",noTitleCls:"notitle",ariaRole:"group",initComponent:function(){var a=this,b=a.columns;if(b){a.layout=Ext.apply({},{columns:b},a.layout)}if(!a.title){a.addClsWithUI(a.noTitleCls)}a.callParent(arguments)},onBeforeAdd:function(a){if(a.isButton){if(this.defaultButtonUI&&a.ui==="default"&&!a.hasOwnProperty("ui")){a.ui=this.defaultButtonUI}else{a.ui=a.ui+"-toolbar"}}this.callParent(arguments)},privates:{applyDefaults:function(a){if(!Ext.isString(a)){a=this.callParent(arguments)}return a}}});Ext.define("Ext.container.Monitor",{target:null,selector:"",scope:null,addHandler:null,removeHandler:null,invalidateHandler:null,disabled:0,constructor:function(a){Ext.apply(this,a)},bind:function(b){var a=this;a.target=b;b.on("beforedestroy",a.disable,a);a.onContainerAdd(b)},unbind:function(){var a=this,b=a.target;if(b){b.un("beforedestroy",a.disable,a)}a.items=null},disable:function(){++this.disabled},enable:function(){if(this.disabled>0){--this.disabled}},handleAdd:function(b,a){if(!this.disabled){if(a.is(this.selector)){this.onItemAdd(a.ownerCt,a)}if(a.isQueryable){this.onContainerAdd(a)}}},onItemAdd:function(c,b){var e=this,a=e.items,d=e.addHandler;if(!e.disabled){if(d){d.call(e.scope||b,b)}if(a){a.add(b)}}},onItemRemove:function(c,b){var e=this,a=e.items,d=e.removeHandler;if(!e.disabled){if(d){d.call(e.scope||b,b)}if(a){a.remove(b)}}},onContainerAdd:function(f,b){var j=this,h,g,c=j.handleAdd,a=j.handleRemove,d,e;if(f.isContainer){f.on("add",c,j);f.on("dockedadd",c,j);f.on("remove",a,j);f.on("dockedremove",a,j)}if(b!==true){h=f.query(j.selector);for(d=0,g=h.length;d<g;++d){e=h[d];j.onItemAdd(e.ownerCt,e)}}h=f.query(">container");for(d=0,g=h.length;d<g;++d){j.onContainerAdd(h[d],true)}},handleRemove:function(b,a){var c=this;if(!c.disabled){if(a.is(c.selector)){c.onItemRemove(b,a)}if(a.isQueryable){c.onContainerRemove(b,a)}}},onContainerRemove:function(e,c){var g=this,b,d,a,f;if(!c.isDestroyed&&!c.destroying&&c.isContainer){g.removeCtListeners(c);b=c.query(g.selector);for(d=0,a=b.length;d<a;++d){f=b[d];g.onItemRemove(f.ownerCt,f)}b=c.query("container");for(d=0,a=b.length;d<a;++d){g.removeCtListeners(b[d])}}else{g.invalidateItems(true)}},removeCtListeners:function(a){var b=this;a.un("add",b.handleAdd,b);a.un("dockedadd",b.handleAdd,b);a.un("remove",b.handleRemove,b);a.un("dockedremove",b.handleRemove,b)},getItems:function(){var b=this,a=b.items;if(!a){a=b.items=new Ext.util.MixedCollection();a.addAll(b.target.query(b.selector))}return a},invalidateItems:function(c){var b=this,a=b.invalidateHandler;if(c&&a){a.call(b.scope||b,b)}b.items=null}});Ext.define("Ext.layout.container.Anchor",{alias:"layout.anchor",extend:Ext.layout.container.Auto,alternateClassName:"Ext.layout.AnchorLayout",type:"anchor",defaultAnchor:"100%",parseAnchorRE:/^(r|right|b|bottom)$/i,manageOverflow:true,setsItemSize:true,beginLayoutCycle:function(c){var h=this,a=0,f,j,e,d,b,g;h.callParent(arguments);e=c.childItems;b=e.length;for(d=0;d<b;++d){j=e[d];f=j.target.anchorSpec;if(f){if(j.widthModel.calculated&&f.right){a|=1}if(j.heightModel.calculated&&f.bottom){a|=2}if(a==3){break}}}c.anchorDimensions=a;h.sanityCheck(c)},calculateItems:function(g,a){var p=this,k=g.childItems,f=k.length,n=a.gotHeight,h=a.gotWidth,e=a.height,c=a.width,b=(h?1:0)|(n?2:0),o=g.anchorDimensions,l,r,m,q,j,d;if(!o){return true}for(j=0;j<f;j++){r=k[j];m=r.getMarginInfo();l=r.target.anchorSpec;if(h&&r.widthModel.calculated){d=l.right(c)-m.width;d=p.adjustWidthAnchor(d,r);r.setWidth(d)}if(n&&r.heightModel.calculated){q=l.bottom(e)-m.height;q=p.adjustHeightAnchor(q,r);r.setHeight(q)}}return(b&o)===o},sanityCheck:function(c){var h=c.widthModel.shrinkWrap,e=c.heightModel.shrinkWrap,b=c.childItems,f,g,j,d,a;for(d=0,a=b.length;d<a;++d){j=b[d];g=j.target;f=g.anchorSpec;if(f){if(j.widthModel.calculated&&f.right){if(h){Ext.log({level:"warn",msg:"Right anchor on "+g.id+" in shrinkWrap width container"})}}if(j.heightModel.calculated&&f.bottom){if(e){Ext.log({level:"warn",msg:"Bottom anchor on "+g.id+" in shrinkWrap height container"})}}}}},anchorFactory:{offset:function(a){return function(b){return b+a}},ratio:function(a){return function(b){return Math.floor(b*a)}},standard:function(a){return function(b){return b-a}}},parseAnchor:function(c,f,b){if(c&&c!="none"){var d=this.anchorFactory,e;if(this.parseAnchorRE.test(c)){return d.standard(b-f)}if(c.indexOf("%")!=-1){return d.ratio(parseFloat(c.replace("%",""))*0.01)}e=parseInt(c,10);if(!isNaN(e)){return d.offset(e)}}return null},adjustWidthAnchor:function(b,a){return b},adjustHeightAnchor:function(b,a){return b},configureItem:function(f){var e=this,a=e.owner,d=f.anchor,b,c,g;e.callParent(arguments);if(!f.anchor&&f.items&&!Ext.isNumber(f.width)){f.anchor=d=e.defaultAnchor}if(a.anchorSize){if(typeof a.anchorSize=="number"){c=a.anchorSize}else{c=a.anchorSize.width;g=a.anchorSize.height}}else{c=a.initialConfig.width;g=a.initialConfig.height}if(d){b=d.split(" ");f.anchorSpec={right:e.parseAnchor(b[0],f.initialConfig.width,c),bottom:e.parseAnchor(b[1],f.initialConfig.height,g)}}},sizePolicy:{$:{readsWidth:1,readsHeight:1,setsWidth:0,setsHeight:0},b:{readsWidth:1,readsHeight:0,setsWidth:0,setsHeight:1},r:{$:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},b:{readsWidth:0,readsHeight:0,setsWidth:1,setsHeight:1}}},getItemSizePolicy:function(c){var e=c.anchorSpec,a="$",d=this.sizePolicy,b;if(e){b=this.owner.getSizeModel();if(e.right&&!b.width.shrinkWrap){d=d.r}if(e.bottom&&!b.height.shrinkWrap){a="b"}}return d[a]}});Ext.define("Ext.dashboard.Panel",{extend:Ext.panel.Panel,xtype:"dashboard-panel",cls:Ext.baseCSSPrefix+"dashboard-panel",anchor:"100%",layout:"fit",frame:true,closable:true,collapsible:true,animCollapse:true,titleCollapse:true,stateful:true,draggable:{moveOnDrag:false},animateClose:true,loadMask:true,minHeight:90,resizable:true,resizeHandles:"s",doClose:function(){var a=this;if(a.animateClose){if(!a.closing){a.closing=true;a.el.animate({opacity:0,callback:a.finishClose,scope:a})}}else{a.finishClose()}},finishClose:function(){var b=this,a=b.closeAction;b.closing=false;b.fireEvent("close",b);Ext.suspendLayouts();b[a]();Ext.resumeLayouts(true);if(a==="hide"){b.el.setOpacity(1)}},afterRender:function(){this.callParent();if(this.loading){this.onViewBeforeLoad()}},getLoadMask:function(){var c=this,b=c.rendered&&c.loadMask,a;if(b&&!b.isComponent){a={target:c};if(b===true){b=a}else{Ext.apply(a,b)}c.loadMask=b=Ext.ComponentManager.create(a,"loadmask")}return b||null},onAdd:function(a){this.callParent(arguments);a.on({beforeload:"onViewBeforeLoad",load:"onViewLoaded",scope:this})},onViewBeforeLoad:function(){this.loading=true;var a=this.getLoadMask();if(a){a.show()}},onViewLoaded:function(){this.loading=false;var b=this.getLoadMask();if(b){b.hide()}var a=this.items.getAt(0);if(a.getTitle){var c=a.getTitle();if(c){this.setTitle(c)}}},setBox:function(a){this.setSize(a.width,a.height)},getState:function(){var a=this,b=a.callParent()||{};if(!b.collapsed){a.addPropertyToState(b,"height",a.rendered?a.getHeight():a.height||a.minHeight||100)}return b}});Ext.define("Ext.dashboard.Column",{extend:Ext.container.Container,xtype:"dashboard-column",layout:"anchor",isDashboardColumn:true,defaultType:"dashboard-panel",cls:Ext.baseCSSPrefix+"dashboard-column",synthetic:true,onRemove:function(b,f){var g=this,e=g.ownerCt,d,a,h=0,c;if(f&&e&&g.items.getCount()===0){d=Ext.Array.filter(e.query(">"+g.xtype),function(j){return j!==g});a=d.length;if(!g.destroyed&&a){e.remove(g);if(a===1){d[0].columnWidth=1}else{for(c=0;c<a;c++){h+=d[c].columnWidth}for(c=0;c<a;c++){d[c].columnWidth=d[c].columnWidth/h}}e.updateLayout()}}}});Ext.define("Ext.layout.container.Column",{extend:Ext.layout.container.Auto,alias:["layout.column"],alternateClassName:"Ext.layout.ColumnLayout",type:"column",itemCls:Ext.baseCSSPrefix+"column",targetCls:Ext.baseCSSPrefix+"column-layout-ct",columnWidthSizePolicy:{readsWidth:0,readsHeight:1,setsWidth:1,setsHeight:0},createsInnerCt:true,manageOverflow:true,setsItemSize:true,isItemShrinkWrap:function(a){return true},getItemSizePolicy:function(a,b){if(a.columnWidth){if(!b){b=this.owner.getSizeModel()}if(!b.width.shrinkWrap){return this.columnWidthSizePolicy}}return this.autoSizePolicy},calculateItems:function(d,a){var n=this,e=d.targetContext,m=d.childItems,k=m.length,b=0,f=a.gotWidth,h,o,g,c,j,l;if(f===false){e.domBlock(n,"width");h=true}else{if(f){o=a.width}else{return true}}for(g=0;g<k;++g){c=m[g];j=c.getMarginInfo().width;if(!c.widthModel.calculated){l=c.getProp("width");if(typeof l!="number"){c.block(n,"width");h=true}b+=l+j}}if(!h){o=(o<b)?0:o-b;for(g=0;g<k;++g){c=m[g];if(c.widthModel.calculated){j=c.marginInfo.width;l=c.target.columnWidth;l=Math.floor(l*o)-j;l=c.setWidth(l);b+=l+j}}d.setContentWidth(b+d.paddingContext.getPaddingInfo().width)}return !h}});Ext.define("Ext.resizer.SplitterTracker",{extend:Ext.dd.DragTracker,enabled:true,overlayCls:Ext.baseCSSPrefix+"resizable-overlay",createDragOverlay:function(){var a;a=this.overlay=Ext.getBody().createChild({role:"presentation",cls:this.overlayCls,html:"&#160;"});a.unselectable();a.setSize(Ext.dom.Element.getDocumentWidth(),Ext.dom.Element.getDocumentHeight());a.show()},getPrevCmp:function(){var a=this.getSplitter();return a.previousSibling(":not([hidden])")},getNextCmp:function(){var a=this.getSplitter();return a.nextSibling(":not([hidden])")},onBeforeStart:function(h){var d=this,f=d.getPrevCmp(),a=d.getNextCmp(),c=d.getSplitter().collapseEl,g=h.getTarget(),b;if(!f||!a){return false}if(c&&g===d.getSplitter().collapseEl.dom){return false}if(a.collapsed||f.collapsed){return false}d.prevBox=f.getEl().getBox();d.nextBox=a.getEl().getBox();d.constrainTo=b=d.calculateConstrainRegion();if(!b){return false}return b},onStart:function(b){var a=this.getSplitter();this.createDragOverlay();a.addCls(a.baseCls+"-active")},calculateConstrainRegion:function(){var g=this,a=g.getSplitter(),h=a.getWidth(),j=a.defaultSplitMin,b=a.orientation,e=g.prevBox,k=g.getPrevCmp(),c=g.nextBox,f=g.getNextCmp(),m,l,d;if(b==="vertical"){d={prevCmp:k,nextCmp:f,prevBox:e,nextBox:c,defaultMin:j,splitWidth:h};m=new Ext.util.Region(e.y,g.getVertPrevConstrainRight(d),e.bottom,g.getVertPrevConstrainLeft(d));l=new Ext.util.Region(c.y,g.getVertNextConstrainRight(d),c.bottom,g.getVertNextConstrainLeft(d))}else{m=new Ext.util.Region(e.y+(k.minHeight||j),e.right,(k.maxHeight?e.y+k.maxHeight:c.bottom-(f.minHeight||j))+h,e.x);l=new Ext.util.Region((f.maxHeight?c.bottom-f.maxHeight:e.y+(k.minHeight||j))-h,c.right,c.bottom-(f.minHeight||j),c.x)}return m.intersect(l)},performResize:function(m,g){var o=this,a=o.getSplitter(),h=a.orientation,p=o.getPrevCmp(),n=o.getNextCmp(),b=a.ownerCt,k=b.query(">[flex]"),l=k.length,c=h==="vertical",j=0,f=c?"width":"height",d=0,q,r;for(;j<l;j++){q=k[j];r=c?q.getWidth():q.getHeight();d+=r;q.flex=r}g=c?g[0]:g[1];if(p){r=o.prevBox[f]+g;if(p.flex){p.flex=r}else{p[f]=r}}if(n){r=o.nextBox[f]-g;if(n.flex){n.flex=r}else{n[f]=r}}b.updateLayout()},endDrag:function(){var a=this;if(a.overlay){a.overlay.destroy();delete a.overlay}a.callParent(arguments)},onEnd:function(c){var a=this,b=a.getSplitter();b.removeCls(b.baseCls+"-active");a.performResize(c,a.getResizeOffset())},onDrag:function(f){var c=this,g=c.getOffset("dragTarget"),d=c.getSplitter(),b=d.getEl(),a=d.orientation;if(a==="vertical"){b.setX(c.startRegion.left+g[0])}else{b.setY(c.startRegion.top+g[1])}},getSplitter:function(){return this.splitter},getVertPrevConstrainRight:function(a){return(a.prevCmp.maxWidth?a.prevBox.x+a.prevCmp.maxWidth:a.nextBox.right-(a.nextCmp.minWidth||a.defaultMin))+a.splitWidth},getVertPrevConstrainLeft:function(a){return a.prevBox.x+(a.prevCmp.minWidth||a.defaultMin)},getVertNextConstrainRight:function(a){return a.nextBox.right-(a.nextCmp.minWidth||a.defaultMin)},getVertNextConstrainLeft:function(a){return(a.nextCmp.maxWidth?a.nextBox.right-a.nextCmp.maxWidth:a.prevBox.x+(a.prevBox.minWidth||a.defaultMin))-a.splitWidth},getResizeOffset:function(){return this.getOffset("dragTarget")}});Ext.define("Ext.layout.container.ColumnSplitterTracker",{extend:Ext.resizer.SplitterTracker,performResize:function(f,d){var j=this,m=j.getPrevCmp(),h=j.getNextCmp(),b=j.getSplitter(),c=b.ownerCt,l=d[0],k,a,g;if(m&&h){m.width=k=j.prevBox.width+l;h.width=a=j.nextBox.width-l;g=(m.columnWidth+h.columnWidth)/(k+a);m.columnWidth=k*g;h.columnWidth=a*g}b.el.dom.style.left="";c.updateLayout()}});Ext.define("Ext.layout.container.ColumnSplitter",{extend:Ext.resizer.Splitter,xtype:"columnsplitter",isSplitter:true,synthetic:true,cls:"x-splitter-vertical",orientation:"vertical",collapseDirection:"left",trackerClass:"Ext.layout.container.ColumnSplitterTracker",width:7,height:1,getTrackerConfig:function(){var a=this.callParent();a.xclass=this.trackerClass;return a}});Ext.define("Ext.layout.container.SplitColumn",{extend:Ext.layout.container.Column,alias:"layout.split-column",type:"split-column",firstColumnCls:Ext.baseCSSPrefix+"split-column-first",lastColumnCls:Ext.baseCSSPrefix+"split-column-last",getSplitterConfig:function(){return{xtype:"columnsplitter"}},beginLayout:function(e){this.callParent([e]);var h=e.childItems,m=(e.rows=[]),d=h.length,j=2,c,g,f,l,a,k,b;for(g=0;g<d;++g){k=(c=h[g]).target;a=k.isSplitter;b=a?0:k.columnWidth;if(j+b>1){if(f){f.el.setHeight(0);f.orphan=1}j=0;m.push(l={index:m.length,items:[],maxHeight:0})}j+=b;l.items.push(c);c.row=l;if(a){c.el.setHeight(1)}f=c}},beforeLayoutCycle:function(c){var b=this,a=b.owner.items;if(b.splitterGen!==a.generation){b.syncSplitters();b.syncFirstLast();b.splitterGen=a.generation}b.callParent(arguments)},finishedLayout:function(e){var b=e.childItems,a=b.length,d,h,c,f,g;this.callParent([e]);for(c=0;c<a;c+=2){f=(h=b[c]).target;d=f.lastBox;g=h.row;g.maxHeight=Math.max(g.maxHeight,d.height)}for(c=1;c<a;c+=2){f=(h=b[c]).target;if(!h.orphan){f.el.setHeight(h.row.maxHeight)}}},syncSplitters:function(){var g=this,a=g.owner,b=a.items.items,c=b.length,e=true,d=false,f,h;while(c-->0){f=b[c];if(d){if(f.isSplitter){d=false}else{if(e){e=false;a.suspendLayouts()}h=a.add(c+1,g.getSplitterConfig())}}else{if(f.isSplitter){if(e){e=false;a.suspendLayouts()}a.remove(f)}else{d=true}}}while(b.length&&(f=b[0]).isSplitter){if(e){e=false;a.suspendLayouts()}a.remove(f)}if(!e){a.resumeLayouts()}},syncFirstLast:function(){var f=this,e=f.owner.items.items,b=f.firstColumnCls,h=f.lastColumnCls,d=e.length,a=[b,h],c,j,g;for(c=0;c<d;c+=2){j=e[c];g=(c===d-1);if(!c){if(g){j.addCls(a)}else{j.addCls(b);j.removeCls(h)}}else{if(g){j.addCls(h);j.removeCls(b)}else{j.removeCls(a)}}}}});Ext.define("Ext.dashboard.DropZone",{extend:Ext.dd.DropTarget,ddScrollConfig:{vthresh:50,hthresh:-1,animate:true,increment:200},overClass:"x-dashboard-dd-over",constructor:function(b,a){this.dashboard=b;Ext.dd.ScrollManager.register(b.body);this.callParent([b.body,a]);b.body.ddScrollConfig=this.ddScrollConfig},getOverEvent:function(v,s,A){var n=this.dashboard,m=n.items.items,b=n.body.getBox(),d=m.length,c=s.getXY(),h=c[0]-b.x,g=c[1]-b.y,p={columnIndex:0,column:m[0],dashboard:n,above:null,extensible:((m.length+1)/2<(n.maxColumns||1)),beforeAfter:0,data:A,panel:A.panel,rawEvent:s,source:v,status:this.dropAllowed},l,z,q,o,u,j,r,a,f;if(h<0&&p.extensible){p.beforeAfter=-1}else{if(h>b.width){p.beforeAfter=p.extensible?1:0;p.columnIndex=d-1}else{for(q=0;q<d;q+=2){u=m[q];j=u.lastBox.width;if(m[q+1]){j+=m[q+1].lastBox.width}if(h<j){p.columnIndex=q;p.column=u;a=u.items.items;l=Math.min(80,j*0.2);p.beforeAfter=l=(p.extensible&&((h<l)?-1:((h>j-l)?1:0)));if(!l||!p.extensible){for(o=0,r=a.length;o<r;++o){f=a[o];z=f.el.getHeight();if(g<z/2){p.above=f;break}g-=z}}break}h-=j}}}return p},notifyOver:function(n,h,g){var l=this,m=l.dashboard,j=l.getOverEvent(n,h,g),c=j.column.el,k=n.proxy,b,d=j.above,f,a;g.lastOver=j;if(m.fireEvent("validatedrop",j)!==false&&m.fireEvent("beforedragover",j)!==false){b=n.panelProxy.getProxy();k.getProxy().setWidth("auto");if(j.beforeAfter){n.panelProxy.moveProxy(c.dom,c.dom.firstChild);f=c.getWidth();a=f/2;b.setWidth(a)}else{if(d){n.panelProxy.moveProxy(d.el.dom.parentNode,d.el.dom)}else{n.panelProxy.moveProxy(c.dom,null)}b.setWidth("auto")}if(j.beforeAfter>0){b.setStyle("margin-left",(f-a-c.getPadding("lr"))+"px")}else{b.setStyle("margin-left","")}this.scrollPos=m.body.getScroll();m.fireEvent("dragover",j)}return j.status},notifyDrop:function(o,g,c){this.callParent(arguments);var k=this.dashboard,h=c.lastOver,a=h.panel,j=h.beforeAfter,l=a.ownerCt,d=h.column,f=l.items.indexOf(a),n=h.above?d.items.indexOf(h.above):d.items.getCount(),m,b;if(l===d){if(l.items.getCount()===1){return}if(!j){if(f<n){--n}if(f===n){return}}}if(k.fireEvent("validatedrop",h)===false||k.fireEvent("beforedrop",h)===false){return}Ext.suspendLayouts();a.isMoving=true;if(j){m=k.items.indexOf(d);if(j>0){++m}b=k.createColumn();b.columnWidth=d.columnWidth=d.columnWidth/2;d=k.insert(m,b);n=0}a.el.dom.style.display="";d.insert(n,a);if(l.items.getCount()===0){d.columnWidth+=l.columnWidth}a.isMoving=false;a.updateLayout();Ext.resumeLayouts(true);k.fireEvent("drop",h)},unreg:function(){Ext.dd.ScrollManager.unregister(this.dashboard.body);this.callParent()}});Ext.define("Ext.dashboard.Part",{mixins:[Ext.mixin.Factoryable,Ext.mixin.Identifiable],alias:"part.part",factoryConfig:{type:"part"},isPart:true,_lastId:0,config:{id:null,dashboard:null,viewTemplate:{collapsed:"{collapsed}",columnIndex:"{columnIndex}",id:"{id}",title:"{title}",height:"{height}"}},viewTemplateOptions:{excludeProperties:{bind:1}},valueRe:/^[{][a-z]*[}]$/i,constructor:function(a){this.initConfig(a)},applyViewTemplate:function(a){if(!Ext.isObject(a)){Ext.Error.raise("The viewTemplate for "+this.$className+" is not an Object")}return Ext.util.ObjectTemplate.create(a,this.viewTemplateOptions)},displayForm:function(a,b,d,c){d.call(c||this,{})},createView:function(b){var d=this,c=d.getViewTemplate(),a=c.apply(b);a.dashboard=d.getDashboard();a.part=d;a._partConfig=b;return a}});Ext.define("Ext.dashboard.Dashboard",{extend:Ext.panel.Panel,xtype:"dashboard",isDashboard:true,cls:Ext.baseCSSPrefix+"dashboard",bodyCls:Ext.baseCSSPrefix+"dashboard-body",firstColumnCls:Ext.baseCSSPrefix+"dashboard-column-first",lastColumnCls:Ext.baseCSSPrefix+"dashboard-column-last",defaultType:"dashboard-column",autoScroll:true,layout:null,stateful:true,idSeed:1,maxColumns:4,config:{parts:null},initComponent:function(){var a=this;if(!a.layout){a.layout={type:"split-column",firstColumnCls:a.firstColumnCls,lastColumnCls:a.lastColumnCls}}a.callParent()},applyParts:function(b,c){if(!c){c=new Ext.util.Collection({decoder:Ext.Factory.part})}var d,a;for(d in b){a=b[d];if(Ext.isString(a)){a={type:a}}a.id=d;a.dashboard=this;c.add(a)}return c},getPart:function(a){var b=this.getParts();return b.getByKey(a)},addNew:function(b){var c=this,a=c.getPart(b);a.displayForm(null,null,function(d){d.type=b;c.addView(d)})},addView:function(k,e,h){var g=this,f=g.items,c=f.getCount(),d=e||0,j=k.id?k:g.createView(k),a=g.columnWidths,b;if(d>=c){d=c-1;h=1}if(!h){b=f.getAt(d);return b.add(j)}if(h>0){++d}b=g.createColumn();if(a){b.columnWidth=a[d]}if(!b.items){b.items=[]}b.items.push(j);b=g.add(d,b);f=b.items;return f.getAt(f.getCount()-1)},createColumn:function(a){return Ext.apply({items:[],bubbleEvents:["add","remove","move","resize"],listeners:{remove:this.onRemoveItem,scope:this}},a)},createView:function(c){var e=this,d=c.type,b=e.getPart(d),a=b.createView(c);if(!a.id){a.id=e.id+"_"+d+(e.idSeed++)}return a},initEvents:function(){this.callParent();this.dd=new Ext.dashboard.DropZone(this,this.dropConfig)},beforeDestroy:function(){if(this.dd){this.dd.unreg()}this.callParent()},applyState:function(e){delete e.items;this.callParent([e]);var b=e.columnWidths,a=this.items.items,d=a.length,c,f;if(b){f=b.length;for(c=0;c<d;++c){a[c].columnWidth=(c<f)?b[c]:(1/d)}}},getState:function(){var f=this,b=[],a=f.items.items,g=f.callParent()||{},e=a.length,c,d;for(c=0;c<e;++c){if(!(d=a[c]).isSplitter){b.push(d.columnWidth)}}g.columnWidths=b;g.idSeed=f.idSeed;g.items=f.serializeItems();return g},initItems:function(){var b=this,a=b.defaultContent,c;if(b.stateful){c=Ext.state.Manager.get(b.getStateId());a=(c&&c.items)||a}if(!b.items&&a){b.items=b.deserializeItems(a)}b.callParent()},deserializeItems:function(e){var h=this,b=e.length,d=[],a=h.columnWidths,l=h.maxColumns,c,g,f,k,j;for(f=0;f<b;++f){j=e[f];g=Math.min(j.columnIndex||0,l-1);delete j.columnIndex;if(!(c=d[g])){d[g]=c=h.createColumn();if(a){c.columnWidth=a[g]}}k=h.createView(j);c.items.push(k)}for(f=0,b=d.length;f<b;++f){c=d[f];if(!c.columnWidth){c.columnWidth=1/b}}return d},serializeItem:function(a){return Ext.apply({type:a.part.id,id:a.id,columnIndex:a.columnIndex},a._partConfig)},serializeItems:function(){var m=this,l=m.items.items,b=l.length,h=[],g=0,a,f,e,n,d,c;for(e=0;e<b;++e){n=l[e];if(!n.isSplitter){f=n.items.items;for(d=0,c=f.length;d<c;++d){a=f[d];a.columnIndex=g;h.push(m.serializeItem(a))}++g}}return h},onRemoveItem:function(a,b){if(!b.isMoving){Ext.state.Manager.clear(b.getStateId())}}});Ext.define("Ext.dom.Layer",{extend:Ext.Element,alternateClassName:"Ext.Layer",isLayer:true,localXYNames:{get:"getLocalXY",set:"setLocalXY"},constructor:function(c,g){c=c||{};var k=this,j=Ext.DomHelper,h=c.parentEl,f=h?Ext.getDom(h):document.body,a=c.hideMode,l=Ext.baseCSSPrefix+(c.fixed?"fixed-layer":"layer"),d,b,e;if(g){d=Ext.getDom(g);if(!d.parentNode){f.appendChild(d)}}if(!d){d=j.append(f,c.dh||{tag:"div",cls:l})}if(c.id){d.id=c.id}b=d.id;if(b){e=Ext.cache[b];if(e){delete Ext.cache[b];e.dom=null}}this.callParent([d]);if(g){k.addCls(l)}if(c.preventSync){k.preventSync=true}if(c.cls){k.addCls(c.cls)}k.constrain=c.constrain!==false;if(a){k.setVisibilityMode(Ext.Element[a.toUpperCase()])}else{if(c.useDisplay){k.setVisibilityMode(Ext.Element.DISPLAY)}else{k.setVisibilityMode(Ext.Element.VISIBILITY)}}if(c.shadow){k.shadowOffset=c.shadowOffset||4;k.shadow=new Ext.Shadow({offset:k.shadowOffset,mode:c.shadow,fixed:c.fixed});k.disableShadow()}else{k.shadowOffset=0}if(c.hidden===true){k.hide()}else{if(c.hidden===false){k.show()}}},getZIndex:function(){return parseInt(this.getStyle("z-index"),10)},disableShadow:function(){var a=this;if(a.shadow&&!a.shadowDisabled){a.shadowDisabled=true;a.shadow.hide();a.lastShadowOffset=a.shadowOffset;a.shadowOffset=0}},enableShadow:function(a){var b=this;if(b.shadow&&b.shadowDisabled){b.shadowDisabled=false;b.shadowOffset=b.lastShadowOffset;delete b.lastShadowOffset;if(a){b.sync(true)}}},sync:function(d){var e=this,j=e.shadow,f,a,g,b,c;if(e.preventSync){return}if(!e.updating&&e.isVisible()&&j){f=e[e.localXYNames.get]();a=f[0];g=f[1];b=e.dom.offsetWidth;c=e.dom.offsetHeight;if(j&&!e.shadowDisabled){if(d&&!j.isVisible()){j.show(e)}else{j.realign(a,g,b,c)}}}return e},destroy:function(){this.hideUnders();this.callParent()},beginUpdate:function(){this.updating=true},endUpdate:function(){this.updating=false;this.sync(true)},hideUnders:function(){if(this.shadow){this.shadow.hide()}},constrainXY:function(){if(this.constrain){var f=Ext.Element.getViewportWidth(),b=Ext.Element.getViewportHeight(),l=Ext.getDoc().getScroll(),k=this.getXY(),g=k[0],e=k[1],a=this.shadowOffset,j=this.dom.offsetWidth+a,c=this.dom.offsetHeight+a,d=false;if((g+j)>f+l.left){g=f-j-a;d=true}if((e+c)>b+l.top){e=b-c-a;d=true}if(g<l.left){g=l.left;d=true}if(e<l.top){e=l.top;d=true}if(d){Ext.Layer.superclass.setXY.call(this,[g,e]);this.sync()}}return this},getConstrainOffset:function(){return this.shadowOffset},setVisible:function(e,b,d,g,f){var c=this,a;a=function(){if(e){c.sync(true)}if(g){g()}};if(!e){c.hideUnders(true)}c.callParent([e,b,d,g,f]);if(!b){a()}return c},beforeFx:function(){this.beforeAction();return this.callParent(arguments)},afterFx:function(){this.callParent(arguments);this.sync(this.isVisible())},beforeAction:function(){if(!this.updating&&this.shadow){this.shadow.hide()}},setLeft:function(a){this.callParent(arguments);return this.sync()},setTop:function(a){this.callParent(arguments);return this.sync()},setLeftTop:function(b,a){this.callParent(arguments);return this.sync()},setLocalX:function(){this.callParent(arguments);return this.sync()},setLocalXY:function(){this.callParent(arguments);return this.sync()},setLocalY:function(){this.callParent(arguments);return this.sync()},setXY:function(d,a,c,f,e){var b=this;f=b.createCB(f);b.fixDisplay();b.beforeAction();b.callParent([d,a,c,f,e]);if(!a){f()}return b},createCB:function(c){var a=this,b=a.shadow&&a.shadow.isVisible();return function(){a.constrainXY();a.sync(b);if(c){c()}}},setX:function(a,b,c,e,d){this.setXY([a,this.getY()],b,c,e,d);return this},setY:function(e,a,b,d,c){this.setXY([this.getX(),e],a,b,d,c);return this},setSize:function(a,c,b,e,g,f){var d=this;g=d.createCB(g);d.beforeAction();d.callParent([a,c,b,e,g,f]);if(!b){g()}return d},setWidth:function(a,b,d,f,e){var c=this;f=c.createCB(f);c.beforeAction();c.callParent([a,b,d,f,e]);if(!b){f()}return c},setHeight:function(b,a,d,f,e){var c=this;f=c.createCB(f);c.beforeAction();c.callParent([b,a,d,f,e]);if(!a){f()}return c},setZIndex:function(a){var b=this;b.zindex=a;if(b.shadow){b.shadow.setZIndex(a)}return b.setStyle("z-index",a)},onOpacitySet:function(a){var b=this.shadow;if(b){b.setOpacity(a)}},deprecated:{"4.2":{setBounds:function(g,f,a,j,b,c,h,d){var e=this;h=e.createCB(h);e.beforeAction();if(!b){Ext.Layer.superclass.setXY.call(e,[g,f]);Ext.Layer.superclass.setSize.call(e,a,j);h()}else{e.callParent([g,f,a,j,b,c,h,d])}return e}}}});Ext.define("Ext.form.field.TextArea",{extend:Ext.form.field.Text,alias:["widget.textareafield","widget.textarea"],alternateClassName:"Ext.form.TextArea",fieldSubTpl:['<textarea id="{id}" role="{role}" {inputAttrTpl}','<tpl if="name"> name="{name}"</tpl>','<tpl if="placeholder"> placeholder="{placeholder}"</tpl>','<tpl if="maxLength !== undefined"> maxlength="{maxLength}"</tpl>','<tpl if="readOnly"> readonly="readonly"</tpl>','<tpl if="disabled"> disabled="disabled"</tpl>','<tpl if="tabIdx"> tabIndex="{tabIdx}"</tpl>',' class="{fieldCls} {typeCls} {typeCls}-{ui} {inputCls}" ','<tpl if="fieldStyle"> style="{fieldStyle}"</tpl>',' autocomplete="off">\n','<tpl if="value">{[Ext.util.Format.htmlEncode(values.value)]}</tpl>',"</textarea>",{disableFormats:true}],growMin:60,growMax:1000,growAppend:"\n-",enterIsSpecial:false,preventScrollbars:false,setGrowSizePolicy:Ext.emptyFn,returnRe:/\r/g,inputCls:Ext.baseCSSPrefix+"form-textarea",extraFieldBodyCls:Ext.baseCSSPrefix+"form-textarea-body",constructor:function(a){this.callParent([a]);if(this.cols){Ext.log.warn('Ext.form.field.TextArea "cols" config was removed in Ext 5.0. Please specify a "width" or use a layout instead.')}if(this.rows){Ext.log.warn('Ext.form.field.TextArea "rows" config was removed in Ext 5.0. Please specify a "height" or use a layout instead.')}},getSubTplData:function(){var c=this,b=c.getFieldStyle(),a=c.callParent();if(c.grow){if(c.preventScrollbars){a.fieldStyle=(b||"")+";overflow:hidden;height:"+c.growMin+"px"}}return a},afterRender:function(){var a=this;a.callParent(arguments);a.needsMaxCheck=a.enforceMaxLength&&a.maxLength!==Number.MAX_VALUE&&!Ext.supports.TextAreaMaxLength;if(a.needsMaxCheck){a.inputEl.on("paste",a.onPaste,a)}},transformRawValue:function(a){return this.stripReturns(a)},getValue:function(){return this.stripReturns(this.callParent())},valueToRaw:function(a){a=this.stripReturns(a);return this.callParent([a])},stripReturns:function(a){if(a&&typeof a==="string"){a=a.replace(this.returnRe,"")}return a},onPaste:function(){var a=this;if(!a.pasteTask){a.pasteTask=new Ext.util.DelayedTask(a.pasteCheck,a)}a.pasteTask.delay(1)},pasteCheck:function(){var b=this,c=b.getValue(),a=b.maxLength;if(c.length>a){c=c.substr(0,a);b.setValue(c)}},fireKey:function(d){var b=this,a=d.getKey(),c;if(d.isSpecialKey()&&(b.enterIsSpecial||(a!==d.ENTER||d.hasModifier()))){b.fireEvent("specialkey",b,d)}if(b.needsMaxCheck&&a!==d.BACKSPACE&&a!==d.DELETE&&!d.isNavKeyPress()&&!b.isCutCopyPasteSelectAll(d,a)){c=b.getValue();if(c.length>=b.maxLength){d.stopEvent()}}},isCutCopyPasteSelectAll:function(b,a){if(b.ctrlKey){return a===b.A||a===b.C||a===b.V||a===b.X}return false},autoSize:function(){var d=this,f,c,a,b,e;if(d.grow&&d.rendered){f=d.inputEl;b=f.getWidth(true);e=Ext.util.Format.htmlEncode(f.dom.value)||"&#160;";e+=d.growAppend;e=e.replace(/\n/g,"<br/>");a=Ext.util.TextMetrics.measure(f,e,b).height+f.getPadding("tb")+d.inputWrap.getBorderWidth("tb")+d.triggerWrap.getBorderWidth("tb");a=Math.min(Math.max(a,d.growMin),d.growMax);d.bodyEl.setHeight(a);d.updateLayout();d.fireEvent("autosize",d,a)}},beforeDestroy:function(){var a=this.pasteTask;if(a){a.cancel();this.pasteTask=null}this.callParent()}});Ext.define("Ext.window.MessageBox",{extend:Ext.window.Window,alias:"widget.messagebox",OK:1,YES:2,NO:4,CANCEL:8,OKCANCEL:9,YESNO:6,YESNOCANCEL:14,INFO:Ext.baseCSSPrefix+"message-box-info",WARNING:Ext.baseCSSPrefix+"message-box-warning",QUESTION:Ext.baseCSSPrefix+"message-box-question",ERROR:Ext.baseCSSPrefix+"message-box-error",hideMode:"offsets",closeAction:"hide",resizable:false,autoScroll:true,title:"&#160;",defaultMinWidth:250,defaultMaxWidth:600,defaultMinHeight:110,defaultMaxHeight:500,minWidth:null,maxWidth:null,minHeight:null,maxHeight:null,constrain:true,cls:[Ext.baseCSSPrefix+"message-box",Ext.baseCSSPrefix+"hidden-offsets"],layout:{type:"vbox",align:"stretch"},shrinkWrapDock:true,defaultTextHeight:75,minProgressWidth:250,minPromptWidth:250,buttonText:{ok:"OK",yes:"Yes",no:"No",cancel:"Cancel"},buttonIds:["ok","yes","no","cancel"],titleText:{confirm:"Confirm",prompt:"Prompt",wait:"Loading...",alert:"Attention"},baseIconCls:Ext.baseCSSPrefix+"message-box-icon",ariaRole:"alertdialog",makeButton:function(a){var b=this.buttonIds[a];return new Ext.button.Button({handler:this.btnCallback,itemId:b,scope:this,text:this.buttonText[b],minWidth:75})},btnCallback:function(a){var b=this,c,d;if(b.cfg.prompt||b.cfg.multiline){if(b.cfg.multiline){d=b.textArea}else{d=b.textField}c=d.getValue();d.reset()}b.hide();b.userCallback(a.itemId,c,b.cfg)},hide:function(){var b=this,a=b.cfg?b.cfg.cls:"";b.progressBar.reset();if(a){b.removeCls(a)}b.callParent(arguments)},constructor:function(a){var b=this;b.callParent(arguments);b.minWidth=b.defaultMinWidth=(b.minWidth||b.defaultMinWidth);b.maxWidth=b.defaultMaxWidth=(b.maxWidth||b.defaultMaxWidth);b.minHeight=b.defaultMinHeight=(b.minHeight||b.defaultMinHeight);b.maxHeight=b.defaultMaxHeight=(b.maxHeight||b.defaultMaxHeight)},initComponent:function(a){var e=this,b=e.id,d,c;e.title=e.title||"&#160;";e.iconCls=e.iconCls||"";e.topContainer=new Ext.container.Container({layout:"hbox",padding:10,style:{overflow:"hidden"},items:[e.iconComponent=new Ext.Component({cls:e.baseIconCls}),e.promptContainer=new Ext.container.Container({flex:1,layout:{type:"vbox",align:"stretch"},items:[e.msg=new Ext.form.field.Display({id:b+"-displayfield",cls:e.baseCls+"-text"}),e.textField=new Ext.form.field.Text({id:b+"-textfield",enableKeyEvents:true,listeners:{keydown:e.onPromptKey,scope:e}}),e.textArea=new Ext.form.field.TextArea({id:b+"-textarea",height:75})]})]});e.progressBar=new Ext.ProgressBar({id:b+"-progressbar",margin:"0 10 10 10"});e.items=[e.topContainer,e.progressBar];e.msgButtons=[];for(d=0;d<4;d++){c=e.makeButton(d);e.msgButtons[c.itemId]=c;e.msgButtons.push(c)}e.bottomTb=new Ext.toolbar.Toolbar({id:b+"-toolbar",ui:"footer",dock:"bottom",layout:{pack:"center"},items:[e.msgButtons[0],e.msgButtons[1],e.msgButtons[2],e.msgButtons[3]]});e.dockedItems=[e.bottomTb];e.on("close",e.onClose,e);e.callParent()},onClose:function(){var a=this.header.child("[type=close]");a.itemId="cancel";this.btnCallback(a);delete a.itemId},onPromptKey:function(a,c){var b=this;if(c.keyCode===c.RETURN||c.keyCode===10){if(b.msgButtons.ok.isVisible()){b.msgButtons.ok.handler.call(b,b.msgButtons.ok)}else{if(b.msgButtons.yes.isVisible()){b.msgButtons.yes.handler.call(b,b.msgButtons.yes)}}}},reconfigure:function(b){var r=this,o=0,e=true,s=r.buttonText,d=r.resizer,m=r.header,q=m&&!m.isHeader,c=b&&(b.message||b.msg),t,k,g,n,p,f,a,h,l,j;r.updateButtonText();r.cfg=b=b||{};if(b.width){k=b.width}if(b.height){g=b.height}r.minWidth=b.minWidth||r.defaultMinWidth;r.maxWidth=b.maxWidth||r.defaultMaxWidth;r.minHeight=b.minHeight||r.defaultMinHeight;r.maxHeight=b.maxHeight||r.defaultMaxHeight;if(d){t=d.resizeTracker;d.minWidth=t.minWidth=r.minWidth;d.maxWidth=t.maxWidth=r.maxWidth;d.minHeight=t.minHeight=r.minHeight;d.maxHeight=t.maxHeight=r.maxHeight}delete r.defaultFocus;if(b.defaultFocus){r.defaultFocus=b.defaultFocus}r.animateTarget=b.animateTarget||undefined;r.modal=b.modal!==false;r.setTitle(b.title||(q&&m.title)||r.title);r.setIconCls(b.iconCls||(q&&m.iconCls)||r.iconCls);if(Ext.isObject(b.buttons)){r.buttonText=b.buttons;o=0}else{r.buttonText=b.buttonText||r.buttonText;o=Ext.isNumber(b.buttons)?b.buttons:0}o=o|r.updateButtonText();r.buttonText=s;Ext.suspendLayouts();delete r.width;delete r.height;if(k||g){if(k){r.setWidth(k)}if(g){r.setHeight(g)}}r.hidden=false;if(!r.rendered){r.render(Ext.getBody())}r.closable=b.closable!==false&&!b.wait;m=r.header;if(m){m.child("[type=close]").setVisible(r.closable);if(!b.title&&!r.closable&&!b.iconCls){m.hide()}else{m.show()}}r.liveDrag=!b.proxyDrag;r.userCallback=Ext.Function.bindCallback(b.callback||b.fn||Ext.emptyFn,b.scope||Ext.global);r.setIcon(b.icon);a=r.msg;if(c){a.setValue(c);a.show()}else{a.hide()}p=r.textArea;f=r.textField;if(b.prompt||b.multiline){r.multiline=b.multiline;if(b.multiline){p.setValue(b.value);p.setHeight(b.defaultTextHeight||r.defaultTextHeight);p.show();f.hide();r.defaultFocus=p}else{f.setValue(b.value);p.hide();f.show();r.defaultFocus=f}}else{p.hide();f.hide()}h=r.progressBar;if(b.progress||b.wait){h.show();r.updateProgress(0,b.progressText);j=b.wait;if(j===true){b=b.waitConfig}if(j){h.wait(j)}}else{h.hide()}l=r.msgButtons;for(n=0;n<4;n++){if(o&Math.pow(2,n)){if(!r.defaultFocus){r.defaultFocus=l[n]}l[n].show();e=false}else{l[n].hide()}}if(e){r.bottomTb.hide()}else{r.bottomTb.show()}Ext.resumeLayouts(true)},updateButtonText:function(){var d=this,c=d.buttonText,b=0,e,a;for(e in c){if(c.hasOwnProperty(e)){a=d.msgButtons[e];if(a){if(d.cfg&&d.cfg.buttonText){b=b|Math.pow(2,Ext.Array.indexOf(d.buttonIds,e))}if(a.text!=c[e]){a.setText(c[e])}}}}return b},show:function(a){var c=this,b;a=a||{};if(Ext.Component.layoutSuspendCount){Ext.on({resumelayouts:function(){c.show(a)},single:true});return c}c.reconfigure(a);if(a.cls){c.addCls(a.cls)}b=c.query("textfield:not([hidden]),textarea:not([hidden]),button:not([hidden])");c.preventFocusOnActivate=!b.length;c.hidden=true;c.callParent();return c},onShow:function(){this.callParent(arguments);this.center()},updateText:function(a){this.msg.setValue(a)},setIcon:function(d,c,a){var e=this,f=e.iconComponent,b=e.messageIconCls;if(b){f.removeCls(b)}if(d){f.show();if(c||a){f.setSize(c||f.getWidth(),a||f.getHeight())}f.addCls(Ext.baseCSSPrefix+"dlg-icon");f.addCls(e.messageIconCls=d)}else{f.removeCls(Ext.baseCSSPrefix+"dlg-icon");f.hide()}return e},updateProgress:function(c,a,b){this.progressBar.updateProgress(c,a);if(b){this.updateText(b)}return this},onEsc:function(){if(this.closable!==false){this.callParent(arguments)}},confirm:function(a,d,c,b){if(Ext.isString(a)){a={title:a,icon:this.QUESTION,message:d,buttons:this.YESNO,callback:c,scope:b}}return this.show(a)},prompt:function(f,d,c,b,a,e){if(Ext.isString(f)){f={prompt:true,title:f,minWidth:this.minPromptWidth,message:d,buttons:this.OKCANCEL,callback:c,scope:b,multiline:a,value:e}}return this.show(f)},wait:function(b,c,a){if(Ext.isString(b)){b={title:c,message:b,closable:false,wait:true,modal:true,minWidth:this.minProgressWidth,waitConfig:a}}return this.show(b)},alert:function(d,c,b,a){if(Ext.isString(d)){d={title:d,message:c,buttons:this.OK,fn:b,scope:a,minWidth:this.minWidth}}return this.show(d)},progress:function(c,b,a){if(Ext.isString(c)){c={title:c,message:b,progress:true,progressText:a}}return this.show(c)}},function(){Ext.MessageBox=Ext.Msg=new this()});Ext.define("Ext.form.FieldAncestor",{extend:Ext.Mixin,mixinConfig:{id:"fieldAncestor",after:{initInheritedState:"initFieldInheritedState"}},initFieldAncestor:function(){var a=this;a.monitor=new Ext.container.Monitor({scope:a,selector:"[isFormField]:not([excludeForm])",addHandler:a.onChildFieldAdd,removeHandler:a.onChildFieldRemove});a.initFieldDefaults()},initMonitor:function(){this.monitor.bind(this)},initFieldInheritedState:function(b){var a=b.fieldDefaults,c=this.fieldDefaults;if(c){if(a){b.fieldDefaults=Ext.apply(Ext.Object.chain(a),c)}else{b.fieldDefaults=c}}},onChildFieldAdd:function(b){var a=this;a.mon(b,"errorchange",a.handleFieldErrorChange,a);a.mon(b,"validitychange",a.handleFieldValidityChange,a)},onChildFieldRemove:function(b){var a=this;a.mun(b,"errorchange",a.handleFieldErrorChange,a);a.mun(b,"validitychange",a.handleFieldValidityChange,a)},initFieldDefaults:function(){if(!this.fieldDefaults){this.fieldDefaults={}}},handleFieldValidityChange:function(c,b){var a=this;if(c!==a){a.fireEvent("fieldvaliditychange",a,c,b);a.onFieldValidityChange(c,b)}},handleFieldErrorChange:function(b,a){var c=this;if(b!==c){c.fireEvent("fielderrorchange",c,b,a);c.onFieldErrorChange(b,a)}},onFieldValidityChange:Ext.emptyFn,onFieldErrorChange:Ext.emptyFn,beforeDestroy:function(){this.monitor.unbind();this.callParent()}});Ext.define("Ext.layout.component.field.FieldContainer",{extend:Ext.layout.component.Auto,alias:"layout.fieldcontainer",type:"fieldcontainer",waitForOuterHeightInDom:true,waitForOuterWidthInDom:true,beginLayout:function(b){var a=this.owner;this.callParent(arguments);b.hasRawContent=true;a.containerEl.setStyle("height","");b.containerElContext=b.getEl("containerEl")},measureContentHeight:function(a){return a.hasDomProp("containerLayoutDone")?this.callParent(arguments):NaN},measureContentWidth:function(a){return a.hasDomProp("containerLayoutDone")?this.callParent(arguments):NaN},publishInnerHeight:function(c,b){var a=this.owner;if(a.labelAlign==="top"&&a.hasVisibleLabel()){b-=a.labelEl.getHeight()}if(a.msgTarget==="under"&&a.hasActiveError()){b-=a.errorWrapEl.getHeight()}b-=a.bodyEl.getPadding("tb");c.containerElContext.setHeight(b,false)},publishInnerWidth:function(c,b){var a=this.owner;if(a.labelAlign!=="top"&&a.hasVisibleLabel()){b-=(a.labelWidth+(a.labelPad||0))}if(a.msgTarget==="side"&&a.hasActiveError()){b-=a.errorWrapEl.getWidth()}b-=a.bodyEl.getPadding("lr");c.containerElContext.setWidth(b,false)}});Ext.define("Ext.form.FieldContainer",{extend:Ext.container.Container,mixins:{labelable:Ext.form.Labelable,fieldAncestor:Ext.form.FieldAncestor},alias:"widget.fieldcontainer",componentLayout:"fieldcontainer",componentCls:Ext.baseCSSPrefix+"form-fieldcontainer",shrinkWrap:true,customOverflowEl:"containerEl",childEls:["containerEl"],combineLabels:false,labelConnector:", ",combineErrors:false,maskOnDisable:false,invalidCls:"",fieldSubTpl:['<div id="{id}-containerEl" data-ref="containerEl" class="{containerElCls}" role="presentation">',"{%this.renderContainer(out,values)%}","</div>"],initComponent:function(){var a=this;a.initLabelable();a.initFieldAncestor();a.callParent();a.initMonitor()},onAdd:function(a){var b=this;if(a.isLabelable&&Ext.isGecko&&b.layout.type==="absolute"&&!b.hideLabel&&b.labelAlign!=="top"){a.x+=(b.labelWidth+b.labelPad)}b.callParent(arguments);if(a.isLabelable&&b.combineLabels){a.oldHideLabel=a.hideLabel;a.hideLabel=true}b.updateLabel()},onRemove:function(a,b){var c=this;c.callParent(arguments);if(!b){if(a.isLabelable&&c.combineLabels){a.hideLabel=a.oldHideLabel}c.updateLabel()}},initRenderData:function(){var a=this,b=a.callParent();b.containerElCls=a.containerElCls;return Ext.applyIf(b,a.getLabelableRenderData())},getFieldLabel:function(){var a=this.fieldLabel||"";if(!a&&this.combineLabels){a=Ext.Array.map(this.query("[isFieldLabelable]"),function(b){return b.getFieldLabel()}).join(this.labelConnector)}return a},getSubTplData:function(){var a=this.initRenderData();Ext.apply(a,this.subTplData);return a},getSubTplMarkup:function(){var c=this,a=c.getTpl("fieldSubTpl"),b;if(!a.renderContent){c.setupRenderTpl(a)}b=a.apply(c.getSubTplData());return b},updateLabel:function(){var b=this,a=b.labelEl;if(a){b.setFieldLabel(b.getFieldLabel())}},onFieldErrorChange:function(){if(this.combineErrors){var c=this,d=c.getActiveError(),b=Ext.Array.filter(c.query("[isFormField]"),function(e){return e.hasActiveError()}),a=c.getCombinedErrors(b);if(a){c.setActiveErrors(a)}else{c.unsetActiveError()}if(d!==c.getActiveError()){c.updateLayout()}}},getCombinedErrors:function(e){var l=[],c,m=e.length,j,d,k,b,g,h;for(c=0;c<m;c++){j=e[c];d=j.getActiveErrors();b=d.length;for(k=0;k<b;k++){g=d[k];h=j.getFieldLabel();l.push((h?h+": ":"")+g)}}return l},privates:{applyTargetCls:function(b){var a=this.containerElCls;this.containerElCls=a?a+" "+b:b},getTargetEl:function(){return this.containerEl},initRenderTpl:function(){var a=this;if(!a.hasOwnProperty("renderTpl")){a.renderTpl=a.getTpl("labelableRenderTpl")}return a.callParent()}}});Ext.define("Ext.form.field.Picker",{extend:Ext.form.field.Text,alias:"widget.pickerfield",alternateClassName:"Ext.form.Picker",config:{triggers:{picker:{handler:"onTriggerClick",scope:"this"}}},matchFieldWidth:true,pickerAlign:"tl-bl?",openCls:Ext.baseCSSPrefix+"pickerfield-open",editable:true,applyTriggers:function(b){var c=this,a=b.picker;if(!a.cls){a.cls=c.triggerCls}return c.callParent([b])},initEvents:function(){var a=this;a.callParent();a.keyNav=new Ext.util.KeyNav(a.inputEl,{down:a.onDownArrow,esc:{handler:a.onEsc,scope:a,defaultEventAction:false},scope:a,forceKeyDown:true});if(!a.editable){a.mon(a.inputEl,"click",a.onTriggerClick,a)}if(Ext.isGecko){a.inputEl.dom.setAttribute("autocomplete","off")}},onEsc:function(a){if(Ext.isIE){a.preventDefault()}if(this.isExpanded){this.collapse();a.stopEvent()}},onDownArrow:function(){if(!this.isExpanded){this.onTriggerClick()}},expand:function(){var c=this,a,b,d;if(c.rendered&&!c.isExpanded&&!c.isDestroyed){c.expanding=true;a=c.bodyEl;b=c.getPicker();d=c.collapseIf;b.show();c.isExpanded=true;c.alignPicker();a.addCls(c.openCls);c.mon(Ext.getDoc(),{mousewheel:d,mousedown:d,scope:c});Ext.on("resize",c.alignPicker,c);c.fireEvent("expand",c);c.onExpand();delete c.expanding}},onExpand:Ext.emptyFn,alignPicker:function(){var c=this,b,a=c.getPicker();if(c.isExpanded){if(c.matchFieldWidth){b=c.bodyEl.getWidth();a.setWidth(b)}if(a.isFloating()){c.doAlign()}}},doAlign:function(){var d=this,c=d.picker,a="-above",b;d.picker.alignTo(d.triggerWrap,d.pickerAlign,d.pickerOffset);b=c.el.getY()<d.inputEl.getY();d.bodyEl[b?"addCls":"removeCls"](d.openCls+a);c[b?"addCls":"removeCls"](c.baseCls+a)},collapse:function(){var d=this;if(d.isExpanded&&!d.isDestroyed&&!d.destroying){var c=d.openCls,b=d.picker,e=Ext.getDoc(),f=d.collapseIf,a="-above";b.hide();d.isExpanded=false;d.bodyEl.removeCls([c,c+a]);b.el.removeCls(b.baseCls+a);e.un("mousewheel",f,d);e.un("mousedown",f,d);Ext.un("resize",d.alignPicker,d);d.fireEvent("collapse",d);d.onCollapse()}},onCollapse:Ext.emptyFn,collapseIf:function(b){var a=this;if(!a.isDestroyed&&!b.within(a.bodyEl,false,true)&&!a.owns(b.target)){a.collapse()}},getPicker:function(){var a=this;return a.picker||(a.picker=a.createPicker())},getRefItems:function(){var a=[];if(this.picker){a[0]=this.picker}return a},createPicker:Ext.emptyFn,onTriggerClick:function(){var a=this;if(!a.readOnly&&!a.disabled){if(a.isExpanded){a.collapse()}else{a.expand()}if(!Ext.supports.TouchEvents){a.inputEl.focus()}}},onOtherFocus:function(a){if(this.hasFocus&&!this.owns(a)){this.callParent([a])}},triggerBlur:function(){this.callParent(arguments);this.collapse()},mimicBlur:function(c){var b=this,a=b.picker;if(!a||!b.owns(c.target)){b.callParent(arguments)}else{b.inputEl.focus()}},beforeDestroy:function(){var b=this,a=b.picker;b.collapse();b.callParent();Ext.un("resize",b.alignPicker,b);Ext.destroy(b.keyNav,a);if(a){delete b.picker;delete a.pickerField}}});Ext.define("Ext.layout.component.BoundList",{extend:Ext.layout.component.Auto,alias:"layout.boundlist",type:"component",beginLayout:function(d){var c=this,a=c.owner,b=a.pagingToolbar;c.scrollPos=a.listWrap.getScroll();c.callParent(arguments);if(a.floating){d.savedXY=a.getXY();a.setXY([0,-9999])}if(b){d.toolbarContext=d.context.getCmp(b)}d.listContext=d.getEl("listWrap")},beginLayoutCycle:function(b){var a=this.owner;this.callParent(arguments);if(b.heightModel.auto){a.el.setHeight("auto");a.listWrap.setHeight("auto")}},getLayoutItems:function(){var a=this.owner.pagingToolbar;return a?[a]:[]},isValidParent:function(){return true},finishedLayout:function(d){var c=this,e=d.savedXY,a=c.owner,b=a.listWrap,f=c.scrollPos;c.callParent(arguments);if(e){c.owner.setXY(e)}b.setScrollLeft(f.left);b.setScrollTop(f.top)},measureContentWidth:function(a){return this.owner.listWrap.getWidth()},measureContentHeight:function(a){return this.owner.listWrap.getHeight()},publishInnerHeight:function(c,a){var b=c.toolbarContext,d=0;if(b){d=b.getProp("height")}if(d===undefined){this.done=false}else{c.listContext.setHeight(a-c.getFrameInfo().height-d)}},calculateOwnerHeightFromContentHeight:function(c){var a=this.callParent(arguments),b=c.toolbarContext;if(b){a+=b.getProp("height")}return a}});Ext.define("Ext.toolbar.TextItem",{extend:Ext.toolbar.Item,alias:"widget.tbtext",alternateClassName:"Ext.Toolbar.TextItem",text:"",renderTpl:"{text}",baseCls:Ext.baseCSSPrefix+"toolbar-text",ariaRole:null,beforeRender:function(){var a=this;a.callParent();Ext.apply(a.renderData,{text:a.text})},setText:function(b){var a=this;a.text=b;if(a.rendered){a.el.setHtml(b);a.updateLayout()}}});Ext.define("Ext.form.trigger.Spinner",{extend:Ext.form.trigger.Trigger,alias:"trigger.spinner",cls:Ext.baseCSSPrefix+"form-trigger-spinner",spinnerCls:Ext.baseCSSPrefix+"form-spinner",spinnerUpCls:Ext.baseCSSPrefix+"form-spinner-up",spinnerDownCls:Ext.baseCSSPrefix+"form-spinner-down",focusCls:Ext.baseCSSPrefix+"form-spinner-focus",overCls:Ext.baseCSSPrefix+"form-spinner-over",clickCls:Ext.baseCSSPrefix+"form-spinner-click",focusFieldOnClick:true,vertical:true,bodyTpl:'<tpl if="vertical"><div class="{spinnerCls} {spinnerCls}-{ui} {spinnerUpCls} {spinnerUpCls}-{ui} {childElCls} {upDisabledCls}"></div></tpl><div class="{spinnerCls} {spinnerCls}-{ui} {spinnerDownCls} {spinnerDownCls}-{ui} {childElCls} {downDisabledCls}"></div><tpl if="!vertical"><div class="{spinnerCls} {spinnerCls}-{ui} {spinnerUpCls} {spinnerUpCls}-{ui} {childElCls} {upDisabledCls}"></div></tpl>',getBodyRenderData:function(){var a=this;return{vertical:a.vertical,upDisabledCls:a.upEnabled?"":(a.spinnerUpCls+"-disabled"),downDisabledCls:a.downEnabled?"":(a.spinnerDownCls+"-disabled"),spinnerCls:a.spinnerCls,spinnerUpCls:a.spinnerUpCls,spinnerDownCls:a.spinnerDownCls}},getStateEl:function(){return this.spinnerEl},onClick:function(d){var b=this,a=arguments,d=b.clickRepeater?a[1]:a[0],c=b.field;if(!c.readOnly&&!c.disabled){if(b.upEl.contains(d.target)){Ext.callback(b.upHandler,b.scope,[c,b,d],0,c)}else{if(b.downEl.contains(d.target)){Ext.callback(b.downHandler,b.scope,[c,b,d],0,c)}}}c.inputEl.focus()},onFieldRender:function(){var b=this,a=b.vertical,d,c;b.callParent();d=b.spinnerEl=b.el.select("."+b.spinnerCls,true);c=d.elements;b.upEl=a?c[0]:c[1];b.downEl=a?c[1]:c[0]},setUpEnabled:function(a){this.upEl[a?"removeCls":"addCls"](this.spinnerUpCls+"-disabled")},setDownEnabled:function(a){this.downEl[a?"removeCls":"addCls"](this.spinnerDownCls+"-disabled")}});Ext.define("Ext.form.field.Spinner",{extend:Ext.form.field.Text,alias:"widget.spinnerfield",alternateClassName:"Ext.form.Spinner",config:{triggers:{spinner:{type:"spinner",upHandler:"onSpinnerUpClick",downHandler:"onSpinnerDownClick",scope:"this"}}},spinUpEnabled:true,spinDownEnabled:true,keyNavEnabled:true,mouseWheelEnabled:true,repeatTriggerClick:true,onSpinUp:Ext.emptyFn,onSpinDown:Ext.emptyFn,ariaRole:"spinbutton",applyTriggers:function(b){var c=this,a=b.spinner;a.upEnabled=c.spinUpEnabled;a.downEnabled=c.spinDownEnabled;return c.callParent([b])},onRender:function(){var b=this,a=b.getTrigger("spinner");b.callParent();if(b.keyNavEnabled){b.spinnerKeyNav=new Ext.util.KeyNav(b.inputEl,{scope:b,up:b.spinUp,down:b.spinDown})}if(b.mouseWheelEnabled){b.mon(b.bodyEl,"mousewheel",b.onMouseWheel,b)}b.spinUpEl=a.upEl;b.spinDownEl=a.downEl},onSpinnerUpClick:function(){this.spinUp()},onSpinnerDownClick:function(){this.spinDown()},spinUp:function(){var a=this;if(a.spinUpEnabled&&!a.disabled){a.fireEvent("spin",a,"up");a.fireEvent("spinup",a);a.onSpinUp()}},spinDown:function(){var a=this;if(a.spinDownEnabled&&!a.disabled){a.fireEvent("spin",a,"down");a.fireEvent("spindown",a);a.onSpinDown()}},setSpinUpEnabled:function(a){var b=this,c=b.spinUpEnabled;b.spinUpEnabled=a;if(c!==a&&b.rendered){b.getTrigger("spinner").setUpEnabled(a)}},setSpinDownEnabled:function(a){var b=this,c=b.spinDownEnabled;b.spinDownEnabled=a;if(c!==a&&b.rendered){b.getTrigger("spinner").setDownEnabled(a)}},onMouseWheel:function(b){var a=this,c;if(a.hasFocus){c=b.getWheelDelta();if(c>0){a.spinUp()}else{if(c<0){a.spinDown()}}b.stopEvent()}},onDestroy:function(){Ext.destroyMembers(this,"spinnerKeyNav");this.callParent()}});Ext.define("Ext.form.field.Number",{extend:Ext.form.field.Spinner,alias:"widget.numberfield",alternateClassName:["Ext.form.NumberField","Ext.form.Number"],allowExponential:true,allowDecimals:true,decimalSeparator:null,submitLocaleSeparator:true,decimalPrecision:2,minValue:Number.NEGATIVE_INFINITY,maxValue:Number.MAX_VALUE,step:1,minText:"The minimum value for this field is {0}",maxText:"The maximum value for this field is {0}",nanText:"{0} is not a valid number",negativeText:"The value cannot be negative",baseChars:"0123456789",autoStripChars:false,initComponent:function(){var a=this;if(a.decimalSeparator===null){a.decimalSeparator=Ext.util.Format.decimalSeparator}a.callParent();a.setMinValue(a.minValue);a.setMaxValue(a.maxValue)},getErrors:function(c){var b=this,e=b.callParent(arguments),d=Ext.String.format,a;c=Ext.isDefined(c)?c:this.processRawValue(this.getRawValue());if(c.length<1){return e}c=String(c).replace(b.decimalSeparator,".");if(isNaN(c)){e.push(d(b.nanText,c))}a=b.parseValue(c);if(b.minValue===0&&a<0){e.push(this.negativeText)}else{if(a<b.minValue){e.push(d(b.minText,b.minValue))}}if(a>b.maxValue){e.push(d(b.maxText,b.maxValue))}return e},rawToValue:function(b){var a=this.fixPrecision(this.parseValue(b));if(a===null){a=b||null}return a},valueToRaw:function(c){var b=this,a=b.decimalSeparator;c=b.parseValue(c);c=b.fixPrecision(c);c=Ext.isNumber(c)?c:parseFloat(String(c).replace(a,"."));c=isNaN(c)?"":String(c).replace(".",a);return c},getSubmitValue:function(){var a=this,b=a.callParent();if(!a.submitLocaleSeparator){b=b.replace(a.decimalSeparator,".")}return b},onChange:function(){this.toggleSpinners();this.callParent(arguments)},toggleSpinners:function(){var c=this,d=c.getValue(),b=d===null,a;if(c.spinUpEnabled||c.spinUpDisabledByToggle){a=b||d<c.maxValue;c.setSpinUpEnabled(a,true)}if(c.spinDownEnabled||c.spinDownDisabledByToggle){a=b||d>c.minValue;c.setSpinDownEnabled(a,true)}},setMinValue:function(b){var a=this,c;a.minValue=Ext.Number.from(b,Number.NEGATIVE_INFINITY);a.toggleSpinners();if(a.disableKeyFilter!==true){c=a.baseChars+"";if(a.allowExponential){c+=a.decimalSeparator+"e+-"}else{if(a.allowDecimals){c+=a.decimalSeparator}if(a.minValue<0){c+="-"}}c=Ext.String.escapeRegex(c);a.maskRe=new RegExp("["+c+"]");if(a.autoStripChars){a.stripCharsRe=new RegExp("[^"+c+"]","gi")}}},setMaxValue:function(a){this.maxValue=Ext.Number.from(a,Number.MAX_VALUE);this.toggleSpinners()},parseValue:function(a){a=parseFloat(String(a).replace(this.decimalSeparator,"."));return isNaN(a)?null:a},fixPrecision:function(d){var c=this,b=isNaN(d),a=c.decimalPrecision;if(b||!d){return b?"":d}else{if(!c.allowDecimals||a<=0){a=0}}return parseFloat(Ext.Number.toFixed(parseFloat(d),a))},beforeBlur:function(){var b=this,a=b.rawToValue(b.getRawValue());if(!Ext.isEmpty(a)){b.setValue(a)}},setSpinUpEnabled:function(b,a){this.callParent(arguments);if(!a){delete this.spinUpDisabledByToggle}else{this.spinUpDisabledByToggle=!b}},onSpinUp:function(){var a=this;if(!a.readOnly){a.setSpinValue(Ext.Number.constrain(a.getValue()+a.step,a.minValue,a.maxValue))}},setSpinDownEnabled:function(b,a){this.callParent(arguments);if(!a){delete this.spinDownDisabledByToggle}else{this.spinDownDisabledByToggle=!b}},onSpinDown:function(){var a=this;if(!a.readOnly){a.setSpinValue(Ext.Number.constrain(a.getValue()-a.step,a.minValue,a.maxValue))}},setSpinValue:function(c){var b=this,a;if(b.enforceMaxLength){if(b.fixPrecision(c).toString().length>b.maxLength){return}}b.setValue(c)}});Ext.define("Ext.toolbar.Paging",{extend:Ext.toolbar.Toolbar,xtype:"pagingtoolbar",alternateClassName:"Ext.PagingToolbar",mixins:[Ext.util.StoreHolder],displayInfo:false,prependButtons:false,displayMsg:"Displaying {0} - {1} of {2}",emptyMsg:"No data to display",beforePageText:"Page",afterPageText:"of {0}",firstText:"First Page",prevText:"Previous Page",nextText:"Next Page",lastText:"Last Page",refreshText:"Refresh",inputItemWidth:30,getPagingItems:function(){var b=this,a={scope:b,blur:b.onPagingBlur};a[Ext.supports.SpecialKeyDownRepeat?"keydown":"keypress"]=b.onPagingKeyDown;return[{itemId:"first",tooltip:b.firstText,overflowText:b.firstText,iconCls:Ext.baseCSSPrefix+"tbar-page-first",disabled:true,handler:b.moveFirst,scope:b},{itemId:"prev",tooltip:b.prevText,overflowText:b.prevText,iconCls:Ext.baseCSSPrefix+"tbar-page-prev",disabled:true,handler:b.movePrevious,scope:b},"-",b.beforePageText,{xtype:"numberfield",itemId:"inputItem",name:"inputItem",cls:Ext.baseCSSPrefix+"tbar-page-number",allowDecimals:false,minValue:1,hideTrigger:true,enableKeyEvents:true,keyNavEnabled:false,selectOnFocus:true,submitValue:false,isFormField:false,width:b.inputItemWidth,margin:"-1 2 3 2",listeners:a},{xtype:"tbtext",itemId:"afterTextItem",text:Ext.String.format(b.afterPageText,1)},"-",{itemId:"next",tooltip:b.nextText,overflowText:b.nextText,iconCls:Ext.baseCSSPrefix+"tbar-page-next",disabled:true,handler:b.moveNext,scope:b},{itemId:"last",tooltip:b.lastText,overflowText:b.lastText,iconCls:Ext.baseCSSPrefix+"tbar-page-last",disabled:true,handler:b.moveLast,scope:b},"-",{itemId:"refresh",tooltip:b.refreshText,overflowText:b.refreshText,iconCls:Ext.baseCSSPrefix+"tbar-loading",disabled:b.store.isLoading(),handler:b.doRefresh,scope:b}]},initComponent:function(){var b=this,a=b.items||b.buttons||[],c;b.bindStore(b.store||"ext-empty-store",true);c=b.getPagingItems();if(b.prependButtons){b.items=a.concat(c)}else{b.items=c.concat(a)}delete b.buttons;if(b.displayInfo){b.items.push("->");b.items.push({xtype:"tbtext",itemId:"displayItem"})}b.callParent()},beforeRender:function(){var a=this;a.callParent(arguments);if(!a.store.isLoading()){a.calledFromRender=true;a.onLoad();delete a.calledFromRender}},updateInfo:function(){var e=this,c=e.child("#displayItem"),a=e.store,b=e.getPageData(),d,f;if(c){d=a.getCount();if(d===0){f=e.emptyMsg}else{f=Ext.String.format(e.displayMsg,b.fromRecord,b.toRecord,b.total)}c.setText(f)}},onLoad:function(){var g=this,d,b,c,a,f,h,e;f=g.store.getCount();h=f===0;if(!h){d=g.getPageData();b=d.currentPage;c=d.pageCount;if(b>c){g.store.loadPage(c);return}a=Ext.String.format(g.afterPageText,isNaN(c)?1:c)}else{b=0;c=0;a=Ext.String.format(g.afterPageText,0)}Ext.suspendLayouts();e=g.child("#afterTextItem");if(e){e.setText(a)}e=g.getInputItem();if(e){e.setDisabled(h).setValue(b)}g.setChildDisabled("#first",b===1||h);g.setChildDisabled("#prev",b===1||h);g.setChildDisabled("#next",b===c||h);g.setChildDisabled("#last",b===c||h);g.setChildDisabled("#refresh",false);g.updateInfo();Ext.resumeLayouts(true);if(!g.calledFromRender){g.fireEvent("change",g,d)}},setChildDisabled:function(a,b){var c=this.child(a);if(c){c.setDisabled(b)}},getPageData:function(){var b=this.store,a=b.getTotalCount();return{total:a,currentPage:b.currentPage,pageCount:Math.ceil(a/b.pageSize),fromRecord:((b.currentPage-1)*b.pageSize)+1,toRecord:Math.min(b.currentPage*b.pageSize,a)}},onLoadError:function(){this.setChildDisabled("#refresh",false)},getInputItem:function(){return this.child("#inputItem")},readPageFromInput:function(b){var c=this.getInputItem(),d=false,a;if(c){a=c.getValue();d=parseInt(a,10);if(!a||isNaN(d)){c.setValue(b.currentPage);return false}}return d},onPagingBlur:function(c){var b=this.getInputItem(),a;if(b){a=this.getPageData().currentPage;b.setValue(a)}},onPagingKeyDown:function(b,a){this.processKeyEvent(b,a)},processKeyEvent:function(h,g){var d=this,b=g.getKey(),c=d.getPageData(),a=g.shiftKey?10:1,f;if(b==g.RETURN){g.stopEvent();f=d.readPageFromInput(c);if(f!==false){f=Math.min(Math.max(1,f),c.pageCount);if(f!==c.currentPage&&d.fireEvent("beforechange",d,f)!==false){d.store.loadPage(f)}}}else{if(b==g.HOME||b==g.END){g.stopEvent();f=b==g.HOME?1:c.pageCount;h.setValue(f)}else{if(b==g.UP||b==g.PAGE_UP||b==g.DOWN||b==g.PAGE_DOWN){g.stopEvent();f=d.readPageFromInput(c);if(f){if(b==g.DOWN||b==g.PAGE_DOWN){a*=-1}f+=a;if(f>=1&&f<=c.pageCount){h.setValue(f)}}}}}},beforeLoad:function(){this.setChildDisabled("#refresh",true)},moveFirst:function(){if(this.fireEvent("beforechange",this,1)!==false){this.store.loadPage(1);return true}return false},movePrevious:function(){var c=this,a=c.store,b=a.currentPage-1;if(b>0){if(c.fireEvent("beforechange",c,b)!==false){a.previousPage();return true}}return false},moveNext:function(){var d=this,a=d.store,c=d.getPageData().pageCount,b=a.currentPage+1;if(b<=c){if(d.fireEvent("beforechange",d,b)!==false){a.nextPage();return true}}return false},moveLast:function(){var b=this,a=b.getPageData().pageCount;if(b.fireEvent("beforechange",b,a)!==false){b.store.loadPage(a);return true}return false},doRefresh:function(){var b=this,a=b.store,c=a.currentPage;if(b.fireEvent("beforechange",b,c)!==false){a.loadPage(c);return true}return false},getStoreListeners:function(){return{beforeload:this.beforeLoad,load:this.onLoad,exception:this.onLoadError}},onDestroy:function(){this.bindStore(null);this.callParent()}});Ext.define("Ext.view.BoundList",{extend:Ext.view.View,alias:"widget.boundlist",alternateClassName:"Ext.BoundList",mixins:[Ext.mixin.Queryable],pageSize:0,baseCls:Ext.baseCSSPrefix+"boundlist",itemCls:Ext.baseCSSPrefix+"boundlist-item",listItemCls:"",shadow:false,trackOver:true,preserveScrollOnRefresh:true,componentLayout:"boundlist",autoScroll:true,childEls:["listWrap","listEl"],renderTpl:['<div id="{id}-listWrap" data-ref="listWrap" role="presentation" class="{baseCls}-list-ct ',Ext.dom.Element.unselectableCls,'">','<ul id="{id}-listEl" data-ref="listEl" class="'+Ext.plainListCls+'">',"</ul>","</div>","{%","var pagingToolbar=values.$comp.pagingToolbar;","if (pagingToolbar) {","Ext.DomHelper.generateMarkup(pagingToolbar.getRenderTree(), out);","}","%}",{disableFormats:true}],initComponent:function(){var b=this,a=b.baseCls,c=b.itemCls;b.selectedItemCls=a+"-selected";if(b.trackOver){b.overItemCls=a+"-item-over"}b.itemSelector="."+c;b.scrollerSelector="ul."+Ext.plainListCls;if(b.floating){b.addCls(a+"-floating")}if(!b.tpl){b.tpl=new Ext.XTemplate('<tpl for=".">','<li role="option" unselectable="on" class="'+c+'">'+b.getInnerTpl(b.displayField)+"</li>","</tpl>")}else{if(!b.tpl.isTemplate){b.tpl=new Ext.XTemplate(b.tpl)}}if(b.pageSize){b.pagingToolbar=b.createPagingToolbar()}b.callParent()},getRefOwner:function(){return this.pickerField||this.callParent()},getRefItems:function(){var a=this.callParent(),b=this.pagingToolbar;if(b){a.push(b)}return a},createPagingToolbar:function(){return Ext.widget("pagingtoolbar",{id:this.id+"-paging-toolbar",pageSize:this.pageSize,store:this.dataSource,border:false,ownerCt:this,ownerLayout:this.getComponentLayout()})},getNodeContainer:function(){return this.listEl},refresh:function(){var c=this,a=c.tpl,b=c.pagingToolbar,d=c.rendered;a.field=c.pickerField;a.store=c.store;c.callParent();a.field=a.store=null;if(d&&b&&b.rendered&&!c.preserveScrollOnRefresh){c.el.appendChild(b.el,true)}},bindStore:function(a,b){var c=this.pagingToolbar;this.callParent(arguments);if(c){c.bindStore(a,b)}},getInnerTpl:function(a){return"{"+a+"}"},onDestroy:function(){this.callParent();Ext.destroyMembers(this,"pagingToolbar","listWrap","listEl")},privates:{getTargetEl:function(){return this.listEl},getOverflowEl:function(){return this.listWrap},finishRenderChildren:function(){var a=this.pagingToolbar;this.callParent(arguments);if(a){a.finishRender()}}}});Ext.define("Ext.view.BoundListKeyNav",{extend:Ext.util.KeyNav,constructor:function(b,a){var c=this;c.boundList=a.boundList;c.callParent([b,Ext.apply({},a,c.defaultHandlers)])},defaultHandlers:{up:function(){var e=this,b=e.boundList,d=b.all,f=b.highlightedItem,c=f?b.indexOf(f):-1,a=c>0?c-1:d.getCount()-1;e.highlightAt(a)},down:function(){var e=this,b=e.boundList,d=b.all,f=b.highlightedItem,c=f?b.indexOf(f):-1,a=c<d.getCount()-1?c+1:0;e.highlightAt(a)},pageup:function(){},pagedown:function(){},home:function(){this.highlightAt(0)},end:function(){var a=this;a.highlightAt(a.boundList.all.getCount()-1)},enter:function(a){this.selectHighlighted(a)}},highlightAt:function(b){var a=this.boundList,c=a.all.item(b);if(c){c=c.dom;a.highlightItem(c);a.getTargetEl().scrollChildIntoView(c,false)}},selectHighlighted:function(f){var b=this.boundList,a=b.getSelectionModel(),d,c;d=b.highlightedItem;if(d){c=b.getRecord(d);if(f.getKey()===f.ENTER||!a.isSelected(c)){a.selectWithEvent(c,f)}}}});Ext.define("Ext.form.field.ComboBox",{extend:Ext.form.field.Picker,alternateClassName:"Ext.form.ComboBox",alias:["widget.combobox","widget.combo"],mixins:[Ext.util.StoreHolder],config:{filters:null},triggerCls:Ext.baseCSSPrefix+"form-arrow-trigger",hiddenName:"",hiddenDataCls:Ext.baseCSSPrefix+"hidden-display "+Ext.baseCSSPrefix+"form-data-hidden",ariaRole:"combobox",filtered:false,afterRender:function(){var a=this;a.callParent(arguments);a.setHiddenValue(a.value)},multiSelect:false,delimiter:", ",displayField:"text",triggerAction:"all",allQuery:"",queryParam:"query",queryMode:"remote",queryCaching:true,autoLoadOnValue:false,pageSize:0,anyMatch:false,caseSensitive:false,autoSelect:true,typeAhead:false,typeAheadDelay:250,selectOnTab:true,forceSelection:false,growToLongestValue:true,clearFilterOnBlur:true,defaultListConfig:{loadingHeight:70,minWidth:70,maxHeight:300,shadow:"sides"},transformInPlace:true,ignoreSelection:0,removingRecords:null,resizeComboToGrow:function(){var a=this;return a.grow&&a.growToLongestValue},initComponent:function(){var e=this,c=Ext.isDefined,b=e.store,d=e.transform,g=e.displayTpl,a,f;Ext.applyIf(e.renderSelectors,{hiddenDataEl:"."+e.hiddenDataCls.split(" ").join(".")});if(e.typeAhead&&e.multiSelect){Ext.Error.raise("typeAhead and multiSelect are mutually exclusive options -- please remove one of them.")}if(e.typeAhead&&!e.editable){Ext.Error.raise("If typeAhead is enabled the combo must be editable: true -- please change one of those settings.")}if(e.selectOnFocus&&!e.editable){Ext.Error.raise("If selectOnFocus is enabled the combo must be editable: true -- please change one of those settings.")}if(d){a=Ext.getDom(d);if(a){if(!e.store){b=Ext.Array.map(Ext.Array.from(a.options),function(h){return[h.value,h.text]})}if(!e.name){e.name=a.name}if(!("value" in e)){e.value=a.value}}}e.bindStore(b||"ext-empty-store",true,true);b=e.store;if(b.autoCreated){e.queryMode="local";e.valueField=e.displayField="field1";if(!b.expanded){e.displayField="field2"}}if(!c(e.valueField)){e.valueField=e.displayField}f=e.queryMode==="local";if(!c(e.queryDelay)){e.queryDelay=f?10:500}if(!c(e.minChars)){e.minChars=f?0:4}if(!g){e.displayTpl=new Ext.XTemplate('<tpl for=".">{[typeof values === "string" ? values : values["'+e.displayField+'"]]}<tpl if="xindex < xcount">'+e.delimiter+"</tpl></tpl>")}else{if(!g.isTemplate){e.displayTpl=new Ext.XTemplate(g)}}e.callParent();e.doQueryTask=new Ext.util.DelayedTask(e.doRawQuery,e);if(e.store.getCount()>0){e.setValue(e.value)}if(a){if(e.transformInPlace){e.render(a.parentNode,a);delete e.renderTo}Ext.removeNode(a)}},getSubTplMarkup:function(){var c=this,a='<div class="'+c.hiddenDataCls+'" role="presentation"></div>',b=c.callParent();return a+b},applyFilters:function(b,c){var a=this;if(b===null||b.isFilterCollection){return b}if(b){if(!c){c=this.getFilters()}c.beginUpdate();c.splice(0,c.length,b);c.each(function(d){d.ownerId=a.id});c.endUpdate()}return c},getFilters:function(b){var a=this.filters;if(!a&&b!==false){a=new Ext.util.FilterCollection();this.setFilters(a)}return a},updateFilters:function(a,b){var c=this;if(b){b.un("endupdate","onEndUpdateFilters",c)}if(a){a.on("endupdate","onEndUpdateFilters",c)}c.onEndUpdateFilters(a)},onEndUpdateFilters:function(e){var d=this,f=d.filtered,c=!!e&&(e.length>0),a,b;if(f||c){d.filtered=c;a=[];b=d.store.getFilters();b.each(function(g){if(g.ownerId===d.id&&!e.contains(g)){a.push(g)}});b.splice(0,a,e.items)}},getStore:function(){return this.store},beforeBlur:function(){var b=this,a=b.queryFilter;b.doQueryTask.cancel();b.assertValue();if(a&&b.queryMode==="local"&&b.clearFilterOnBlur){b.getStore().getFilters().remove(a)}},onFocus:function(){var a=this;a.callParent(arguments);if(!a.duringTriggerClick&&a.triggerAction!=="all"&&a.queryFilter&&a.queryMode==="local"&&a.clearFilterOnBlur){delete a.lastQuery;a.doRawQuery()}},assertValue:function(){var b=this,c=b.getRawValue(),d,a;if(b.forceSelection){if(b.multiSelect){if(c!==b.getDisplayValue()){b.setValue(b.lastSelection)}}else{d=b.findRecordByDisplay(c);if(d){a=b.value;if(!b.findRecordByValue(a)){b.select(d,true)}}else{b.setValue(b.lastSelection)}}}b.collapse()},onTypeAhead:function(){var e=this,d=e.displayField,b=e.store.findRecord(d,e.getRawValue()),c=e.getPicker(),f,a,g;if(b){f=b.get(d);a=f.length;g=e.getRawValue().length;c.highlightItem(c.getNode(b));if(g!==0&&g!==a){e.setRawValue(f);e.selectText(g,f.length)}}},resetToDefault:Ext.emptyFn,beforeReset:function(){var a=this.queryFilter;this.callParent();if(a){this.getStore().getFilters().remove(a)}},onUnbindStore:function(){var c=this,a=c.picker,b=c.queryFilter;if(b&&!c.store.isDestroyed){c.getStore().getFilters().remove(b)}if(a){a.bindStore(null)}},onBindStore:function(a,c){var b=this.picker;if(!c){this.resetToDefault()}if(b){b.bindStore(a)}},bindStore:function(a,e,b){var d=this,c=d.queryFilter;d.mixins.storeholder.bindStore.call(d,a,b);a=d.getStore();if(a&&c&&!e){a.getFilters().add(c)}if(!b&&a){d.setValueOnData()}},getStoreListeners:function(){var a=this;return{beforeload:a.onBeforeLoad,clear:a.onClear,datachanged:a.onDataChanged,load:a.onLoad,exception:a.onException,remove:a.onRemove}},onBeforeLoad:function(){++this.ignoreSelection},onDataChanged:function(){var a=this;if(a.resizeComboToGrow()){a.updateLayout()}},onClear:function(){var a=this;if(a.resizeComboToGrow()){a.removingRecords=true;a.onDataChanged()}},onRemove:function(){var a=this;if(a.resizeComboToGrow()){a.removingRecords=true}},onException:function(){if(this.ignoreSelection>0){--this.ignoreSelection}this.collapse()},onLoad:function(b,a,c){if(this.ignoreSelection>0){--this.ignoreSelection}if(c&&!b.lastOptions.rawQuery){this.setValueOnData()}},setValueOnData:function(){var a=this;if(a.value==null){if(a.getStore().getCount()){a.doAutoSelect()}else{a.setValue(a.value)}}else{a.setValue(a.value)}},doRawQuery:function(){this.doQuery(this.getRawValue(),false,true)},doQuery:function(e,b,d){var c=this,a=c.beforeQuery({query:e||"",rawQuery:d,forceAll:b,combo:c,cancel:false});if(a===false||a.cancel){return false}if(c.queryCaching&&a.query===c.lastQuery){c.expand();if(c.queryMode==="local"){c.doAutoSelect()}}else{c.lastQuery=a.query;if(c.queryMode==="local"){c.doLocalQuery(a)}else{c.doRemoteQuery(a)}}return true},beforeQuery:function(a){var b=this;if(b.fireEvent("beforequery",a)===false){a.cancel=true}else{if(!a.cancel){if(a.query.length<b.minChars&&!a.forceAll){a.cancel=true}}}return a},doLocalQuery:function(a){var d=this,e=a.query,c=d.getStore().getFilters(),b=d.queryFilter;d.queryFilter=null;c.beginUpdate();if(b){c.remove(b)}if(e){b=d.queryFilter=new Ext.util.Filter({id:d.id+"-filter",anyMatch:d.anyMatch,caseSensitive:d.caseSensitive,root:"data",property:d.displayField,value:d.enableRegEx?new RegExp(e):e});c.add(b)}c.endUpdate();if(d.store.getCount()||d.getPicker().emptyText){d.expand()}else{d.collapse()}d.afterQuery(a)},doRemoteQuery:function(b){var c=this,a=function(){c.afterQuery(b)};c.expand();if(c.pageSize){c.loadPage(1,{rawQuery:b.rawQuery,callback:a})}else{c.store.load({params:c.getParams(b.query),rawQuery:b.rawQuery,callback:a})}},afterQuery:function(a){var b=this;if(b.store.getCount()){if(b.typeAhead){b.doTypeAhead()}if(b.getRawValue()!==b.getDisplayValue()){b.ignoreSelection++;b.picker.getSelectionModel().deselectAll();b.ignoreSelection--}if(a.rawQuery){b.syncSelection();if(b.picker&&!b.picker.getSelectionModel().hasSelection()){b.doAutoSelect()}}else{b.doAutoSelect()}}},loadPage:function(b,a){this.store.loadPage(b,Ext.apply({params:this.getParams(this.lastQuery)},a))},onPageChange:function(b,a){this.loadPage(a);return false},getParams:function(c){var b={},a=this.queryParam;if(a){b[a]=c}return b},doAutoSelect:function(){var b=this,a=b.picker,c,d;if(a&&b.autoSelect&&b.store.getCount()>0){c=a.getSelectionModel().lastSelected;d=a.getNode(c||0);if(d){a.highlightItem(d);a.listEl.scrollChildIntoView(d,false)}}},doTypeAhead:function(){var b=this,a=Ext.event.Event;if(!b.typeAheadTask){b.typeAheadTask=new Ext.util.DelayedTask(b.onTypeAhead,b)}if(b.lastKey!==a.BACKSPACE&&b.lastKey!==a.DELETE){b.typeAheadTask.delay(b.typeAheadDelay)}},onTriggerClick:function(){var a=this;a.duringTriggerClick=true;if(!a.readOnly&&!a.disabled){if(a.isExpanded){a.collapse()}else{a.onFocus({});if(a.triggerAction==="all"){a.doQuery(a.allQuery,true)}else{if(a.triggerAction==="last"){a.doQuery(a.lastQuery,true)}else{a.doQuery(a.getRawValue(),false,true)}}}if(!Ext.supports.Touch){a.inputEl.focus()}}delete a.duringTriggerClick},onPaste:function(){var a=this;if(!a.readOnly&&!a.disabled&&a.editable){a.doQueryTask.delay(a.queryDelay)}},onKeyUp:function(d,b){var c=this,a=d.getKey();if(!c.readOnly&&!c.disabled&&c.editable){c.lastKey=a;if(!d.isSpecialKey()||a===d.BACKSPACE||a===d.DELETE){c.doQueryTask.delay(c.queryDelay)}}if(c.enableKeyEvents){c.callParent(arguments)}},initEvents:function(){var a=this;a.callParent();if(!a.enableKeyEvents){a.mon(a.inputEl,"keyup",a.onKeyUp,a)}a.mon(a.inputEl,"paste",a.onPaste,a)},onDestroy:function(){var a=this;if(a.typeAheadTask){a.typeAheadTask.cancel();a.typeAheadTask=null}Ext.destroy(a.listKeyNav);a.bindStore(null);a.callParent()},onAdded:function(){var a=this;a.callParent(arguments);if(a.picker){a.picker.ownerCt=a.up("[floating]");a.picker.registerWithOwnerCt()}},createPicker:function(){var c=this,b,a=Ext.apply({xtype:"boundlist",pickerField:c,selModel:{mode:c.multiSelect?"SIMPLE":"SINGLE"},floating:true,hidden:true,store:c.store,displayField:c.displayField,focusOnToFront:false,preserveScrollOnRefresh:true,pageSize:c.pageSize,tpl:c.tpl},c.listConfig,c.defaultListConfig);b=c.picker=Ext.widget(a);if(c.pageSize){b.pagingToolbar.on("beforechange",c.onPageChange,c)}c.mon(b,{itemclick:c.onItemClick,refresh:c.onListRefresh,scope:c});c.mon(b.getSelectionModel(),{beforeselect:c.onBeforeSelect,beforedeselect:c.onBeforeDeselect,selectionchange:c.onListSelectionChange,scope:c});return b},alignPicker:function(){var d=this,c=d.getPicker(),g=d.getPosition()[1]-Ext.getBody().getScroll().top,f=Ext.Element.getViewportHeight()-g-d.getHeight(),e=Math.max(g,f),b=c.getTargetEl().dom,a=b.scrollTop;if(c.height){delete c.height;c.updateLayout()}if(c.getHeight()>e-5){c.setHeight(e-5)}d.callParent();b.scrollTop=a},onListRefresh:function(){if(!this.expanding){this.alignPicker()}this.syncSelection()},onItemClick:function(c,a){var e=this,d=e.picker.getSelectionModel().getSelection(),b=e.valueField;if(!e.multiSelect&&d.length){if(a.get(b)===d[0].get(b)){e.displayTplData=[a.data];e.setRawValue(e.getDisplayValue());e.collapse()}}},onBeforeSelect:function(b,a){return this.fireEvent("beforeselect",this,a,this.getStore().indexOf(a))},onBeforeDeselect:function(b,a){return this.fireEvent("beforedeselect",this,a,this.getStore().indexOf(a))},onListSelectionChange:function(b,d){var a=this,e=a.multiSelect,c=d.length>0;if(!a.ignoreSelection&&a.isExpanded){if(!e){Ext.defer(a.collapse,1,a)}if(e||c){a.setValue(d,false)}if(c){a.fireEvent("select",a,d)}if(!Ext.supports.Touch){a.inputEl.focus()}}},onExpand:function(){var d=this,a=d.listKeyNav,c=d.selectOnTab,b=d.getPicker();if(a){a.enable()}else{a=d.listKeyNav=new Ext.view.BoundListKeyNav(d.inputEl,{boundList:b,forceKeyDown:true,tab:function(f){if(c){this.selectHighlighted(f);d.triggerBlur()}return true},enter:function(h){var f=b.getSelectionModel(),g=f.getCount();this.selectHighlighted(h);if(!d.multiSelect&&g===f.getCount()){d.collapse()}}})}if(c){d.ignoreMonitorTab=true}if(!Ext.supports.Touch){Ext.defer(a.enable,1,a);d.inputEl.focus()}},onCollapse:function(){var b=this,a=b.listKeyNav;if(a){a.disable();b.ignoreMonitorTab=false}},select:function(d,a){var c=this,b=c.picker,e;if(d&&d.isModel&&a===true&&b){e=!b.getSelectionModel().isSelected(d)}c.setValue(d,true);if(e){c.fireEvent("select",c,d)}},findRecord:function(d,c){var b=this.store,a=b.findExact(d,c);return a!==-1?b.getAt(a):false},getSelectedRecord:function(){return this.findRecordByValue(this.value)||null},findRecordByValue:function(a){return this.findRecord(this.valueField,a)},findRecordByDisplay:function(a){return this.findRecord(this.displayField,a)},setValue:function(n,e){var k=this,c=k.valueNotFoundText,o=k.getStore(),p=k.inputEl,m=[],b=[],d=[],j=k.autoLoadOnValue,l=o.hasPendingLoad(),q=j&&o.loadCount===0&&!l,f,h,g,a;if(n!=null&&(l||q||o.isEmptyStore)){k.value=n;k.setHiddenValue(k.value);if(q&&o.getProxy().isRemote){o.load()}return k}n=Ext.Array.from(n);for(f=0,h=n.length;f<h;f++){g=n[f];if(!g||!g.isModel){g=k.findRecordByValue(g)}if(g){m.push(g);b.push(g.data);d.push(g.get(k.valueField))}else{if(!k.forceSelection){d.push(n[f]);a={};a[k.displayField]=n[f];b.push(a)}else{if(Ext.isDefined(c)){b.push(c)}}}}k.setHiddenValue(d);k.value=k.multiSelect?d:d[0];if(!Ext.isDefined(k.value)){k.value=undefined}k.displayTplData=b;k.lastSelection=k.valueModels=m;if(p&&k.emptyText&&!Ext.isEmpty(n)){p.removeCls(k.emptyCls)}k.setRawValue(k.getDisplayValue());k.checkChange();if(e!==false){k.syncSelection()}k.applyEmptyText();return k},setHiddenValue:function(h){var e=this,a=e.hiddenName,d,b,j,g,f,c;if(!e.hiddenDataEl||!a){return}h=Ext.Array.from(h);b=e.hiddenDataEl.dom;j=b.childNodes;g=j[0];f=h.length;c=j.length;if(!g&&f>0){e.hiddenDataEl.setHtml(Ext.DomHelper.markup({tag:"input",type:"hidden",name:a}));c=1;g=b.firstChild}while(c>f){b.removeChild(j[0]);--c}while(c<f){b.appendChild(g.cloneNode(true));++c}for(d=0;d<f;d++){j[d].value=h[d]}},getDisplayValue:function(){return this.displayTpl.apply(this.displayTplData)},getValue:function(){var b=this,a=b.picker,d=b.getRawValue(),c=b.value;if(b.getDisplayValue()!==d){c=d;b.value=b.displayTplData=b.valueModels=undefined;if(a){b.ignoreSelection++;a.getSelectionModel().deselectAll();b.ignoreSelection--}}b.value=c==null?null:c;return b.value},getSubmitValue:function(){var a=this.getValue();if(Ext.isEmpty(a)){a=""}return a},isEqual:function(e,d){var b=Ext.Array.from,c,a;e=b(e);d=b(d);a=e.length;if(a!==d.length){return false}for(c=0;c<a;c++){if(d[c]!==e[c]){return false}}return true},clearValue:function(){this.setValue([])},syncSelection:function(){var g=this,d=g.picker,f,c,b=g.valueModels||[],e=b.length,a,h;if(d){f=[];for(a=0;a<e;a++){h=b[a];if(h&&h.isModel&&g.store.indexOf(h)>=0){f.push(h)}}g.ignoreSelection++;c=d.getSelectionModel();c.deselectAll();if(f.length){c.select(f,undefined,true)}g.ignoreSelection--}},onEditorTab:function(b){var a=this.listKeyNav;if(this.selectOnTab&&a){a.selectHighlighted(b)}}});Ext.define("Ext.picker.Month",{extend:Ext.Component,alias:"widget.monthpicker",alternateClassName:"Ext.MonthPicker",childEls:["bodyEl","prevEl","nextEl","monthEl","yearEl"],renderTpl:['<div id="{id}-bodyEl" data-ref="bodyEl" class="{baseCls}-body">','<div id="{id}-monthEl" data-ref="monthEl" class="{baseCls}-months">','<tpl for="months">','<div class="{parent.baseCls}-item {parent.baseCls}-month">','<a style="{parent.monthStyle}" role="button" hidefocus="on" class="{parent.baseCls}-item-inner">{.}</a>',"</div>","</tpl>","</div>",'<div id="{id}-yearEl" data-ref="yearEl" class="{baseCls}-years">','<div class="{baseCls}-yearnav">','<div class="{baseCls}-yearnav-button-ct">','<a id="{id}-prevEl" data-ref="prevEl" class="{baseCls}-yearnav-button {baseCls}-yearnav-prev" hidefocus="on" role="button"></a>',"</div>",'<div class="{baseCls}-yearnav-button-ct">','<a id="{id}-nextEl" data-ref="nextEl" class="{baseCls}-yearnav-button {baseCls}-yearnav-next" hidefocus="on" role="button"></a>',"</div>","</div>",'<tpl for="years">','<div class="{parent.baseCls}-item {parent.baseCls}-year">','<a hidefocus="on" class="{parent.baseCls}-item-inner" role="button">{.}</a>',"</div>","</tpl>","</div>",'<div class="'+Ext.baseCSSPrefix+'clear"></div>','<tpl if="showButtons">','<div class="{baseCls}-buttons">{%',"var me=values.$comp, okBtn=me.okBtn, cancelBtn=me.cancelBtn;","okBtn.ownerLayout = cancelBtn.ownerLayout = me.componentLayout;","okBtn.ownerCt = cancelBtn.ownerCt = me;","Ext.DomHelper.generateMarkup(okBtn.getRenderTree(), out);","Ext.DomHelper.generateMarkup(cancelBtn.getRenderTree(), out);","%}</div>","</tpl>","</div>"],okText:"OK",cancelText:"Cancel",baseCls:Ext.baseCSSPrefix+"monthpicker",showButtons:true,measureWidth:35,measureMaxHeight:20,smallCls:Ext.baseCSSPrefix+"monthpicker-small",totalYears:10,yearOffset:5,monthOffset:6,initComponent:function(){var a=this;a.selectedCls=a.baseCls+"-selected";if(a.small){a.addCls(a.smallCls)}a.setValue(a.value);a.activeYear=a.getYear(new Date().getFullYear()-4,-4);if(a.showButtons){a.okBtn=new Ext.button.Button({text:a.okText,handler:a.onOkClick,scope:a});a.cancelBtn=new Ext.button.Button({text:a.cancelText,handler:a.onCancelClick,scope:a})}this.callParent()},beforeRender:function(){var f=this,c=0,b=[],a=Ext.Date.getShortMonthName,e=f.monthOffset,g=f.monthMargin,d="";if(f.padding&&!f.width){f.cacheWidth()}f.callParent();for(;c<e;++c){b.push(a(c),a(c+e))}if(Ext.isDefined(g)){d="margin: 0 "+g+"px;"}Ext.apply(f.renderData,{months:b,years:f.getYears(),showButtons:f.showButtons,monthStyle:d})},cacheWidth:function(){var a=this,b=a.parseBox(a.padding),c=Ext.getBody().createChild({cls:a.baseCls+" "+a.borderBoxCls,style:"position:absolute;top:-1000px;left:-1000px;",html:"&nbsp;"});a.self.prototype.width=c.getWidth()+b.left+b.right;c.destroy()},afterRender:function(){var b=this,a=b.bodyEl;b.callParent();b.mon(a,"click",b.onBodyClick,b);b.mon(a,"dblclick",b.onBodyClick,b);b.years=a.select("."+b.baseCls+"-year a");b.months=a.select("."+b.baseCls+"-month a");b.backRepeater=new Ext.util.ClickRepeater(b.prevEl,{handler:Ext.Function.bind(b.adjustYear,b,[-b.totalYears])});b.prevEl.addClsOnOver(b.baseCls+"-yearnav-prev-over");b.nextRepeater=new Ext.util.ClickRepeater(b.nextEl,{handler:Ext.Function.bind(b.adjustYear,b,[b.totalYears])});b.nextEl.addClsOnOver(b.baseCls+"-yearnav-next-over");b.updateBody();if(!Ext.isDefined(b.monthMargin)){Ext.picker.Month.prototype.monthMargin=b.calculateMonthMargin()}},calculateMonthMargin:function(){var d=this,b=d.monthEl,a=d.months,e=a.first(),c=e.getMargin("l");while(c&&d.getLargest()>d.measureMaxHeight){--c;a.setStyle("margin","0 "+c+"px")}return c},getLargest:function(a){var b=0;this.months.each(function(d){var c=d.getHeight();if(c>b){b=c}});return b},setValue:function(d){var c=this,e=c.activeYear,f=c.monthOffset,b,a;if(!d){c.value=[null,null]}else{if(Ext.isDate(d)){c.value=[d.getMonth(),d.getFullYear()]}else{c.value=[d[0],d[1]]}}if(c.rendered){b=c.value[1];if(b!==null){if((b<e||b>e+c.yearOffset)){c.activeYear=b-c.yearOffset+1}}c.updateBody()}return c},getValue:function(){return this.value},hasSelection:function(){var a=this.value;return a[0]!==null&&a[1]!==null},getYears:function(){var d=this,e=d.yearOffset,f=d.activeYear,a=f+e,c=f,b=[];for(;c<a;++c){b.push(c,c+e)}return b},updateBody:function(){var h=this,e=h.years,b=h.months,m=h.getYears(),n=h.selectedCls,k=h.getYear(null),f=h.value[0],l=h.monthOffset,g,d,j,a,c;if(h.rendered){e.removeCls(n);b.removeCls(n);d=e.elements;a=d.length;for(j=0;j<a;j++){c=Ext.fly(d[j]);g=m[j];c.dom.innerHTML=g;if(g==k){c.addCls(n)}}if(f!==null){if(f<l){f=f*2}else{f=(f-l)*2+1}b.item(f).addCls(n)}}},getYear:function(a,c){var b=this.value[1];c=c||0;return b===null?a:b+c},onBodyClick:function(d,b){var c=this,a=d.type=="dblclick";if(d.getTarget("."+c.baseCls+"-month")){d.stopEvent();c.onMonthClick(b,a)}else{if(d.getTarget("."+c.baseCls+"-year")){d.stopEvent();c.onYearClick(b,a)}}},adjustYear:function(a){if(typeof a!="number"){a=this.totalYears}this.activeYear+=a;this.updateBody()},onOkClick:function(){this.fireEvent("okclick",this,this.value)},onCancelClick:function(){this.fireEvent("cancelclick",this)},onMonthClick:function(c,a){var b=this;b.value[0]=b.resolveOffset(b.months.indexOf(c),b.monthOffset);b.updateBody();b.fireEvent("month"+(a?"dbl":"")+"click",b,b.value);b.fireEvent("select",b,b.value)},onYearClick:function(c,a){var b=this;b.value[1]=b.activeYear+b.resolveOffset(b.years.indexOf(c),b.yearOffset);b.updateBody();b.fireEvent("year"+(a?"dbl":"")+"click",b,b.value);b.fireEvent("select",b,b.value)},resolveOffset:function(a,b){if(a%2===0){return(a/2)}else{return b+Math.floor(a/2)}},beforeDestroy:function(){var a=this;a.years=a.months=null;Ext.destroyMembers(a,"backRepeater","nextRepeater","okBtn","cancelBtn");a.callParent()},onDestroy:function(){Ext.destroyMembers(this,"okBtn","cancelBtn");this.callParent()},privates:{finishRenderChildren:function(){var a=this;this.callParent(arguments);if(this.showButtons){a.okBtn.finishRender();a.cancelBtn.finishRender()}}}});Ext.define("Ext.picker.Date",{extend:Ext.Component,alias:"widget.datepicker",alternateClassName:"Ext.DatePicker",childEls:["innerEl","eventEl","prevEl","nextEl","middleBtnEl","footerEl"],border:true,renderTpl:['<div id="{id}-innerEl" data-ref="innerEl" role="grid">','<div role="presentation" class="{baseCls}-header">','<a id="{id}-prevEl" data-ref="prevEl" class="{baseCls}-prev {baseCls}-arrow" role="button" title="{prevText}" hidefocus="on" ></a>','<div id="{id}-middleBtnEl" data-ref="middleBtnEl" class="{baseCls}-month">{%this.renderMonthBtn(values, out)%}</div>','<a id="{id}-nextEl" data-ref="nextEl" class="{baseCls}-next {baseCls}-arrow" role="button" title="{nextText}" hidefocus="on" ></a>',"</div>",'<table id="{id}-eventEl" data-ref="eventEl" class="{baseCls}-inner" cellspacing="0" role="grid">','<thead role="presentation"><tr role="row">','<tpl for="dayNames">','<th role="columnheader" class="{parent.baseCls}-column-header" title="{.}">','<div class="{parent.baseCls}-column-header-inner">{.:this.firstInitial}</div>',"</th>","</tpl>","</tr></thead>",'<tbody role="presentation"><tr role="row">','<tpl for="days">',"{#:this.isEndOfWeek}",'<td role="gridcell" id="{[Ext.id()]}">','<a href="#" role="button" hidefocus="on" class="{parent.baseCls}-date"></a>',"</td>","</tpl>","</tr></tbody>","</table>",'<tpl if="showToday">','<div id="{id}-footerEl" data-ref="footerEl" role="presentation" class="{baseCls}-footer">{%this.renderTodayBtn(values, out)%}</div>',"</tpl>","</div>",{firstInitial:function(a){return Ext.picker.Date.prototype.getDayInitial(a)},isEndOfWeek:function(b){b--;var a=b%7===0&&b!==0;return a?'</tr><tr role="row">':""},renderTodayBtn:function(a,b){Ext.DomHelper.generateMarkup(a.$comp.todayBtn.getRenderTree(),b)},renderMonthBtn:function(a,b){Ext.DomHelper.generateMarkup(a.$comp.monthBtn.getRenderTree(),b)}}],todayText:"Today",ariaTitle:"Date Picker: {0}",ariaTitleDateFormat:"F d, Y",todayTip:"{0} (Spacebar)",minText:"This date is before the minimum date",maxText:"This date is after the maximum date",disabledDaysText:"Disabled",disabledDatesText:"Disabled",nextText:"Next Month (Control+Right)",prevText:"Previous Month (Control+Left)",monthYearText:"Choose a month (Control+Up/Down to move years)",monthYearFormat:"F Y",startDay:0,showToday:true,disableAnim:false,baseCls:Ext.baseCSSPrefix+"datepicker",longDayFormat:"F d, Y",focusOnShow:false,focusOnSelect:true,initHour:12,numDays:42,initComponent:function(){var b=this,a=Ext.Date.clearTime;b.selectedCls=b.baseCls+"-selected";b.disabledCellCls=b.baseCls+"-disabled";b.prevCls=b.baseCls+"-prevday";b.activeCls=b.baseCls+"-active";b.cellCls=b.baseCls+"-cell";b.nextCls=b.baseCls+"-prevday";b.todayCls=b.baseCls+"-today";if(!b.format){b.format=Ext.Date.defaultFormat}if(!b.dayNames){b.dayNames=Ext.Date.dayNames}b.dayNames=b.dayNames.slice(b.startDay).concat(b.dayNames.slice(0,b.startDay));b.callParent();b.value=b.value?a(b.value,true):a(new Date());b.initDisabledDays()},getRefOwner:function(){return this.pickerField||this.callParent()},getRefItems:function(){var a=[];if(this.rendered){a.push(this.monthBtn,this.todayBtn)}return a},beforeRender:function(){var b=this,c=new Array(b.numDays),a=Ext.Date.format(new Date(),b.format);if(b.padding&&!b.width){b.cacheWidth()}b.monthBtn=new Ext.button.Split({ownerCt:b,ownerLayout:b.getComponentLayout(),text:"",tooltip:b.monthYearText,listeners:{click:b.doShowMonthPicker,arrowclick:b.doShowMonthPicker,scope:b}});if(b.showToday){b.todayBtn=new Ext.button.Button({ownerCt:b,ownerLayout:b.getComponentLayout(),text:Ext.String.format(b.todayText,a),tooltip:Ext.String.format(b.todayTip,a),tooltipType:"title",handler:b.selectToday,scope:b})}b.callParent();Ext.applyIf(b,{renderData:{}});Ext.apply(b.renderData,{dayNames:b.dayNames,showToday:b.showToday,prevText:b.prevText,nextText:b.nextText,days:c});b.protoEl.unselectable()},cacheWidth:function(){var a=this,b=a.parseBox(a.padding),c=Ext.getBody().createChild({cls:a.baseCls+" "+a.borderBoxCls,style:"position:absolute;top:-1000px;left:-1000px;"});a.self.prototype.width=c.getWidth()+b.left+b.right;c.destroy()},onRender:function(b,a){var c=this;c.callParent(arguments);c.cells=c.eventEl.select("tbody td");c.textNodes=c.eventEl.query("tbody td a");c.mon(c.eventEl,{scope:c,mousewheel:c.handleMouseWheel,click:{fn:c.handleDateClick,delegate:"a."+c.baseCls+"-date"}})},initEvents:function(){var c=this,a=Ext.Date,b=a.DAY;c.callParent();c.prevRepeater=new Ext.util.ClickRepeater(c.prevEl,{handler:c.showPrevMonth,scope:c,preventDefault:true,stopDefault:true});c.nextRepeater=new Ext.util.ClickRepeater(c.nextEl,{handler:c.showNextMonth,scope:c,preventDefault:true,stopDefault:true});c.keyNav=new Ext.util.KeyNav(c.eventEl,Ext.apply({scope:c,left:function(d){if(d.ctrlKey){c.showPrevMonth()}else{c.update(a.add(c.activeDate,b,-1))}},right:function(d){if(d.ctrlKey){c.showNextMonth()}else{c.update(a.add(c.activeDate,b,1))}},up:function(d){if(d.ctrlKey){c.showNextYear()}else{c.update(a.add(c.activeDate,b,-7))}},down:function(d){if(d.ctrlKey){c.showPrevYear()}else{c.update(a.add(c.activeDate,b,7))}},pageUp:function(d){if(d.altKey){c.showPrevYear()}else{c.showPrevMonth()}},pageDown:function(d){if(d.altKey){c.showNextYear()}else{c.showNextMonth()}},tab:function(d){c.doCancelFieldFocus=true;c.handleTabClick(d);delete c.doCancelFieldFocus;return true},enter:function(d){d.stopPropagation();return true},home:function(d){c.update(a.getFirstDateOfMonth(c.activeDate))},end:function(d){c.update(a.getLastDateOfMonth(c.activeDate))}},c.keyNavConfig));if(c.showToday){c.todayKeyListener=c.eventEl.addKeyListener(Ext.event.Event.prototype.SPACE,c.selectToday,c)}c.update(c.value)},handleTabClick:function(d){var c=this,a=c.getSelectedDate(c.activeDate),b=c.handler;if(!c.disabled&&a.dateValue&&!Ext.fly(a.parentNode).hasCls(c.disabledCellCls)){if(c.pickerField){d.stopEvent()}c.doCancelFocus=true;c.setValue(new Date(a.dateValue));delete c.doCancelFocus;c.fireEvent("select",c,c.value);if(b){b.call(c.scope||c,c,c.value)}c.onSelect()}},getSelectedDate:function(a){var d=this,h=a.getTime(),j=d.cells,k=d.selectedCls,f=j.elements,b,e=f.length,g;j.removeCls(k);for(b=0;b<e;b++){g=Ext.fly(f[b]);if(g.dom.firstChild.dateValue==h){return g.dom.firstChild}}return null},initDisabledDays:function(){var g=this,b=g.disabledDates,f="(?:",a,h,c,e;if(!g.disabledDatesRE&&b){a=b.length-1;c=b.length;for(h=0;h<c;h++){e=b[h];f+=Ext.isDate(e)?"^"+Ext.String.escapeRegex(Ext.Date.dateFormat(e,g.format))+"$":e;if(h!=a){f+="|"}}g.disabledDatesRE=new RegExp(f+")")}},setDisabledDates:function(a){var b=this;if(Ext.isArray(a)){b.disabledDates=a;b.disabledDatesRE=null}else{b.disabledDatesRE=a}b.initDisabledDays();b.update(b.value,true);return b},setDisabledDays:function(a){this.disabledDays=a;return this.update(this.value,true)},setMinDate:function(a){this.minDate=a;return this.update(this.value,true)},setMaxDate:function(a){this.maxDate=a;return this.update(this.value,true)},setValue:function(a){this.value=Ext.Date.clearTime(a||new Date(),true);return this.update(this.value)},getValue:function(){return this.value},getDayInitial:function(a){return a.substr(0,1)},focus:function(){this.update(this.activeDate)},onEnable:function(){this.callParent();this.setDisabledStatus(false);this.update(this.activeDate)},onDisable:function(){this.callParent();this.setDisabledStatus(true)},setDisabledStatus:function(a){var b=this;b.keyNav.setDisabled(a);b.prevRepeater.setDisabled(a);b.nextRepeater.setDisabled(a);if(b.showToday){b.todayKeyListener.setDisabled(a);b.todayBtn.setDisabled(a)}},getActive:function(){return this.activeDate||this.value},runAnimation:function(c){var b=this.monthPicker,a={duration:200,callback:function(){b.setVisible(!c)}},d=b.isVisible();if(c){b.el.slideOut("t",a)}else{b.el.slideIn("t",a)}},hideMonthPicker:function(a){var c=this,b=c.monthPicker;if(b&&b.isVisible()){if(c.shouldAnimate(a)){c.runAnimation(true)}else{b.hide()}}return c},doShowMonthPicker:function(){this.showMonthPicker()},doHideMonthPicker:function(){this.hideMonthPicker()},showMonthPicker:function(a){var d=this,c=d.el,b;if(d.rendered&&!d.disabled){b=d.createMonthPicker();if(!b.isVisible()){b.setValue(d.getActive());b.setSize(c.getSize());b.setPosition(-c.getBorderWidth("l"),-c.getBorderWidth("t"));if(d.shouldAnimate(a)){d.runAnimation(false)}else{b.show()}}}return d},shouldAnimate:function(a){return Ext.isDefined(a)?a:!this.disableAnim},createMonthPicker:function(){var b=this,a=b.monthPicker;if(!a){b.monthPicker=a=new Ext.picker.Month({renderTo:b.el,floating:true,padding:b.padding,shadow:false,small:b.showToday===false,listeners:{scope:b,cancelclick:b.onCancelClick,okclick:b.onOkClick,yeardblclick:b.onOkClick,monthdblclick:b.onOkClick}});if(!b.disableAnim){a.el.setStyle("display","none")}a.hide();b.on("beforehide",b.doHideMonthPicker,b)}return a},onOkClick:function(b,e){var d=this,f=e[0],c=e[1],a=new Date(c,f,d.getActive().getDate());if(a.getMonth()!==f){a=Ext.Date.getLastDateOfMonth(new Date(c,f,1))}d.setValue(a);d.hideMonthPicker()},onCancelClick:function(){this.selectedUpdate(this.activeDate);this.hideMonthPicker()},showPrevMonth:function(a){return this.setValue(Ext.Date.add(this.activeDate,Ext.Date.MONTH,-1))},showNextMonth:function(a){return this.setValue(Ext.Date.add(this.activeDate,Ext.Date.MONTH,1))},showPrevYear:function(){return this.setValue(Ext.Date.add(this.activeDate,Ext.Date.YEAR,-1))},showNextYear:function(){return this.setValue(Ext.Date.add(this.activeDate,Ext.Date.YEAR,1))},handleMouseWheel:function(a){a.stopEvent();if(!this.disabled){var b=a.getWheelDelta();if(b>0){this.showPrevMonth()}else{if(b<0){this.showNextMonth()}}}},handleDateClick:function(d,a){var c=this,b=c.handler;d.stopEvent();if(!c.disabled&&a.dateValue&&!Ext.fly(a.parentNode).hasCls(c.disabledCellCls)){c.doCancelFocus=c.focusOnSelect===false;c.setValue(new Date(a.dateValue));delete c.doCancelFocus;c.fireEvent("select",c,c.value);if(b){b.call(c.scope||c,c,c.value)}c.onSelect()}},onSelect:function(){if(this.hideOnSelect){this.hide()}},selectToday:function(){var c=this,a=c.todayBtn,b=c.handler;if(a&&!a.disabled){c.setValue(Ext.Date.clearTime(new Date()));c.fireEvent("select",c,c.value);if(b){b.call(c.scope||c,c,c.value)}c.onSelect()}return c},selectedUpdate:function(a){var d=this,h=a.getTime(),j=d.cells,k=d.selectedCls,f=j.elements,b,e=f.length,g;j.removeCls(k);for(b=0;b<e;b++){g=Ext.fly(f[b]);if(g.dom.firstChild.dateValue==h){d.fireEvent("highlightitem",d,g);g.addCls(k);if(d.isVisible()&&!d.doCancelFocus){Ext.fly(g.dom.firstChild).focus(50)}break}}},fullUpdate:function(z){var D=this,f=D.cells.elements,d=D.textNodes,F=D.disabledCellCls,n=Ext.Date,v=0,C=0,e=D.isVisible(),l=+n.clearTime(z,true),y=+n.clearTime(new Date()),t=D.minDate?n.clearTime(D.minDate,true):Number.NEGATIVE_INFINITY,u=D.maxDate?n.clearTime(D.maxDate,true):Number.POSITIVE_INFINITY,B=D.disabledDatesRE,s=D.disabledDatesText,G=D.disabledDays?D.disabledDays.join(""):false,A=D.disabledDaysText,w=D.format,k=n.getDaysInMonth(z),p=n.getFirstDateOfMonth(z),g=p.getDay()-D.startDay,x=n.add(z,n.MONTH,-1),b=D.longDayFormat,j,q,a,E,m,o,c,h,r;if(g<0){g+=7}k+=g;j=n.getDaysInMonth(x)-g;q=new Date(x.getFullYear(),x.getMonth(),j,D.initHour);if(D.showToday){E=n.clearTime(new Date());a=(E<t||E>u||(B&&w&&B.test(n.dateFormat(E,w)))||(G&&G.indexOf(E.getDay())!=-1));if(!D.disabled){D.todayBtn.setDisabled(a);D.todayKeyListener.setDisabled(a)}}m=function(H,I){r=+n.clearTime(q,true);H.title=n.format(q,b);H.firstChild.dateValue=r;if(r==y){I+=" "+D.todayCls;H.title=D.todayText;D.todayElSpan=Ext.DomHelper.append(H.firstChild,{tag:"span",cls:Ext.baseCSSPrefix+"hidden-clip",html:D.todayText},true)}if(r==l){I+=" "+D.selectedCls;D.fireEvent("highlightitem",D,H);if(e&&D.floating){Ext.fly(H.firstChild).focus(50)}}if(r<t){I+=" "+F;H.title=D.minText}else{if(r>u){I+=" "+F;H.title=D.maxText}else{if(G&&G.indexOf(q.getDay())!==-1){H.title=A;I+=" "+F}else{if(B&&w){h=n.dateFormat(q,w);if(B.test(h)){H.title=s.replace("%0",h);I+=" "+F}}}}}H.className=I+" "+D.cellCls};for(;v<D.numDays;++v){if(v<g){o=(++j);c=D.prevCls}else{if(v>=k){o=(++C);c=D.nextCls}else{o=v-g+1;c=D.activeCls}}d[v].innerHTML=o;q.setDate(q.getDate()+1);m(f[v],c)}D.monthBtn.setText(Ext.Date.format(z,D.monthYearFormat))},update:function(a,d){var b=this,c=b.activeDate;if(b.rendered){b.activeDate=a;if(!d&&c&&b.el&&c.getMonth()==a.getMonth()&&c.getFullYear()==a.getFullYear()){b.selectedUpdate(a,c)}else{b.fullUpdate(a,c)}}return b},beforeDestroy:function(){var a=this;if(a.rendered){Ext.destroy(a.todayKeyListener,a.keyNav,a.monthPicker,a.monthBtn,a.nextRepeater,a.prevRepeater,a.todayBtn);delete a.textNodes;delete a.cells.elements}a.callParent()},onShow:function(){this.callParent(arguments);if(this.focusOnShow){this.focus()}},privates:{finishRenderChildren:function(){var a=this;a.callParent();a.monthBtn.finishRender();if(a.showToday){a.todayBtn.finishRender()}}}});Ext.define("Ext.form.field.Date",{extend:Ext.form.field.Picker,alias:"widget.datefield",alternateClassName:["Ext.form.DateField","Ext.form.Date"],format:"m/d/Y",altFormats:"m/d/Y|n/j/Y|n/j/y|m/j/y|n/d/y|m/j/Y|n/d/Y|m-d-y|m-d-Y|m/d|m-d|md|mdy|mdY|d|Y-m-d|n-j|n/j",disabledDaysText:"Disabled",disabledDatesText:"Disabled",minText:"The date in this field must be equal to or after {0}",maxText:"The date in this field must be equal to or before {0}",invalidText:"{0} is not a valid date - it must be in the format {1}",triggerCls:Ext.baseCSSPrefix+"form-date-trigger",showToday:true,useStrict:undefined,initTime:"12",initTimeFormat:"H",matchFieldWidth:false,startDay:0,initComponent:function(){var d=this,b=Ext.isString,c,a;c=d.minValue;a=d.maxValue;if(b(c)){d.minValue=d.parseDate(c)}if(b(a)){d.maxValue=d.parseDate(a)}d.disabledDatesRE=null;d.initDisabledDays();d.callParent()},initValue:function(){var a=this,b=a.value;if(Ext.isString(b)){a.value=a.rawToValue(b)}a.callParent()},initDisabledDays:function(){if(this.disabledDates){var b=this.disabledDates,a=b.length-1,f="(?:",g,e=b.length,c;for(g=0;g<e;g++){c=b[g];f+=Ext.isDate(c)?"^"+Ext.String.escapeRegex(c.dateFormat(this.format))+"$":c;if(g!==a){f+="|"}}this.disabledDatesRE=new RegExp(f+")")}},setDisabledDates:function(c){var b=this,a=b.picker;b.disabledDates=c;b.initDisabledDays();if(a){a.setDisabledDates(b.disabledDatesRE)}},setDisabledDays:function(b){var a=this.picker;this.disabledDays=b;if(a){a.setDisabledDays(b)}},setMinValue:function(d){var b=this,a=b.picker,c=(Ext.isString(d)?b.parseDate(d):d);b.minValue=c;if(a){a.minText=Ext.String.format(b.minText,b.formatDate(b.minValue));a.setMinDate(c)}},setMaxValue:function(c){var b=this,a=b.picker,d=(Ext.isString(c)?b.parseDate(c):c);b.maxValue=d;if(a){a.maxText=Ext.String.format(b.maxText,b.formatDate(b.maxValue));a.setMaxDate(d)}},getErrors:function(p){var h=this,o=Ext.String.format,j=Ext.Date.clearTime,n=h.callParent(arguments),m=h.disabledDays,d=h.disabledDatesRE,l=h.minValue,g=h.maxValue,f=m?m.length:0,e=0,a,b,k,c;p=h.formatDate(p||h.processRawValue(h.getRawValue()));if(p===null||p.length<1){return n}a=p;p=h.parseDate(p);if(!p){n.push(o(h.invalidText,a,Ext.Date.unescapeFormat(h.format)));return n}c=p.getTime();if(l&&c<j(l).getTime()){n.push(o(h.minText,h.formatDate(l)))}if(g&&c>j(g).getTime()){n.push(o(h.maxText,h.formatDate(g)))}if(m){k=p.getDay();for(;e<f;e++){if(k===m[e]){n.push(h.disabledDaysText);break}}}b=h.formatDate(p);if(d&&d.test(b)){n.push(o(h.disabledDatesText,b))}return n},rawToValue:function(a){return this.parseDate(a)||a||null},valueToRaw:function(a){return this.formatDate(this.parseDate(a))},safeParse:function(f,g){var e=this,c=Ext.Date,a=null,b=e.useStrict,d;if(c.formatContainsHourInfo(g)){a=c.parse(f,g,b)}else{d=c.parse(f+" "+e.initTime,g+" "+e.initTimeFormat,b);if(d){a=c.clearTime(d)}}return a},getSubmitValue:function(){var b=this.submitFormat||this.format,a=this.getValue();return a?Ext.Date.format(a,b):""},parseDate:function(e){if(!e||Ext.isDate(e)){return e}var d=this,g=d.safeParse(e,d.format),b=d.altFormats,f=d.altFormatsArray,c=0,a;if(!g&&b){f=f||b.split("|");a=f.length;for(;c<a&&!g;++c){g=d.safeParse(e,f[c])}}return g},formatDate:function(a){return Ext.isDate(a)?Ext.Date.dateFormat(a,this.format):a},createPicker:function(){var a=this,b=Ext.String.format;return new Ext.picker.Date({pickerField:a,renderTo:document.body,floating:true,hidden:true,focusOnShow:true,minDate:a.minValue,maxDate:a.maxValue,disabledDatesRE:a.disabledDatesRE,disabledDatesText:a.disabledDatesText,disabledDays:a.disabledDays,disabledDaysText:a.disabledDaysText,format:a.format,showToday:a.showToday,startDay:a.startDay,minText:b(a.minText,a.formatDate(a.minValue)),maxText:b(a.maxText,a.formatDate(a.maxValue)),listeners:{scope:a,select:a.onSelect},keyNavConfig:{esc:function(){a.collapse();a.focus()}}})},onDownArrow:function(a){this.callParent(arguments);if(this.isExpanded){this.getPicker().focus()}},onSelect:function(a,c){var b=this;b.setValue(c);b.fireEvent("select",b,c);b.collapse();b.focus(false,50)},onExpand:function(){var a=this.getValue();this.picker.setValue(Ext.isDate(a)?a:new Date())},beforeBlur:function(){var b=this,a=b.rawToValue(b.getRawValue());if(Ext.isDate(a)){b.setValue(a)}}});Ext.define("Ext.picker.Color",{extend:Ext.Component,alias:"widget.colorpicker",alternateClassName:"Ext.ColorPalette",componentCls:Ext.baseCSSPrefix+"color-picker",selectedCls:Ext.baseCSSPrefix+"color-picker-selected",itemCls:Ext.baseCSSPrefix+"color-picker-item",value:null,clickEvent:"click",allowReselect:false,colors:["000000","993300","333300","003300","003366","000080","333399","333333","800000","FF6600","808000","008000","008080","0000FF","666699","808080","FF0000","FF9900","99CC00","339966","33CCCC","3366FF","800080","969696","FF00FF","FFCC00","FFFF00","00FF00","00FFFF","00CCFF","993366","C0C0C0","FF99CC","FFCC99","FFFF99","CCFFCC","CCFFFF","99CCFF","CC99FF","FFFFFF"],colorRe:/(?:^|\s)color-(.{6})(?:\s|$)/,renderTpl:['<tpl for="colors">','<a href="#" role="button" class="color-{.} {parent.itemCls}" hidefocus="on">','<span class="{parent.itemCls}-inner" style="background:#{.}">&#160;</span>',"</a>","</tpl>"],initComponent:function(){var a=this;a.callParent(arguments);if(a.handler){a.on("select",a.handler,a.scope,true)}},initRenderData:function(){var a=this;return Ext.apply(a.callParent(),{itemCls:a.itemCls,colors:a.colors})},onRender:function(){var b=this,a=b.clickEvent;b.callParent(arguments);b.mon(b.el,a,b.handleClick,b,{delegate:"a"});if(a!=="click"){b.mon(b.el,"click",Ext.emptyFn,b,{delegate:"a",stopEvent:true})}},afterRender:function(){var a=this,b;a.callParent(arguments);if(a.value){b=a.value;a.value=null;a.select(b,true)}},handleClick:function(c){var b=this,a;c.stopEvent();if(!b.disabled){a=c.currentTarget.className.match(b.colorRe)[1];b.select(a.toUpperCase())}},select:function(b,a){var d=this,f=d.selectedCls,e=d.value,c;b=b.replace("#","");if(!d.rendered){d.value=b;return}if(b!=e||d.allowReselect){c=d.el;if(d.value){c.down("a.color-"+e).removeCls(f)}c.down("a.color-"+b).addCls(f);d.value=b;if(a!==true){d.fireEvent("select",d,b)}}},clear:function(){var b=this,c=b.value,a;if(c&&b.rendered){a=b.el.down("a.color-"+c);a.removeCls(b.selectedCls)}b.value=null},getValue:function(){return this.value||null}});Ext.define("Ext.layout.component.field.HtmlEditor",{extend:Ext.layout.component.field.FieldContainer,alias:["layout.htmleditor"],type:"htmleditor",naturalHeight:150,naturalWidth:300,beginLayout:function(b){var a=this.owner,c;if(Ext.isGecko){c=a.textareaEl.dom;this.lastValue=c.value;c.value=""}this.callParent(arguments);b.toolbarContext=b.context.getCmp(a.toolbar);b.inputCmpContext=b.context.getCmp(a.inputCmp);b.bodyCellContext=b.getEl("bodyEl");b.textAreaContext=b.getEl("textareaEl");b.iframeContext=b.getEl("iframeEl")},beginLayoutCycle:function(g){var f=this,c=g.widthModel,b=g.heightModel,a=f.owner,e=a.iframeEl,d=a.textareaEl;f.callParent(arguments);if(c.shrinkWrap){e.setStyle("width","");d.setStyle("width","")}else{if(c.natural){g.bodyCellContext.setWidth(f.naturalWidth)}}if(b.natural||b.shrinkWrap){e.setHeight(f.naturalHeight);d.setHeight(f.naturalHeight)}},finishedLayout:function(){var a=this.owner;this.callParent(arguments);if(Ext.isGecko){a.textareaEl.dom.value=this.lastValue}},publishOwnerWidth:function(b,a){this.callParent(arguments);a-=b.inputCmpContext.getBorderInfo().width;b.textAreaContext.setWidth(a);b.iframeContext.setWidth(a)},publishInnerWidth:function(d,c){var b=d.inputCmpContext.getBorderInfo().width,e=Ext.isIE8,a=d.widthModel.natural;this.callParent(arguments);c=d.bodyCellContext.props.width-b;if(a){if(e){c-=2}d.textAreaContext.setWidth(c);d.iframeContext.setWidth(c)}else{if(e){d.textAreaContext.setWidth(c)}}},publishInnerHeight:function(b,a){var c=b.toolbarContext.getProp("height");this.callParent(arguments);a=b.bodyCellContext.props.height;if(c!==undefined){a-=c+b.inputCmpContext.getFrameInfo().height;if(Ext.isIE8){a-=2}b.iframeContext.setHeight(a);b.textAreaContext.setHeight(a)}else{this.done=false}}});Ext.define("Ext.form.field.HtmlEditor",{extend:Ext.form.FieldContainer,mixins:{field:Ext.form.field.Field},alias:"widget.htmleditor",alternateClassName:"Ext.form.HtmlEditor",componentLayout:"htmleditor",componentTpl:["{beforeTextAreaTpl}",'<textarea id="{id}-textareaEl" data-ref="textareaEl" name="{name}" tabIndex="-1" {inputAttrTpl}',' class="{textareaCls}" autocomplete="off">',"{[Ext.util.Format.htmlEncode(values.value)]}","</textarea>","{afterTextAreaTpl}","{beforeIFrameTpl}",'<iframe id="{id}-iframeEl" data-ref="iframeEl" name="{iframeName}" frameBorder="0" {iframeAttrTpl}',' src="{iframeSrc}" class="{iframeCls}"></iframe>',"{afterIFrameTpl}",{disableFormats:true}],stretchInputElFixed:true,subTplInsertions:["beforeTextAreaTpl","afterTextAreaTpl","beforeIFrameTpl","afterIFrameTpl","iframeAttrTpl","inputAttrTpl"],enableFormat:true,enableFontSize:true,enableColors:true,enableAlignments:true,enableLists:true,enableSourceEdit:true,enableLinks:true,enableFont:true,createLinkText:"Please enter the URL for the link:",defaultLinkValue:"http://",fontFamilies:["Arial","Courier New","Tahoma","Times New Roman","Verdana"],defaultValue:Ext.isOpera?"&#160;":"&#8203;",extraFieldBodyCls:Ext.baseCSSPrefix+"html-editor-wrap",defaultButtonUI:"default-toolbar",initialized:false,activated:false,sourceEditMode:false,iframePad:3,hideMode:"offsets",maskOnDisable:true,containerElCls:Ext.baseCSSPrefix+"html-editor-container",reStripQuotes:/^['"]*|['"]*$/g,initComponent:function(){var a=this;a.items=[a.createToolbar(),a.createInputCmp()];a.layout={type:"vbox",align:"stretch"};a.callParent(arguments);a.initField()},createInputCmp:function(){this.inputCmp=Ext.widget(this.getInputCmpCfg());return this.inputCmp},getInputCmpCfg:function(){var a=this,c=a.id+"-inputCmp",b={id:c,name:a.name,textareaCls:Ext.baseCSSPrefix+"hidden",value:a.value,iframeName:Ext.id(),iframeSrc:Ext.SSL_SECURE_URL,iframeCls:Ext.baseCSSPrefix+"htmleditor-iframe"};a.getInsertionRenderData(b,a.subTplInsertions);return{flex:1,xtype:"component",tpl:a.getTpl("componentTpl"),childEls:["iframeEl","textareaEl"],id:c,cls:Ext.baseCSSPrefix+"html-editor-input",data:b}},createToolbar:function(){this.toolbar=Ext.widget(this.getToolbarCfg());return this.toolbar},getToolbarCfg:function(){var g=this,b=[],e,a=Ext.quickTipsActive&&Ext.tip.QuickTipManager.isEnabled(),d=Ext.baseCSSPrefix,h,f;function c(l,j,k){return{itemId:l,cls:d+"btn-icon",iconCls:d+"edit-"+l,enableToggle:j!==false,scope:g,handler:k||g.relayBtnCmd,clickEvent:"mousedown",tooltip:a?g.buttonTips[l]||f:f,overflowText:g.buttonTips[l].title||f,tabIndex:-1}}if(g.enableFont&&!Ext.isSafari2){h=Ext.widget("component",{itemId:"fontSelect",renderTpl:['<select id="{id}-selectEl" data-ref="selectEl" class="'+d+'font-select">',"</select>"],childEls:["selectEl"],afterRender:function(){g.fontSelect=this.selectEl;Ext.Component.prototype.afterRender.apply(this,arguments)},onDisable:function(){var j=this.selectEl;if(j){j.dom.disabled=true}Ext.Component.prototype.onDisable.apply(this,arguments)},onEnable:function(){var j=this.selectEl;if(j){j.dom.disabled=false}Ext.Component.prototype.onEnable.apply(this,arguments)},listeners:{change:function(){g.win.focus();g.relayCmd("fontName",g.fontSelect.dom.value);g.deferFocus()},element:"selectEl"}});b.push(h,"-")}if(g.enableFormat){b.push(c("bold"),c("italic"),c("underline"))}if(g.enableFontSize){b.push("-",c("increasefontsize",false,g.adjustFont),c("decreasefontsize",false,g.adjustFont))}if(g.enableColors){b.push("-",{itemId:"forecolor",cls:d+"btn-icon",iconCls:d+"edit-forecolor",overflowText:g.buttonTips.forecolor.title,tooltip:a?g.buttonTips.forecolor||f:f,tabIndex:-1,menu:Ext.widget("menu",{plain:true,items:[{xtype:"colorpicker",allowReselect:true,focus:Ext.emptyFn,value:"000000",plain:true,clickEvent:"mousedown",handler:function(k,j){g.relayCmd("forecolor",Ext.isWebKit||Ext.isIE?"#"+j:j);this.up("menu").hide()}}]})},{itemId:"backcolor",cls:d+"btn-icon",iconCls:d+"edit-backcolor",overflowText:g.buttonTips.backcolor.title,tooltip:a?g.buttonTips.backcolor||f:f,tabIndex:-1,menu:Ext.widget("menu",{plain:true,items:[{xtype:"colorpicker",focus:Ext.emptyFn,value:"FFFFFF",plain:true,allowReselect:true,clickEvent:"mousedown",handler:function(k,j){if(Ext.isGecko){g.execCmd("useCSS",false);g.execCmd("hilitecolor","#"+j);g.execCmd("useCSS",true);g.deferFocus()}else{g.relayCmd(Ext.isOpera?"hilitecolor":"backcolor",Ext.isWebKit||Ext.isIE||Ext.isOpera?"#"+j:j)}this.up("menu").hide()}}]})})}if(g.enableAlignments){b.push("-",c("justifyleft"),c("justifycenter"),c("justifyright"))}if(!Ext.isSafari2){if(g.enableLinks){b.push("-",c("createlink",false,g.createLink))}if(g.enableLists){b.push("-",c("insertorderedlist"),c("insertunorderedlist"))}if(g.enableSourceEdit){b.push("-",c("sourceedit",true,function(){g.toggleSourceEdit(!g.sourceEditMode)}))}}for(e=0;e<b.length;e++){if(b[e].itemId!=="sourceedit"){b[e].disabled=true}}return{xtype:"toolbar",defaultButtonUI:g.defaultButtonUI,cls:Ext.baseCSSPrefix+"html-editor-tb",enableOverflow:true,items:b,listeners:{click:function(j){j.preventDefault()},element:"el"}}},getMaskTarget:function(){return Ext.isGecko?this.inputCmp.el:this.bodyEl},setReadOnly:function(e){var d=this,c=d.textareaEl,b=d.iframeEl,a;d.readOnly=e;if(c){c.dom.readOnly=e}if(d.initialized){a=d.getEditorBody();if(Ext.isIE){b.setDisplayed(false);a.contentEditable=!e;b.setDisplayed(true)}else{d.setDesignMode(!e)}if(a){a.style.cursor=e?"default":"text"}d.disableItems(e)}},getDocMarkup:function(){var b=this,a=b.iframeEl.getHeight()-b.iframePad*2;return Ext.String.format('<!DOCTYPE html><html><head><style type="text/css">'+(Ext.isOpera?"p{margin:0;}":"")+"body{border:0;margin:0;padding:{0}px;direction:"+(b.rtl?"rtl;":"ltr;")+(Ext.isIE8?Ext.emptyString:"min-")+"height:{1}px;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;cursor:text;background-color:white;"+(Ext.isIE?"":"font-size:12px;font-family:{2}")+"}</style></head><body></body></html>",b.iframePad,a,b.defaultFont)},getEditorBody:function(){var a=this.getDoc();return a.body||a.documentElement},getDoc:function(){return this.iframeEl.dom.contentDocument||this.getWin().document},getWin:function(){return this.iframeEl.dom.contentWindow||window.frames[this.iframeEl.dom.name]},initDefaultFont:function(){var g=this,a=0,h,b,j,e,d,f,c;if(!g.defaultFont){b=g.textareaEl.getStyle("font-family");b=Ext.String.capitalize(b.split(",")[0]);h=Ext.Array.clone(g.fontFamilies);Ext.Array.include(h,b);h.sort();g.defaultFont=b;j=g.down("#fontSelect").selectEl.dom;for(d=0,f=h.length;d<f;++d){b=h[d];c=b.toLowerCase();e=new Option(b,c);if(b===g.defaultFont){a=d}e.style.fontFamily=c;if(Ext.isIE){j.add(e)}else{j.options.add(e)}}j.options[a].selected=true}},isEqual:function(b,a){return this.isEqualAsString(b,a)},afterRender:function(){var b=this,a=b.inputCmp;b.callParent(arguments);b.iframeEl=a.iframeEl;b.textareaEl=a.textareaEl;b.inputEl=b.iframeEl;if(b.enableFont){b.initDefaultFont()}b.monitorTask=Ext.TaskManager.start({run:b.checkDesignMode,scope:b,interval:100})},initFrameDoc:function(){var b=this,c,a;Ext.TaskManager.stop(b.monitorTask);c=b.getDoc();b.win=b.getWin();c.open();c.write(b.getDocMarkup());c.close();a={run:function(){var d=b.getDoc();if(d.body||d.readyState==="complete"){Ext.TaskManager.stop(a);b.setDesignMode(true);Ext.defer(b.initEditor,10,b)}},interval:10,duration:10000,scope:b};Ext.TaskManager.start(a)},checkDesignMode:function(){var a=this,b=a.getDoc();if(b&&(!b.editorInitialized||a.getDesignMode()!=="on")){a.initFrameDoc()}},setDesignMode:function(c){var a=this,b=a.getDoc();if(b){if(a.readOnly){c=false}b.designMode=(/on|true/i).test(String(c).toLowerCase())?"on":"off"}},getDesignMode:function(){var a=this.getDoc();return !a?"":String(a.designMode).toLowerCase()},disableItems:function(d){var b=this.getToolbar().items.items,c,a=b.length,e;for(c=0;c<a;c++){e=b[c];if(e.getItemId()!=="sourceedit"){e.setDisabled(d)}}},toggleSourceEdit:function(b){var f=this,d=f.iframeEl,a=f.textareaEl,e=Ext.baseCSSPrefix+"hidden",c=f.getToolbar().getComponent("sourceedit");if(!Ext.isBoolean(b)){b=!f.sourceEditMode}f.sourceEditMode=b;if(c.pressed!==b){c.toggle(b)}if(b){f.disableItems(true);f.syncValue();d.addCls(e);a.removeCls(e);a.dom.removeAttribute("tabIndex");a.focus();f.inputEl=a}else{if(f.initialized){f.disableItems(f.readOnly)}f.pushValue();d.removeCls(e);a.addCls(e);a.dom.setAttribute("tabIndex",-1);f.deferFocus();f.inputEl=d}f.fireEvent("editmodechange",f,b);f.updateLayout()},createLink:function(){var a=prompt(this.createLinkText,this.defaultLinkValue);if(a&&a!=="http://"){this.relayCmd("createlink",a)}},clearInvalid:Ext.emptyFn,setValue:function(d){var c=this,b=c.textareaEl,a=c.inputCmp;if(d===null||d===undefined){d=""}if(b){b.dom.value=d}c.pushValue();if(!c.rendered&&c.inputCmp){c.inputCmp.data.value=d}c.mixins.field.setValue.call(c,d);return c},cleanHtml:function(a){a=String(a);if(Ext.isWebKit){a=a.replace(/\sclass="(?:Apple-style-span|Apple-tab-span|khtml-block-placeholder)"/gi,"")}if(a.charCodeAt(0)===parseInt(this.defaultValue.replace(/\D/g,""),10)){a=a.substring(1)}return a},syncValue:function(){var f=this,b,g,d,a,c,e;if(f.initialized){b=f.getEditorBody();d=b.innerHTML;e=f.textareaEl.dom;if(Ext.isWebKit){a=b.getAttribute("style");c=a.match(/text-align:(.*?);/i);if(c&&c[1]){d='<div style="'+c[0]+'">'+d+"</div>"}}d=f.cleanHtml(d);if(f.fireEvent("beforesync",f,d)!==false){if(Ext.isGecko&&e.value===""&&d==="<br>"){d=""}if(e.value!==d){e.value=d;g=true}f.fireEvent("sync",f,d);if(g){f.checkChange()}}}},getValue:function(){var a=this,b;if(!a.sourceEditMode){a.syncValue()}b=a.rendered?a.textareaEl.dom.value:a.value;a.value=b;return b},pushValue:function(){var b=this,a;if(b.initialized){a=b.textareaEl.dom.value||"";if(!b.activated&&a.length<1){a=b.defaultValue}if(b.fireEvent("beforepush",b,a)!==false){b.getEditorBody().innerHTML=a;if(Ext.isGecko){b.setDesignMode(false);b.setDesignMode(true)}b.fireEvent("push",b,a)}}},focus:function(d,b){var c=this,e,a;if(b){if(!c.focusTask){c.focusTask=new Ext.util.DelayedTask(c.focus)}c.focusTask.delay(Ext.isNumber(b)?b:10,null,c,[d,false])}else{if(d){if(c.textareaEl&&c.textareaEl.dom){e=c.textareaEl.dom.value}if(e&&e.length){c.execCmd("selectall",true)}}a=c.getFocusEl();if(a&&a.focus){a.focus()}}return c},initEditor:function(){var d=this,c,a,g,h,b;if(d.destroying||d.isDestroyed){return}c=d.getEditorBody();a=d.textareaEl.getStyle(["font-size","font-family","background-image","background-repeat","background-color","color"]);a["background-attachment"]="fixed";c.bgProperties="fixed";Ext.DomHelper.applyStyles(c,a);g=d.getDoc();h=Ext.get(g);if(h){try{h.clearListeners()}catch(f){}b=d.onEditorEvent.bind(d);h.on({mousedown:b,dblclick:b,click:b,keyup:b,delegated:false,buffer:100});b=d.onRelayedEvent;h.on({mousedown:b,mousemove:b,mouseup:b,click:b,dblclick:b,delegated:false,scope:d});if(Ext.isGecko){h.on("keypress",d.applyCommand,d)}if(d.fixKeys){h.on("keydown",d.fixKeys,d)}if(d.fixKeysAfter){h.on("keyup",d.fixKeysAfter,d)}if(Ext.isIE9){Ext.get(g.documentElement).on("focus",d.focus,d)}if(Ext.isIE8){h.on("focusout",function(){d.savedSelection=g.selection.type!=="None"?g.selection.createRange():null},d);h.on("focusin",function(){if(d.savedSelection){d.savedSelection.select()}},d)}Ext.getWin().on("beforeunload",d.beforeDestroy,d);g.editorInitialized=true;d.initialized=true;d.pushValue();d.setReadOnly(d.readOnly);d.fireEvent("initialize",d)}},beforeDestroy:function(){var a=this,d=a.monitorTask,c,f;if(d){Ext.TaskManager.stop(d)}if(a.rendered){Ext.getWin().un(a.beforeDestroy,a);c=a.getDoc();if(c){Ext.get(c).clearListeners();if(c.hasOwnProperty){for(f in c){try{if(c.hasOwnProperty(f)){delete c[f]}}catch(b){}}}}a.iframeEl.destroy();delete a.iframeEl;delete a.textareaEl;delete a.toolbar;delete a.inputCmp}a.callParent()},onRelayedEvent:function(c){var b=this.iframeEl,d=Ext.fly(b).getTrueXY(),e=c.getXY(),a=c.getXY();c.xy=[d[0]+a[0],d[1]+a[1]];c.injectEvent(b);c.xy=e},onFirstFocus:function(){var c=this,b,a;c.activated=true;c.disableItems(c.readOnly);if(Ext.isGecko){c.win.focus();b=c.win.getSelection();if(b.focusNode&&!c.getValue().length){a=b.getRangeAt(0);a.selectNodeContents(c.getEditorBody());a.collapse(true);c.deferFocus()}try{c.execCmd("useCSS",true);c.execCmd("styleWithCSS",false)}catch(d){}}c.fireEvent("activate",c)},adjustFont:function(d){var e=d.getItemId()==="increasefontsize"?1:-1,c=this.getDoc().queryCommandValue("FontSize")||"2",a=Ext.isString(c)&&c.indexOf("px")!==-1,b;c=parseInt(c,10);if(a){if(c<=10){c=1+e}else{if(c<=13){c=2+e}else{if(c<=16){c=3+e}else{if(c<=18){c=4+e}else{if(c<=24){c=5+e}else{c=6+e}}}}}c=Ext.Number.constrain(c,1,6)}else{b=Ext.isSafari;if(b){e*=2}c=Math.max(1,c+e)+(b?"px":0)}this.relayCmd("FontSize",c)},onEditorEvent:function(){this.updateToolbar()},updateToolbar:function(){var h=this,e,c,d,j,b,f,a,g;if(h.readOnly){return}if(!h.activated){h.onFirstFocus();return}d=h.getToolbar().items.map;j=h.getDoc();if(h.enableFont&&!Ext.isSafari2){f=j.queryCommandValue("fontName");b=(f?f.split(",")[0].replace(h.reStripQuotes,""):h.defaultFont).toLowerCase();a=h.fontSelect.dom;if(b!==a.value||b!==f){a.value=b}}function k(){var l;for(e=0,c=arguments.length,b;e<c;e++){b=arguments[e];try{l=j.queryCommandState(b)}catch(m){l=false}d[b].toggle(l)}}if(h.enableFormat){k("bold","italic","underline")}if(h.enableAlignments){k("justifyleft","justifycenter","justifyright")}if(!Ext.isSafari2&&h.enableLists){k("insertorderedlist","insertunorderedlist")}g=h.toolbar.query("menu");for(e=0;e<g.length;e++){g[e].hide()}h.syncValue()},relayBtnCmd:function(a){this.relayCmd(a.getItemId())},relayCmd:function(b,a){Ext.defer(function(){var c=this;if(!this.isDestroyed){c.win.focus();c.execCmd(b,a);c.updateToolbar()}},10,this)},execCmd:function(c,b){var a=this,d=a.getDoc();d.execCommand(c,false,(b===undefined?null:b));a.syncValue()},applyCommand:function(d){if(d.ctrlKey){var a=this,f=d.getCharCode(),b;if(f>0){f=String.fromCharCode(f);switch(f){case"b":b="bold";break;case"i":b="italic";break;case"u":b="underline";break}if(b){a.win.focus();a.execCmd(b);a.deferFocus();d.preventDefault()}}}},insertAtCursor:function(c){var b=this,a;if(b.activated){b.win.focus();if(Ext.isIE){a=b.getDoc().selection.createRange();if(a){a.pasteHTML(c);b.syncValue();b.deferFocus()}}else{b.execCmd("InsertHTML",c);b.deferFocus()}}},fixKeys:(function(){var a;if(Ext.isIE){return function(h){var d=this,c=h.getKey(),g=d.getDoc(),j=d.readOnly,b,f;if(c===h.TAB){h.stopEvent();if(!j){b=g.selection.createRange();if(b){if(b.collapse){b.collapse(true);b.pasteHTML("&#160;&#160;&#160;&#160;")}d.deferFocus()}}}else{if(c===h.ENTER){if(!j){if(Ext.isIE10m){b=g.selection.createRange();if(b){f=b.parentElement();if(!f||f.tagName.toLowerCase()!=="li"){h.stopEvent();b.pasteHTML("<br />");b.collapse(false);b.select()}}}else{b=g.getSelection().getRangeAt(0);if(b&&b.commonAncestorContainer.parentNode.tagName.toLowerCase()!=="li"){h.stopEvent();a=g.createElement("div");b.insertNode(a)}}}}}}}if(Ext.isOpera){return function(d){var c=this,b=d.getKey(),f=c.readOnly;if(b===d.TAB){d.stopEvent();if(!f){c.win.focus();c.execCmd("InsertHTML","&#160;&#160;&#160;&#160;");c.deferFocus()}}}}return null}()),fixKeysAfter:(function(){if(Ext.isIE){return function(d){var b=this,a=d.getKey(),c=b.getDoc(),g=b.readOnly,f;if(!g&&(a===d.BACKSPACE||a===d.DELETE)){f=c.body.innerHTML;if(f==="<p>&nbsp;</p>"||f==="<P>&nbsp;</P>"){c.body.innerHTML=""}}}}return null}()),getToolbar:function(){return this.toolbar},buttonTips:{bold:{title:"Bold (Ctrl+B)",text:"Make the selected text bold.",cls:Ext.baseCSSPrefix+"html-editor-tip"},italic:{title:"Italic (Ctrl+I)",text:"Make the selected text italic.",cls:Ext.baseCSSPrefix+"html-editor-tip"},underline:{title:"Underline (Ctrl+U)",text:"Underline the selected text.",cls:Ext.baseCSSPrefix+"html-editor-tip"},increasefontsize:{title:"Grow Text",text:"Increase the font size.",cls:Ext.baseCSSPrefix+"html-editor-tip"},decreasefontsize:{title:"Shrink Text",text:"Decrease the font size.",cls:Ext.baseCSSPrefix+"html-editor-tip"},backcolor:{title:"Text Highlight Color",text:"Change the background color of the selected text.",cls:Ext.baseCSSPrefix+"html-editor-tip"},forecolor:{title:"Font Color",text:"Change the color of the selected text.",cls:Ext.baseCSSPrefix+"html-editor-tip"},justifyleft:{title:"Align Text Left",text:"Align text to the left.",cls:Ext.baseCSSPrefix+"html-editor-tip"},justifycenter:{title:"Center Text",text:"Center text in the editor.",cls:Ext.baseCSSPrefix+"html-editor-tip"},justifyright:{title:"Align Text Right",text:"Align text to the right.",cls:Ext.baseCSSPrefix+"html-editor-tip"},insertunorderedlist:{title:"Bullet List",text:"Start a bulleted list.",cls:Ext.baseCSSPrefix+"html-editor-tip"},insertorderedlist:{title:"Numbered List",text:"Start a numbered list.",cls:Ext.baseCSSPrefix+"html-editor-tip"},createlink:{title:"Hyperlink",text:"Make the selected text a hyperlink.",cls:Ext.baseCSSPrefix+"html-editor-tip"},sourceedit:{title:"Source Edit",text:"Switch to source editing mode.",cls:Ext.baseCSSPrefix+"html-editor-tip"}},privates:{deferFocus:function(){this.focus(false,true)},getFocusEl:function(){var a=this,b=a.win;return b&&!a.sourceEditMode?b:a.textareaEl}}});Ext.define("Ext.form.field.Tag",{extend:Ext.form.field.ComboBox,xtype:"tagfield",multiSelect:true,forceSelection:true,createNewOnEnter:false,createNewOnBlur:false,encodeSubmitValue:false,triggerOnClick:true,stacked:false,pinList:true,filterPickList:false,selectOnFocus:true,grow:true,growMin:false,growMax:false,fieldSubTpl:['<div id="{cmpId}-listWrapper" data-ref="listWrapper" class="'+Ext.baseCSSPrefix+'tagfield {fieldCls} {typeCls} {typeCls}-{ui}">','<ul id="{cmpId}-itemList" data-ref="itemList" class="'+Ext.baseCSSPrefix+'tagfield-list">','<li id="{cmpId}-inputElCt" data-ref="inputElCt" class="'+Ext.baseCSSPrefix+'tagfield-input">','<div id="{cmpId}-emptyEl" data-ref="emptyEl" class="{emptyCls}">{emptyText}</div>','<input id="{cmpId}-inputEl" data-ref="inputEl" type="{type}" ','<tpl if="name">name="{name}" </tpl>','<tpl if="value"> value="{[Ext.util.Format.htmlEncode(values.value)]}"</tpl>','<tpl if="size">size="{size}" </tpl>','<tpl if="tabIdx">tabIndex="{tabIdx}" </tpl>','<tpl if="disabled"> disabled="disabled"</tpl>','class="'+Ext.baseCSSPrefix+'tagfield-input-field {inputElCls}" autocomplete="off">',"</li>","</ul>","</div>",{disableFormats:true}],childEls:["listWrapper","itemList","inputEl","inputElCt","emptyEl"],emptyInputCls:Ext.baseCSSPrefix+"tagfield-emptyinput",initComponent:function(){var b=this,a=b.typeAhead;if(a&&!b.editable){Ext.Error.raise("If typeAhead is enabled the combo must be editable: true -- please change one of those settings.")}b.typeAhead=false;b.listConfig=Ext.apply({refreshSelmodelOnRefresh:false},b.listConfig);b.callParent();b.typeAhead=a;b.selectionModel=new Ext.selection.Model({store:b.valueStore,mode:"MULTI",lastFocused:null,onSelectChange:function(c,e,d,f){f()}});if(!Ext.isEmpty(b.delimiter)&&b.multiSelect){b.delimiterRegexp=new RegExp(String(b.delimiter).replace(/[$%()*+.?\[\\\]{|}]/g,"\\$&"))}},initEvents:function(){var a=this;a.callParent(arguments);if(!a.enableKeyEvents){a.mon(a.inputEl,"keydown",a.onKeyDown,a)}a.mon(a.inputEl,"paste",a.onPaste,a);a.mon(a.listWrapper,"click",a.onItemListClick,a);a.mon(a.selectionModel,{selectionchange:a.onSelectionChange,focuschange:a.onFocusChange,scope:a})},onBindStore:function(a){var b=this;if(a){b.valueStore=new Ext.data.Store({model:a.getModel()});b.mon(b.valueStore,{datachanged:b.onValueStoreChange,remove:b.onValueStoreRemove,scope:b});if(b.selectionModel){b.selectionModel.bindStore(b.valueStore)}b.store.addFilter(b.selectedFilter=new Ext.util.Filter({filterFn:function(c){return !b.valueStore.data.contains(c)},disabled:!b.filterPickList}))}},onUnbindStore:function(a){var b=this,c=b.valueStore;if(c){b.mun(c,{datachanged:b.onValueStoreChange,remove:b.onValueStoreRemove,scope:b});c.destroy()}if(b.selectionModel){b.selectionModel.destroy()}b.store.removeFilter(b.selectedFilter);b.valueStore=b.selectionModel=null;b.callParent(arguments)},onValueStoreRemove:function(){if(this.filterPickList){this.store.filter()}},onValueStoreChange:function(){if(this.filterPickList){this.store.filter()}this.applyMultiselectItemMarkup()},onSelectionChange:function(a,b){this.applyMultiselectItemMarkup();this.fireEvent("valueselectionchange",this,b)},onFocusChange:function(a,c,b){this.fireEvent("valuefocuschange",this,c,b)},createPicker:function(){var b=this,a=b.callParent(arguments);b.mon(a,{beforerefresh:b.onBeforeListRefresh,scope:b});return a},onDestroy:function(){var a=this;Ext.destroyMembers(a,"valueStore","selectionModel");a.callParent(arguments)},getSubTplData:function(){var a=this,b=a.callParent(),c=a.emptyText&&b.value.length<1;b.value="";if(c){b.emptyText=a.emptyText;b.emptyCls=a.emptyCls;b.inputElCls=a.emptyInputCls}else{b.emptyText="";b.emptyCls=a.emptyInputCls;b.inputElCls=""}return b},afterRender:function(){var a=this;if(Ext.supports.Placeholder&&a.inputEl&&a.emptyText){delete a.inputEl.dom.placeholder}a.bodyEl.applyStyles("vertical-align:top");if(a.grow){if(Ext.isNumber(a.growMin)&&(a.growMin>0)){a.listWrapper.applyStyles("min-height:"+a.growMin+"px")}if(Ext.isNumber(a.growMax)&&(a.growMax>0)){a.listWrapper.applyStyles("max-height:"+a.growMax+"px")}}if(a.stacked===true){a.itemList.addCls(Ext.baseCSSPrefix+"tagfield-stacked")}if(!a.multiSelect){a.itemList.addCls(Ext.baseCSSPrefix+"tagfield-singleselect")}a.applyMultiselectItemMarkup();a.callParent(arguments)},findRecord:function(d,c){var b=this.store,a;if(!b){return false}a=b.queryBy(function(e){return e.isEqual(e.get(d),c)});return(a.getCount()>0)?a.first():false},onLoad:function(){var b=this,a=b.valueField,c=b.valueStore,d=false;if(c){if(!Ext.isEmpty(b.value)&&(c.getCount()==0)){b.setValue(b.value,false,true)}c.suspendEvents();c.each(function(g){var f=b.findRecord(a,g.get(a)),e=f?c.indexOf(g):-1;if(e>=0){c.removeAt(e);c.insert(e,f);d=true}});c.resumeEvents();if(d){c.fireEvent("datachanged",c)}}b.callParent(arguments)},isFilteredRecord:function(a){var f=this,b=f.store,d=f.valueField,e,c=false;e=b.findExact(d,a.get(d));c=((e===-1)&&(!b.snapshot||(f.findRecord(d,a.get(d))!==false)));c=c||(!c&&(e===-1)&&(f.forceSelection!==true)&&(f.valueStore.findExact(d,a.get(d))>=0));return c},doRawQuery:function(){var a=this,b=a.inputEl.dom.value;if(a.multiSelect){b=b.split(a.delimiter).pop()}a.doQuery(b,false,true)},onBeforeListRefresh:function(){this.ignoreSelection++},onListRefresh:function(){this.callParent(arguments);if(this.ignoreSelection>0){--this.ignoreSelection}},onListSelectionChange:function(c,f){var b=this,d=b.valueStore,e=[],a;if((b.ignoreSelection<=0)&&b.isExpanded){d.each(function(g){if(Ext.Array.contains(f,g)||b.isFilteredRecord(g)){e.push(g)}});e=Ext.Array.merge(e,f);a=Ext.Array.intersect(e,d.getRange()).length;if((a!=e.length)||(a!=b.valueStore.getCount())){b.setValue(e,false);if(!b.multiSelect||!b.pinList){Ext.defer(b.collapse,1,b)}if(d.getCount()>0){b.fireEvent("select",b,d.getRange())}}if(!b.pinList){b.inputEl.dom.value=""}if(!Ext.supports.TouchEvents){b.inputEl.focus();if(b.selectOnFocus){b.inputEl.dom.select()}}}},syncSelection:function(){var f=this,d=f.picker,c=f.valueField,a,e,b;if(d){a=d.store;e=[];if(f.valueStore){f.valueStore.each(function(h){var g=a.findExact(c,h.get(c));if(g>=0){e.push(a.getAt(g))}})}f.ignoreSelection++;b=d.getSelectionModel();b.deselectAll();if(e.length>0){b.select(e)}if(f.ignoreSelection>0){--f.ignoreSelection}}},getCursorPosition:function(){var a;if(Ext.isIE){a=document.selection.createRange();a.collapse(true);a.moveStart("character",-this.inputEl.dom.value.length);a=a.text.length}else{a=this.inputEl.dom.selectionStart}return a},hasSelectedText:function(){var b,a;if(Ext.isIE){b=document.selection;a=b.createRange();return(a.parentElement()==this.inputEl.dom)}else{return this.inputEl.dom.selectionStart!=this.inputEl.dom.selectionEnd}},onKeyDown:function(d,j){var f=this,h=d.getKey(),b=f.inputEl.dom.value,k=f.valueStore,c=f.selectionModel,a=false;if(f.readOnly||f.disabled||!f.editable){return}if(f.isExpanded&&(h==d.A&&d.ctrlKey)){f.select(f.getStore().getRange());c.setLastFocused(null);c.deselectAll();f.collapse();f.inputEl.focus();a=true}else{if((k.getCount()>0)&&((b=="")||((f.getCursorPosition()===0)&&!f.hasSelectedText()))){var g=(c.getCount()>0)?k.indexOf(c.getLastSelected()||c.getLastFocused()):-1;if((h==d.BACKSPACE)||(h==d.DELETE)){if(g>-1){if(c.getCount()>1){g=-1}f.valueStore.remove(c.getSelection())}else{f.valueStore.remove(f.valueStore.last())}c.clearSelections();f.setValue(f.valueStore.getRange());if(g>0){c.select(g-1)}a=true}else{if((h==d.RIGHT)||(h==d.LEFT)){if((g==-1)&&(h==d.LEFT)){c.select(k.last());a=true}else{if(g>-1){if(h==d.RIGHT){if(g<(k.getCount()-1)){c.select(g+1,d.shiftKey);a=true}else{if(!d.shiftKey){c.setLastFocused(null);c.deselectAll();a=true}}}else{if((h==d.LEFT)&&(g>0)){c.select(g-1,d.shiftKey);a=true}}}}}else{if(h==d.A&&d.ctrlKey){c.selectAll();a=d.A}}}f.inputEl.focus()}}if(a){f.preventKeyUpEvent=a;d.stopEvent();return}if(f.isExpanded&&(h==d.ENTER)&&f.picker.highlightedItem){f.preventKeyUpEvent=true}if(f.enableKeyEvents){f.callParent(arguments)}if(!d.isSpecialKey()&&!d.hasModifier()){f.selectionModel.setLastFocused(null);f.selectionModel.deselectAll();f.inputEl.focus()}},onKeyUp:function(d,a){var b=this,c=b.inputEl.dom.value;if(b.preventKeyUpEvent){d.stopEvent();if((b.preventKeyUpEvent===true)||(d.getKey()===b.preventKeyUpEvent)){delete b.preventKeyUpEvent}return}if(b.multiSelect&&(b.delimiterRegexp&&b.delimiterRegexp.test(c))||((b.createNewOnEnter===true)&&d.getKey()==d.ENTER)){c=Ext.Array.clean(c.split(b.delimiterRegexp));b.inputEl.dom.value="";b.setValue(b.valueStore.getRange().concat(c));b.inputEl.focus()}b.callParent([d,a])},onPaste:function(d){var a=this,c=a.inputEl.dom.value,b=(d&&d.browserEvent&&d.browserEvent.clipboardData)?d.browserEvent.clipboardData:false;if(a.multiSelect&&(a.delimiterRegexp&&a.delimiterRegexp.test(c))){if(b&&b.getData){if(/text\/plain/.test(b.types)){c=b.getData("text/plain")}else{if(/text\/html/.test(b.types)){c=b.getData("text/html")}}}c=Ext.Array.clean(c.split(a.delimiterRegexp));a.inputEl.dom.value="";a.setValue(a.valueStore.getRange().concat(c));a.inputEl.focus()}},onTypeAhead:function(){var f=this,e=f.displayField,d=f.inputEl.dom,c=f.getPicker(),b=f.store.findRecord(e,d.value),g,a,h;if(b){g=b.get(e);a=g.length;h=d.value.length;c.highlightItem(c.getNode(b));if(h!==0&&h!==a){d.value=g;f.selectText(h,g.length)}}},onItemListClick:function(a){var c=this,b=a.getTarget("."+Ext.baseCSSPrefix+"tagfield-item"),d=b?a.getTarget("."+Ext.baseCSSPrefix+"tagfield-item-close"):false;if(c.readOnly||c.disabled){return}a.stopPropagation();if(b){if(d){c.removeByListItemNode(b);if(c.valueStore.getCount()>0){c.fireEvent("select",c,c.valueStore.getRange())}}else{c.toggleSelectionByListItemNode(b,a.shiftKey)}if(!Ext.supports.TouchEvents){c.inputEl.focus()}}else{if(c.selectionModel.getCount()>0){c.selectionModel.setLastFocused(null);c.selectionModel.deselectAll()}if(c.triggerOnClick){c.onTriggerClick()}}},getMultiSelectItemMarkup:function(){var a=this;if(!a.multiSelectItemTpl){if(!a.labelTpl){a.labelTpl="{"+a.displayField+"}"}a.labelTpl=a.getTpl("labelTpl");a.multiSelectItemTpl=new Ext.XTemplate(['<tpl for=".">','<li class="    '+Ext.baseCSSPrefix+"tagfield-item ",'<tpl if="this.isSelected(values)">'," selected","</tpl>","{%","values = values.data;","%}",'" qtip="{'+a.displayField+'}">','<div class="'+Ext.baseCSSPrefix+'tagfield-item-text">{[this.getItemLabel(values)]}</div>','<div class="'+Ext.baseCSSPrefix+'tagfield-item-close"></div>',"</li>","</tpl>",{isSelected:function(b){return a.selectionModel.isSelected(b)},getItemLabel:function(b){return a.labelTpl.apply(b)}}])}if(!a.multiSelectItemTpl.isTemplate){a.multiSelectItemTpl=this.getTpl("multiSelectItemTpl")}return a.multiSelectItemTpl.apply(this.valueStore.getRange())},applyMultiselectItemMarkup:function(){var c=this,a=c.itemList,b;if(a){while((b=c.inputElCt.prev())!=null){b.destroy()}c.inputElCt.insertHtml("beforeBegin",c.getMultiSelectItemMarkup())}Ext.GlobalEvents.on({idle:function(){if(c.picker&&c.isExpanded){c.alignPicker()}if(c.hasFocus&&c.inputElCt&&c.listWrapper){c.inputElCt.scrollIntoView(c.listWrapper)}},single:true})},getRecordByListItemNode:function(b){var d=this,c=0,a=d.itemList.dom.firstChild;while(a&&a.nextSibling){if(a==b){break}c++;a=a.nextSibling}c=(a==b)?c:false;if(c===false){return false}return d.valueStore.getAt(c)},toggleSelectionByListItemNode:function(b,d){var c=this,e=c.getRecordByListItemNode(b),a=c.selectionModel;if(e){if(a.isSelected(e)){if(a.isFocused(e)){a.setLastFocused(null)}a.deselect(e)}else{a.select(e,d)}}},removeByListItemNode:function(a){var b=this,c=b.getRecordByListItemNode(a);if(c){b.valueStore.remove(c);b.setValue(b.valueStore.getRange())}},getRawValue:function(){var b=this,c=b.inputEl,a;b.inputEl=false;a=b.callParent(arguments);b.inputEl=c;return a},setRawValue:function(c){var b=this,d=b.inputEl,a;b.inputEl=false;a=b.callParent([c]);b.inputEl=d;return a},addValue:function(b){var a=this;if(b){a.setValue(Ext.Array.merge(a.value,Ext.Array.from(b)))}},removeValue:function(b){var a=this;if(b){a.setValue(Ext.Array.difference(a.value,Ext.Array.from(b)))}},setValue:function(j,b,l){var h=this,n=h.valueStore,m=h.valueField,g=[],e,f,d,a,k;if(Ext.isEmpty(j)){j=null}if(Ext.isString(j)&&h.multiSelect){j=j.split(h.delimiter)}j=Ext.Array.from(j,true);for(d=0,f=j.length;d<f;d++){e=j[d];if(!e||!e.isModel){a=n.findExact(m,e);if(a>=0){j[d]=n.getAt(a)}else{a=h.findRecord(m,e);if(!a){if(h.forceSelection){g.push(e)}else{a={};a[h.valueField]=e;a[h.displayField]=e;k=h.valueStore.getModel();a=new k(a)}}if(a){j[d]=a}}}}if((l!==true)&&(g.length>0)&&(h.queryMode==="remote")){var c={};c[h.valueParam||h.valueField]=g.join(h.delimiter);h.store.load({params:c,callback:function(){if(h.itemList){h.itemList.unmask()}h.setValue(j,b,true);h.autoSize();h.lastQuery=false}});return false}if(!h.multiSelect&&(j.length>0)){for(d=j.length-1;d>=0;d--){if(j[d].isModel){j=j[d];break}}if(Ext.isArray(j)){j=j[j.length-1]}}return h.callParent([j,b])},getValueRecords:function(){return this.valueStore.getRange()},getSubmitData:function(){var a=this,b=a.callParent(arguments);if(a.multiSelect&&a.encodeSubmitValue&&b&&b[a.name]){b[a.name]=Ext.encode(b[a.name])}return b},mimicBlur:function(){var a=this;if(a.selectOnTab&&a.picker&&a.picker.highlightedItem){a.inputEl.dom.value=""}a.callParent(arguments)},assertValue:function(){var a=this,c=a.inputEl.dom.value,d=!Ext.isEmpty(c)?a.findRecordByDisplay(c):false,b=false;if(!d&&!a.forceSelection&&a.createNewOnBlur&&!Ext.isEmpty(c)){b=c}else{if(d){b=d}}if(b){a.addValue(b)}a.inputEl.dom.value="";a.collapse()},checkChange:function(){if(!this.suspendCheckChange&&!this.isDestroyed){var c=this,f=c.valueStore,b=c.lastValue||"",a=c.valueField,e=Ext.Array.map(Ext.Array.from(c.value),function(g){if(g.isModel){return g.get(a)}return g},this).join(this.delimiter),d=c.isEqual(e,b);if(!d||((e.length>0&&f.getCount()<c.value.length))){f.suspendEvents();f.removeAll();if(Ext.isArray(c.valueModels)){f.add(c.valueModels)}f.resumeEvents();f.fireEvent("datachanged",f);if(!d){c.lastValue=e;c.fireEvent("change",c,e,b);c.onChange(e,b)}}}},isEqual:function(h,g){var b=Ext.Array.from,c=this.valueField,d,a,f,e;h=b(h);g=b(g);a=h.length;if(a!==g.length){return false}for(d=0;d<a;d++){f=h[d].isModel?h[d].get(c):h[d];e=g[d].isModel?g[d].get(c):g[d];if(f!==e){return false}}return true},applyEmptyText:function(){var b=this,a=b.emptyText,c,d;if(b.rendered&&a){d=Ext.isEmpty(b.value)&&!b.hasFocus;c=b.inputEl;if(d){c.dom.value="";b.emptyEl.setHtml(a);b.emptyEl.addCls(b.emptyCls);b.emptyEl.removeCls(b.emptyInputCls);b.listWrapper.addCls(b.emptyCls);b.inputEl.addCls(b.emptyInputCls)}else{b.emptyEl.addCls(b.emptyInputCls);b.emptyEl.removeCls(b.emptyCls);b.listWrapper.removeCls(b.emptyCls);b.inputEl.removeCls(b.emptyInputCls)}b.autoSize()}},preFocus:function(){var a=this,b=a.inputEl,c=(b.dom.value=="");a.emptyEl.addCls(a.emptyInputCls);a.emptyEl.removeCls(a.emptyCls);a.listWrapper.removeCls(a.emptyCls);a.inputEl.removeCls(a.emptyInputCls);if(a.selectOnFocus||c){b.dom.select()}},onFocus:function(){var c=this,b=c.focusCls,a=c.itemList;if(b&&a){a.addCls(b)}c.callParent(arguments)},onBlur:function(){var c=this,b=c.focusCls,a=c.itemList;if(b&&a){a.removeCls(b)}c.callParent(arguments)},renderActiveError:function(){var d=this,c=d.invalidCls,b=d.itemList,a=d.hasActiveError();if(c&&b){b[a?"addCls":"removeCls"](d.invalidCls+"-field")}d.callParent(arguments)},autoSize:function(){var a=this;if(a.grow&&a.rendered){a.autoSizing=true;a.updateLayout()}return a},afterComponentLayout:function(){var b=this,a;if(b.autoSizing){a=b.getHeight();if(a!==b.lastInputHeight){if(b.isExpanded){b.alignPicker()}b.fireEvent("autosize",b,a);b.lastInputHeight=a;b.autoSizing=false}}}});Ext.define("Jarvus.ext.patch.form.field.TagFieldFilterPickList",{override:"Ext.form.field.Tag",onValueStoreRemove:function(){},onValueStoreChange:function(){var a=this;if(a.filterPickList){a.store.filter(a.selectedFilter)}a.applyMultiselectItemMarkup()}},function(){if(!Ext.getVersion().match("5")){console.warn("This patch has not been tested with this version of ExtJS")}});Ext.define("Ext.picker.Time",{extend:Ext.view.BoundList,alias:"widget.timepicker",increment:15,format:"g:i A",displayField:"disp",initDate:[2008,0,1],componentCls:Ext.baseCSSPrefix+"timepicker",loadMask:false,initComponent:function(){var c=this,a=Ext.Date,b=a.clearTime,d=c.initDate;c.absMin=b(new Date(d[0],d[1],d[2]));c.absMax=a.add(b(new Date(d[0],d[1],d[2])),"mi",(24*60)-1);c.store=c.createStore();c.updateList();c.callParent()},setMinValue:function(a){this.minValue=a;this.updateList()},setMaxValue:function(a){this.maxValue=a;this.updateList()},normalizeDate:function(a){var b=this.initDate;a.setFullYear(b[0],b[1],b[2]);return a},updateList:function(){var e=this,b=e.normalizeDate(e.minValue||e.absMin),a=e.normalizeDate(e.maxValue||e.absMax),d=e.getStore().getFilters(),c=e.rangeFilter;d.beginUpdate();if(c){d.remove(c)}c=e.rangeFilter=new Ext.util.Filter({filterFn:function(f){var g=f.get("date");return g>=b&&g<=a}});d.add(c);d.endUpdate()},createStore:function(){var d=this,c=Ext.Date,e=[],b=d.absMin,a=d.absMax;while(b<=a){e.push({disp:c.dateFormat(b,d.format),date:b});b=c.add(b,"mi",d.increment)}return new Ext.data.Store({model:d.modelType,autoDestroy:true,data:e})},focusNode:function(a){return false}},function(){this.prototype.modelType=Ext.define(null,{extend:"Ext.data.Model",fields:["disp","date"]})});Ext.define("Ext.form.field.Time",{extend:Ext.form.field.ComboBox,alias:"widget.timefield",alternateClassName:["Ext.form.TimeField","Ext.form.Time"],triggerCls:Ext.baseCSSPrefix+"form-time-trigger",minText:"The time in this field must be equal to or after {0}",maxText:"The time in this field must be equal to or before {0}",invalidText:"{0} is not a valid time",format:"g:i A",altFormats:"g:ia|g:iA|g:i a|g:i A|h:i|g:i|H:i|ga|ha|gA|h a|g a|g A|gi|hi|gia|hia|g|H|gi a|hi a|giA|hiA|gi A|hi A",increment:15,pickerMaxHeight:300,selectOnTab:true,snapToIncrement:false,initDate:"1/1/2008",initDateParts:[2008,0,1],initDateFormat:"j/n/Y",ignoreSelection:0,queryMode:"local",displayField:"disp",valueField:"date",initComponent:function(){var c=this,b=c.minValue,a=c.maxValue;if(b){c.setMinValue(b)}if(a){c.setMaxValue(a)}c.store=c.getPicker().store;c.displayTpl=new Ext.XTemplate('<tpl for=".">{[typeof values === "string" ? values : this.formatDate(values["'+c.displayField+'"])]}<tpl if="xindex < xcount">'+c.delimiter+"</tpl></tpl>",{formatDate:c.formatDate.bind(c)});c.callParent()},isEqual:function(f,e){var b=Ext.Array.from,d=Ext.Date.isEqual,c,a;f=b(f);e=b(e);a=f.length;if(a!==e.length){return false}for(c=0;c<a;c++){if(!d(e[c],f[c])){return false}}return true},setMinValue:function(c){var b=this,a=b.picker;b.setLimit(c,true);if(a){a.setMinValue(b.minValue)}},setMaxValue:function(c){var b=this,a=b.picker;b.setLimit(c,false);if(a){a.setMaxValue(b.maxValue)}},setLimit:function(b,f){var a=this,e,c;if(Ext.isString(b)){e=a.parseDate(b)}else{if(Ext.isDate(b)){e=b}}if(e){c=a.getInitDate();c.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}else{c=null}a[f?"minValue":"maxValue"]=c},getInitDate:function(a,b,d){var c=this.initDateParts;return new Date(c[0],c[1],c[2],a||0,b||0,d||0,0)},valueToRaw:function(a){return this.formatDate(this.parseDate(a))},getErrors:function(k){var f=this,j=Ext.String.format,h=f.callParent(arguments),g=f.minValue,e=f.maxValue,c=f.displayTplData,l=f.getRawValue(),b,d,a,m;if(c&&c.length>0){for(b=0,d=c.length;b<d;b++){m=c[b];m=m.date||m.disp;a=f.parseDate(m);if(!a){h.push(j(f.invalidText,m,Ext.Date.unescapeFormat(f.format)));continue}if(g&&a<g){h.push(j(f.minText,f.formatDate(g)))}if(e&&a>e){h.push(j(f.maxText,f.formatDate(e)))}}}else{if(l.length&&!f.parseDate(l)){h.push(j(f.invalidText,l,Ext.Date.unescapeFormat(f.format)))}}return h},formatDate:function(b){var d=[],c,a;b=Ext.Array.from(b);for(c=0,a=b.length;c<a;c++){d.push(Ext.form.field.Date.prototype.formatDate.call(this,b[c]))}return d.join(this.delimiter)},parseDate:function(e){var d=this,g=e,b=d.altFormats,f=d.altFormatsArray,c=0,a;if(e&&!Ext.isDate(e)){g=d.safeParse(e,d.format);if(!g&&b){f=f||b.split("|");a=f.length;for(;c<a&&!g;++c){g=d.safeParse(e,f[c])}}}if(g&&d.snapToIncrement){g=new Date(Ext.Number.snap(g.getTime(),d.increment*60*1000))}return g},safeParse:function(e,f){var d=this,b=Ext.Date,c,a=null;if(b.formatContainsDateInfo(f)){a=b.parse(e,f)}else{c=b.parse(d.initDate+" "+e,d.initDateFormat+" "+f);if(c){a=c}}return a},getSubmitValue:function(){var a=this,c=a.submitFormat||a.format,b=a.getValue();return b?Ext.Date.format(b,c):null},createPicker:function(){var b=this,a;b.listConfig=Ext.apply({xtype:"timepicker",selModel:{mode:b.multiSelect?"SIMPLE":"SINGLE"},cls:undefined,minValue:b.minValue,maxValue:b.maxValue,increment:b.increment,format:b.format,maxHeight:b.pickerMaxHeight},b.listConfig);a=b.callParent();return a},onItemClick:function(b,a){var d=this,c=b.getSelectionModel().getSelection();if(!d.multiSelect&&c.length){if(c.length>0){c=c[0];if(c&&Ext.Date.isEqual(a.get("date"),c.get("date"))){d.collapse()}}}},syncSelection:function(){var m=this,j=m.picker,l=Ext.Date.isEqual,c=[],g,n,o,e,h,p,b,k,f,a;if(j){j.clearHighlight();n=m.getValue();g=j.getSelectionModel();m.ignoreSelection++;if(n===null){g.deselectAll()}else{o=Ext.Array.from(n);b=j.store.data.items;f=b.length;for(e=0,h=o.length;e<h;e++){p=o[e];if(Ext.isDate(p)){for(k=0;k<f;k++){a=b[k];if(l(a.get("date"),p)){c.push(a);if(!m.multiSelect){break}}}if(c.length){g.select(c)}}}}m.ignoreSelection--}},postBlur:function(){var a=this,b=a.getValue();a.callParent(arguments);if(a.validateValue(b)){a.setValue(b)}},findRecordByValue:function(a){if(typeof a==="string"){a=this.parseDate(a)}return this.callParent([a])},rawToValue:function(f){var e=this,c,b,d,a;if(e.multiSelect){b=[];c=Ext.Array.from(f);for(d=0,a=c.length;d<a;d++){b.push(e.parseDate(c[d]))}return b}return e.parseDate(f)},setValue:function(a){this.getPicker();if(Ext.isDate(a)){a=this.getInitDate(a.getHours(),a.getMinutes(),a.getSeconds())}return this.callParent([a])},getValue:function(){return this.rawToValue(this.callParent(arguments))}});Ext.define("Ext.menu.Item",{extend:Ext.Component,alias:"widget.menuitem",alternateClassName:"Ext.menu.TextItem",isMenuItem:true,mixins:[Ext.mixin.Queryable],activeCls:Ext.baseCSSPrefix+"menu-item-active",ariaRole:"menuitem",canActivate:true,clickHideDelay:0,destroyMenu:true,disabledCls:Ext.baseCSSPrefix+"menu-item-disabled",hideOnClick:true,menuAlign:"tl-tr?",menuExpandDelay:200,menuHideDelay:200,tooltipType:"qtip",baseCls:Ext.baseCSSPrefix+"menu-item",arrowCls:Ext.baseCSSPrefix+"menu-item-arrow",baseIconCls:Ext.baseCSSPrefix+"menu-item-icon",textCls:Ext.baseCSSPrefix+"menu-item-text",indentCls:Ext.baseCSSPrefix+"menu-item-indent",indentNoSeparatorCls:Ext.baseCSSPrefix+"menu-item-indent-no-separator",indentRightIconCls:Ext.baseCSSPrefix+"menu-item-indent-right-icon",indentRightArrowCls:Ext.baseCSSPrefix+"menu-item-indent-right-arrow",linkCls:Ext.baseCSSPrefix+"menu-item-link",linkHrefCls:Ext.baseCSSPrefix+"menu-item-link-href",childEls:["itemEl","iconEl","textEl","arrowEl"],renderTpl:'<tpl if="plain">{text}<tpl else><a id="{id}-itemEl" data-ref="itemEl" class="{linkCls}<tpl if="hasHref"> {linkHrefCls}</tpl>{childElCls}" href="{href}" role="menuitem" <tpl if="hrefTarget"> target="{hrefTarget}"</tpl> hidefocus="true" unselectable="on"<tpl if="tabIndex"> tabIndex="{tabIndex}"</tpl>><span id="{id}-textEl" data-ref="textEl" class="{textCls} {textCls}-{ui} {indentCls}{childElCls}" unselectable="on">{text}</span><tpl if="hasIcon"><div role="presentation" id="{id}-iconEl" data-ref="iconEl" class="{baseIconCls}-{ui} {baseIconCls}{[values.rightIcon ? "-right" : ""]} {iconCls}{childElCls} {glyphCls}" style="<tpl if="icon">background-image:url({icon});</tpl><tpl if="glyph && glyphFontFamily">font-family:{glyphFontFamily};</tpl>"><tpl if="glyph">&#{glyph};</tpl></div></tpl><tpl if="showCheckbox"><div role="presentation" id="{id}-checkEl" data-ref="checkEl" class="{baseIconCls}-{ui} {baseIconCls}{[(values.hasIcon && !values.rightIcon) ? "-right" : ""]} {groupCls} {checkboxCls}{childElCls}"></div></tpl><tpl if="hasMenu"><div role="presentation" id="{id}-arrowEl" data-ref="arrowEl" class="{arrowCls} {arrowCls}-{ui}{childElCls}"></div></tpl></a></tpl>',maskOnDisable:false,iconAlign:"left",activate:function(b){var a=this;if(b||(!a.activated&&a.canActivate&&a.rendered&&!a.isDisabled()&&a.isVisible())){if(!a.plain){a.el.addCls(a.activeCls)}a.focus(false,true);a.activated=true;if(a.hasListeners.activate){a.fireEvent("activate",a)}}},deactivate:function(){var b=this,a;if(b.activated){a=b.up("");if(!b.plain){b.el.removeCls(b.activeCls)}if(a){a.focus(false,true)}b.hideMenu();b.activated=false;if(b.hasListeners.deactivate){b.fireEvent("deactivate",b)}}},deferHideMenu:function(){if(this.menu.isVisible()){this.menu.hide()}},cancelDeferHide:function(){clearTimeout(this.hideMenuTimer)},deferHideParentMenus:function(){var a;Ext.menu.Manager.hideAll();if(!Ext.Element.getActiveElement()){a=this.up(":not([hidden])");if(a){a.focus()}}},expandMenu:function(a){var b=this;if(b.menu){b.cancelDeferHide();if(a===0){b.doExpandMenu()}else{clearTimeout(b.expandMenuTimer);b.expandMenuTimer=Ext.defer(b.doExpandMenu,Ext.isNumber(a)?a:b.menuExpandDelay,b)}}},doExpandMenu:function(){var a=this,b=a.menu;if(a.activated&&(!b.rendered||!b.isVisible())){a.parentMenu.activeChild=b;b.ownerItem=a;b.parentMenu=a.parentMenu;b.constrainTo=document.body;b.showBy(a,a.menuAlign)}},getRefItems:function(a){var c=this.menu,b;if(c){b=c.getRefItems(a);b.unshift(c)}return b||[]},hideMenu:function(a){var b=this;if(b.menu){clearTimeout(b.expandMenuTimer);b.hideMenuTimer=Ext.defer(b.deferHideMenu,Ext.isNumber(a)?a:b.menuHideDelay,b)}},initComponent:function(){var b=this,c=Ext.baseCSSPrefix,a="",d;if(b.plain){a+=c+"menu-item-plain"}if(b.cls){a+=" "+b.cls}b.cls=a;if(b.menu){d=b.menu;delete b.menu;b.setMenu(d)}b.callParent(arguments)},onClick:function(d){var c=this,b=c.clickHideDelay,f=d.browserEvent,a;if(!c.href||c.disabled){d.stopEvent()}if(c.disabled||c.handlingClick){return}if(c.hideOnClick&&d.browserEvent.type!=="touchcancel"&&!(d.type==="tap"&&c.menu)){if(!b){c.deferHideParentMenus()}else{c.deferHideParentMenusTimer=Ext.defer(c.deferHideParentMenus,b,c)}}Ext.callback(c.handler,c.scope,[c,d],0,c);c.fireEvent("click",c,d);if(Ext.isIE9m){a=(f.returnValue===false)?true:false}else{a=!!f.defaultPrevented}if(c.href&&!a){c.handlingClick=true;c.itemEl.dom.click();delete c.handlingClick}if(!c.hideOnClick){c.focus()}},onRemoved:function(){var a=this;if(a.activated&&a.parentMenu.activeItem===a){a.parentMenu.deactivateActiveItem()}a.callParent(arguments);a.parentMenu=a.ownerButton=null},beforeDestroy:function(){var a=this;if(a.rendered){a.clearTip()}a.callParent()},onDestroy:function(){var a=this;clearTimeout(a.expandMenuTimer);a.cancelDeferHide();clearTimeout(a.deferHideParentMenusTimer);a.setMenu(null);a.callParent(arguments)},beforeRender:function(){var j=this,k=j.glyph,h=Ext._glyphFontFamily,e=!!(j.icon||j.iconCls||k),l=!!j.menu,f=((j.iconAlign==="right")&&!l),c=j.isMenuCheckItem,a=[],d=j.ownerCt,g=d.plain,b;j.callParent();if(e){if(l&&j.showCheckbox){e=false}}if(typeof k==="string"){b=k.split("@");k=b[0];h=b[1]}if(!g||(e&&!f)||c){if(d.showSeparator&&!g){a.push(j.indentCls)}else{a.push(j.indentNoSeparatorCls)}}if(l){a.push(j.indentRightArrowCls)}else{if(e&&(f||c)){a.push(j.indentRightIconCls)}}Ext.applyIf(j.renderData,{hasHref:!!j.href,href:j.href||"#",hrefTarget:j.hrefTarget,icon:j.icon,iconCls:j.iconCls,glyph:k,glyphCls:k?Ext.baseCSSPrefix+"menu-item-glyph":undefined,glyphFontFamily:h,hasIcon:e,hasMenu:l,indent:!g||e||c,isCheckItem:c,rightIcon:f,plain:j.plain,text:j.text,arrowCls:j.arrowCls,baseIconCls:j.baseIconCls,textCls:j.textCls,indentCls:a.join(" "),linkCls:j.linkCls,linkHrefCls:j.linkHrefCls,groupCls:j.group?j.groupCls:"",tabIndex:j.tabIndex})},onRender:function(){var a=this;a.callParent(arguments);if(a.tooltip){a.setTooltip(a.tooltip,true)}},setMenu:function(e,d){var c=this,b=c.menu,a=c.arrowEl;if(b){delete b.parentMenu;delete b.ownerItem;if(d===true||(d!==false&&c.destroyMenu)){Ext.destroy(b)}}if(e){c.menu=Ext.menu.Manager.get(e);c.menu.ownerItem=c}else{c.menu=null}if(c.rendered&&!c.destroying&&a){a[c.menu?"addCls":"removeCls"](c.arrowCls)}},setHandler:function(b,a){this.handler=b||null;this.scope=a},setIcon:function(b){var a=this.iconEl,c=this.icon;if(a){a.src=b||Ext.BLANK_IMAGE_URL}this.icon=b;this.fireEvent("iconchange",this,c,b)},setIconCls:function(b){var d=this,a=d.iconEl,c=d.iconCls;if(a){if(d.iconCls){a.removeCls(d.iconCls)}if(b){a.addCls(b)}}d.iconCls=b;d.fireEvent("iconchange",d,c,b)},setText:function(d){var c=this,b=c.textEl||c.el,a=c.text;c.text=d;if(c.rendered){b.setHtml(d||"");c.ownerCt.updateLayout()}c.fireEvent("textchange",c,a,d)},getTipAttr:function(){return this.tooltipType=="qtip"?"data-qtip":"title"},clearTip:function(){if(Ext.quickTipsActive&&Ext.isObject(this.tooltip)){Ext.tip.QuickTipManager.unregister(this.itemEl)}},setTooltip:function(c,a){var b=this;if(b.rendered){if(!a){b.clearTip()}if(Ext.quickTipsActive&&Ext.isObject(c)){Ext.tip.QuickTipManager.register(Ext.apply({target:b.itemEl.id},c));b.tooltip=c}else{b.itemEl.dom.setAttribute(b.getTipAttr(),c)}}else{b.tooltip=c}return b},privates:{getFocusEl:function(){return this.itemEl}}});Ext.define("Ext.menu.CheckItem",{extend:Ext.menu.Item,alias:"widget.menucheckitem",checkedCls:Ext.baseCSSPrefix+"menu-item-checked",uncheckedCls:Ext.baseCSSPrefix+"menu-item-unchecked",groupCls:Ext.baseCSSPrefix+"menu-group-icon",hideOnClick:false,checkChangeDisabled:false,ariaRole:"menuitemcheckbox",childEls:["checkEl"],showCheckbox:true,isMenuCheckItem:true,checkboxCls:Ext.baseCSSPrefix+"menu-item-checkbox",initComponent:function(){var a=this;a.checked=!!a.checked;a.callParent(arguments);Ext.menu.Manager.registerCheckable(a);if(a.group){if(a.initialConfig.hideOnClick!==false){a.hideOnClick=true}}},beforeRender:function(){var a=this;a.callParent();Ext.apply(a.renderData,{checkboxCls:a.checkboxCls,showCheckbox:a.showCheckbox})},afterRender:function(){var a=this;a.callParent();a.checked=!a.checked;a.setChecked(!a.checked,true);if(a.checkChangeDisabled){a.disableCheckChange()}},disableCheckChange:function(){var b=this,a=b.checkEl;if(a){a.addCls(b.disabledCls)}if(Ext.isIE8&&b.rendered){b.el.repaint()}b.checkChangeDisabled=true},enableCheckChange:function(){var b=this,a=b.checkEl;if(a){a.removeCls(b.disabledCls)}b.checkChangeDisabled=false},onClick:function(b){var a=this;if(!a.disabled&&!a.checkChangeDisabled&&!(a.checked&&a.group)){a.setChecked(!a.checked)}this.callParent([b])},onDestroy:function(){Ext.menu.Manager.unregisterCheckable(this);this.callParent(arguments)},setChecked:function(d,b){var c=this,e=c.checkedCls,f=c.uncheckedCls,a=c.el;if(c.checked!==d&&(b||c.fireEvent("beforecheckchange",c,d)!==false)){if(a){if(d){a.addCls(e);a.removeCls(f)}else{a.addCls(f);a.removeCls(e)}}c.checked=d;Ext.menu.Manager.onCheckChange(c,d);if(!b){Ext.callback(c.checkHandler,c.scope||c,[c,d]);c.fireEvent("checkchange",c,d)}}}});Ext.define("Ext.menu.KeyNav",{extend:Ext.util.KeyNav,constructor:function(a){var b=this;b.menu=a.target;b.callParent([Ext.apply({down:b.down,enter:b.enter,esc:b.escape,left:b.left,right:b.right,space:b.enter,tab:b.tab,up:b.up},a)])},down:function(b){var a=this,c=a.menu.focusedItem;if(c&&b.getKey()==b.DOWN&&a.isWhitelisted(c)){return true}a.focusNextItem(1)},enter:function(b){var c=this.menu,a=c.focusedItem;if(c.activeItem){c.onClick(b)}else{if(a&&a.isFormField){return true}}},escape:function(a){Ext.menu.Manager.hideAll()},focusNextItem:function(b){var a=this.menu,e=a.items,g=a.focusedItem,f=g?e.indexOf(g):-1,h=f+b,d=e.length,c=0,j;while(c<d&&h!==f){if(h<0){h=d-1}else{if(h>=d){h=0}}j=e.getAt(h);if(a.canActivateItem(j)){a.setActiveItem(j);break}h+=b;++c}},isWhitelisted:function(a){var b=Ext.FocusManager;return b&&b.isWhitelisted(a)},left:function(a){var b=this.menu,c=b.focusedItem;if(c&&this.isWhitelisted(c)){return true}if(b.parentMenu){b.hide();b.parentMenu.focus()}},right:function(c){var d=this.menu,f=d.focusedItem,a=d.activeItem,b;if(f&&this.isWhitelisted(f)){return true}if(a){b=d.activeItem.menu;if(b){a.expandMenu(0);b.setActiveItem(b.child(":focusable"))}}},tab:function(b){var a=this;if(b.shiftKey){a.up(b)}else{a.down(b)}},up:function(b){var a=this,c=a.menu.focusedItem;if(c&&b.getKey()==b.UP&&a.isWhitelisted(c)){return true}a.focusNextItem(-1)}});Ext.define("Ext.menu.Separator",{extend:Ext.menu.Item,alias:"widget.menuseparator",canActivate:false,focusable:false,hideOnClick:false,plain:true,separatorCls:Ext.baseCSSPrefix+"menu-item-separator",text:"&#160;",ariaRole:"separator",beforeRender:function(a,c){var b=this;b.callParent();b.addCls(b.separatorCls)}});Ext.define("Ext.menu.Menu",{extend:Ext.panel.Panel,alias:"widget.menu",enableKeyNav:true,allowOtherMenus:false,ariaRole:"menu",floating:true,constrain:true,hidden:true,hideMode:"visibility",ignoreParentClicks:false,isMenu:true,showSeparator:true,minWidth:undefined,defaultMinWidth:120,defaultAlign:"tl-bl?",baseCls:Ext.baseCSSPrefix+"menu",_iconSeparatorCls:Ext.baseCSSPrefix+"menu-icon-separator",_itemCmpCls:Ext.baseCSSPrefix+"menu-item-cmp",layout:{type:"vbox",align:"stretchmax",overflowHandler:"Scroller"},initComponent:function(){var b=this,a=[Ext.baseCSSPrefix+"menu"],c=b.bodyCls?[b.bodyCls]:[],d=b.floating!==false;Ext.menu.Manager.register(b);if(b.plain){a.push(Ext.baseCSSPrefix+"menu-plain")}b.cls=a.join(" ");c.push(Ext.baseCSSPrefix+"menu-body",Ext.dom.Element.unselectableCls);b.bodyCls=c.join(" ");if(d){if(b.minWidth===undefined){b.minWidth=b.defaultMinWidth}}else{b.hidden=!!b.initialConfig.hidden;b.constrain=false}b.callParent(arguments);Ext.override(b.getLayout(),{configureItem:b.configureItem})},initHierarchyEvents:Ext.emptyFn,getInherited:function(){var a=this.callParent();a.hidden=this.hidden;return a},beforeRender:function(){this.callParent(arguments);if(!this.getSizeModel().width.shrinkWrap){this.layout.align="stretch"}},onBoxReady:function(){var b=this,a={click:b.onClick,mouseover:b.onMouseOver,scope:b},c=b._iconSeparatorCls;if(Ext.supports.Touch){a.pointerdown=b.onMouseOver;b.mon(Ext.GlobalEvents,"mousedown",b.onDocMouseDown,b)}b.callParent(arguments);if(b.showSeparator){b.iconSepEl=b.body.insertFirst({role:"presentation",cls:c+" "+c+"-"+b.ui,html:"&#160;"})}b.mon(b.el,a);b.mouseMonitor=b.el.monitorMouseLeave(100,b.onMouseLeave,b);if(b.enableKeyNav){b.keyNav=new Ext.menu.KeyNav({target:b,keyMap:b.getKeyMap()})}},getRefOwner:function(){return this.ownerItem||this.ownerButton||this.callParent(arguments)},canActivateItem:function(a){return a&&!a.isDisabled()&&a.isVisible()&&(a.canActivate||!a.isMenuItem)},deactivateActiveItem:function(b){var c=this,d=c.activeItem,a=c.focusedItem;if(d){d.deactivate();if(!d.activated){delete c.activeItem}}if(a&&b){a.blur();delete c.focusedItem}},hide:function(){this.deactivateActiveItem(true);this.callParent(arguments)},getItemFromEvent:function(d){var a=this,c=a.layout.getRenderTarget().dom,b=d.getTarget();while(b.parentNode!==c){b=b.parentNode;if(!b){return}}return Ext.getCmp(b.id)},lookupComponent:function(b){var a=this;if(typeof b=="string"){b=a.lookupItemFromString(b)}else{if(Ext.isObject(b)){b=a.lookupItemFromObject(b)}}b.minWidth=b.minWidth||a.minWidth;return b},lookupItemFromObject:function(b){var a=this;if(!b.isComponent){if(!b.xtype){b=Ext.create("Ext.menu."+(Ext.isBoolean(b.checked)?"Check":"")+"Item",b)}else{b=Ext.ComponentManager.create(b,b.xtype)}}if(b.isMenuItem){b.parentMenu=a}return b},lookupItemFromString:function(a){return(a=="separator"||a=="-")?new Ext.menu.Separator():new Ext.menu.Item({canActivate:false,hideOnClick:false,plain:true,text:a})},configureItem:function(c){var b=this.owner,e=Ext.baseCSSPrefix,d=b.ui,a,f;if(c.isMenuItem){c.setUI(d)}else{if(b.items.getCount()>1&&!c.rendered&&!c.dock){f=b._itemCmpCls;a=[f+" "+f+"-"+d];if(!b.plain&&(c.indent!==false||c.iconCls==="no-icon")){a.push(e+"menu-item-indent-"+d)}if(c.rendered){c.el.addCls(a)}else{c.cls=(c.cls||"")+" "+a.join(" ")}}}this.callParent(arguments)},onClick:function(d){var c=this,a=d.type,b;if(c.disabled){d.stopEvent();return}b=(a!=="keydown")?c.getItemFromEvent(d):c.activeItem;if(b&&b.isMenuItem){if(!b.menu||!c.ignoreParentClicks){b.onClick(d)}else{d.stopEvent()}}if(!b||b.disabled){b=undefined}c.fireEvent("click",c,b,d)},onDestroy:function(){var a=this;Ext.menu.Manager.unregister(a);a.parentMenu=a.ownerButton=null;if(a.rendered){a.el.un(a.mouseMonitor);Ext.destroy(a.keyNav);a.keyNav=null}a.callParent(arguments)},onDocMouseDown:function(a){if(!this.owns(a.target)){this.deactivateActiveItem()}},onMouseLeave:function(b){var a=this;a.deactivateActiveItem();if(a.disabled){return}a.fireEvent("mouseleave",a,b)},onMouseOver:function(f){var d=this,h=f.getRelatedTarget(),a=!d.el.contains(h),c=d.getItemFromEvent(f),b=d.parentMenu,g=d.ownerItem;if(a&&b){b.setActiveItem(g);g.cancelDeferHide();b.mouseMonitor.mouseenter()}if(d.disabled){return}if(c&&!c.activated){d.setActiveItem(c);if(c.activated&&c.expandMenu){c.expandMenu()}}if(a){d.fireEvent("mouseenter",d,f)}d.fireEvent("mouseover",d,c,f)},setActiveItem:function(b){var a=this;if(b&&(b!=a.activeItem)){a.deactivateActiveItem();if(a.canActivateItem(b)){if(b.activate){b.activate(true);if(b.activated){a.activeItem=b;a.focusedItem=b}}else{b.focus();a.focusedItem=b}}}},beforeShow:function(){var b=this,a;if(b.floating){b.savedMaxHeight=b.maxHeight;a=b.container.getViewSize().height;b.maxHeight=Math.min(b.maxHeight||a,a)}b.callParent(arguments)},afterShow:function(){var a=this;a.callParent(arguments);if(a.floating){a.maxHeight=a.savedMaxHeight}},privates:{getFocusEl:function(){return this.focusedItem||this.items.items[0]}}});Ext.define("Ext.layout.ClassList",(function(){var b=Ext.String.splitWords,a=Ext.Array.toMap;return{dirty:false,constructor:function(c){this.owner=c;this.map=a(this.classes=b(c.el.className))},add:function(c){var d=this;if(!d.map[c]){d.map[c]=true;d.classes.push(c);if(!d.dirty){d.dirty=true;d.owner.markDirty()}}},addMany:function(c){Ext.each(b(c),this.add,this)},contains:function(c){return this.map[c]},flush:function(){this.owner.el.className=this.classes.join(" ");this.dirty=false},remove:function(c){var d=this;if(d.map[c]){delete d.map[c];d.classes=Ext.Array.filter(d.classes,function(e){return e!=c});if(!d.dirty){d.dirty=true;d.owner.markDirty()}}},removeMany:function(d){var e=this,c=a(b(d));e.classes=Ext.Array.filter(e.classes,function(f){if(!c[f]){return true}delete e.map[f];if(!e.dirty){e.dirty=true;e.owner.markDirty()}return false})}}}()));Ext.define("Ext.util.Queue",{constructor:function(){this.clear()},add:function(c){var b=this,a=b.getKey(c);if(!b.map[a]){++b.length;b.items.push(c);b.map[a]=c}return c},clear:function(){var b=this,a=b.items;b.items=[];b.map={};b.length=0;return a},contains:function(b){var a=this.getKey(b);return this.map.hasOwnProperty(a)},getCount:function(){return this.length},getKey:function(a){return a.id},remove:function(e){var d=this,c=d.getKey(e),a=d.items,b;if(d.map[c]){b=Ext.Array.indexOf(a,e);Ext.Array.erase(a,b,1);delete d.map[c];--d.length}return e}});Ext.define("Ext.layout.ContextItem",{heightModel:null,widthModel:null,sizeModel:null,optOut:false,ownerSizePolicy:null,boxChildren:null,boxParent:null,children:[],dirty:null,dirtyCount:0,hasRawContent:true,isContextItem:true,isTopLevel:false,consumersContentHeight:0,consumersContentWidth:0,consumersContainerHeight:0,consumersContainerWidth:0,consumersHeight:0,consumersWidth:0,ownerCtContext:null,remainingChildDimensions:0,props:null,state:null,wrapsComponent:false,constructor:function(r){var s=this,p=Ext.layout.SizeModel.sizeModels,k=p.configured,j=p.shrinkWrap,b,q,n,m,f,d,t,e,o,l,c,h,g,a;Ext.apply(s,r);b=s.el;s.id=b.id;s.flushedProps={};s.props=f={};s.styles={};t=s.target;if(!t.isComponent){q=b.lastBox}else{s.wrapsComponent=true;s.framing=t.frameSize||null;s.isComponentChild=t.ownerLayout&&t.ownerLayout.isComponentLayout;q=t.lastBox;n=t.ownerCt;if(n&&(m=n.el&&s.context.items[n.el.id])){s.ownerCtContext=m}s.sizeModel=d=t.getSizeModel(m&&m.widthModel.pairsByHeightOrdinal[m.heightModel.ordinal]);s.widthModel=h=d.width;s.heightModel=g=d.height;if(q&&q.invalid===false){l=(t.width===(e=q.width));c=(t.height===(o=q.height));if(h===j&&g===j){a=true}else{if(h===k&&l){a=g===j||(g===k&&c)}}if(a){s.optOut=true;f.width=e;f.height=o}}}s.lastBox=q},init:function(h,c){var s=this,a=s.props,d=s.dirty,k=s.ownerCtContext,o=s.target.ownerLayout,g=!s.state,t=h||g,e,m,l,p,b,u,v=s.heightModel,f=s.widthModel,j,q,r=0;s.dirty=s.invalid=false;s.props={};s.remainingChildDimensions=0;if(s.boxChildren){s.boxChildren.length=0}if(!g){s.clearAllBlocks("blocks");s.clearAllBlocks("domBlocks")}if(!s.wrapsComponent){return t}u=s.target;s.state={};if(g){if(u.beforeLayout&&u.beforeLayout!==Ext.emptyFn){u.beforeLayout()}if(!k&&(p=u.ownerCt)){k=s.context.items[p.el.id]}if(k){s.ownerCtContext=k;s.isBoxParent=o&&o.isItemBoxParent(s)}else{s.isTopLevel=true}s.frameBodyContext=s.getEl("frameBody")}else{k=s.ownerCtContext;s.isTopLevel=!k;e=s.children;for(m=0,l=e.length;m<l;++m){e[m].init(true)}}s.hasRawContent=!(u.isContainer&&u.items.items.length>0);if(h){s.widthModel=s.heightModel=null;b=u.getSizeModel(k&&k.widthModel.pairsByHeightOrdinal[k.heightModel.ordinal]);if(g){s.sizeModel=b}s.widthModel=b.width;s.heightModel=b.height;if(k&&!s.isComponentChild){if(o.needsItemSize||!u.liquidLayout){k.remainingChildDimensions+=2}else{if(s.widthModel.calculated){++k.remainingChildDimensions}if(s.heightModel.calculated){++k.remainingChildDimensions}}}}else{if(a){s.recoverProp("x",a,d);s.recoverProp("y",a,d);if(s.widthModel.calculated){s.recoverProp("width",a,d)}else{if("width" in a){++r}}if(s.heightModel.calculated){s.recoverProp("height",a,d)}else{if("height" in a){++r}}if(k&&!s.isComponentChild){k.remainingChildDimensions+=r}}}if(a&&o&&o.manageMargins){s.recoverProp("margin-top",a,d);s.recoverProp("margin-right",a,d);s.recoverProp("margin-bottom",a,d);s.recoverProp("margin-left",a,d)}if(c){j=c.heightModel;q=c.widthModel;if(q&&j&&f&&v){if(f.shrinkWrap&&v.shrinkWrap){if(q.constrainedMax&&j.constrainedMin){j=null}}}if(q){s.widthModel=q}if(j){s.heightModel=j}if(c.state){Ext.apply(s.state,c.state)}}return t},initContinue:function(e){var g=this,d=g.ownerCtContext,a=g.target,c=g.widthModel,f=a.getInherited(),b;if(c.fixed){f.inShrinkWrapTable=false}else{delete f.inShrinkWrapTable}if(e){if(d&&c.shrinkWrap){b=d.isBoxParent?d:d.boxParent;if(b){b.addBoxChild(g)}}else{if(c.natural){g.boxParent=d}}}return e},initDone:function(d){var b=this,a=b.props,c=b.state;if(b.remainingChildDimensions===0){a.containerChildrenSizeDone=true}if(d){a.containerLayoutDone=true}if(b.boxChildren&&b.boxChildren.length&&b.widthModel.shrinkWrap){b.el.setWidth(10000);c.blocks=(c.blocks||0)+1}},initAnimation:function(){var b=this,c=b.target,a=b.ownerCtContext;if(a&&a.isTopLevel){b.animatePolicy=c.ownerLayout.getAnimatePolicy(b)}else{if(!a&&c.isCollapsingOrExpanding&&c.animCollapse){b.animatePolicy=c.componentLayout.getAnimatePolicy(b)}}if(b.animatePolicy){b.context.queueAnimation(b)}},addCls:function(a){this.getClassList().addMany(a)},removeCls:function(a){this.getClassList().removeMany(a)},addBlock:function(b,d,e){var c=this,f=c[b]||(c[b]={}),a=f[e]||(f[e]={});if(!a[d.id]){a[d.id]=d;++d.blockCount;++c.context.blockCount}},addBoxChild:function(d){var c=this,b,a=d.widthModel;d.boxParent=this;d.measuresBox=a.shrinkWrap?d.hasRawContent:a.natural;if(d.measuresBox){b=c.boxChildren;if(b){b.push(d)}else{c.boxChildren=[d]}}},addPositionStyles:function(d,b){var a=b.x,e=b.y,c=0;if(a!==undefined){d.left=a+"px";++c}if(e!==undefined){d.top=e+"px";++c}return c},addTrigger:function(f,g){var e=this,a=g?"domTriggers":"triggers",h=e[a]||(e[a]={}),b=e.context,d=b.currentLayout,c=h[f]||(h[f]={});if(!c[d.id]){c[d.id]=d;++d.triggerCount;c=b.triggers[g?"dom":"data"];(c[d.id]||(c[d.id]=[])).push({item:this,prop:f});if(e.props[f]!==undefined){if(!g||!(e.dirty&&(f in e.dirty))){++d.firedTriggers}}}},boxChildMeasured:function(){var b=this,c=b.state,a=(c.boxesMeasured=(c.boxesMeasured||0)+1);if(a==b.boxChildren.length){c.clearBoxWidth=1;++b.context.progressCount;b.markDirty()}},borderNames:["border-top-width","border-right-width","border-bottom-width","border-left-width"],marginNames:["margin-top","margin-right","margin-bottom","margin-left"],paddingNames:["padding-top","padding-right","padding-bottom","padding-left"],trblNames:["top","right","bottom","left"],cacheMissHandlers:{borderInfo:function(a){var b=a.getStyles(a.borderNames,a.trblNames);b.width=b.left+b.right;b.height=b.top+b.bottom;return b},marginInfo:function(a){var b=a.getStyles(a.marginNames,a.trblNames);b.width=b.left+b.right;b.height=b.top+b.bottom;return b},paddingInfo:function(b){var a=b.frameBodyContext||b,c=a.getStyles(b.paddingNames,b.trblNames);c.width=c.left+c.right;c.height=c.top+c.bottom;return c}},checkCache:function(a){return this.cacheMissHandlers[a](this)},clearAllBlocks:function(a){var c=this[a],b;if(c){for(b in c){this.clearBlocks(a,b)}}},clearBlocks:function(c,f){var g=this[c],b=g&&g[f],d,e,a;if(b){delete g[f];d=this.context;for(a in b){e=b[a];--d.blockCount;if(!--e.blockCount&&!e.pending&&!e.done){d.queueLayout(e)}}}},block:function(a,b){this.addBlock("blocks",a,b)},domBlock:function(a,b){this.addBlock("domBlocks",a,b)},fireTriggers:function(b,f){var g=this[b],d=g&&g[f],c=this.context,e,a;if(d){for(a in d){e=d[a];++e.firedTriggers;if(!e.done&&!e.blockCount&&!e.pending){c.queueLayout(e)}}}},flush:function(){var b=this,a=b.dirty,c=b.state,d=b.el;b.dirtyCount=0;if(b.classList&&b.classList.dirty){b.classList.flush()}if("attributes" in b){d.set(b.attributes);delete b.attributes}if("innerHTML" in b){d.innerHTML=b.innerHTML;delete b.innerHTML}if(c&&c.clearBoxWidth){c.clearBoxWidth=0;b.el.setStyle("width",null);if(!--c.blocks){b.context.queueItemLayouts(b)}}if(a){delete b.dirty;b.writeProps(a,true)}},flushAnimations:function(){var o=this,c=o.previousSize,l,n,e,g,f,d,h,m,k,a,b;if(c){l=o.target;n=l.getAnimationProps();e=n.duration;g=Ext.Object.getKeys(o.animatePolicy);f=Ext.apply({},{from:{},to:{},duration:e||Ext.fx.Anim.prototype.duration},n);for(d=0,h=0,m=g.length;h<m;h++){k=g[h];a=c[k];b=o.peek(k);if(a!=b){k=o.translateProps[k]||k;f.from[k]=a;f.to[k]=b;++d}}if(d){if(o.isCollapsingOrExpanding===1){l.componentLayout.undoLayout(o)}else{o.writeProps(f.from)}o.el.animate(f);Ext.fx.Manager.getFxQueue(o.el.id)[0].on({afteranimate:function(){if(o.isCollapsingOrExpanding===1){l.componentLayout.redoLayout(o);l.afterCollapse(true)}else{if(o.isCollapsingOrExpanding===2){l.afterExpand(true)}}}})}}},getBorderInfo:function(){var a=this,b=a.borderInfo;if(!b){a.borderInfo=b=a.checkCache("borderInfo")}return b},getClassList:function(){return this.classList||(this.classList=new Ext.layout.ClassList(this))},getEl:function(c,a){var e=this,f,d,b;if(c){if(c.dom){d=c}else{f=e.target;if(a){f=a}d=f[c];if(typeof d=="function"){d=d.call(f);if(d===e.el){return this}}}if(d){b=e.context.getEl(e,d)}}return b||null},getFrameInfo:function(){var c=this,d=c.frameInfo,b,a;if(!d){b=c.framing;a=c.getBorderInfo();c.frameInfo=d=b?{top:b.top+a.top,right:b.right+a.right,bottom:b.bottom+a.bottom,left:b.left+a.left,width:b.width+a.width,height:b.height+a.height}:a}return d},getMarginInfo:function(){var d=this,g=d.marginInfo,b,a,f,e,c;if(!g){if(!d.wrapsComponent){g=d.checkCache("marginInfo")}else{b=d.target;e=b.ownerLayout;c=e?e.id:null;a=e&&e.manageMargins;g=b.margin$;if(g&&g.ownerId!==c){g=null}if(!g){g=d.parseMargins(b,b.margin)||d.checkCache("marginInfo");if(a){d.setProp("margin-top",0);d.setProp("margin-right",0);d.setProp("margin-bottom",0);d.setProp("margin-left",0)}g.ownerId=c;b.margin$=g}g.width=g.left+g.right;g.height=g.top+g.bottom}d.marginInfo=g}return g},clearMarginCache:function(){delete this.marginInfo;delete this.target.margin$},getPaddingInfo:function(){var a=this,b=a.paddingInfo;if(!b){a.paddingInfo=b=a.checkCache("paddingInfo")}return b},getProp:function(c){var b=this,a=b.props[c];b.addTrigger(c);return a},getDomProp:function(c){var b=this,a=(b.dirty&&(c in b.dirty))?undefined:b.props[c];b.addTrigger(c,true);return a},getStyle:function(a){var c=this,b=c.styles,e,d;if(a in b){d=b[a]}else{e=c.styleInfo[a];d=c.el.getStyle(a);if(e&&e.parseInt){d=parseInt(d,10)||0}b[a]=d}return d},getStyles:function(o,b){var l=this,e=l.styles,p={},f=0,d=o.length,j,h,k,a,c,g,q,m;b=b||o;for(j=0;j<d;++j){a=o[j];if(a in e){p[b[j]]=e[a];++f;if(j&&f==1){h=o.slice(0,j);k=b.slice(0,j)}}else{if(f){(h||(h=[])).push(a);(k||(k=[])).push(b[j])}}}if(f<d){h=h||o;k=k||b;g=l.styleInfo;q=l.el.getStyle(h);for(j=h.length;j--;){a=h[j];c=g[a];m=q[a];if(c&&c.parseInt){m=parseInt(m,10)||0}p[k[j]]=m;e[a]=m}}return p},hasProp:function(a){return this.getProp(a)!=null},hasDomProp:function(a){return this.getDomProp(a)!=null},invalidate:function(a){this.context.queueInvalidate(this,a)},markDirty:function(){if(++this.dirtyCount==1){this.context.queueFlush(this)}},onBoxMeasured:function(){var a=this.boxParent,b=this.state;if(a&&a.widthModel.shrinkWrap&&!b.boxMeasured&&this.measuresBox){b.boxMeasured=1;a.boxChildMeasured()}},parseMargins:function(a,d){if(d===true){d=5}var c=typeof d,b;if(c=="string"||c=="number"){b=a.parseBox(d)}else{if(d){b={top:0,right:0,bottom:0,left:0};if(d){d=Ext.apply(b,a.parseBox(d))}}}return b},peek:function(a){return this.props[a]},recoverProp:function(f,b,a){var e=this,d=e.props,c;if(f in b){d[f]=b[f];if(a&&f in a){c=e.dirty||(e.dirty={});c[f]=a[f]}}},redo:function(b){var e=this,c,a,d;e.revertProps(e.props);if(b&&e.wrapsComponent){if(e.childItems){for(d=0,c=e.childItems,a=c.length;d<a;d++){c[d].redo(b)}}for(d=0,c=e.children,a=c.length;d<a;d++){c[d].redo()}}},removeEl:function(b,a){var d=this,e,c;if(b){if(b.dom){c=b}else{e=d.target;if(a){e=a}c=e[b];if(typeof c=="function"){c=c.call(e);if(c===d.el){return this}}}if(c){d.context.removeEl(d,c)}}},revertProps:function(d){var a,b=this.flushedProps,c={};for(a in d){if(b.hasOwnProperty(a)){c[a]=d[a]}}this.writeProps(c)},setAttribute:function(a,c){var b=this;if(!b.attributes){b.attributes={}}b.attributes[a]=c;b.markDirty()},setBox:function(b){var a=this;if("left" in b){a.setProp("x",b.left)}if("top" in b){a.setProp("y",b.top)}a.setSize(b.width,b.height)},setContentHeight:function(a,b){if(!b&&this.hasRawContent){return 1}return this.setProp("contentHeight",a)},setContentWidth:function(b,a){if(!a&&this.hasRawContent){return 1}return this.setProp("contentWidth",b)},setContentSize:function(c,a,b){return this.setContentWidth(c,b)+this.setContentHeight(a,b)==2},setProp:function(d,c,a){var b=this,f=typeof c,e;if(f=="undefined"||(f==="number"&&isNaN(c))){return 0}if(b.props[d]===c){return 1}b.props[d]=c;++b.context.progressCount;if(a===false){b.fireTriggers("domTriggers",d);b.clearBlocks("domBlocks",d)}else{e=b.styleInfo[d];if(e){if(!b.dirty){b.dirty={}}b.dirty[d]=c;b.markDirty()}}b.fireTriggers("triggers",d);b.clearBlocks("blocks",d);return 1},setHeight:function(k,a){var f=this,d=f.target,c=f.ownerCtContext,g,e,b,j,h;if(k<0){k=0}if(!f.wrapsComponent){if(!f.setProp("height",k,a)){return NaN}}else{b=f.collapsedVert?0:(d.minHeight||0);k=Ext.Number.constrain(k,b,d.maxHeight);j=f.props.height;if(!f.setProp("height",k,a)){return NaN}if(c&&!f.isComponentChild&&isNaN(j)){h=--c.remainingChildDimensions;if(!h){c.setProp("containerChildrenSizeDone",true)}}g=f.frameBodyContext;if(g){e=f.getFrameInfo();g[f.el.vertical?"setWidth":"setHeight"](k-e.height,a)}}return k},setWidth:function(b,a){var h=this,f=h.target,e=h.ownerCtContext,j,g,d,c,k;if(b<0){b=0}if(!h.wrapsComponent){if(!h.setProp("width",b,a)){return NaN}}else{d=h.collapsedHorz?0:(f.minWidth||0);b=Ext.Number.constrain(b,d,f.maxWidth);c=h.props.width;if(!h.setProp("width",b,a)){return NaN}if(e&&!h.isComponentChild&&isNaN(c)){k=--e.remainingChildDimensions;if(!k){e.setProp("containerChildrenSizeDone",true)}}j=h.frameBodyContext;if(j){g=h.getFrameInfo();j.setWidth(b-g.width,a)}}return b},setSize:function(c,a,b){this.setWidth(c,b);this.setHeight(a,b)},translateProps:{x:"left",y:"top"},undo:function(b){var e=this,c,a,d;e.revertProps(e.lastBox);if(b&&e.wrapsComponent){if(e.childItems){for(d=0,c=e.childItems,a=c.length;d<a;d++){c[d].undo(b)}}for(d=0,c=e.children,a=c.length;d<a;d++){c[d].undo()}}},unsetProp:function(b){var a=this.dirty;delete this.props[b];if(a){delete a[b]}},writeProps:function(e,d){if(!(e&&typeof e=="object")){Ext.Logger.warn("writeProps expected dirtyProps to be an object");return}var s=this,c=s.el,h={},f=0,b=s.styleInfo,r,j,m,o=e.width,k=e.height,t=s.target,g,a,n,p,q,l;if("displayed" in e){c.setDisplayed(e.displayed)}for(j in e){if(d){s.fireTriggers("domTriggers",j);s.clearBlocks("domBlocks",j);s.flushedProps[j]=1}r=b[j];if(r&&r.dom){if(r.suffix&&(m=parseInt(e[j],10))){h[j]=m+r.suffix}else{h[j]=e[j]}++f}}if("x" in e||"y" in e){if(t.isComponent){t.setPosition(e.x,e.y)}else{f+=s.addPositionStyles(h,e)}}if(s.wrapsComponent&&Ext.isIE9){if((g=o!==undefined&&s.hasOverflowY)||(a=k!==undefined&&s.hasOverflowX)){n=s.isAbsolute;if(n===undefined){n=false;l=s.target.getTargetEl();q=l.getStyle("position");s.isAbsolute=(q==="absolute")}if(n){p=Ext.getScrollbarSize();if(g){o=parseInt(o,10)+p.width;h.width=o+"px";++f}if(a){k=parseInt(k,10)+p.height;h.height=k+"px";++f}}}}if(f){c.setStyle(h)}},debugHooks:{$enabled:false,addBlock:function(a,b,c){(b.blockedBy||(b.blockedBy={}))[this.id+"."+c+(a.substring(0,3)=="dom"?":dom":"")]=1;return this.callParent(arguments)},addBoxChild:function(c){var a=this.callParent(arguments),d=this.boxChildren,b;if(d&&d.length==1){b=this.context.boxParents||(this.context.boxParents=new Ext.util.MixedCollection());b.add(this)}return a},addTrigger:function(c,d){var b=this.context.currentLayout,a;this.callParent(arguments);a=this.context.triggersByLayoutId;(a[b.id]||(a[b.id]={}))[this.id+"."+c+(d?":dom":"")]={item:this,name:c}},checkAuthority:function(f){var d=this,a=d[f+"Model"],c=d.context.currentLayout,b,e;if(c==d.target.ownerLayout){b=a.calculated}else{if(c.isComponentLayout){b=d.isTopLevel||a.auto||a.configured}}if(!b){e=d.context.getLayoutName(c);Ext.log(e+" cannot set "+f)}},clearBlocks:function(c,f){var g=this[c],b=g&&g[f],d=this.id+"."+f+(c.substring(0,3)=="dom"?":dom":""),e,a;if(b){for(a in b){e=b[a];delete e.blockedBy[d]}}return this.callParent(arguments)},getEl:function(a){var b=this.callParent(arguments);if(b&&b!==this&&b.parent!==this){Ext.Error.raise({msg:"Got element from wrong component"})}return b},init:function(){var b=this,a;a=b.callParent(arguments);if(b.context.logOn.initItem){Ext.log(b.id," consumers: content=",b.consumersContentWidth,"/",b.consumersContentHeight,", container=",b.consumersContainerWidth,"/",b.consumersContainerHeight,", size=",b.consumersWidth,"/",b.consumersHeight)}return a},invalidate:function(){if(this.wrapsComponent){if(this.context.logOn.invalidate){Ext.log("invalidate: ",this.id)}}else{Ext.Error.raise({msg:"Cannot invalidate an element contextItem"})}return this.callParent(arguments)},setProp:function(f,e,b){var d=this,c=d.context.currentLayout,h=d.context.getLayoutName(c),g=d.id+"."+f,a;if(e!==null){a=d.setBy||(d.setBy={});if(!a[f]){a[f]=h}else{if(a[f]!=h){Ext.log({level:"warn"},"BAD! ",g," set by ",a[f]," and ",h)}}}if(d.context.logOn.setProp){if(typeof e!="undefined"&&!isNaN(e)&&d.props[f]!==e){Ext.log("set ",g," = ",e," (",b,")")}}return this.callParent(arguments)},setHeight:function(a,b,c){if(!c&&this.wrapsComponent){this.checkAuthority("height")}return this.callParent(arguments)},setWidth:function(b,a,c){if(!c&&this.wrapsComponent){this.checkAuthority("width")}return this.callParent(arguments)}}},function(){var c={dom:true,parseInt:true,suffix:"px"},b={dom:true},a={dom:false};this.prototype.styleInfo={containerChildrenSizeDone:a,containerLayoutDone:a,displayed:a,done:a,x:a,y:a,columnWidthsDone:a,left:c,top:c,right:c,bottom:c,width:c,height:c,"border-top-width":c,"border-right-width":c,"border-bottom-width":c,"border-left-width":c,"margin-top":c,"margin-right":c,"margin-bottom":c,"margin-left":c,"padding-top":c,"padding-right":c,"padding-bottom":c,"padding-left":c,"line-height":b,display:b}});Ext.define("Ext.layout.Context",{remainingLayouts:0,state:0,constructor:function(a){var b=this;Ext.apply(b,a);b.items={};b.layouts={};b.blockCount=0;b.cycleCount=0;b.flushCount=0;b.calcCount=0;b.animateQueue=b.newQueue();b.completionQueue=b.newQueue();b.finalizeQueue=b.newQueue();b.finishQueue=b.newQueue();b.flushQueue=b.newQueue();b.invalidateData={};b.layoutQueue=b.newQueue();b.invalidQueue=[];b.triggers={data:{},dom:{}}},callLayout:function(b,a){this.currentLayout=b;b[a](this.getCmp(b.owner))},cancelComponent:function(h,a,l){var o=this,g=h,j=!h.isComponent,b=j?g.length:1,d,c,n,m,f,r,p,q,s,e;for(d=0;d<b;++d){if(j){h=g[d]}if(l&&h.ownerCt){e=this.items[h.ownerCt.el.id];if(e){Ext.Array.remove(e.childItems,o.getCmp(h))}}if(!a){p=o.invalidQueue;n=p.length;if(n){o.invalidQueue=r=[];for(c=0;c<n;++c){q=p[c];s=q.item.target;if(s!=h&&!s.isDescendantOf(h)){r.push(q)}}}}f=h.componentLayout;o.cancelLayout(f);if(f.getLayoutItems){m=f.getLayoutItems();if(m.length){o.cancelComponent(m,true)}}if(h.isContainer&&!h.collapsed){f=h.layout;o.cancelLayout(f);m=f.getVisibleItems();if(m.length){o.cancelComponent(m,true)}}}},cancelLayout:function(b){var a=this;a.completionQueue.remove(b);a.finalizeQueue.remove(b);a.finishQueue.remove(b);a.layoutQueue.remove(b);if(b.running){a.layoutDone(b)}b.ownerContext=null},clearTriggers:function(f,g){var a=f.id,e=this.triggers[g?"dom":"data"],h=e&&e[a],b=(h&&h.length)||0,d,j,c;for(d=0;d<b;++d){c=h[d];j=c.item;e=g?j.domTriggers:j.triggers;delete e[c.prop][a]}},flush:function(){var d=this,a=d.flushQueue.clear(),c=a.length,b;if(c){++d.flushCount;for(b=0;b<c;++b){a[b].flush()}}},flushAnimations:function(){var d=this,b=d.animateQueue.clear(),a=b.length,c;if(a){for(c=0;c<a;c++){if(b[c].target.animate!==false){b[c].flushAnimations()}}Ext.fx.Manager.runner()}},flushInvalidates:function(){var g=this,a=g.invalidQueue,f=a&&a.length,b,e,d,c;g.invalidQueue=[];if(f){e=[];for(c=0;c<f;++c){b=(d=a[c]).item.target;if(!b.container.isDetachedBody){e.push(b);if(d.options){g.invalidateData[b.id]=d.options}}}g.invalidate(e,null)}},flushLayouts:function(g,a,c){var f=this,h=c?f[g].items:f[g].clear(),e=h.length,b,d;if(e){for(b=0;b<e;++b){d=h[b];if(!d.running){f.callLayout(d,a)}}f.currentLayout=null}},getCmp:function(a){return this.getItem(a,a.el)},getEl:function(b,a){var c=this.getItem(a,a);if(!c.parent){c.parent=b;if(b.children.length){b.children.push(c)}else{b.children=[c]}}return c},getItem:function(d,b){var e=b.id,a=this.items,c=a[e]||(a[e]=new Ext.layout.ContextItem({context:this,target:d,el:b}));return c},handleFailure:function(){var c=this.layouts,b,a;Ext.failedLayouts=(Ext.failedLayouts||0)+1;for(a in c){b=c[a];if(c.hasOwnProperty(a)){b.running=false;b.ownerContext=null}}if(Ext.repoDevMode&&!this.pageAnalyzerMode){Ext.Error.raise("Layout run failed")}else{Ext.log.error("Layout run failed")}},invalidate:function(k,m){var o=this,l=!k.isComponent,c,p,a,f,j,q,n,b,g,h,e,d,r;for(f=0,b=l?k.length:1;f<b;++f){j=l?k[f]:k;if(j.rendered&&!j.hidden){p=j.ownerLayout;g=j.componentLayout;a=!g.ownerContext;r=false;if((!p||!p.needsItemSize)&&j.liquidLayout){r=true}if(!r||(p&&p.setsItemSize)){q=o.getCmp(j);h=(j.isContainer&&!j.collapsed)?j.layout:null;e=o.invalidateData[q.id];delete o.invalidateData[q.id];d=q.init(m,e)}if(r){continue}if(e){o.processInvalidate(e,q,"before")}if(g.beforeLayoutCycle){g.beforeLayoutCycle(q)}if(h&&h.beforeLayoutCycle){h.beforeLayoutCycle(q)}d=q.initContinue(d);c=true;if(g.getLayoutItems){g.renderChildren();n=g.getLayoutItems();if(n.length){o.invalidate(n,true)}}if(h){c=false;h.renderChildren();if(h.needsItemSize||h.activeItemCount){n=h.getVisibleItems();if(n.length){o.invalidate(n,true)}}}q.initDone(c);o.resetLayout(g,q,a);if(h){o.resetLayout(h,q,a)}q.initAnimation();if(e){o.processInvalidate(e,q,"after")}}}o.currentLayout=null},layoutDone:function(a){var b=a.ownerContext;a.running=false;if(a.isComponentLayout){if(b.measuresBox){b.onBoxMeasured()}b.setProp("done",true)}else{b.setProp("containerLayoutDone",true)}--this.remainingLayouts;++this.progressCount},newQueue:function(){return new Ext.util.Queue()},processInvalidate:function(b,e,a){if(b[a]){var d=this,c=d.currentLayout;d.currentLayout=b.layout||null;b[a](e,b);d.currentLayout=c}},queueAnimation:function(a){this.animateQueue.add(a)},queueCompletion:function(a){this.completionQueue.add(a)},queueFinalize:function(a){this.finalizeQueue.add(a)},queueFlush:function(a){this.flushQueue.add(a)},chainFns:function(a,h,f){var d=this,c=a.layout,e=h.layout,b=a[f],g=h[f];return function(j){var k=d.currentLayout;if(b){d.currentLayout=c;b.call(a.scope||a,j,a)}d.currentLayout=e;g.call(h.scope||h,j,h);d.currentLayout=k}},purgeInvalidates:function(){var g=this,k=[],h=g.invalidQueue,e=h.length,j,l,d,c,b,f,a;for(j=0;j<e;++j){b=h[j];f=b.item.target;a=true;for(l=k.length;l--;){d=k[l];c=d.item.target;if(f.isDescendant(c)){a=false;break}if(c.isDescendant(f)){Ext.Array.erase(k,l,1)}}if(a){k.push(b)}}g.invalidQueue=k},queueInvalidate:function(k,l){var g=this,j=[],h=g.invalidQueue,f=h.length,d,b,e,a,c;if(k.isComponent){k=g.getCmp(d=k)}else{d=k.target}k.invalid=true;while(f--){b=h[f];e=b.item.target;if(d.isDescendantOf(e)){return}if(e==d){if(!(a=b.options)){b.options=l}else{if(l){if(l.widthModel){a.widthModel=l.widthModel}if(l.heightModel){a.heightModel=l.heightModel}if(!(c=a.state)){a.state=l.state}else{if(l.state){Ext.apply(c,l.state)}}if(l.before){a.before=g.chainFns(a,l,"before")}if(l.after){a.after=g.chainFns(a,l,"after")}}}return}if(!e.isDescendantOf(d)){j.push(b)}}j.push({item:k,options:l});g.invalidQueue=j},queueItemLayouts:function(c){var a=c.isComponent?c:c.target,b=a.componentLayout;if(!b.pending&&!b.invalid&&!b.done){this.queueLayout(b)}b=a.layout;if(b&&!b.pending&&!b.invalid&&!b.done){this.queueLayout(b)}},queueLayout:function(a){this.layoutQueue.add(a);a.pending=true},removeEl:function(d,c){var e=c.id,b=d.children,a=this.items;if(b){Ext.Array.remove(b,a[e])}delete a[e]},resetLayout:function(b,c,d){var a=this;a.currentLayout=b;b.done=false;b.pending=true;b.firedTriggers=0;a.layoutQueue.add(b);if(d){a.layouts[b.id]=b;b.running=true;if(b.finishedLayout){a.finishQueue.add(b)}++a.remainingLayouts;++b.layoutCount;b.ownerContext=c;b.beginCount=0;b.blockCount=0;b.calcCount=0;b.triggerCount=0;if(!b.initialized){b.initLayout()}b.beginLayout(c)}else{++b.beginCount;if(!b.running){++a.remainingLayouts;b.running=true;if(b.isComponentLayout){c.unsetProp("done")}a.completionQueue.remove(b);a.finalizeQueue.remove(b)}}b.beginLayoutCycle(c,d)},run:function(){var c=this,b=false,a=100;c.purgeInvalidates();c.flushInvalidates();c.state=1;c.totalCount=c.layoutQueue.getCount();c.flush();while((c.remainingLayouts||c.invalidQueue.length)&&a--){if(c.invalidQueue.length){c.flushInvalidates()}if(c.runCycle()){b=false}else{if(!b){c.flush();b=true;c.flushLayouts("completionQueue","completeLayout")}else{if(!c.invalidQueue.length){c.state=2;break}}}if(!(c.remainingLayouts||c.invalidQueue.length)){c.flush();c.flushLayouts("completionQueue","completeLayout");c.flushLayouts("finalizeQueue","finalizeLayout")}}return c.runComplete()},runComplete:function(){var a=this;a.state=2;if(a.remainingLayouts){a.handleFailure();return false}a.flush();a.flushLayouts("finishQueue","finishedLayout",true);a.flushLayouts("finishQueue","notifyOwner");a.flush();a.flushAnimations();return true},runCycle:function(){var c=this,d=c.layoutQueue.clear(),b=d.length,a;++c.cycleCount;c.progressCount=0;for(a=0;a<b;++a){c.runLayout(c.currentLayout=d[a])}c.currentLayout=null;return c.progressCount>0},runLayout:function(b){var a=this,c=a.getCmp(b.owner);b.pending=false;if(c.state.blocks){return}b.done=true;++b.calcCount;++a.calcCount;b.calculate(c);if(b.done){a.layoutDone(b);if(b.completeLayout){a.queueCompletion(b)}if(b.finalizeLayout){a.queueFinalize(b)}}else{if(!b.pending&&!b.invalid&&!(b.blockCount+b.triggerCount-b.firedTriggers)){a.queueLayout(b)}}},setItemSize:function(g,f,b){var d=g,a=1,c,e;if(g.isComposite){d=g.elements;a=d.length;g=d[0]}else{if(!g.dom&&!g.el){a=d.length;g=d[0]}}for(e=0;e<a;){c=this.get(g);c.setSize(f,b);g=d[++e]}},debugHooks:{$enabled:false,pageAnalyzerMode:true,logOn:{0:0},cancelComponent:function(a){if(this.logOn.cancelComponent){Ext.log("cancelCmp: ",a.id)}this.callParent(arguments)},cancelLayout:function(a){if(this.logOn.cancelLayout){Ext.log("cancelLayout: ",this.getLayoutName(a))}this.callParent(arguments)},callLayout:function(c,b){var a=this.accumByType[c.type],d=a&&a.enter();this.callParent(arguments);if(a){d.leave()}},checkRemainingLayouts:function(){var d=this,c=0,a,b;for(a in d.layouts){b=d.layouts[a];if(d.layouts.hasOwnProperty(a)&&b.running){++c}}if(d.remainingLayouts!=c){Ext.Error.raise({msg:"Bookkeeping error me.remainingLayouts"})}},flush:function(){if(this.logOn.flush){var a=this.flushQueue;Ext.log("--- Flush ",a&&a.getCount())}return this.callParent(arguments)},flushInvalidates:function(){if(this.logOn.flushInvalidate){Ext.log(">> flushInvalidates")}var a=this.callParent(arguments);if(this.logOn.flushInvalidate){Ext.log("<< flushInvalidates")}return a},getCmp:function(b){var a=this.callParent(arguments);if(!a.wrapsComponent){Ext.Error.raise({msg:b.id+" is not a component"})}return a},getEl:function(b,c){var a=this.callParent(arguments);if(a&&a.wrapsComponent){Ext.Error.raise({msg:b.id+"/"+c.id+" is a component (expected element)"})}return a},getLayoutName:function(a){return a.owner.id+"<"+a.type+">"},layoutDone:function(c){var b=this,a=b.getLayoutName(c);if(b.logOn.layoutDone){Ext.log("layoutDone: ",a," ( ",b.remainingLayouts," running)")}if(!c.running){Ext.Error.raise({msg:a+" is already done"})}if(!b.remainingLayouts){Ext.Error.raise({msg:a+" finished but no layouts are running"})}b.callParent(arguments)},layoutTreeHasFailures:function(d,a){var c=this;function e(h){var f=!h.done,g,j;if(h.done){for(g in c.layouts){if(c.layouts.hasOwnProperty(g)){j=c.layouts[g];if(j.owner.ownerLayout===h){if(e(j)){f=true}}}}}return f}if(e(d)){return true}function b(g){var f,h;a[g.id]=1;for(f in c.layouts){if(c.layouts.hasOwnProperty(f)){h=c.layouts[f];if(h.owner.ownerLayout===g){b(h)}}}}b(d);return false},queueLayout:function(a){if(a.done||a.blockCount||a.pending){Ext.Error.raise({msg:this.getLayoutName(a)+" should not be queued for layout"})}if(this.logOn.queueLayout){Ext.log("Queue ",this.getLayoutName(a))}return this.callParent(arguments)},reportLayoutResult:function(h,p){var k=this,a=h.owner,d=k.getCmp(a),f=[],g=[],n,m,e,b,l,o,j,c;p[h.id]=1;for(n in h.blockedBy){if(h.blockedBy.hasOwnProperty(n)){f.push(h.blockedBy[n])}}f.sort();for(n in k.triggersByLayoutId[h.id]){if(k.triggersByLayoutId[h.id].hasOwnProperty(n)){m=k.triggersByLayoutId[h.id][n];g.push({name:n,info:m})}}g.sort(function(r,q){return r.name<q.name?-1:(q.name<r.name?1:0)});Ext.log({indent:1},(h.done?"++":"--"),k.getLayoutName(h),(d.isBoxParent?" [isBoxParent]":""),(d.boxChildren?" - boxChildren: "+d.state.boxesMeasured+"/"+d.boxChildren.length:""),d.boxParent?(" - boxParent: "+d.boxParent.id):""," - size: ",d.widthModel.name,"/",d.heightModel.name);if(!h.done||k.reportOnSuccess){if(f.length){++Ext.log.indent;Ext.log({indent:1},"blockedBy:  count=",h.blockCount);b=f.length;for(e=0;e<b;e++){Ext.log(f[e])}Ext.log.indent-=2}if(g.length){++Ext.log.indent;Ext.log({indent:1},"triggeredBy: count="+h.triggerCount);b=g.length;for(e=0;e<b;e++){c=m.info||m;o=c.item;j=(o.setBy&&o.setBy[c.name])||"?";m=g[e];Ext.log(m.name," (",o.props[c.name],") dirty: ",(o.dirty?!!o.dirty[c.name]:false),", setBy: ",j)}Ext.log.indent-=2}}for(n in k.layouts){if(k.layouts.hasOwnProperty(n)){l=k.layouts[n];if(!l.done&&l.owner.ownerLayout===h){k.reportLayoutResult(l,p)}}}for(n in k.layouts){if(k.layouts.hasOwnProperty(n)){l=k.layouts[n];if(l.done&&l.owner.ownerLayout===h){k.reportLayoutResult(l,p)}}}--Ext.log.indent},resetLayout:function(e){var d=this,c=e.type,b=d.getLayoutName(e),a=d.accumByType[c],f;if(d.logOn.resetLayout){Ext.log("resetLayout: ",b," ( ",d.remainingLayouts," running)")}if(!d.state){if(!a&&d.profileLayoutsByType){d.accumByType[c]=a=Ext.Perf.get("layout_"+e.type)}d.numByType[c]=(d.numByType[c]||0)+1}f=a&&a.enter();d.callParent(arguments);if(a){f.leave()}d.checkRemainingLayouts()},round:function(a){return Math.round(a*1000)/1000},run:function(){var m=this,h,d,q,p,f,g,j,b,c,r,l,a,o,k,e;m.accumByType={};m.calcsByType={};m.numByType={};m.timesByType={};m.triggersByLayoutId={};Ext.log.indentSize=3;Ext.log("==================== LAYOUT ====================");d=Ext.perf.getTimestamp();h=m.callParent(arguments);d=Ext.perf.getTimestamp()-d;if(m.logOn.boxParent&&m.boxParents){for(q in m.boxParents){if(m.boxParents.hasOwnProperty(q)){j=m.boxParents[q];b=j.boxChildren;c=b.length;Ext.log("boxParent: ",j.id);for(f=0;f<c;++f){Ext.log(" --> ",b[f].id)}}}}if(h){Ext.log("----------------- SUCCESS -----------------")}else{Ext.log({level:"error"},"----------------- FAILURE -----------------")}for(q in m.layouts){if(m.layouts.hasOwnProperty(q)){g=m.layouts[q];if(g.running){Ext.log.error("Layout left running: ",m.getLayoutName(g))}if(g.ownerContext){Ext.log.error("Layout left connected: ",m.getLayoutName(g))}}}if(!h||m.reportOnSuccess){r={};l=0;for(q in m.layouts){if(m.layouts.hasOwnProperty(q)){g=m.layouts[q];if(m.items[g.owner.el.id].isTopLevel){if(m.reportOnSuccess||m.layoutTreeHasFailures(g,r)){m.reportLayoutResult(g,r)}}}}for(q in m.layouts){if(m.layouts.hasOwnProperty(q)){g=m.layouts[q];if(!r[g.id]){if(!l){Ext.log("----- Unreported!! -----")}++l;m.reportLayoutResult(g,r)}}}}Ext.log("Cycles: ",m.cycleCount,", Flushes: ",m.flushCount,", Calculates: ",m.calcCount," in ",m.round(d)," msec");Ext.log("Calculates by type:");a=[];for(q in m.numByType){if(m.numByType.hasOwnProperty(q)){o=m.numByType[q];a.push({type:q,total:o,calcs:m.calcsByType[q],multiple:Math.round(m.calcsByType[q]/o*10)/10,calcTime:m.round(m.timesByType[q]),avgCalcTime:m.round(m.timesByType[q]/m.calcsByType[q])})}}a.sort(function(s,n){return n.calcTime-s.calcTime});k=a.length;for(f=0;f<k;f++){e=a[f];Ext.log(e.type,": ",e.total," in ",e.calcs," tries (",e.multiple,"x) at ",e.calcTime," msec (avg ",e.avgCalcTime," msec)")}return h},runCycle:function(){if(this.logOn.runCycle){Ext.log(">>> Cycle ",this.cycleCount," (queue length: ",this.layoutQueue.length,")")}return this.callParent(arguments)},runLayout:function(e){var d=this,c=e.type,a=d.accumByType[c],g,b,f;if(d.logOn.calculate){Ext.log("-- calculate ",this.getLayoutName(e))}g=a&&a.enter();f=Ext.perf.getTimestamp();b=d.callParent(arguments);f=Ext.perf.getTimestamp()-f;if(a){g.leave()}d.calcsByType[c]=(d.calcsByType[c]||0)+1;d.timesByType[c]=(d.timesByType[c]||0)+f;return b}}});Ext.define("Ext.plugin.Manager",{alternateClassName:["Ext.PluginManager","Ext.PluginMgr"],singleton:true,typeName:"ptype",create:function(b,e,d){var a,c;if(b.init){a=b}else{if(d){b=Ext.apply({},b);b.cmp=d}else{d=b.cmp}if(b.xclass){a=Ext.create(b)}else{c="plugin."+(b.ptype||e);a=Ext.ClassManager.instantiateByAlias(c,b)}}if(a&&d&&a.setCmp&&!a.setCmpCalled){a.setCmp(d);a.setCmpCalled=true}return a}});Ext.define("Ext.resizer.ResizeTracker",{extend:Ext.dd.DragTracker,dynamic:true,preserveRatio:false,constrainTo:null,proxyCls:Ext.baseCSSPrefix+"resizable-proxy",constructor:function(b){var d=this,c,a,e;if(!b.el){if(b.target.isComponent){d.el=b.target.getEl()}else{d.el=b.target}}this.callParent(arguments);if(d.preserveRatio&&d.minWidth&&d.minHeight){c=d.minWidth/d.el.getWidth();a=d.minHeight/d.el.getHeight();if(a>c){d.minWidth=d.el.getWidth()*a}else{d.minHeight=d.el.getHeight()*c}}if(d.throttle){e=Ext.Function.createThrottled(function(){Ext.resizer.ResizeTracker.prototype.resize.apply(d,arguments)},d.throttle);d.resize=function(g,h,f){if(f){Ext.resizer.ResizeTracker.prototype.resize.apply(d,arguments)}else{e.apply(null,arguments)}}}},onBeforeStart:function(a){this.startBox=this.target.getBox()},getProxy:function(){var a=this;if(!a.dynamic&&!a.proxy){a.proxy=a.createProxy(a.target||a.el);a.hideProxy=true}if(a.proxy){a.proxy.show();return a.proxy}},createProxy:function(c){var b,a=this.proxyCls;if(c.isComponent){b=c.getProxy().addCls(a)}else{b=c.createProxy({tag:"div",role:"presentation",cls:a,id:c.id+"-rzproxy"},Ext.getBody())}b.removeCls(Ext.baseCSSPrefix+"proxy-el");return b},onStart:function(a){this.activeResizeHandle=Ext.get(this.getDragTarget().id);if(!this.dynamic){this.resize(this.startBox)}},onDrag:function(a){if(this.dynamic||this.proxy){this.updateDimensions(a)}},updateDimensions:function(q,m){var r=this,c=r.activeResizeHandle.region,f=r.getOffset(r.constrainTo?"dragTarget":null),k=r.startBox,g,o=0,s=0,j,p,a=0,u=0,t,h,b,d,n,l;c=r.convertRegionName(c);switch(c){case"south":s=f[1];b=2;break;case"north":s=-f[1];u=-s;b=2;break;case"east":o=f[0];b=1;break;case"west":o=-f[0];a=-o;b=1;break;case"northeast":s=-f[1];u=-s;o=f[0];h=[k.x,k.y+k.height];b=3;break;case"southeast":s=f[1];o=f[0];h=[k.x,k.y];b=3;break;case"southwest":o=-f[0];a=-o;s=f[1];h=[k.x+k.width,k.y];b=3;break;case"northwest":s=-f[1];u=-s;o=-f[0];a=-o;h=[k.x+k.width,k.y+k.height];b=3;break}d={width:k.width+o,height:k.height+s,x:k.x+a,y:k.y+u};j=Ext.Number.snap(d.width,r.widthIncrement);p=Ext.Number.snap(d.height,r.heightIncrement);if(j!=d.width||p!=d.height){switch(c){case"northeast":d.y-=p-d.height;break;case"north":d.y-=p-d.height;break;case"southwest":d.x-=j-d.width;break;case"west":d.x-=j-d.width;break;case"northwest":d.x-=j-d.width;d.y-=p-d.height}d.width=j;d.height=p}if(d.width<r.minWidth||d.width>r.maxWidth){d.width=Ext.Number.constrain(d.width,r.minWidth,r.maxWidth);if(a){d.x=k.x+(k.width-d.width)}}else{r.lastX=d.x}if(d.height<r.minHeight||d.height>r.maxHeight){d.height=Ext.Number.constrain(d.height,r.minHeight,r.maxHeight);if(u){d.y=k.y+(k.height-d.height)}}else{r.lastY=d.y}if(r.preserveRatio||q.shiftKey){g=r.startBox.width/r.startBox.height;n=Math.min(Math.max(r.minHeight,d.width/g),r.maxHeight);l=Math.min(Math.max(r.minWidth,d.height*g),r.maxWidth);if(b==1){d.height=n}else{if(b==2){d.width=l}else{t=Math.abs(h[0]-this.lastXY[0])/Math.abs(h[1]-this.lastXY[1]);if(t>g){d.height=n}else{d.width=l}if(c=="northeast"){d.y=k.y-(d.height-k.height)}else{if(c=="northwest"){d.y=k.y-(d.height-k.height);d.x=k.x-(d.width-k.width)}else{if(c=="southwest"){d.x=k.x-(d.width-k.width)}}}}}}r.setPosition=d.x!==r.startBox.x||d.y!==r.startBox.y;r.resize(d,m)},resize:function(d,a){var c=this,e,b=c.setPosition;if(c.dynamic||(!c.dynamic&&a)){if(b){c.target.setBox(d)}else{c.target.setSize(d.width,d.height)}}if(!a){e=c.getProxy();if(e&&e!==c.target){if(b||c.hideProxy){e.setBox(d)}else{e.setSize(d.width,d.height)}}}},onEnd:function(a){this.updateDimensions(a,true);if(this.proxy&&this.hideProxy){this.proxy.hide()}},convertRegionName:function(a){return a}});Ext.define("Ext.resizer.Resizer",{mixins:{observable:Ext.util.Observable},alternateClassName:"Ext.Resizable",handleCls:Ext.baseCSSPrefix+"resizable-handle",overCls:Ext.baseCSSPrefix+"resizable-handle-over",pinnedCls:Ext.baseCSSPrefix+"resizable-pinned",wrapCls:Ext.baseCSSPrefix+"resizable-wrap",wrappedCls:Ext.baseCSSPrefix+"resizable-wrapped",delimiterRe:/(?:\s*[,;]\s*)|\s+/,dynamic:true,handles:"s e se",height:null,width:null,heightIncrement:0,widthIncrement:0,minHeight:20,minWidth:20,maxHeight:10000,maxWidth:10000,pinned:false,preserveRatio:false,transparent:false,possiblePositions:{n:"north",s:"south",e:"east",w:"west",se:"southeast",sw:"southwest",nw:"northwest",ne:"northeast"},ariaRole:"presentation",constructor:function(b){var j=this,n,q,o=j.handles,c,m,f,d=0,l,a,e,p,k=[],h,g=Ext.dom.Element.unselectableCls;if(Ext.isString(b)||Ext.isElement(b)||b.dom){n=b;b=arguments[1]||{};b.target=n}j.mixins.observable.constructor.call(j,b);n=j.target;if(n){if(n.isComponent){n.addClsWithUI("resizable");j.el=n.getEl();if(n.minWidth){j.minWidth=n.minWidth}if(n.minHeight){j.minHeight=n.minHeight}if(n.maxWidth){j.maxWidth=n.maxWidth}if(n.maxHeight){j.maxHeight=n.maxHeight}if(n.floating){if(!j.hasOwnProperty("handles")){j.handles="n ne e se s sw w nw"}}j.el=n.getEl()}else{n=j.el=j.target=Ext.get(n)}}else{n=j.target=j.el=Ext.get(j.el)}j.el.addCls(Ext.Component.prototype.borderBoxCls);if(Ext.isNumber(j.width)){j.width=Ext.Number.constrain(j.width,j.minWidth,j.maxWidth)}if(Ext.isNumber(j.height)){j.height=Ext.Number.constrain(j.height,j.minHeight,j.maxHeight)}if(j.width!==null||j.height!==null){j.target.setSize(j.width,j.height)}q=j.el.dom.tagName.toUpperCase();if(q==="TEXTAREA"||q==="IMG"||q==="TABLE"){j.originalTarget=j.target;j.el.addCls(j.wrappedCls);j.target=j.el=j.el.wrap({role:"presentation",cls:j.wrapCls,id:j.el.id+"-rzwrap",style:n.getStyle(["margin-top","margin-bottom"])});p=n.getPositioning();j.el.setPositioning(p);n.clearPositioning();e=n.getBox();if(p.position!="absolute"){e.x=0;e.y=0}j.el.setBox(e);n.setStyle("position","absolute")}j.el.position();if(j.pinned){j.el.addCls(j.pinnedCls)}j.resizeTracker=new Ext.resizer.ResizeTracker({disabled:j.disabled,target:n,el:j.el,constrainTo:j.constrainTo,handleCls:j.handleCls,overCls:j.overCls,throttle:j.throttle,proxy:j.originalTarget?j.el:null,dynamic:j.originalTarget?true:j.dynamic,originalTarget:j.originalTarget,delegate:"."+j.handleCls,preserveRatio:j.preserveRatio,heightIncrement:j.heightIncrement,widthIncrement:j.widthIncrement,minHeight:j.minHeight,maxHeight:j.maxHeight,minWidth:j.minWidth,maxWidth:j.maxWidth});j.resizeTracker.on({mousedown:j.onBeforeResize,drag:j.onResize,dragend:j.onResizeEnd,scope:j});if(j.handles=="all"){j.handles="n s e w ne nw se sw"}o=j.handles=j.handles.split(j.delimiterRe);m=j.possiblePositions;f=o.length;c=j.handleCls+" "+j.handleCls+"-{0}";if(j.target.isComponent){h=j.target.baseCls;c+=" "+h+"-handle "+h+"-handle-{0}";if(Ext.supports.CSS3BorderRadius){c+=" "+h+"-handle-{0}-br"}}for(;d<f;d++){if(o[d]&&m[o[d]]){l=m[o[d]];k.push('<div id="',j.el.id,"-",l,'-handle" class="',Ext.String.format(c,l)," ",g,'" unselectable="on" role="presentation"',"></div>")}}Ext.DomHelper.append(j.el,k.join(""));k.length=0;for(d=0;d<f;d++){if(o[d]&&m[o[d]]){l=m[o[d]];a=j[l]=j.el.getById(j.el.id+"-"+l+"-handle");k.push(a);a.region=l;if(j.transparent){a.setOpacity(0)}}}j.resizeTracker.handleEls=k},disable:function(){this.resizeTracker.disable()},enable:function(){this.resizeTracker.enable()},onBeforeResize:function(a,b){return this.fireResizeEvent("beforeresize",a,b)},onResize:function(a,b){return this.fireResizeEvent("resizedrag",a,b)},onResizeEnd:function(a,b){return this.fireResizeEvent("resize",a,b)},fireResizeEvent:function(a,d,f){var c=this,b;if(c.hasListeners[a]){b=c.el.getBox();return c.fireEvent(a,c,b.width,b.height,f)}},resizeTo:function(b,a){var c=this;c.target.setSize(b,a);c.fireEvent("resize",c,b,a,null)},getEl:function(){return this.el},getTarget:function(){return this.target},destroy:function(){var e=this,d,c=e.handles,a=c.length,b=e.possiblePositions,f;e.resizeTracker.destroy();for(d=0;d<a;d++){if((f=e[b[c[d]]])){f.destroy()}}}});Ext.define("Ext.scroll.Indicator",{config:{axis:null,containerEl:null,scroller:null,minLength:null,scrollSize:null,maxScrollPosition:null,hasOpposite:null},hideAnimConfig:{to:{opacity:0},duration:300},names:{x:{side:"l",getSize:"getHeight",clientSize:"clientWidth",setLength:"setWidth",setPosition:"setLocalX"},y:{side:"t",getSize:"getWidth",clientSize:"clientHeight",setLength:"setHeight",setPosition:"setLocalY"}},cls:Ext.baseCSSPrefix+"scroll-indicator",constructor:function(b){var e=this,a,c,d;e.initConfig(b);d=e.getAxis();e.names=e.names[d];e.el=e.getContainerEl().createChild({cls:e.cls+" "+e.cls+"-"+d});if(!e.size){e.cacheStyles()}a=e.getMinLength();c=e.size;if(!a||a<c){e.setMinLength(c)}},cacheStyles:function(){var d=this,c=d.self.prototype,b=d.el,a=d.getAxis(),e=d.names;c.size=b[e.getSize]();c.margin=b.getMargin(e.side)},hide:function(){this.el.animate(this.hideAnimConfig)},refreshLength:function(){var h=this,g=h.names,b=h.getScrollSize(),a=h.getContainerEl().dom[g.clientSize],f=a/b,j=h.getHasOpposite(),d=h.margin*2,e=j?(d+h.size):d,c=Math.max(Math.round((a-e)*f),h.getMinLength());h.sizeAdjust=e;h.length=c;h.el[g.setLength](c)},setValue:function(m){var k=this,c=k.el,h=k.names,g=k.getMaxScrollPosition(),a=k.getContainerEl().dom[h.clientSize],j=k.length,d=k.getMinLength(),b=j,f=a-j-k.sizeAdjust,n=Math.round,l=Math.max,e;if(m<0){b=n(l(j+(j*m/a),d));e=0}else{if(m>g){b=n(l(j-(j*(m-g)/a),d));e=f+j-b}else{e=n(m/g*f)}}c[h.setPosition](e);c[h.setLength](b)},show:function(){var b=this,a=b.el,c=a.getActiveAnimation();if(c){c.end()}b.refreshLength();a.setStyle("opacity","")},destroy:function(){this.el.destroy()}});Ext.define("Ext.scroll.Manager",{extend:Ext.util.Observable,minIndicatorLength:24,refreshCounter:0,translationMethods:{1:"scrollparent",2:"csstransform"},constructor:function(b){var c=this,a={dragend:"onDragEnd",dragcancel:"onDragEnd",scope:c},d;if(Ext.supports.touchScroll===2){a.mousewheel="onMouseWheel";a.scroll={fn:"onElementScroll",delegated:false,scope:c}}c.callParent(arguments);c.scroller=new Ext.scroll.Scroller({autoRefresh:false,element:c.el,direction:c.direction,momentumEasing:{bounce:{springTension:1}},outOfBoundRestrictFactor:0,translatable:{translationMethod:c.translationMethods[Ext.supports.touchScroll]},listeners:{scrollstart:"onScrollStart",scroll:"onScroll",scrollend:"onScrollEnd",scope:c}});Ext.GlobalEvents.on("idle",c.doRefresh,c);d=c.containerEl=c.el.parent();c.owner.mon(d,a);c.initIndicators()},onElementScroll:function(a,b){b.scrollTop=b.scrollLeft=0},destroy:function(){var a=this;a.clearListeners();Ext.GlobalEvents.un("idle",a.doRefresh,a);a.scroller.destroy()},initIndicators:function(){var c=this,d=c.containerEl,a=c.scroller,b=c.minIndicatorLength;if(Ext.supports.touchScroll===2){c.xIndicator=new Ext.scroll.Indicator({axis:"x",scroller:a,containerEl:d,minLength:b});c.yIndicator=new Ext.scroll.Indicator({axis:"y",scroller:a,containerEl:d,minLength:b});c.refreshIndicators()}},invokeIndicators:function(e,d,b){var f=this,a=f.xIndicator,c=f.yIndicator;if(a&&f.isAxisEnabled("x")){a[e].apply(a,d)}if(c&&f.isAxisEnabled("y")){c[e].apply(c,b||d)}},getPosition:function(){return this.scroller.getPosition()},refresh:function(a){++this.refreshCounter;if(a){this.doRefresh()}},refreshIndicators:function(){var c=this,a=c.scroller,d=a.getMaxPosition(),b=a.getSize();c.invokeIndicators("setMaxScrollPosition",[d.x],[d.y]);c.invokeIndicators("setScrollSize",[b.x],[b.y]);c.invokeIndicators("setHasOpposite",[c.isAxisEnabled("y")],[c.isAxisEnabled("x")])},doRefresh:function(){var b=this,a=b.scroller;if(b.refreshCounter){a.refresh();b.refreshIndicators();b.refreshCounter=0}},onScrollStart:function(){this.isTouching=Ext.isScrolling=true;this.invokeIndicators("show");this.toggleOthers(true)},onScroll:function(b,a,d){var c=this;c.invokeIndicators("setValue",[a],[d]);c.fireEvent("scroll",c,a,d)},onScrollEnd:function(){var a=this;Ext.isScrolling=false;if(a.isTouching){return}a.invokeIndicators("hide")},onDragEnd:function(){this.isTouching=false;this.toggleOthers(false)},onMouseWheel:function(l){var m=this,h=m.scroller,o=l.getWheelDeltas(),d=-o.x,b=-o.y,g=h.getPosition(),f=h.getMaxPosition(),a=h.getMinPosition(),n=Math.max,c=Math.min,k=n(c(g.x+d,f.x),a.x),j=n(c(g.y+b,f.y),a.y);d=k-g.x;b=j-g.y;if(!d&&!b){return}l.stopEvent();m.onScrollStart();m.scrollBy(d,b);m.onScroll(h,k,j);m.onScrollEnd(h)},isAxisEnabled:function(a){return this.scroller.isAxisEnabled(a)},setScrollX:function(b){var a=this.scroller;a.scrollTo(b,a.getPosition().y)},setScrollY:function(b){var a=this.scroller;a.scrollTo(a.getPosition().x,b)},scrollTo:function(a,c,b){this.scroller.scrollTo(a,c,b)},scrollBy:function(a,c,b){if(a.length){b=c;c=a[1];a=a[0]}else{if(!Ext.isNumber(a)){b=c;c=a.y;a=a.x}}this.scroller.scrollBy(a,c,b)},scrollIntoView:function(d,e,b){var l=this,k=l.containerEl,j=l.scroller,g=j.getPosition(),f=g.x,c=g.y,h=Ext.fly(d).getScrollIntoViewXY(k,f,c),a=h.x,m=h.y;if(e===false){a=f}if(a!==f||m!==c){j.scrollTo(a,m,b)}},toggleOthers:function(b){var c=Ext.scroll.Scroller.instances,a,d;for(d in c){a=c[d];if(a!==this.scroller){a.setDisabled(b)}}},preventDefault:function(a){if(a.touches.length===1){a.preventDefault()}}});Ext.define("Jarvus.util.AbstractAPI",{extend:Ext.util.Observable,config:{hostname:null,useSSL:false},buildUrl:function(b){var a=this.getHostname();return a?(this.getUseSSL()?"https://":"http://")+a+b:b},buildParams:function(a){return a||null},buildHeaders:function(a){return a},request:function(a){var b=this;return Ext.Ajax.request(Ext.applyIf({url:b.buildUrl(a.url),withCredentials:true,params:b.buildParams(a.params),headers:b.buildHeaders(a.headers),timeout:a.timeout||30000,success:function(c){if(a.autoDecode!==false&&c.getResponseHeader("Content-Type")=="application/json"){c.data=Ext.decode(c.responseText,true)}Ext.callback(a.success,a.scope,[c])},failure:function(c){if(a.autoDecode!==false&&c.getResponseHeader("Content-Type")=="application/json"){c.data=Ext.decode(c.responseText,true)}if(a.exception){Ext.callback(a.exception,a.scope,[c])}else{Ext.Msg.confirm("An error occurred","There was an error trying to reach the server. Do you want to try again?",function(d){if(d==="yes"){b.request(a)}})}},scope:a.scope},a))}});Ext.define("Jarvus.util.API",{extend:Jarvus.util.AbstractAPI,singleton:true});Ext.define("Jarvus.ext.proxy.API",{extend:Ext.data.proxy.Ajax,alias:"proxy.api",config:{apiWrapper:"Jarvus.util.API"},sendRequest:function(c){var b=this,a=b.apiWrapper;if(typeof a=="string"){Ext.syncRequire(a);a=b.apiWrapper=Ext.ClassManager.get(a)}c.setRawRequest(a.request(Ext.apply(c.getCurrentConfig(),{autoDecode:false,disableCaching:false})));b.lastRequest=c;return c},getAPIWrapper:function(){return this.apiWrapper}});Ext.define("Emergence.util.AbstractAPI",{extend:Jarvus.util.AbstractAPI,config:{sessionData:null},buildHeaders:function(a){a=a||{};if(!("Accept" in a)){a.Accept="application/json"}return a},getSessionData:function(c,a){var b=this;b.request({url:"/login",method:"GET",success:function(d){if(d.data&&d.data.success){b.setSessionData(d.data.data);Ext.callback(c,a,[true,d]);b.fireEvent("login",d.data.data)}else{Ext.callback(c,a,[false,d])}},exception:function(d){Ext.callback(c,a,[false,d])}})},login:function(e,a,d,b){var c=this;c.request({url:"/login",params:{"_LOGIN[username]":e,"_LOGIN[password]":a,"_LOGIN[returnMethod]":"POST"},success:function(f){if(f.data&&f.data.success){c.setSessionData(f.data.data);Ext.callback(d,b,[true,f]);c.fireEvent("login",f.data.data)}else{Ext.callback(d,b,[false,f])}},exception:function(f){Ext.callback(d,b,[false,f])}})},logout:function(b,a){this.request({url:"/login/logout",success:function(c){Ext.callback(b,a,[true,c])},exception:function(c){Ext.callback(b,a,[false,c])}})}});Ext.define("Emergence.util.API",{extend:Emergence.util.AbstractAPI,singleton:true});Ext.define("Emergence.ext.proxy.Records",{extend:Jarvus.ext.proxy.API,alias:"proxy.records",config:{apiWrapper:"Emergence.util.API",include:null,relatedTable:null,summary:false},url:null,idParam:"ID",pageParam:false,startParam:"offset",limitParam:"limit",sortParam:"sort",simpleSortMode:true,reader:{type:"json",rootProperty:"data",totalProperty:"total",messageProperty:"message"},writer:{type:"json",rootProperty:"data",writeAllFields:false,allowSingle:false},buildRequest:function(a){var c=this,d=a.params=Ext.apply({},a.params,c.extraParams),b=new Ext.data.Request({action:a.getAction(),records:a.getRecords(),operation:a,params:Ext.applyIf(d,c.getParams(a)),headers:c.headers});b.setMethod(c.getMethod(b));b.setUrl(a.config.url||c.buildUrl(b));if(Ext.isFunction(c.clearParamsDirty)){c.clearParamsDirty()}a.setRequest(b);return b},buildUrl:function(e){var d=this,a=e.getOperation().getId(),b=d.getIdParam(),c=d.getUrl(e);switch(e.getAction()){case"read":if(a&&(b=="ID"||b=="Handle")){c+="/"+encodeURIComponent(a)}break;case"create":case"update":c+="/save";break;case"destroy":c+="/destroy";break}return c},getParams:function(b){var f=this,a=f.getInclude(),e=f.getRelatedTable(),c=f.getSummary(),d=f.idParam,h=b.getId(),g=f.callParent(arguments);if(h&&d!="ID"){g[d]=h}if(a){g.include=Ext.isArray(a)?a.join(","):a}if(e){g.relatedTable=Ext.isArray(e)?e.join(","):e}if(c){g.summary="true"}return g}});Ext.define("Emergence.cms.model.Content",{extend:Ext.data.Model,statics:{classRoutes:{"Emergence\\CMS\\BlogPost":"/blog","Emergence\\CMS\\Page":"/pages","Emergence\\CMS\\Feature":"/features"}},identifier:"negative",idProperty:"ID",fields:[{name:"ID",type:"int"},{name:"Class"},{name:"ContextClass",type:"string",useNull:true},{name:"ContextID",type:"int",useNull:true},{name:"Handle",type:"string"},{name:"Created",type:"date",dateFormat:"timestamp"},{name:"Published",type:"date",dateFormat:"timestamp"},{name:"AuthorID",type:"int"},{name:"CreatorID",type:"int"},{name:"Title",type:"string"},{name:"Status",type:"string"},{name:"Visibility",type:"string"},{name:"tags"},{name:"items"}],proxy:{type:"records",include:["items","tags"]},getClassRoute:function(){return this.self.classRoutes[this.get("Class")]||null},toUrl:function(){var b=this,a=b.getClassRoute();if(!a){Ext.Logger.error("Unable to determine route for model with class "+b.get("Class"));return null}return a+"/"+b.get("Handle")},load:function(a){var b=this;if(!a.url){a.url=b.toUrl()}return b.callParent([a])},save:function(a){var b=this;a.url=b.getClassRoute()+"/save";return b.callParent([a])}});Ext.define("Emergence.cms.view.DualViewController",{extend:Ext.app.ViewController,alias:"controller.emergence-cms-dualview",control:{"emergence-cms-editor":{contentrecordchange:"onContentRecordChange"},"emergence-cms-editor field[reference=titleField]":{change:"onTitleChange"},"emergence-cms-editor field[reference=tagsField]":{change:"onTagsChange"},"emergence-cms-editor button[reference=publishedTimeBtn] menucheckitem":{checkchange:"onPublishTimeChange"},"emergence-cms-editor button[reference=publishedTimeBtn] field":{change:"onPublishTimeChange"},"emergence-cms-editor dashboard-column":{move:"onComposerMove",remove:"onComposerRemove"},"emergence-cms-composer":{previewchange:"onComposerPreviewChange"}},beforeInit:function(){this.itemEls=new Ext.util.MixedCollection()},init:function(){this.control("emergence-cms-editor dashboard-column",{add:"onComposerAdd"})},onContentRecordChange:function(c,d){var b=this.lookupReference("preview"),a=d.phantom?window.SiteUser:d.get("Author");if(a){b.authorLink.set({href:"/people/"+(a.Username||a.ID)}).update(a.FirstName+" "+a.LastName);b.authorWrapper.show();b.infoWrapper.show()}},onTitleChange:function(b,e){var c=this.lookupReference("preview"),d=this.lookupReference("editor").getContentRecord(),a=d&&!d.phantom&&d.toUrl();c.titleLink.set({href:a||"#"}).update(e)},onTagsChange:function(a){var b=this.lookupReference("preview"),c=b.tagsWrapper,d=Ext.pluck(a.getValueRecords(),"data");Ext.suspendLayouts();if(!d||!d.length){c.hide()}else{b.getTpl("tagsListTpl").overwrite(b.tagsCt,d);c.show()}Ext.resumeLayouts(true)},onPublishTimeChange:Ext.Function.createBuffered(function(){var c=this.lookupReference("editor"),b=this.lookupReference("preview"),a=c.lookupReference("publishedTimeBtn").down("menucheckitem").checked?new Date():c.getSelectedDateTime();b.timeEl.set({datetime:Ext.Date.format(a,"c")}).update(Ext.Date.format(a,"l, F n, Y \\a\\t g:i a"));b.timeWrapper.show();b.infoWrapper.show()},50),onComposerAdd:function(c,a,e){var g=this,f=g.itemEls,b=g.lookupReference("preview"),j=b.getTpl("itemTpl"),h=a.getContentItemId(),d={itemId:h,contentCls:a.self.contentCls};a.getPreviewHtml(function(k){d.html=k;if(e>0&&f.getCount()){f.insert(e,h,j.insertAfter(f.getAt(e-1),d,true))}else{f.add(h,j.insertFirst(b.itemsCt,d,true))}})},onComposerMove:function(c,a,d,k){var g=this,f=g.itemEls,b=g.lookupReference("preview"),h=a.getContentItemId(),j=f.get(h),e=f.getAt(k);if(k>d){j.insertAfter(e)}else{j.insertBefore(e)}f.remove(j);f.insert(k,h,j)},onComposerRemove:function(b,c){var d=this.itemEls,a=d.get(c.getContentItemId());d.remove(a);a.destroy()},onComposerPreviewChange:function(b,a){this.itemEls.get(b.getContentItemId()).update(a)}});Ext.define("Emergence.cms.view.EditorController",{extend:Ext.app.ViewController,alias:"controller.emergence-cms-editor",control:{"#":{contentrecordchange:"onContentRecordChange"},"buttongroup[reference=inserterCt] button":{click:"onInserterButtorClick"},"button[action=save]":{click:"onSaveClick"},"button[reference=statusBtn] menucheckitem, button[reference=visibilityBtn] menucheckitem":{checkchange:"onEnumMenuCheckChange"},"button[reference=publishedTimeBtn] menucheckitem":{checkchange:"onPublishImmediatelyCheckChange"},"button[reference=publishedTimeBtn] field":{change:"onPublishTimeFieldChange"}},init:function(){var e=this,g=e.lookupReference("inserterCt"),f=e.getView().getContentRecord(),h=e.composers=[],d=Ext.ClassManager.getNamesByExpression("emergence-cms-composer.*"),c=d.length,a=0,b;for(;a<c;a++){b=Ext.ClassManager.get(d[a]);h.push(b);g.add(Ext.applyIf({composer:b},b.buttonCfg))}if(f&&f.isModel){e.syncFromRecord()}},onContentRecordChange:function(a,b){this.syncFromRecord()},onInserterButtorClick:function(a){this.getView().addView(a.composer.create(),0)},onSaveClick:function(){var b=this,d=b.getView(),c=d.getContentRecord(),a=c.phantom;d.setLoading("Saving&hellip;");b.syncToRecord();c.save({callback:function(f,e,g){if(g&&a){d.setLoading("Opening new post&hellip;");location.href=c.toUrl()+"/edit"}else{d.setLoading(false);if(!g){Ext.Msg.show({title:"Failed to save blog post",message:e.getError()||"Please backup your work to another application and report this to your technical support contact",buttons:Ext.Msg.OK,icon:Ext.Msg.ERROR})}}}})},onEnumMenuCheckChange:function(a,b){if(!b){return}var c=a.up("button");c.setText(a.text);c.setGlyph(a.glyph)},onPublishImmediatelyCheckChange:function(a,b){var c=this.lookupReference("publishedTimeBtn");c.down("datefield").setDisabled(b);c.down("timefield").setDisabled(b);this.syncPublishedTimeBtnText()},onPublishTimeFieldChange:function(){this.syncPublishedTimeBtnText()},syncPublishedTimeBtnText:function(){var d=this.lookupReference("publishedTimeBtn"),b=d.down("menucheckitem").checked,a,c;if(b){c="Publish on save"}else{a=this.getView().getSelectedDateTime();c=(a>new Date()?"Publish ":"Published ")+Ext.Date.format(a,"n/j/Y g:i a")}d.setText(c)},syncFromRecord:function(){var t=this,c=t.getView().getContentRecord(),e=c.phantom,d=c.get("Published"),k=c.get("items")||[],g=k.length,r=0,s,b,n=t.composers,o=n.length,a,f,p,l=t.getView(),m=l.items.getAt(0),u=t.lookupReference("publishedTimeBtn"),j=t.lookupReference("tagsField"),q=j.getStore(),h=Ext.Array.map(c.get("tags")||[],function(v){return parseInt(v.ID,10)});Ext.batchLayouts(function(){t.lookupReference("titleField").setValue(c.get("Title"));if(q.isLoaded()){j.setValue(h)}else{q.on("load",function(){j.setValue(h)},t,{single:true})}t.lookupReference("statusBtn").down('[value="'+c.get("Status")+'"]').setChecked(true);t.lookupReference("visibilityBtn").down('[value="'+c.get("Visibility")+'"]').setChecked(true);u.down("menucheckitem").setChecked(e);u.down("datefield").setValue(e?new Date():d);u.down("timefield").setValue(e?new Date():d);if(m){m.removeAll()}contentItemsLoop:for(;r<g;r++){s=k[r];b=s.Class;availableComposers:for(a=0;a<o;a++){f=n[a];p=f.contentItemClass;if((Ext.isArray(p)&&Ext.Array.contains(p,b))||(p==b)){l.addView(f.create({contentItem:s}),0);continue contentItemsLoop}}l.addView(Ext.create("Emergence.cms.view.composer.Unknown",{contentItem:s}))}})},syncToRecord:function(){var c=this,e=c.getView(),b=e.items.getAt(0),d=e.getContentRecord(),f=[],a=1;d.set("Title",c.lookupReference("titleField").getValue());d.set("Status",c.lookupReference("statusBtn").down("[checked]").value);d.set("Visibility",c.lookupReference("visibilityBtn").down("[checked]").value);d.set("Published",c.lookupReference("publishedTimeBtn").down("menucheckitem").checked?new Date():e.getSelectedDateTime());d.set("tags",Ext.Array.map(c.lookupReference("tagsField").getValueRecords(),function(g){return g.get("ID")||g.get("Title")}));if(b){b.items.each(function(g){f.push(Ext.apply({},{ContentID:d.get("ID"),Order:a++},g.getItemData()))})}d.set("items",f)}});Ext.define("Emergence.cms.view.Toolbar",{extend:Ext.toolbar.Toolbar,xtype:"emergence-cms-toolbar",items:[{xtype:"button",text:"Save",action:"save"},"->",{reference:"statusBtn",xtype:"button",text:"Set status",menu:{items:['<b class="menu-title">Publish status</b>',{xtype:"menucheckitem",group:"status",text:"Draft",value:"Draft",glyph:"68",tooltip:'This content is not complete and will only be accessible to the author via the "my drafts" page'},{xtype:"menucheckitem",group:"status",text:"Published",value:"Published",glyph:"80",tooltip:"Anyone online can find or view this content"}]}},{reference:"visibilityBtn",xtype:"button",text:"Set visibility",menu:{items:['<b class="menu-title">Visibility</b>',{xtype:"menucheckitem",group:"visibility",text:"Login required",value:"Private",glyph:"76",tooltip:"Only users logged into the site can find or view this content"},{xtype:"menucheckitem",group:"visibility",text:"Public",value:"Public",glyph:"80",tooltip:"Anyone online can find or view this content"}]}},{reference:"publishedTimeBtn",xtype:"button",text:"Set publication time",menu:{plain:true,width:200,items:['<b class="menu-title">Publication time</b>',{xtype:"menucheckitem",text:"Publish on save"},"-",{xtype:"datefield"},{xtype:"timefield",submitFormat:"H:i"}]}}]});Ext.define("Emergence.cms.view.composer.Abstract",{extend:Ext.dashboard.Panel,xtype:"emergence-cms-composer",config:{contentItem:null},inheritableStatics:{contentCls:null},collapsible:false,getContentItemId:function(){var b=this,a=b.getContentItem();if(a&&a.ID){return a.ID}return b.phantomId||(b.phantomId=Ext.id(false,"emergence-cms-phantom"))},getPreviewHtml:function(){return""},getItemData:function(){return this.getContentItem()}});Ext.define("Emergence.cms.view.composer.Markdown",{extend:Emergence.cms.view.composer.Abstract,alias:"emergence-cms-composer.markdown",inheritableStatics:{contentItemClass:"Emergence\\CMS\\Item\\Markdown",buttonCfg:{text:"Markdown Text",iconCls:"icon-content-markdown",tooltip:"A block of text formatted with Markdown."}},title:"Markdown",height:200,tools:[{type:"help",tooltip:"Markdown formatting guide",callback:function(){window.open("https://help.github.com/articles/markdown-basics","_blank")}}],items:{xtype:"textarea"},initComponent:function(){var c=this,a=c.contentItem?c.contentItem.Data:"",b;c.callParent();b=c.textarea=c.down("textarea").setValue(a);b.on("change","onTextareaChange",c)},onTextareaChange:function(a,c){var b=this;b.getPreviewHtml(function(d){b.fireEvent("previewchange",b,d)})},getPreviewHtml:function(c){var b=this,a=function(){c(window.markdown.toHTML(b.textarea.getValue()))};if(window.markdown){a()}else{Ext.Loader.loadScripts({url:"/js/markdown.js",cache:true,onLoad:a})}},getItemData:function(){return Ext.applyIf({Class:"Emergence\\CMS\\Item\\Markdown",Data:this.textarea.getValue()},this.callParent())}});Ext.define("Emergence.cms.view.composer.Html",{extend:Emergence.cms.view.composer.Abstract,alias:"emergence-cms-composer.html",inheritableStatics:{contentCls:"content-html",contentItemClass:["Emergence\\CMS\\Item\\Text","Emergence\\CMS\\Item\\RichText"],buttonCfg:{text:"Text",iconCls:"icon-content-richtext",tooltip:"A block of text with rich formatting"}},title:"Text",height:300,layout:"fit",items:{xtype:"htmleditor",enableColors:false,enableAlignments:false,enableFont:false,enableFontSize:false},initComponent:function(){var b=this,a=b.contentItem?b.contentItem.Data:"";b.callParent(arguments);b.down("htmleditor").setValue(a).on("change","onEditorChange",b)},onEditorChange:function(a,b){this.fireEvent("previewchange",this,b)},getPreviewHtml:function(a){a(this.down("htmleditor").getValue())},getItemData:function(){return Ext.applyIf({Class:"Emergence\\CMS\\Item\\RichText",Data:this.down("htmleditor").getValue()},this.callParent())}});Ext.define("Emergence.cms.view.composer.Multimedia",{extend:Emergence.cms.view.composer.Abstract,alias:"emergence-cms-composer.multimedia",inheritableStatics:{contentItemClass:"Emergence\\CMS\\Item\\Media",buttonCfg:{text:"Multimedia",iconCls:"icon-content-multimedia",tooltip:"Add an audio, video, or photo file from your computer."}},title:"Multimedia",height:200,layout:{type:"vbox",align:"stretch"},targetUrl:"/media/json/upload",fieldName:"Media",buttonText:'<span class="btnText">Browse</span>',fileTypes:"*.jpg; *.jpeg; *.png; *.gif; *.mp3; *.flv, *.mp4, *.pdf; *.JPG; *.JPEG; *.PNG; *.GIF; *.MP3; *.FLV; *.MP4; *.PDF",fileTypesDescription:"Multimedia Files",fileSizeLimit:"300 MB",buttonWidth:158,initComponent:function(){var b=this,a;b.contentItem=b.contentItem?b.contentItem:{Data:{}};b.items=b.getItems();b.callParent(arguments);a=b.down("#mediaView");a.on("render","onContentAreaRendered",b)},getItems:function(){var a=this,b=Ext.create("Ext.ProgressBar",{text:"Preparing Flash Uploader&hellip;",height:30,flex:1});return[{xtype:"component",itemId:"mediaView",flex:1,renderTpl:'<center><img style="padding: 20px" src="'+Ext.BLANK_IMAGE_URL+'" class="content-image" height=150 width=150 /></center>',renderSelectors:{contentImage:".content-image"}},{xtype:"toolbar",docked:"bottom",height:30,layout:{type:"hbox",align:"stretch"},items:[{xtype:"button",text:"Browse..."},b]}]},getItemData:function(){var a=this,b=false;if(a.contentItem&&a.contentItem.Data&&a.contentItem.Data.MediaID){b=a.contentItem.Data.MediaID}return Ext.applyIf({Class:"Emergence\\CMS\\Item\\Media",Data:{MediaID:b}},this.callParent())},onUploadResponse:function(b,e,g){var d=this,c=Ext.decode(e);if(c.success){var a=c.data,f=d.down("#mediaView");d.contentItem.Data.MediaID=a.ID;f.contentImage.dom.src="/thumbnail/"+a.ID+"/150x150";f.show()}else{Ext.Msg.alert("Upload failed",c.message?c.message:"Your upload failed, please try again later or contact support")}d.uploading=false},onUploadError:function(b,c,a){Ext.Msg.alert("Upload failed","Your upload failed, please try again later or contact support");return false},onContentAreaRendered:function(){var a=this,b=a.down("#mediaView");if(a.contentItem&&a.contentItem.Data&&a.contentItem.Data.MediaID){b.contentImage.dom.src="/thumbnail/"+a.contentItem.Data.MediaID}}});Ext.define("Emergence.cms.view.composer.Embed",{extend:Emergence.cms.view.composer.Abstract,alias:"emergence-cms-composer.embed",inheritableStatics:{contentItemClass:"Emergence\\CMS\\Item\\Embed",buttonCfg:{text:"Embed Code",iconCls:"icon-content-embed",tooltip:"Add a section containing an HTML embed code (from YouTube, etc)."}},title:"HTML Embed Code",height:100,items:[{xtype:"textarea"}],initComponent:function(){var c=this,a=c.contentItem?c.contentItem.Data:"",b;c.callParent();b=c.textarea=c.down("textarea").setValue(a);b.on("change","onTextareaChange",c)},onTextareaChange:function(a,c){var b=this;b.getPreviewHtml(function(d){b.fireEvent("previewchange",b,d)})},getPreviewHtml:function(a){a(this.textarea.getValue())},getItemData:function(){return Ext.applyIf({Class:"Emergence\\CMS\\Item\\Embed",Data:this.textarea.getValue()},this.callParent())}});Ext.define("Emergence.cms.view.composer.Unknown",{extend:Emergence.cms.view.composer.Abstract,xtype:"emergence-cms-composer-unknown",title:"Unknown item type",resizable:false,tpl:["<p>Composer unavailable for content item type: {Class:htmlEncode}</p>","<p>No editor for this item is currently available, it will be preserved unmodified when this post is saved.</p>"],initComponent:function(){var a=this;a.update(a.contentItem);a.callParent()}});Ext.define("Emergence.cms.view.Editor",{extend:Ext.dashboard.Dashboard,xtype:"emergence-cms-editor",controller:"emergence-cms-editor",config:{contentRecord:null},columnWidths:[1],maxColumns:1,cls:["emergence-content-editor"],border:false,dockedItems:[{dock:"top",xtype:"toolbar",items:[{reference:"titleField",flex:1,xtype:"textfield",cls:"field-title",selectOnFocus:true,emptyText:"Title"}]},{dock:"top",xtype:"toolbar",items:["Tags:",{reference:"tagsField",flex:1,xtype:"tagfield",allowBlank:true,tooltip:"Press enter after each tag",displayField:"Title",valueField:"ID",triggerAction:"all",delimiter:",",queryMode:"local",forceSelection:false,createNewOnEnter:true,createNewOnBlur:true,width:200,minChars:2,filterPickList:true,typeAhead:true,store:{autoLoad:true,fields:[{name:"ID",type:"int",useNull:true},"Title"],proxy:{type:"records",url:"/tags"}}}]},{dock:"top",xtype:"emergence-cms-toolbar",layout:{overflowHandler:"menu"}},{reference:"inserterCt",xtype:"buttongroup",dock:"bottom",title:"Add a content block:",minHeight:100,defaults:{scale:"large",iconAlign:"top",flex:1},layout:{type:"hbox",pack:"center",align:"stretch"}}],getSelectedDateTime:function(){var c=this.lookupReference("publishedTimeBtn"),a=c.down("datefield").getValue()||new Date(),b=c.down("timefield").getValue()||new Date();a.setHours(b.getHours());a.setMinutes(b.getMinutes());a.setSeconds(0);return a},applyContentRecord:function(a){if(Ext.isObject(a)&&!a.isModel){a=Ext.create("Emergence.cms.model.Content",a)}return a},updateContentRecord:function(a,b){this.fireEvent("contentrecordchange",this,a,b)}});Ext.define("Emergence.cms.view.Preview",{extend:Ext.Component,xtype:"emergence-cms-preview",tagsListTpl:'<tpl for="." between=", "><a href="<tpl if="Handle">/tags/{Handle}<tpl else>#</tpl>">{Title:htmlEncode}</a></tpl>',itemTpl:'<div class="content-item {contentCls}" data-itemId="{itemId}">{html}</div>',childEls:["titleLink","infoWrapper","authorWrapper","authorLink","timeWrapper","timeEl","tagsWrapper","tagsCt","itemsCt"],renderTpl:['<article class="blog-post reading-width">','<header class="section-header">','<h2 class="header-title">','<a id="{id}-titleLink" data-ref="titleLink" href="#"></a>',"</h2>","</header>",'<div id="{id}-infoWrapper" data-ref="infoWrapper" class="section-info" style="display: none">',"Posted ",'<span id="{id}-authorWrapper" data-ref="authorWrapper" class="author" style="display: none">','by <a id="{id}-authorLink" data-ref="authorLink" href="#">anonymous</a>',"</span>",'<span id="{id}-timeWrapper" data-ref="timeWrapper" class="timestamp" style="display: none">'," on ",'<time id="{id}-timeEl" data-ref="timeEl" pubdate></time>',"</span>","</div>",'<section id="{id}-itemsCt" data-ref="itemsCt" class="section-body"></section>','<footer class="section-footer">','<div id="{id}-tagsWrapper" data-ref="tagsWrapper" class="post-tags" style="display: none">','Tags: <span id="{id}-tagsCt" data-ref="tagsCt"></span>',"</div>","</footer>","</article>"]});Ext.define("Emergence.cms.view.DualView",{extend:Ext.Container,xtype:"emergence-cms-dualview",controller:"emergence-cms-dualview",layout:"hbox",items:[{reference:"preview",flex:1,xtype:"emergence-cms-preview"},{reference:"editor",flex:1,xtype:"emergence-cms-editor"}]});Ext.define("Site.Common",{singleton:true,requires:[],constructor:function(){Ext.onReady(this.onDocReady,this)},onDocReady:function(){var b=this,a=Ext.getBody()}});